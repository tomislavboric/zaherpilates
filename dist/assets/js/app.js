/*! For license information please see app.js.LICENSE.txt */
!function(){var t={720:function(){jQuery((function(t){var e=t(".header__account-trigger"),i=t(".header__account-dropdown");function n(){i.removeClass("is-open"),e.attr("aria-expanded","false")}e.length&&(e.on("click",(function(t){t.preventDefault(),t.stopPropagation(),i.hasClass("is-open")?n():(i.addClass("is-open"),e.attr("aria-expanded","true"))})),t(document).on("click",(function(e){t(e.target).closest("[data-account-menu]").length||n()})),t(document).on("keydown",(function(t){"Escape"===t.key&&(n(),e.focus())})))}))},711:function(){document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-account-tabs]").forEach((function(t){var e=Array.from(t.querySelectorAll("[data-account-tab]")),i=Array.from(t.querySelectorAll("[data-account-panel]"));if(e.length&&i.length){var n=function(t){e.forEach((function(e){var i=e.dataset.accountTab===t;e.classList.toggle("is-active",i),e.setAttribute("aria-selected",i?"true":"false"),e.tabIndex=i?0:-1})),i.forEach((function(e){var i=e.dataset.accountPanel===t;e.classList.toggle("is-active",i),e.hidden=!i,e.setAttribute("aria-hidden",i?"false":"true")}))},s=e.find((function(t){return t.classList.contains("is-active")}))||e[0];s&&n(s.dataset.accountTab),e.forEach((function(t){t.addEventListener("click",(function(){return n(t.dataset.accountTab)}))}))}}))}))},384:function(){var t=["days","hours","minutes","seconds"],e=36e5,i=864e5,n=function(t){return String(t).padStart(2,"0")},s=function(t){if(!t)return null;var e=Array.from(t.childNodes).find((function(t){return t.nodeType===Node.TEXT_NODE}));if(e)return e;var i=document.createTextNode("00");return t.insertBefore(i,t.firstChild||null),i},o=function(o){var a=o.getAttribute("data-deadline"),r=a?new Date(a):null;if(r&&!Number.isNaN(r.getTime())){var l=t.reduce((function(t,e){var i=o.querySelector('[data-unit="'.concat(e,'"]'));return t[e]={element:i,textNode:s(i)},t}),{}),d=function(){var t,s,a,d,h=Date.now(),c=r.getTime()-h;c<=0&&(c=0);var u=Math.floor(c/i),f=Math.floor(c%i/e),p=Math.floor(c%e/6e4),m=Math.floor(c%6e4/1e3);return null!==(t=l.days)&&void 0!==t&&t.textNode&&(l.days.textNode.nodeValue=n(u)),null!==(s=l.hours)&&void 0!==s&&s.textNode&&(l.hours.textNode.nodeValue=n(f)),null!==(a=l.minutes)&&void 0!==a&&a.textNode&&(l.minutes.textNode.nodeValue=n(p)),null!==(d=l.seconds)&&void 0!==d&&d.textNode&&(l.seconds.textNode.nodeValue=n(m)),0===c&&(o.classList.add("bf-countdown--finished"),!0)};d();var h=window.setInterval((function(){d()&&window.clearInterval(h)}),1e3)}},a=function(){document.querySelectorAll(".bf-countdown[data-deadline]").forEach(o)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()},491:function(){document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".catalog-tabs__search[data-search-endpoint]");if(t){var e=t.querySelector(".catalog-tabs__search-input"),i=t.querySelector(".catalog-tabs__search-results"),n=t.getAttribute("data-search-endpoint"),s=t.getAttribute("data-search-placeholder")||"";if(e&&i&&n){var o=null,a=null,r="",l=function(){i.classList.remove("is-open"),i.setAttribute("aria-hidden","true"),i.removeAttribute("aria-busy"),i.innerHTML=""},d=function(){i.classList.add("is-open"),i.setAttribute("aria-hidden","false")},h=function(t){o&&o.abort(),o=new AbortController,i.setAttribute("aria-busy","true");var a="".concat(n,"?search=").concat(encodeURIComponent(t),"&per_page=6&_embed=1&_fields=title,link,_embedded");fetch(a,{signal:o.signal,credentials:"same-origin"}).then((function(t){if(!t.ok)throw new Error("Search request failed");return t.json()})).then((function(n){if(t===e.value.trim()){if(i.removeAttribute("aria-busy"),!Array.isArray(n)||0===n.length)return i.innerHTML='<div class="catalog-tabs__search-empty">Nema rezultata.</div>',void d();!function(t){i.innerHTML="";var e=document.createDocumentFragment();t.forEach((function(t){if(t&&t.link){var i,n,o=t.title&&t.title.rendered?t.title.rendered:"",a=(i=o,(n=document.createElement("div")).innerHTML=i||"",n.textContent||n.innerText||""),r=function(t){if(t&&t._embedded&&t._embedded["wp:featuredmedia"]){var e=t._embedded["wp:featuredmedia"][0],i=e&&e.media_details?e.media_details.sizes:null;if(i){var n=i["fp-small"]||i.medium||i.thumbnail;if(n&&n.source_url)return n.source_url}if(e&&e.source_url)return e.source_url}return s}(t),l=document.createElement("a");if(l.className="catalog-tabs__search-result",l.href=t.link,l.setAttribute("role","option"),r){var d=document.createElement("span");d.className="catalog-tabs__search-thumb";var h=document.createElement("img");h.src=r,h.alt=a,h.loading="lazy",d.appendChild(h),l.appendChild(d)}var c=document.createElement("span");c.className="catalog-tabs__search-title",c.innerHTML=o,l.appendChild(c),e.appendChild(l)}})),i.appendChild(e),d()}(n)}})).catch((function(t){"AbortError"!==t.name&&l()}))},c=function(){var t=e.value.trim();if(t.length<2)return r=t,void l();t!==r&&(r=t,window.clearTimeout(a),a=window.setTimeout((function(){return h(t)}),200))};e.addEventListener("input",c),e.addEventListener("focus",c),e.addEventListener("keydown",(function(t){"Escape"===t.key&&(l(),e.blur())})),t.addEventListener("submit",(function(){l()})),document.addEventListener("click",(function(e){t.contains(e.target)||l()}))}}}))},612:function(){var t=!1;function e(){var t=document.getElementById("emojiPanel");t&&t.classList.toggle("show")}function i(t){var e=document.querySelector(".comment-textarea");if(e){var i=e.selectionStart,s=e.selectionEnd,o=e.value,a=o.substring(0,i),r=o.substring(s,o.length);e.value=a+t+r,e.selectionStart=e.selectionEnd=i+t.length,e.focus(),n(e);var l=document.getElementById("emojiPanel");l&&l.classList.remove("show")}}function n(t){t.style.height="auto",t.style.height=t.scrollHeight+"px"}function s(t){var e=t.querySelector(".like-count");if(e){var i=parseInt(e.textContent)||0;t.classList.contains("liked")?(e.textContent=Math.max(0,i-1),t.classList.remove("liked")):(e.textContent=i+1,t.classList.add("liked"))}}document.addEventListener("DOMContentLoaded",(function(){if(!t){t=!0;var e=document.querySelector(".comment-textarea");e&&e.addEventListener("input",(function(){n(this)})),document.addEventListener("click",(function(t){var e=document.querySelector(".emoji-picker"),i=document.getElementById("emojiPanel");e&&i&&!e.contains(t.target)&&i.classList.remove("show")}));var i=document.querySelector(".comment-form-v5");i&&i.addEventListener("submit",(function(t){var e=this.querySelector(".comment-submit-btn");if(e){var i=e.textContent;e.textContent="Hvala vam! ✨",e.disabled=!0,setTimeout((function(){"Hvala vam! ✨"===e.textContent&&(e.textContent=i,e.disabled=!1)}),3e3)}})),document.querySelectorAll(".like-button").forEach((function(t){t.hasAttribute("data-initialized")||(t.setAttribute("data-initialized","true"),t.addEventListener("click",(function(){s(this)})))}))}})),document.addEventListener("keydown",(function(t){if((t.ctrlKey||t.metaKey)&&"e"===t.key){var i=document.querySelector(".comment-textarea");i&&i===document.activeElement&&(t.preventDefault(),e())}if("Escape"===t.key){var n=document.getElementById("emojiPanel");n&&n.classList.remove("show")}})),window.PilatesComments={toggleEmojiPicker:e,addEmoji:i,toggleLike:s,initializeNewComments:function(){document.querySelectorAll(".like-button:not([data-initialized])").forEach((function(t){t.setAttribute("data-initialized","true"),t.addEventListener("click",(function(){s(this)}))}))}},document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".emoji-toggle");t&&t.addEventListener("click",e),document.querySelectorAll(".emoji-btn").forEach((function(t){t.addEventListener("click",(function(){return i(t.textContent.trim())}))}))}))},116:function(){document.addEventListener("DOMContentLoaded",(function(){window.jQuery&&(0,window.jQuery)(document).on("favorites-updated-single",(function(t,e,i,n,s){if("inactive"===s){var o=document.querySelector('#moji-favoriti .cards__item[data-favorite-post-id="'.concat(i,'"]'));if(o){o.remove();var a=document.querySelector("#moji-favoriti .cards");if(a&&0===a.children.length){var r=document.querySelector("#moji-favoriti .favorites-empty--inline");r&&(r.style.display="")}var l=document.querySelector("#catalog-tab-favorites .tab__count");if(l){var d=parseInt(l.textContent.replace(/\D/g,""),10);Number.isNaN(d)||(l.textContent="(".concat(Math.max(0,d-1),")"))}}}}))}))},346:function(){jQuery((function(t){function e(){t("body").toggleClass("header--menu-open"),t(".burger").toggleClass("burger--active");var e=t("body").hasClass("header--menu-open");t(".bottom-nav__menu-toggle").attr("aria-expanded",e),e?t(".header-menu").css({visibility:"visible",opacity:"1"}):t(".header-menu").css({visibility:"hidden",opacity:"0"})}t(".burger").click(e),t(".bottom-nav__menu-toggle").click(e)}))},506:function(){document.addEventListener("click",(function(t){var e=t.target.closest("[data-password-toggle]");if(e){var i=e.closest(".account-page__input-group"),n=i?i.querySelector("input"):null;if(n){var s="text"===n.type;n.type=s?"password":"text",e.classList.toggle("is-visible",!s),e.setAttribute("aria-pressed",(!s).toString()),e.setAttribute("aria-label",s?"Prikaži lozinku":"Sakrij lozinku")}}}))},479:function(){var t=document.querySelector("body");if(null!==t){document.querySelector(".header");var e="scroll-up",i="scroll-down",n=0;window.addEventListener("scroll",(function(){var s=window.pageYOffset;s<=150?t.classList.remove(e):(s>n&&!t.classList.contains(i)?(t.classList.remove(e),t.classList.add(i)):s<n&&t.classList.contains(i)&&(t.classList.remove(i),t.classList.add(e)),n=s)}))}},420:function(){var t=function(t){var e=Array.from(t.querySelectorAll(".tab[data-tab-target]"));if(e.length){var i,n,s,o,a,r,l=t.querySelector(".catalog-tabs__bar");l&&(o=!1,a=!1,r=function(t){if(o&&(o=!1,i.classList.remove("is-dragging"),a)){try{i.releasePointerCapture(t.pointerId)}catch(t){}i.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation()}),{capture:!0,once:!0})}},(i=l).addEventListener("pointerdown",(function(t){"mouse"===t.pointerType&&0!==t.button||(o=!0,a=!1,n=t.pageX-i.offsetLeft,s=i.scrollLeft)})),i.addEventListener("pointermove",(function(t){if(o){var e=1.5*(t.pageX-i.offsetLeft-n);Math.abs(e)>8&&(a||(a=!0,i.classList.add("is-dragging"),i.setPointerCapture(t.pointerId)),t.preventDefault(),i.scrollLeft=s-e)}})),i.addEventListener("pointerup",r),i.addEventListener("pointercancel",r));var d=function(i){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).updateHash,s=void 0!==n&&n;if(e.forEach((function(e){var n=e===i;e.classList.toggle("active",n),e.setAttribute("aria-selected",n?"true":"false"),e.tabIndex=n?0:-1;var s=t.querySelector(e.dataset.tabTarget);s&&s.classList.toggle("active",n)})),s&&i.dataset.tabTarget){var o=i.dataset.tabTarget;history.replaceState?window.location.hash!==o&&history.replaceState(null,document.title,o):window.location.hash=o}},h=function(){if(window.location.hash){var i=document.querySelector(window.location.hash);if(i){var n=i.classList.contains("content-container")?i:i.closest(".content-container");if(n&&t.contains(n)){var s=e.find((function(t){return t.dataset.tabTarget==="#".concat(n.id)}));s&&d(s)}}}};e.forEach((function(t){t.addEventListener("click",(function(){return d(t,{updateHash:!0})}))})),e.some((function(t){return t.classList.contains("active")}))||d(e[0]),h(),window.addEventListener("hashchange",h)}};document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-tabs]").forEach(t)}))},980:function(){document.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".video__player[data-program-id]"));t.length&&new Promise((function(t,e){if(window.Vimeo&&window.Vimeo.Player)t(window.Vimeo);else{var i=document.querySelector("script[data-vimeo-player]");if(i)return i.addEventListener("load",(function(){return t(window.Vimeo)})),void i.addEventListener("error",e);var n=document.createElement("script");n.src="https://player.vimeo.com/api/player.js",n.async=!0,n.defer=!0,n.setAttribute("data-vimeo-player","true"),n.addEventListener("load",(function(){return t(window.Vimeo)})),n.addEventListener("error",e),document.head.appendChild(n)}})).then((function(e){t.forEach((function(t){return function(t,e){var i=t.querySelector("iframe"),n=t.getAttribute("data-progress-endpoint"),s=t.getAttribute("data-progress-nonce"),o=parseInt(t.getAttribute("data-program-id"),10);if(i&&n&&s&&o){var a=new e.Player(i),r=!1,l=0,d=0,h=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&Date.now()-l<15e3&&t-d<.05||(l=Date.now(),d=t,fetch(n,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":s},credentials:"same-origin",body:JSON.stringify({program_id:o,progress:t,completed:e})}).catch((function(){})))};a.on("play",(function(t){r=!0;var e=t&&"number"==typeof t.percent?t.percent:0;h(e,!1,!0)})),a.on("timeupdate",(function(t){if(r&&t&&"number"==typeof t.percent){var e=t.percent,i=e>=.98;h(e,i,i)}})),a.on("ended",(function(){h(1,!0,!0)}))}}(t,e)}))})).catch((function(){}))}))},474:function(t){var e;e=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}return i.m=t,i.c=e,i.p="",i(0)}([function(t,e){"use strict";t.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,e=null,i="initial",n=i,s=Date.now(),o=!1,a=["button","input","select","textarea"],r=[],l=[16,17,18,91,93],d=[],h={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},c=!1,u={x:null,y:null},f={2:"touch",3:"touch",4:"mouse"},p=!1;try{var m=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,m)}catch(t){}var g,v=function(){if(o=!("false"===t.getAttribute("data-whatpersist")||"false"===document.body.getAttribute("data-whatpersist")))try{window.sessionStorage.getItem("what-input")&&(i=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(n=window.sessionStorage.getItem("what-intent"))}catch(t){}b("input"),b("intent")},$=function(t){var e=t.which,s=h[t.type];"pointer"===s&&(s=z(t));var o=!d.length&&-1===l.indexOf(e),r=d.length&&-1!==d.indexOf(e),c="keyboard"===s&&e&&(o||r)||"mouse"===s||"touch"===s;if(k(s)&&(c=!1),c&&i!==s&&(C("input",i=s),b("input")),c&&n!==s){var u=document.activeElement;u&&u.nodeName&&(-1===a.indexOf(u.nodeName.toLowerCase())||"button"===u.nodeName.toLowerCase()&&!T(u,"form"))&&(C("intent",n=s),b("intent"))}},b=function(e){t.setAttribute("data-what"+e,"input"===e?i:n),L(e)},w=function(t){var e=h[t.type];"pointer"===e&&(e=z(t)),x(t),(!c&&!k(e)||c&&"wheel"===t.type||"mousewheel"===t.type||"DOMMouseScroll"===t.type)&&n!==e&&(C("intent",n=e),b("intent"))},y=function(i){i.target.nodeName?(e=i.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",e),i.target.classList&&i.target.classList.length&&t.setAttribute("data-whatclasses",i.target.classList.toString().replace(" ",","))):_()},_=function(){e=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},C=function(t,e){if(o)try{window.sessionStorage.setItem("what-"+t,e)}catch(t){}},z=function(t){return"number"==typeof t.pointerType?f[t.pointerType]:"pen"===t.pointerType?"touch":t.pointerType},k=function(t){var e=Date.now(),n="mouse"===t&&"touch"===i&&e-s<200;return s=e,n},E=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},L=function(t){for(var e=0,s=r.length;e<s;e++)r[e].type===t&&r[e].fn.call(void 0,"input"===t?i:n)},x=function(t){u.x!==t.screenX||u.y!==t.screenY?(c=!1,u.x=t.screenX,u.y=t.screenY):c=!0},T=function(t,e){var i=window.Element.prototype;if(i.matches||(i.matches=i.msMatchesSelector||i.webkitMatchesSelector),i.closest)return t.closest(e);do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(h[E()]="mouse",g=!p||{passive:!0,capture:!0},document.addEventListener("DOMContentLoaded",v,!0),window.PointerEvent?(window.addEventListener("pointerdown",$,!0),window.addEventListener("pointermove",w,!0)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",$,!0),window.addEventListener("MSPointerMove",w,!0)):(window.addEventListener("mousedown",$,!0),window.addEventListener("mousemove",w,!0),"ontouchstart"in window&&(window.addEventListener("touchstart",$,g),window.addEventListener("touchend",$,!0))),window.addEventListener(E(),w,g),window.addEventListener("keydown",$,!0),window.addEventListener("keyup",$,!0),window.addEventListener("focusin",y,!0),window.addEventListener("focusout",_,!0)),{ask:function(t){return"intent"===t?n:i},element:function(){return e},ignoreKeys:function(t){l=t},specificKeys:function(t){d=t},registerOnChange:function(t,e){r.push({fn:t,type:e||"input"})},unRegisterOnChange:function(t){var e=function(t){for(var e=0,i=r.length;e<i;e++)if(r[e].fn===t)return e}(t);(e||0===e)&&r.splice(e,1)},clearStorage:function(){window.sessionStorage.clear()}}}()}])},t.exports=e()}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=jQuery,e=i.n(t);function n(){return"rtl"===e()("html").attr("dir")}function s(t=6,e){let i="";for(let e=0;e<t;e++)i+="0123456789abcdefghijklmnopqrstuvwxyz"[Math.floor(36*Math.random())];return e?`${i}-${e}`:i}function o(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function a(t){var e,i={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},n=document.createElement("div");for(let t in i)void 0!==n.style[t]&&(e=i[t]);return e||(setTimeout((function(){t.triggerHandler("transitionend",[t])}),1),"transitionend")}function r(t,i){const n="complete"===document.readyState,s=(n?"_didLoad":"load")+".zf.util.onLoad",o=()=>t.triggerHandler(s);return t&&(i&&t.one(s,i),n?setTimeout(o):e()(window).one("load",o)),s}function l(t,{ignoreLeaveWindow:i=!1,ignoreReappear:n=!1}={}){return function(s,...o){const a=t.bind(this,s,...o);if(null!==s.relatedTarget)return a();setTimeout((function(){if(!i&&document.hasFocus&&!document.hasFocus())return a();n||e()(document).one("mouseenter",(function(t){e()(s.currentTarget).has(t.target).length||(s.relatedTarget=t.target,a())}))}),0)}}i(474),window.matchMedia||(window.matchMedia=function(){var t=window.styleMedia||window.media;if(!t){var e,i=document.createElement("style"),n=document.getElementsByTagName("script")[0];i.type="text/css",i.id="matchmediajs-test",n?n.parentNode.insertBefore(i,n):document.head.appendChild(i),e="getComputedStyle"in window&&window.getComputedStyle(i,null)||i.currentStyle,t={matchMedium:function(t){var n="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return i.styleSheet?i.styleSheet.cssText=n:i.textContent=n,"1px"===e.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}());var d={queries:[],current:"",_init(){if(!0===this.isInitialized)return this;this.isInitialized=!0,e()("meta.foundation-mq").length||e()('<meta class="foundation-mq" name="foundation-mq" content>').appendTo(document.head);var t,i,n,s=e()(".foundation-mq").css("font-family");for(var o in n=void 0,n={},t="string"!=typeof(i=s)?n:(i=i.trim().slice(1,-1))?(n=i.split("&").reduce((function(t,e){var i=e.replace(/\+/g," ").split("="),n=i[0],s=i[1];return n=decodeURIComponent(n),s=void 0===s?null:decodeURIComponent(s),t.hasOwnProperty(n)?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s,t}),{}),n):n,this.queries=[],t)t.hasOwnProperty(o)&&this.queries.push({name:o,value:`only screen and (min-width: ${t[o]})`});this.current=this._getCurrentSize(),this._watcher()},_reInit(){this.isInitialized=!1,this._init()},atLeast(t){var e=this.get(t);return!!e&&window.matchMedia(e).matches},only(t){return t===this._getCurrentSize()},upTo(t){const e=this.next(t);return!e||!this.atLeast(e)},is(t){const e=t.trim().split(" ").filter((t=>!!t.length)),[i,n=""]=e;if("only"===n)return this.only(i);if(!n||"up"===n)return this.atLeast(i);if("down"===n)return this.upTo(i);throw new Error(`\n      Invalid breakpoint passed to MediaQuery.is().\n      Expected a breakpoint name formatted like "<size> <modifier>", got "${t}".\n    `)},get(t){for(var e in this.queries)if(this.queries.hasOwnProperty(e)){var i=this.queries[e];if(t===i.name)return i.value}return null},next(t){const e=this.queries.findIndex((e=>this._getQueryName(e)===t));if(-1===e)throw new Error(`\n        Unknown breakpoint "${t}" passed to MediaQuery.next().\n        Ensure it is present in your Sass "$breakpoints" setting.\n      `);const i=this.queries[e+1];return i?i.name:null},_getQueryName(t){if("string"==typeof t)return t;if("object"==typeof t)return t.name;throw new TypeError(`\n      Invalid value passed to MediaQuery._getQueryName().\n      Expected a breakpoint name (String) or a breakpoint query (Object), got "${t}" (${typeof t})\n    `)},_getCurrentSize(){for(var t,e=0;e<this.queries.length;e++){var i=this.queries[e];window.matchMedia(i.value).matches&&(t=i)}return t&&this._getQueryName(t)},_watcher(){e()(window).on("resize.zf.trigger",(()=>{var t=this._getCurrentSize(),i=this.current;t!==i&&(this.current=t,e()(window).trigger("changed.zf.mediaquery",[t,i]))}))}},h={version:"6.7.5",_plugins:{},_uuids:[],plugin:function(t,e){var i=e||c(t),n=u(i);this._plugins[n]=this[i]=t},registerPlugin:function(t,e){var i=e?u(e):c(t.constructor).toLowerCase();t.uuid=s(6,i),t.$element.attr(`data-${i}`)||t.$element.attr(`data-${i}`,t.uuid),t.$element.data("zfPlugin")||t.$element.data("zfPlugin",t),t.$element.trigger(`init.zf.${i}`),this._uuids.push(t.uuid)},unregisterPlugin:function(t){var e=u(c(t.$element.data("zfPlugin").constructor));for(var i in this._uuids.splice(this._uuids.indexOf(t.uuid),1),t.$element.removeAttr(`data-${e}`).removeData("zfPlugin").trigger(`destroyed.zf.${e}`),t)"function"==typeof t[i]&&(t[i]=null)},reInit:function(t){var i=t instanceof e();try{if(i)t.each((function(){e()(this).data("zfPlugin")._init()}));else{var n=this;({object:function(t){t.forEach((function(t){t=u(t),e()("[data-"+t+"]").foundation("_init")}))},string:function(){t=u(t),e()("[data-"+t+"]").foundation("_init")},undefined:function(){this.object(Object.keys(n._plugins))}})[typeof t](t)}}catch(t){console.error(t)}finally{return t}},reflow:function(t,i){void 0===i?i=Object.keys(this._plugins):"string"==typeof i&&(i=[i]);var n=this;e().each(i,(function(i,s){var o=n._plugins[s];e()(t).find("[data-"+s+"]").addBack("[data-"+s+"]").filter((function(){return void 0===e()(this).data("zfPlugin")})).each((function(){var t=e()(this),i={reflow:!0};t.attr("data-options")&&t.attr("data-options").split(";").forEach((function(t){var e,n=t.split(":").map((function(t){return t.trim()}));n[0]&&(i[n[0]]="true"===(e=n[1])||"false"!==e&&(isNaN(1*e)?e:parseFloat(e)))}));try{t.data("zfPlugin",new o(e()(this),i))}catch(t){console.error(t)}finally{return}}))}))},getFnName:c,addToJquery:function(){return e().fn.foundation=function(t){var i=typeof t,n=e()(".no-js");if(n.length&&n.removeClass("no-js"),"undefined"===i)d._init(),h.reflow(this);else{if("string"!==i)throw new TypeError(`We're sorry, ${i} is not a valid parameter. You must use a string representing the method you wish to invoke.`);var s=Array.prototype.slice.call(arguments,1),o=this.data("zfPlugin");if(void 0===o||void 0===o[t])throw new ReferenceError("We're sorry, '"+t+"' is not an available method for "+(o?c(o):"this element")+".");1===this.length?o[t].apply(o,s):this.each((function(i,n){o[t].apply(e()(n).data("zfPlugin"),s)}))}return this},e()}};function c(t){if(void 0===Function.prototype.name){var e=/function\s([^(]{1,})\(/.exec(t.toString());return e&&e.length>1?e[1].trim():""}return void 0===t.prototype?t.constructor.name:t.prototype.constructor.name}function u(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}h.util={throttle:function(t,e){var i=null;return function(){var n=this,s=arguments;null===i&&(i=setTimeout((function(){t.apply(n,s),i=null}),e))}}},window.Foundation=h,function(){Date.now&&window.Date.now||(window.Date.now=Date.now=function(){return(new Date).getTime()});for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var i=t[e];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var n=0;window.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(n+16,e);return setTimeout((function(){t(n=i)}),i-e)},window.cancelAnimationFrame=clearTimeout}window.performance&&window.performance.now||(window.performance={start:Date.now(),now:function(){return Date.now()-this.start}})}(),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},s=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),s.prototype=new n,s});var f={ImNotTouchingYou:function(t,e,i,n,s){return 0===p(t,e,i,n,s)},OverlapArea:p,GetDimensions:m,GetExplicitOffsets:function(t,e,i,n,s,o,a){var r,l,d=m(t),h=e?m(e):null;if(null!==h){switch(i){case"top":r=h.offset.top-(d.height+s);break;case"bottom":r=h.offset.top+h.height+s;break;case"left":l=h.offset.left-(d.width+o);break;case"right":l=h.offset.left+h.width+o}switch(i){case"top":case"bottom":switch(n){case"left":l=h.offset.left+o;break;case"right":l=h.offset.left-d.width+h.width-o;break;case"center":l=a?o:h.offset.left+h.width/2-d.width/2+o}break;case"right":case"left":switch(n){case"bottom":r=h.offset.top-s+h.height-d.height;break;case"top":r=h.offset.top+s;break;case"center":r=h.offset.top+s+h.height/2-d.height/2}}}return{top:r,left:l}}};function p(t,e,i,n,s){var o,a,r,l,d=m(t);if(e){var h=m(e);a=h.height+h.offset.top-(d.offset.top+d.height),o=d.offset.top-h.offset.top,r=d.offset.left-h.offset.left,l=h.width+h.offset.left-(d.offset.left+d.width)}else a=d.windowDims.height+d.windowDims.offset.top-(d.offset.top+d.height),o=d.offset.top-d.windowDims.offset.top,r=d.offset.left-d.windowDims.offset.left,l=d.windowDims.width-(d.offset.left+d.width);return a=s?0:Math.min(a,0),o=Math.min(o,0),r=Math.min(r,0),l=Math.min(l,0),i?r+l:n?o+a:Math.sqrt(o*o+a*a+r*r+l*l)}function m(t){if((t=t.length?t[0]:t)===window||t===document)throw new Error("I'm sorry, Dave. I'm afraid I can't do that.");var e=t.getBoundingClientRect(),i=t.parentNode.getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=window.pageYOffset,o=window.pageXOffset;return{width:e.width,height:e.height,offset:{top:e.top+s,left:e.left+o},parentDims:{width:i.width,height:i.height,offset:{top:i.top+s,left:i.left+o}},windowDims:{width:n.width,height:n.height,offset:{top:s,left:o}}}}function g(t,i){var n=t.length;function s(){0==--n&&i()}0===n&&i(),t.each((function(){if(this.complete&&void 0!==this.naturalWidth)s();else{var t=new Image,i="load.zf.images error.zf.images";e()(t).one(i,(function t(){e()(this).off(i,t),s()})),t.src=e()(this).attr("src")}}))}const v={9:"TAB",13:"ENTER",27:"ESCAPE",32:"SPACE",35:"END",36:"HOME",37:"ARROW_LEFT",38:"ARROW_UP",39:"ARROW_RIGHT",40:"ARROW_DOWN"};var $={};function b(t){return!!t&&t.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter((function(){return!(!e()(this).is(":visible")||e()(this).attr("tabindex")<0)})).sort((function(t,i){if(e()(t).attr("tabindex")===e()(i).attr("tabindex"))return 0;let n=parseInt(e()(t).attr("tabindex"),10),s=parseInt(e()(i).attr("tabindex"),10);return void 0===e()(t).attr("tabindex")&&s>0?1:void 0===e()(i).attr("tabindex")&&n>0?-1:0===n&&s>0?1:0===s&&n>0||n<s?-1:n>s?1:void 0}))}function w(t){var e=v[t.which||t.keyCode]||String.fromCharCode(t.which).toUpperCase();return e=e.replace(/\W+/,""),t.shiftKey&&(e=`SHIFT_${e}`),t.ctrlKey&&(e=`CTRL_${e}`),t.altKey&&(e=`ALT_${e}`),e.replace(/_$/,"")}var y={keys:function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=t[i]);return e}(v),parseKey:w,handleKey(t,i,s){var o,a=$[i],r=this.parseKey(t);if(!a)return console.warn("Component not defined!");if(!0!==t.zfIsKeyHandled)if((o=s[(void 0===a.ltr?a:n()?e().extend({},a.ltr,a.rtl):e().extend({},a.rtl,a.ltr))[r]])&&"function"==typeof o){var l=o.apply();t.zfIsKeyHandled=!0,(s.handled||"function"==typeof s.handled)&&s.handled(l)}else(s.unhandled||"function"==typeof s.unhandled)&&s.unhandled()},findFocusable:b,register(t,e){$[t]=e},trapFocus(t){var e=b(t),i=e.eq(0),n=e.eq(-1);t.on("keydown.zf.trapfocus",(function(t){t.target===n[0]&&"TAB"===w(t)?(t.preventDefault(),i.focus()):t.target===i[0]&&"SHIFT_TAB"===w(t)&&(t.preventDefault(),n.focus())}))},releaseFocus(t){t.off("keydown.zf.trapfocus")}};const _=["mui-enter","mui-leave"],C=["mui-enter-active","mui-leave-active"],z={animateIn:function(t,e,i){E(!0,t,e,i)},animateOut:function(t,e,i){E(!1,t,e,i)}};function k(t,e,i){var n,s,o=null;if(0===t)return i.apply(e),void e.trigger("finished.zf.animate",[e]).triggerHandler("finished.zf.animate",[e]);n=window.requestAnimationFrame((function a(r){o||(o=r),s=r-o,i.apply(e),s<t?n=window.requestAnimationFrame(a,e):(window.cancelAnimationFrame(n),e.trigger("finished.zf.animate",[e]).triggerHandler("finished.zf.animate",[e]))}))}function E(t,i,n,s){if((i=e()(i).eq(0)).length){var o=t?_[0]:_[1],r=t?C[0]:C[1];l(),i.addClass(n).css("transition","none"),requestAnimationFrame((()=>{i.addClass(o),t&&i.show()})),requestAnimationFrame((()=>{i[0].offsetWidth,i.css("transition","").addClass(r)})),i.one(a(i),(function(){t||i.hide(),l(),s&&s.apply(i)}))}function l(){i[0].style.transitionDuration=0,i.removeClass(`${o} ${r} ${n}`)}}const L={Feather(t,i="zf"){t.attr("role","menubar"),t.find("a").attr({role:"menuitem"});var n=t.find("li").attr({role:"none"}),s=`is-${i}-submenu`,o=`${s}-item`,a=`is-${i}-submenu-parent`,r="accordion"!==i;n.each((function(){var t=e()(this),n=t.children("ul");if(n.length){if(t.addClass(a),r){const e=t.children("a:first");e.attr({"aria-haspopup":!0,"aria-label":e.attr("aria-label")||e.text()}),"drilldown"===i&&t.attr({"aria-expanded":!1})}n.addClass(`submenu ${s}`).attr({"data-submenu":"",role:"menubar"}),"drilldown"===i&&n.attr({"aria-hidden":!0})}t.parent("[data-submenu]").length&&t.addClass(`is-submenu-item ${o}`)}))},Burn(t,e){var i=`is-${e}-submenu`,n=`${i}-item`,s=`is-${e}-submenu-parent`;t.find(">li, > li > ul, .menu, .menu > li, [data-submenu] > li").removeClass(`${i} ${n} ${s} is-submenu-item submenu is-active`).removeAttr("data-submenu").css("display","")}};function x(t,e,i){var n,s,o=this,a=e.duration,r=Object.keys(t.data())[0]||"timer",l=-1;this.isPaused=!1,this.restart=function(){l=-1,clearTimeout(s),this.start()},this.start=function(){this.isPaused=!1,clearTimeout(s),l=l<=0?a:l,t.data("paused",!1),n=Date.now(),s=setTimeout((function(){e.infinite&&o.restart(),i&&"function"==typeof i&&i()}),l),t.trigger(`timerstart.zf.${r}`)},this.pause=function(){this.isPaused=!0,clearTimeout(s),t.data("paused",!0);var e=Date.now();l-=e-n,t.trigger(`timerpaused.zf.${r}`)}}var T,O,A,S,H={},M=!1,R=!1;function I(t){if(this.removeEventListener("touchmove",D),this.removeEventListener("touchend",I),!R){var i=e().Event("tap",S||t);e()(this).trigger(i)}S=null,M=!1,R=!1}function D(t){if(!0===e().spotSwipe.preventDefault&&t.preventDefault(),M){var i,n=t.touches[0].pageX,s=T-n;R=!0,A=(new Date).getTime()-O,Math.abs(s)>=e().spotSwipe.moveThreshold&&A<=e().spotSwipe.timeThreshold&&(i=s>0?"left":"right"),i&&(t.preventDefault(),I.apply(this,arguments),e()(this).trigger(e().Event("swipe",Object.assign({},t)),i).trigger(e().Event(`swipe${i}`,Object.assign({},t))))}}function q(t){1===t.touches.length&&(T=t.touches[0].pageX,S=t,M=!0,R=!1,O=(new Date).getTime(),this.addEventListener("touchmove",D,{passive:!0===e().spotSwipe.preventDefault}),this.addEventListener("touchend",I,!1))}function P(){this.addEventListener&&this.addEventListener("touchstart",q,{passive:!0})}class F{constructor(){this.version="1.0.0",this.enabled="ontouchstart"in document.documentElement,this.preventDefault=!1,this.moveThreshold=75,this.timeThreshold=200,this._init()}_init(){e().event.special.swipe={setup:P},e().event.special.tap={setup:P},e().each(["left","up","down","right"],(function(){e().event.special[`swipe${this}`]={setup:function(){e()(this).on("swipe",e().noop)}}}))}}H.setupSpotSwipe=function(){e().spotSwipe=new F(e())},H.setupTouchHandler=function(){e().fn.addTouch=function(){this.each((function(i,n){e()(n).bind("touchstart touchmove touchend touchcancel",(function(e){t(e)}))}));var t=function(t){var e,i=t.changedTouches[0],n={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"}[t.type];"MouseEvent"in window&&"function"==typeof window.MouseEvent?e=new window.MouseEvent(n,{bubbles:!0,cancelable:!0,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY}):(e=document.createEvent("MouseEvent")).initMouseEvent(n,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(e)}}},H.init=function(){void 0===e().spotSwipe&&(H.setupSpotSwipe(e()),H.setupTouchHandler(e()))};const N=function(){for(var t=["WebKit","Moz","O","Ms",""],e=0;e<t.length;e++)if(`${t[e]}MutationObserver`in window)return window[`${t[e]}MutationObserver`];return!1}(),B=(t,i)=>{t.data(i).split(" ").forEach((n=>{e()(`#${n}`)["close"===i?"trigger":"triggerHandler"](`${i}.zf.trigger`,[t])}))};var W={Listeners:{Basic:{},Global:{}},Initializers:{}};function j(t,i,n){let s,o=Array.prototype.slice.call(arguments,3);e()(window).on(i,(function(){s&&clearTimeout(s),s=setTimeout((function(){n.apply(null,o)}),t||10)}))}W.Listeners.Basic={openListener:function(){B(e()(this),"open")},closeListener:function(){e()(this).data("close")?B(e()(this),"close"):e()(this).trigger("close.zf.trigger")},toggleListener:function(){e()(this).data("toggle")?B(e()(this),"toggle"):e()(this).trigger("toggle.zf.trigger")},closeableListener:function(t){let i=e()(this).data("closable");t.stopPropagation(),""!==i?z.animateOut(e()(this),i,(function(){e()(this).trigger("closed.zf")})):e()(this).fadeOut().trigger("closed.zf")},toggleFocusListener:function(){let t=e()(this).data("toggle-focus");e()(`#${t}`).triggerHandler("toggle.zf.trigger",[e()(this)])}},W.Initializers.addOpenListener=t=>{t.off("click.zf.trigger",W.Listeners.Basic.openListener),t.on("click.zf.trigger","[data-open]",W.Listeners.Basic.openListener)},W.Initializers.addCloseListener=t=>{t.off("click.zf.trigger",W.Listeners.Basic.closeListener),t.on("click.zf.trigger","[data-close]",W.Listeners.Basic.closeListener)},W.Initializers.addToggleListener=t=>{t.off("click.zf.trigger",W.Listeners.Basic.toggleListener),t.on("click.zf.trigger","[data-toggle]",W.Listeners.Basic.toggleListener)},W.Initializers.addCloseableListener=t=>{t.off("close.zf.trigger",W.Listeners.Basic.closeableListener),t.on("close.zf.trigger","[data-closeable], [data-closable]",W.Listeners.Basic.closeableListener)},W.Initializers.addToggleFocusListener=t=>{t.off("focus.zf.trigger blur.zf.trigger",W.Listeners.Basic.toggleFocusListener),t.on("focus.zf.trigger blur.zf.trigger","[data-toggle-focus]",W.Listeners.Basic.toggleFocusListener)},W.Listeners.Global={resizeListener:function(t){N||t.each((function(){e()(this).triggerHandler("resizeme.zf.trigger")})),t.attr("data-events","resize")},scrollListener:function(t){N||t.each((function(){e()(this).triggerHandler("scrollme.zf.trigger")})),t.attr("data-events","scroll")},closeMeListener:function(t,i){let n=t.namespace.split(".")[0];e()(`[data-${n}]`).not(`[data-yeti-box="${i}"]`).each((function(){let t=e()(this);t.triggerHandler("close.zf.trigger",[t])}))}},W.Initializers.addClosemeListener=function(t){var i=e()("[data-yeti-box]"),n=["dropdown","tooltip","reveal"];if(t&&("string"==typeof t?n.push(t):"object"==typeof t&&"string"==typeof t[0]?n=n.concat(t):console.error("Plugin names must be strings")),i.length){let t=n.map((t=>`closeme.zf.${t}`)).join(" ");e()(window).off(t).on(t,W.Listeners.Global.closeMeListener)}},W.Initializers.addResizeListener=function(t){let i=e()("[data-resize]");i.length&&j(t,"resize.zf.trigger",W.Listeners.Global.resizeListener,i)},W.Initializers.addScrollListener=function(t){let i=e()("[data-scroll]");i.length&&j(t,"scroll.zf.trigger",W.Listeners.Global.scrollListener,i)},W.Initializers.addMutationEventsListener=function(t){if(!N)return!1;let i=t.find("[data-resize], [data-scroll], [data-mutate]");var n=function(t){var i=e()(t[0].target);switch(t[0].type){case"attributes":"scroll"===i.attr("data-events")&&"data-events"===t[0].attributeName&&i.triggerHandler("scrollme.zf.trigger",[i,window.pageYOffset]),"resize"===i.attr("data-events")&&"data-events"===t[0].attributeName&&i.triggerHandler("resizeme.zf.trigger",[i]),"style"===t[0].attributeName&&(i.closest("[data-mutate]").attr("data-events","mutate"),i.closest("[data-mutate]").triggerHandler("mutateme.zf.trigger",[i.closest("[data-mutate]")]));break;case"childList":i.closest("[data-mutate]").attr("data-events","mutate"),i.closest("[data-mutate]").triggerHandler("mutateme.zf.trigger",[i.closest("[data-mutate]")]);break;default:return!1}};if(i.length)for(var s=0;s<=i.length-1;s++)new N(n).observe(i[s],{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:["data-events","style"]})},W.Initializers.addSimpleListeners=function(){let t=e()(document);W.Initializers.addOpenListener(t),W.Initializers.addCloseListener(t),W.Initializers.addToggleListener(t),W.Initializers.addCloseableListener(t),W.Initializers.addToggleFocusListener(t)},W.Initializers.addGlobalListeners=function(){let t=e()(document);W.Initializers.addMutationEventsListener(t),W.Initializers.addResizeListener(250),W.Initializers.addScrollListener(),W.Initializers.addClosemeListener()},W.init=function(t,i){r(e()(window),(function(){!0!==e().triggersInitialized&&(W.Initializers.addSimpleListeners(),W.Initializers.addGlobalListeners(),e().triggersInitialized=!0)})),i&&(i.Triggers=W,i.IHearYou=W.Initializers.addGlobalListeners)};class G{constructor(t,e){this._setup(t,e);var i=Y(this);this.uuid=s(6,i),this.$element.attr(`data-${i}`)||this.$element.attr(`data-${i}`,this.uuid),this.$element.data("zfPlugin")||this.$element.data("zfPlugin",this),this.$element.trigger(`init.zf.${i}`)}destroy(){this._destroy();var t=Y(this);for(var e in this.$element.removeAttr(`data-${t}`).removeData("zfPlugin").trigger(`destroyed.zf.${t}`),this)this.hasOwnProperty(e)&&(this[e]=null)}}function Y(t){return t.className.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class U extends G{_setup(t,i={}){this.$element=t,this.options=e().extend(!0,{},U.defaults,this.$element.data(),i),this.isEnabled=!0,this.formnovalidate=null,this.className="Abide",this._init()}_init(){this.$inputs=e().merge(this.$element.find("input").not('[type="submit"]'),this.$element.find("textarea, select")),this.$submits=this.$element.find('[type="submit"]');const t=this.$element.find("[data-abide-error]");this.options.a11yAttributes&&(this.$inputs.each(((t,i)=>this.addA11yAttributes(e()(i)))),t.each(((t,i)=>this.addGlobalErrorA11yAttributes(e()(i))))),this._events()}_events(){this.$element.off(".abide").on("reset.zf.abide",(()=>{this.resetForm()})).on("submit.zf.abide",(()=>this.validateForm())),this.$submits.off("click.zf.abide keydown.zf.abide").on("click.zf.abide keydown.zf.abide",(t=>{t.key&&" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),this.formnovalidate=null!==t.target.getAttribute("formnovalidate"),this.$element.submit())})),"fieldChange"===this.options.validateOn&&this.$inputs.off("change.zf.abide").on("change.zf.abide",(t=>{this.validateInput(e()(t.target))})),this.options.liveValidate&&this.$inputs.off("input.zf.abide").on("input.zf.abide",(t=>{this.validateInput(e()(t.target))})),this.options.validateOnBlur&&this.$inputs.off("blur.zf.abide").on("blur.zf.abide",(t=>{this.validateInput(e()(t.target))}))}_reflow(){this._init()}_validationIsDisabled(){return!1===this.isEnabled||("boolean"==typeof this.formnovalidate?this.formnovalidate:!!this.$submits.length&&null!==this.$submits[0].getAttribute("formnovalidate"))}enableValidation(){this.isEnabled=!0}disableValidation(){this.isEnabled=!1}requiredCheck(t){if(!t.attr("required"))return!0;var e=!0;switch(t[0].type){case"checkbox":e=t[0].checked;break;case"select":case"select-one":case"select-multiple":var i=t.find("option:selected");i.length&&i.val()||(e=!1);break;default:t.val()&&t.val().length||(e=!1)}return e}findFormError(t,e){var i=t.length?t[0].id:"",n=t.siblings(this.options.formErrorSelector);return n.length||(n=t.parent().find(this.options.formErrorSelector)),i&&(n=n.add(this.$element.find(`[data-form-error-for="${i}"]`))),e&&(n=n.not("[data-form-error-on]"),e.forEach((e=>{n=(n=n.add(t.siblings(`[data-form-error-on="${e}"]`))).add(this.$element.find(`[data-form-error-for="${i}"][data-form-error-on="${e}"]`))}))),n}findLabel(t){var e=t[0].id,i=this.$element.find(`label[for="${e}"]`);return i.length?i:t.closest("label")}findRadioLabels(t){var i=t.map(((t,i)=>{var n=i.id,s=this.$element.find(`label[for="${n}"]`);return s.length||(s=e()(i).closest("label")),s[0]}));return e()(i)}findCheckboxLabels(t){var i=t.map(((t,i)=>{var n=i.id,s=this.$element.find(`label[for="${n}"]`);return s.length||(s=e()(i).closest("label")),s[0]}));return e()(i)}addErrorClasses(t,e){var i=this.findLabel(t),n=this.findFormError(t,e);i.length&&i.addClass(this.options.labelErrorClass),n.length&&n.addClass(this.options.formErrorClass),t.addClass(this.options.inputErrorClass).attr({"data-invalid":"","aria-invalid":!0}),n.filter(":visible").length&&this.addA11yErrorDescribe(t,n)}addA11yAttributes(t){let i=this.findFormError(t),n=i.filter("label");if(!i.length)return;let o=i.filter(":visible").first();if(o.length&&this.addA11yErrorDescribe(t,o),n.filter("[for]").length<n.length){let i=t.attr("id");void 0===i&&(i=s(6,"abide-input"),t.attr("id",i)),n.each(((t,n)=>{const s=e()(n);void 0===s.attr("for")&&s.attr("for",i)}))}i.each(((t,i)=>{const n=e()(i);void 0===n.attr("role")&&n.attr("role","alert")})).end()}addA11yErrorDescribe(t,e){if(void 0!==t.attr("aria-describedby"))return;let i=e.attr("id");void 0===i&&(i=s(6,"abide-error"),e.attr("id",i)),t.attr("aria-describedby",i).data("abide-describedby",!0)}addGlobalErrorA11yAttributes(t){void 0===t.attr("aria-live")&&t.attr("aria-live",this.options.a11yErrorLevel)}removeRadioErrorClasses(t){var e=this.$element.find(`:radio[name="${t}"]`),i=this.findRadioLabels(e),n=this.findFormError(e);i.length&&i.removeClass(this.options.labelErrorClass),n.length&&n.removeClass(this.options.formErrorClass),e.removeClass(this.options.inputErrorClass).attr({"data-invalid":null,"aria-invalid":null})}removeCheckboxErrorClasses(t){var e=this.$element.find(`:checkbox[name="${t}"]`),i=this.findCheckboxLabels(e),n=this.findFormError(e);i.length&&i.removeClass(this.options.labelErrorClass),n.length&&n.removeClass(this.options.formErrorClass),e.removeClass(this.options.inputErrorClass).attr({"data-invalid":null,"aria-invalid":null})}removeErrorClasses(t){if("radio"===t[0].type)return this.removeRadioErrorClasses(t.attr("name"));if("checkbox"===t[0].type)return this.removeCheckboxErrorClasses(t.attr("name"));var e=this.findLabel(t),i=this.findFormError(t);e.length&&e.removeClass(this.options.labelErrorClass),i.length&&i.removeClass(this.options.formErrorClass),t.removeClass(this.options.inputErrorClass).attr({"data-invalid":null,"aria-invalid":null}),t.data("abide-describedby")&&t.removeAttr("aria-describedby").removeData("abide-describedby")}validateInput(t){var i=this.requiredCheck(t),n=t.attr("data-validator"),s=[],o=!0;if(this._validationIsDisabled())return!0;if(t.is("[data-abide-ignore]")||t.is('[type="hidden"]')||t.is("[disabled]"))return!0;switch(t[0].type){case"radio":this.validateRadio(t.attr("name"))||s.push("required");break;case"checkbox":this.validateCheckbox(t.attr("name"))||s.push("required"),o=!1;break;case"select":case"select-one":case"select-multiple":i||s.push("required");break;default:i||s.push("required"),this.validateText(t)||s.push("pattern")}if(n){const e=!!t.attr("required");n.split(" ").forEach((i=>{this.options.validators[i](t,e,t.parent())||s.push(i)}))}t.attr("data-equalto")&&(this.options.validators.equalTo(t)||s.push("equalTo"));var a=0===s.length,r=(a?"valid":"invalid")+".zf.abide";if(a){const i=this.$element.find(`[data-equalto="${t.attr("id")}"]`);if(i.length){let t=this;i.each((function(){e()(this).val()&&t.validateInput(e()(this))}))}}return o&&(a?this.removeErrorClasses(t):this.addErrorClasses(t,s)),t.trigger(r,[t]),a}validateForm(){var t,i=[],n=this;if(this.initialized||(this.initialized=!0),this._validationIsDisabled())return this.formnovalidate=null,!0;this.$inputs.each((function(){if("checkbox"===e()(this)[0].type){if(e()(this).attr("name")===t)return!0;t=e()(this).attr("name")}i.push(n.validateInput(e()(this)))}));var s=-1===i.indexOf(!1);return this.$element.find("[data-abide-error]").each(((t,i)=>{const n=e()(i);this.options.a11yAttributes&&this.addGlobalErrorA11yAttributes(n),n.css("display",s?"none":"block")})),this.$element.trigger((s?"formvalid":"forminvalid")+".zf.abide",[this.$element]),s}validateText(t,e){e=e||t.attr("data-pattern")||t.attr("pattern")||t.attr("type");var i=t.val(),n=!0;return i.length&&(this.options.patterns.hasOwnProperty(e)?n=this.options.patterns[e].test(i):e!==t.attr("type")&&(n=new RegExp(e).test(i))),n}validateRadio(t){var i=this.$element.find(`:radio[name="${t}"]`),n=!1,s=!1;return i.each(((t,i)=>{e()(i).attr("required")&&(s=!0)})),s||(n=!0),n||i.each(((t,i)=>{e()(i).prop("checked")&&(n=!0)})),n}validateCheckbox(t){var i=this.$element.find(`:checkbox[name="${t}"]`),n=!1,s=!1,o=1,a=0;return i.each(((t,i)=>{e()(i).attr("required")&&(s=!0)})),s||(n=!0),n||(i.each(((t,i)=>{e()(i).prop("checked")&&a++,void 0!==e()(i).attr("data-min-required")&&(o=parseInt(e()(i).attr("data-min-required"),10))})),a>=o&&(n=!0)),!0!==this.initialized&&o>1||(i.each(((t,i)=>{n?this.removeErrorClasses(e()(i)):this.addErrorClasses(e()(i),["required"])})),n)}matchValidation(t,e,i){return i=!!i,-1===e.split(" ").map((e=>this.options.validators[e](t,i,t.parent()))).indexOf(!1)}resetForm(){var t=this.$element,i=this.options;e()(`.${i.labelErrorClass}`,t).not("small").removeClass(i.labelErrorClass),e()(`.${i.inputErrorClass}`,t).not("small").removeClass(i.inputErrorClass),e()(`${i.formErrorSelector}.${i.formErrorClass}`).removeClass(i.formErrorClass),t.find("[data-abide-error]").css("display","none"),e()(":input",t).not(":button, :submit, :reset, :hidden, :radio, :checkbox, [data-abide-ignore]").val("").attr({"data-invalid":null,"aria-invalid":null}),e()(":input:radio",t).not("[data-abide-ignore]").prop("checked",!1).attr({"data-invalid":null,"aria-invalid":null}),e()(":input:checkbox",t).not("[data-abide-ignore]").prop("checked",!1).attr({"data-invalid":null,"aria-invalid":null}),t.trigger("formreset.zf.abide",[t])}_destroy(){var t=this;this.$element.off(".abide").find("[data-abide-error]").css("display","none"),this.$inputs.off(".abide").each((function(){t.removeErrorClasses(e()(this))})),this.$submits.off(".abide")}}U.defaults={validateOn:"fieldChange",labelErrorClass:"is-invalid-label",inputErrorClass:"is-invalid-input",formErrorSelector:".form-error",formErrorClass:"is-visible",a11yAttributes:!0,a11yErrorLevel:"assertive",liveValidate:!1,validateOnBlur:!1,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(?:222[1-9]|2[3-6][0-9]{2}|27[0-1][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^((?:(https?|ftps?|file|ssh|sftp):\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\((?:[^\s()<>]+|(?:\([^\s()<>]+\)))*\))+(?:\((?:[^\s()<>]+|(?:\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:\'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,website:{test:t=>U.defaults.patterns.domain.test(t)||U.defaults.patterns.url.test(t)}},validators:{equalTo:function(t){return e()(`#${t.attr("data-equalto")}`).val()===t.val()}}};class K extends G{_setup(t,i){this.$element=t,this.options=e().extend({},K.defaults,this.$element.data(),i),this.className="Accordion",this._init(),y.register("Accordion",{ENTER:"toggle",SPACE:"toggle",ARROW_DOWN:"next",ARROW_UP:"previous",HOME:"first",END:"last"})}_init(){this._isInitializing=!0,this.$tabs=this.$element.children("[data-accordion-item]"),this.$tabs.each((function(t,i){var n=e()(i),o=n.children("[data-tab-content]"),a=o[0].id||s(6,"accordion"),r=i.id?`${i.id}-label`:`${a}-label`;n.find("a:first").attr({"aria-controls":a,id:r,"aria-expanded":!1}),o.attr({role:"region","aria-labelledby":r,"aria-hidden":!0,id:a})}));var t=this.$element.find(".is-active").children("[data-tab-content]");t.length&&(this._initialAnchor=t.prev("a").attr("href"),this._openSingleTab(t)),this._checkDeepLink=()=>{var t=window.location.hash;if(!t.length){if(this._isInitializing)return;this._initialAnchor&&(t=this._initialAnchor)}var i=t&&e()(t),n=t&&this.$element.find(`[href$="${t}"]`);i.length&&n.length&&(i&&n&&n.length?n.parent("[data-accordion-item]").hasClass("is-active")||this._openSingleTab(i):this._closeAllTabs(),this.options.deepLinkSmudge&&r(e()(window),(()=>{var t=this.$element.offset();e()("html, body").animate({scrollTop:t.top-this.options.deepLinkSmudgeOffset},this.options.deepLinkSmudgeDelay)})),this.$element.trigger("deeplink.zf.accordion",[n,i]))},this.options.deepLink&&this._checkDeepLink(),this._events(),this._isInitializing=!1}_events(){var t=this;this.$tabs.each((function(){var i=e()(this),n=i.children("[data-tab-content]");n.length&&i.children("a").off("click.zf.accordion keydown.zf.accordion").on("click.zf.accordion",(function(e){e.preventDefault(),t.toggle(n)})).on("keydown.zf.accordion",(function(e){y.handleKey(e,"Accordion",{toggle:function(){t.toggle(n)},next:function(){var e=i.next().find("a").focus();t.options.multiExpand||e.trigger("click.zf.accordion")},previous:function(){var e=i.prev().find("a").focus();t.options.multiExpand||e.trigger("click.zf.accordion")},first:function(){var e=t.$tabs.first().find(".accordion-title").focus();t.options.multiExpand||e.trigger("click.zf.accordion")},last:function(){var e=t.$tabs.last().find(".accordion-title").focus();t.options.multiExpand||e.trigger("click.zf.accordion")},handled:function(){e.preventDefault()}})}))})),this.options.deepLink&&e()(window).on("hashchange",this._checkDeepLink)}toggle(t){if(t.closest("[data-accordion]").is("[disabled]"))console.info("Cannot toggle an accordion that is disabled.");else if(t.parent().hasClass("is-active")?this.up(t):this.down(t),this.options.deepLink){var e=t.prev("a").attr("href");this.options.updateHistory?history.pushState({},"",e):history.replaceState({},"",e)}}down(t){t.closest("[data-accordion]").is("[disabled]")?console.info("Cannot call down on an accordion that is disabled."):this.options.multiExpand?this._openTab(t):this._openSingleTab(t)}up(t){if(this.$element.is("[disabled]"))return void console.info("Cannot call up on an accordion that is disabled.");const e=t.parent();if(!e.hasClass("is-active"))return;const i=e.siblings();(this.options.allowAllClosed||i.hasClass("is-active"))&&this._closeTab(t)}_openSingleTab(t){const e=this.$element.children(".is-active").children("[data-tab-content]");e.length&&this._closeTab(e.not(t)),this._openTab(t)}_openTab(t){const i=t.parent(),n=t.attr("aria-labelledby");t.attr("aria-hidden",!1),i.addClass("is-active"),e()(`#${n}`).attr({"aria-expanded":!0}),t.finish().slideDown(this.options.slideSpeed,(()=>{this.$element.trigger("down.zf.accordion",[t])}))}_closeTab(t){const i=t.parent(),n=t.attr("aria-labelledby");t.attr("aria-hidden",!0),i.removeClass("is-active"),e()(`#${n}`).attr({"aria-expanded":!1}),t.finish().slideUp(this.options.slideSpeed,(()=>{this.$element.trigger("up.zf.accordion",[t])}))}_closeAllTabs(){var t=this.$element.children(".is-active").children("[data-tab-content]");t.length&&this._closeTab(t)}_destroy(){this.$element.find("[data-tab-content]").stop(!0).slideUp(0).css("display",""),this.$element.find("a").off(".zf.accordion"),this.options.deepLink&&e()(window).off("hashchange",this._checkDeepLink)}}K.defaults={slideSpeed:250,multiExpand:!1,allowAllClosed:!1,deepLink:!1,deepLinkSmudge:!1,deepLinkSmudgeDelay:300,deepLinkSmudgeOffset:0,updateHistory:!1};class V extends G{_setup(t,i){this.$element=t,this.options=e().extend({},V.defaults,this.$element.data(),i),this.className="AccordionMenu",this._init(),y.register("AccordionMenu",{ENTER:"toggle",SPACE:"toggle",ARROW_RIGHT:"open",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"close",ESCAPE:"closeAll"})}_init(){L.Feather(this.$element,"accordion");var t=this;this.$element.find("[data-submenu]").not(".is-active").slideUp(0),this.$element.attr({"aria-multiselectable":this.options.multiOpen}),this.$menuLinks=this.$element.find(".is-accordion-submenu-parent"),this.$menuLinks.each((function(){var i=this.id||s(6,"acc-menu-link"),n=e()(this),o=n.children("[data-submenu]"),a=o[0].id||s(6,"acc-menu"),r=o.hasClass("is-active");t.options.parentLink&&n.children("a").clone().prependTo(o).wrap('<li data-is-parent-link class="is-submenu-parent-item is-submenu-item is-accordion-submenu-item"></li>'),t.options.submenuToggle?(n.addClass("has-submenu-toggle"),n.children("a").after('<button id="'+i+'" class="submenu-toggle" aria-controls="'+a+'" aria-expanded="'+r+'" title="'+t.options.submenuToggleText+'"><span class="submenu-toggle-text">'+t.options.submenuToggleText+"</span></button>")):n.attr({"aria-controls":a,"aria-expanded":r,id:i}),o.attr({"aria-labelledby":i,"aria-hidden":!r,role:"group",id:a})}));var i=this.$element.find(".is-active");i.length&&i.each((function(){t.down(e()(this))})),this._events()}_events(){var t=this;this.$element.find("li").each((function(){var i=e()(this).children("[data-submenu]");i.length&&(t.options.submenuToggle?e()(this).children(".submenu-toggle").off("click.zf.accordionMenu").on("click.zf.accordionMenu",(function(){t.toggle(i)})):e()(this).children("a").off("click.zf.accordionMenu").on("click.zf.accordionMenu",(function(e){e.preventDefault(),t.toggle(i)})))})).on("keydown.zf.accordionMenu",(function(i){var n,s,o=e()(this),a=o.parent("ul").children("li"),r=o.children("[data-submenu]");a.each((function(t){if(e()(this).is(o))return n=a.eq(Math.max(0,t-1)).find("a").first(),s=a.eq(Math.min(t+1,a.length-1)).find("a").first(),e()(this).children("[data-submenu]:visible").length&&(s=o.find("li:first-child").find("a").first()),e()(this).is(":first-child")?n=o.parents("li").first().find("a").first():n.parents("li").first().children("[data-submenu]:visible").length&&(n=n.parents("li").find("li:last-child").find("a").first()),void(e()(this).is(":last-child")&&(s=o.parents("li").first().next("li").find("a").first()))})),y.handleKey(i,"AccordionMenu",{open:function(){r.is(":hidden")&&(t.down(r),r.find("li").first().find("a").first().focus())},close:function(){r.length&&!r.is(":hidden")?t.up(r):o.parent("[data-submenu]").length&&(t.up(o.parent("[data-submenu]")),o.parents("li").first().find("a").first().focus())},up:function(){return n.focus(),!0},down:function(){return s.focus(),!0},toggle:function(){return!t.options.submenuToggle&&(o.children("[data-submenu]").length?(t.toggle(o.children("[data-submenu]")),!0):void 0)},closeAll:function(){t.hideAll()},handled:function(t){t&&i.preventDefault()}})}))}hideAll(){this.up(this.$element.find("[data-submenu]"))}showAll(){this.down(this.$element.find("[data-submenu]"))}toggle(t){t.is(":animated")||(t.is(":hidden")?this.down(t):this.up(t))}down(t){if(!this.options.multiOpen){const e=t.parentsUntil(this.$element).add(t).add(t.find(".is-active")),i=this.$element.find(".is-active").not(e);this.up(i)}t.addClass("is-active").attr({"aria-hidden":!1}),this.options.submenuToggle?t.prev(".submenu-toggle").attr({"aria-expanded":!0}):t.parent(".is-accordion-submenu-parent").attr({"aria-expanded":!0}),t.slideDown(this.options.slideSpeed,(()=>{this.$element.trigger("down.zf.accordionMenu",[t])}))}up(t){const e=t.find("[data-submenu]"),i=t.add(e);e.slideUp(0),i.removeClass("is-active").attr("aria-hidden",!0),this.options.submenuToggle?i.prev(".submenu-toggle").attr("aria-expanded",!1):i.parent(".is-accordion-submenu-parent").attr("aria-expanded",!1),t.slideUp(this.options.slideSpeed,(()=>{this.$element.trigger("up.zf.accordionMenu",[t])}))}_destroy(){this.$element.find("[data-submenu]").slideDown(0).css("display",""),this.$element.find("a").off("click.zf.accordionMenu"),this.$element.find("[data-is-parent-link]").detach(),this.options.submenuToggle&&(this.$element.find(".has-submenu-toggle").removeClass("has-submenu-toggle"),this.$element.find(".submenu-toggle").remove()),L.Burn(this.$element,"accordion")}}V.defaults={parentLink:!1,slideSpeed:250,submenuToggle:!1,submenuToggleText:"Toggle menu",multiOpen:!0};class Q extends G{_setup(t,i){this.$element=t,this.options=e().extend({},Q.defaults,this.$element.data(),i),this.className="Drilldown",this._init(),y.register("Drilldown",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"previous",ESCAPE:"close"})}_init(){L.Feather(this.$element,"drilldown"),this.options.autoApplyClass&&this.$element.addClass("drilldown"),this.$element.attr({"aria-multiselectable":!1}),this.$submenuAnchors=this.$element.find("li.is-drilldown-submenu-parent").children("a"),this.$submenus=this.$submenuAnchors.parent("li").children("[data-submenu]").attr("role","group"),this.$menuItems=this.$element.find("li").not(".js-drilldown-back").find("a"),this.$currentMenu=this.$element,this.$element.attr("data-mutate",this.$element.attr("data-drilldown")||s(6,"drilldown")),this._prepareMenu(),this._registerEvents(),this._keyboardEvents()}_prepareMenu(){var t=this;this.$submenuAnchors.each((function(){var i=e()(this),n=i.parent();t.options.parentLink&&i.clone().prependTo(n.children("[data-submenu]")).wrap('<li data-is-parent-link class="is-submenu-parent-item is-submenu-item is-drilldown-submenu-item" role="none"></li>'),i.data("savedHref",i.attr("href")).removeAttr("href").attr("tabindex",0),i.children("[data-submenu]").attr({"aria-hidden":!0,tabindex:0,role:"group"}),t._events(i)})),this.$submenus.each((function(){var i=e()(this);if(!i.find(".js-drilldown-back").length)switch(t.options.backButtonPosition){case"bottom":i.append(t.options.backButton);break;case"top":i.prepend(t.options.backButton);break;default:console.error("Unsupported backButtonPosition value '"+t.options.backButtonPosition+"'")}t._back(i)})),this.$submenus.addClass("invisible"),this.options.autoHeight||this.$submenus.addClass("drilldown-submenu-cover-previous"),this.$element.parent().hasClass("is-drilldown")||(this.$wrapper=e()(this.options.wrapper).addClass("is-drilldown"),this.options.animateHeight&&this.$wrapper.addClass("animate-height"),this.$element.wrap(this.$wrapper)),this.$wrapper=this.$element.parent(),this.$wrapper.css(this._getMaxDims())}_resize(){this.$wrapper.css({"max-width":"none","min-height":"none"}),this.$wrapper.css(this._getMaxDims())}_events(t){var i=this;t.off("click.zf.drilldown").on("click.zf.drilldown",(function(n){if(e()(n.target).parentsUntil("ul","li").hasClass("is-drilldown-submenu-parent")&&n.preventDefault(),i._show(t.parent("li")),i.options.closeOnClick){var s=e()("body");s.off(".zf.drilldown").on("click.zf.drilldown",(function(t){t.target===i.$element[0]||e().contains(i.$element[0],t.target)||(t.preventDefault(),i._hideAll(),s.off(".zf.drilldown"))}))}}))}_registerEvents(){this.options.scrollTop&&(this._bindHandler=this._scrollTop.bind(this),this.$element.on("open.zf.drilldown hide.zf.drilldown close.zf.drilldown closed.zf.drilldown",this._bindHandler)),this.$element.on("mutateme.zf.trigger",this._resize.bind(this))}_scrollTop(){var t=this,i=""!==t.options.scrollTopElement?e()(t.options.scrollTopElement):t.$element,n=parseInt(i.offset().top+t.options.scrollTopOffset,10);e()("html, body").stop(!0).animate({scrollTop:n},t.options.animationDuration,t.options.animationEasing,(function(){this===e()("html")[0]&&t.$element.trigger("scrollme.zf.drilldown")}))}_keyboardEvents(){var t=this;this.$menuItems.add(this.$element.find(".js-drilldown-back > a, .is-submenu-parent-item > a")).on("keydown.zf.drilldown",(function(i){var n,s,o=e()(this),r=o.parent("li").parent("ul").children("li").children("a");r.each((function(t){if(e()(this).is(o))return n=r.eq(Math.max(0,t-1)),void(s=r.eq(Math.min(t+1,r.length-1)))})),y.handleKey(i,"Drilldown",{next:function(){if(o.is(t.$submenuAnchors))return t._show(o.parent("li")),o.parent("li").one(a(o),(function(){o.parent("li").find("ul li a").not(".js-drilldown-back a").first().focus()})),!0},previous:function(){return t._hide(o.parent("li").parent("ul")),o.parent("li").parent("ul").one(a(o),(function(){setTimeout((function(){o.parent("li").parent("ul").parent("li").children("a").first().focus()}),1)})),!0},up:function(){return n.focus(),!o.is(t.$element.find("> li:first-child > a"))},down:function(){return s.focus(),!o.is(t.$element.find("> li:last-child > a"))},close:function(){o.is(t.$element.find("> li > a"))||(t._hide(o.parent().parent()),o.parent().parent().siblings("a").focus())},open:function(){return(!t.options.parentLink||!o.attr("href"))&&(o.is(t.$menuItems)?o.is(t.$submenuAnchors)?(t._show(o.parent("li")),o.parent("li").one(a(o),(function(){o.parent("li").find("ul li a").not(".js-drilldown-back a").first().focus()})),!0):void 0:(t._hide(o.parent("li").parent("ul")),o.parent("li").parent("ul").one(a(o),(function(){setTimeout((function(){o.parent("li").parent("ul").parent("li").children("a").first().focus()}),1)})),!0))},handled:function(t){t&&i.preventDefault()}})}))}_hideAll(){var t=this.$element.find(".is-drilldown-submenu.is-active");if(t.addClass("is-closing"),t.parent().closest("ul").removeClass("invisible"),this.options.autoHeight){const e=t.parent().closest("ul").data("calcHeight");this.$wrapper.css({height:e})}this.$element.trigger("close.zf.drilldown"),t.one(a(t),(()=>{t.removeClass("is-active is-closing"),this.$element.trigger("closed.zf.drilldown")}))}_back(t){var e=this;t.off("click.zf.drilldown"),t.children(".js-drilldown-back").on("click.zf.drilldown",(function(){e._hide(t);let i=t.parent("li").parent("ul").parent("li");i.length?e._show(i):e.$currentMenu=e.$element}))}_menuLinkEvents(){var t=this;this.$menuItems.not(".is-drilldown-submenu-parent").off("click.zf.drilldown").on("click.zf.drilldown",(function(){setTimeout((function(){t._hideAll()}),0)}))}_setShowSubMenuClasses(t,e){t.addClass("is-active").removeClass("invisible").attr("aria-hidden",!1),t.parent("li").attr("aria-expanded",!0),!0===e&&this.$element.trigger("open.zf.drilldown",[t])}_setHideSubMenuClasses(t,e){t.removeClass("is-active").addClass("invisible").attr("aria-hidden",!0),t.parent("li").attr("aria-expanded",!1),!0===e&&t.trigger("hide.zf.drilldown",[t])}_showMenu(t,i){var n=this;if(this.$element.find('li[aria-expanded="true"] > ul[data-submenu]').each((function(){n._setHideSubMenuClasses(e()(this))})),this.$currentMenu=t,t.is("[data-drilldown]"))return!0===i&&t.find("li > a").first().focus(),void(this.options.autoHeight&&this.$wrapper.css("height",t.data("calcHeight")));var s=t.children().first().parentsUntil("[data-drilldown]","[data-submenu]");s.each((function(o){0===o&&n.options.autoHeight&&n.$wrapper.css("height",e()(this).data("calcHeight"));var r=o===s.length-1;!0===r&&e()(this).one(a(e()(this)),(()=>{!0===i&&t.find("li > a").first().focus()})),n._setShowSubMenuClasses(e()(this),r)}))}_show(t){const e=t.children("[data-submenu]");t.attr("aria-expanded",!0),this.$currentMenu=e,t.parent().closest("ul").addClass("invisible"),e.addClass("is-active visible").removeClass("invisible").attr("aria-hidden",!1),this.options.autoHeight&&this.$wrapper.css({height:e.data("calcHeight")}),this.$element.trigger("open.zf.drilldown",[t])}_hide(t){this.options.autoHeight&&this.$wrapper.css({height:t.parent().closest("ul").data("calcHeight")}),t.parent().closest("ul").removeClass("invisible"),t.parent("li").attr("aria-expanded",!1),t.attr("aria-hidden",!0),t.addClass("is-closing").one(a(t),(function(){t.removeClass("is-active is-closing visible"),t.blur().addClass("invisible")})),t.trigger("hide.zf.drilldown",[t])}_getMaxDims(){var t=0,i={},n=this;return this.$submenus.add(this.$element).each((function(){var i=f.GetDimensions(this).height;t=i>t?i:t,n.options.autoHeight&&e()(this).data("calcHeight",i)})),this.options.autoHeight?i.height=this.$currentMenu.data("calcHeight"):i["min-height"]=`${t}px`,i["max-width"]=`${this.$element[0].getBoundingClientRect().width}px`,i}_destroy(){e()("body").off(".zf.drilldown"),this.options.scrollTop&&this.$element.off(".zf.drilldown",this._bindHandler),this._hideAll(),this.$element.off("mutateme.zf.trigger"),L.Burn(this.$element,"drilldown"),this.$element.unwrap().find(".js-drilldown-back, .is-submenu-parent-item").remove().end().find(".is-active, .is-closing, .is-drilldown-submenu").removeClass("is-active is-closing is-drilldown-submenu").off("transitionend otransitionend webkitTransitionEnd").end().find("[data-submenu]").removeAttr("aria-hidden tabindex role"),this.$submenuAnchors.each((function(){e()(this).off(".zf.drilldown")})),this.$element.find("[data-is-parent-link]").detach(),this.$submenus.removeClass("drilldown-submenu-cover-previous invisible"),this.$element.find("a").each((function(){var t=e()(this);t.removeAttr("tabindex"),t.data("savedHref")&&t.attr("href",t.data("savedHref")).removeData("savedHref")}))}}Q.defaults={autoApplyClass:!0,backButton:'<li class="js-drilldown-back"><a tabindex="0">Back</a></li>',backButtonPosition:"top",wrapper:"<div></div>",parentLink:!1,closeOnClick:!1,autoHeight:!1,animateHeight:!1,scrollTop:!1,scrollTopElement:"",scrollTopOffset:0,animationDuration:500,animationEasing:"swing"};const Z=["left","right","top","bottom"],X=["top","bottom","center"],J=["left","right","center"],tt={left:X,right:X,top:J,bottom:J};function et(t,e){var i=e.indexOf(t);return i===e.length-1?e[0]:e[i+1]}class it extends G{_init(){this.triedPositions={},this.position="auto"===this.options.position?this._getDefaultPosition():this.options.position,this.alignment="auto"===this.options.alignment?this._getDefaultAlignment():this.options.alignment,this.originalPosition=this.position,this.originalAlignment=this.alignment}_getDefaultPosition(){return"bottom"}_getDefaultAlignment(){switch(this.position){case"bottom":case"top":return n()?"right":"left";case"left":case"right":return"bottom"}}_reposition(){this._alignmentsExhausted(this.position)?(this.position=et(this.position,Z),this.alignment=tt[this.position][0]):this._realign()}_realign(){this._addTriedPosition(this.position,this.alignment),this.alignment=et(this.alignment,tt[this.position])}_addTriedPosition(t,e){this.triedPositions[t]=this.triedPositions[t]||[],this.triedPositions[t].push(e)}_positionsExhausted(){for(var t=!0,e=0;e<Z.length;e++)t=t&&this._alignmentsExhausted(Z[e]);return t}_alignmentsExhausted(t){return this.triedPositions[t]&&this.triedPositions[t].length===tt[t].length}_getVOffset(){return this.options.vOffset}_getHOffset(){return this.options.hOffset}_setPosition(t,e,i){if("false"===t.attr("aria-expanded"))return!1;if(this.options.allowOverlap||(this.position=this.originalPosition,this.alignment=this.originalAlignment),e.offset(f.GetExplicitOffsets(e,t,this.position,this.alignment,this._getVOffset(),this._getHOffset())),!this.options.allowOverlap){for(var n=1e8,s={position:this.position,alignment:this.alignment};!this._positionsExhausted();){let o=f.OverlapArea(e,i,!1,!1,this.options.allowBottomOverlap);if(0===o)return;o<n&&(n=o,s={position:this.position,alignment:this.alignment}),this._reposition(),e.offset(f.GetExplicitOffsets(e,t,this.position,this.alignment,this._getVOffset(),this._getHOffset()))}this.position=s.position,this.alignment=s.alignment,e.offset(f.GetExplicitOffsets(e,t,this.position,this.alignment,this._getVOffset(),this._getHOffset()))}}}it.defaults={position:"auto",alignment:"auto",allowOverlap:!1,allowBottomOverlap:!0,vOffset:0,hOffset:0};class nt extends it{_setup(t,i){this.$element=t,this.options=e().extend({},nt.defaults,this.$element.data(),i),this.className="Dropdown",H.init(e()),W.init(e()),this._init(),y.register("Dropdown",{ENTER:"toggle",SPACE:"toggle",ESCAPE:"close"})}_init(){var t=this.$element.attr("id");this.$anchors=e()(`[data-toggle="${t}"]`).length?e()(`[data-toggle="${t}"]`):e()(`[data-open="${t}"]`),this.$anchors.attr({"aria-controls":t,"data-is-focus":!1,"data-yeti-box":t,"aria-haspopup":!0,"aria-expanded":!1}),this._setCurrentAnchor(this.$anchors.first()),this.options.parentClass?this.$parent=this.$element.parents("."+this.options.parentClass):this.$parent=null,void 0===this.$element.attr("aria-labelledby")&&(void 0===this.$currentAnchor.attr("id")&&this.$currentAnchor.attr("id",s(6,"dd-anchor")),this.$element.attr("aria-labelledby",this.$currentAnchor.attr("id"))),this.$element.attr({"aria-hidden":"true","data-yeti-box":t,"data-resize":t}),super._init(),this._events()}_getDefaultPosition(){var t=this.$element[0].className.match(/(top|left|right|bottom)/g);return t?t[0]:"bottom"}_getDefaultAlignment(){var t=/float-(\S+)/.exec(this.$currentAnchor.attr("class"));return t?t[1]:super._getDefaultAlignment()}_setPosition(){this.$element.removeClass(`has-position-${this.position} has-alignment-${this.alignment}`),super._setPosition(this.$currentAnchor,this.$element,this.$parent),this.$element.addClass(`has-position-${this.position} has-alignment-${this.alignment}`)}_setCurrentAnchor(t){this.$currentAnchor=e()(t)}_events(){var t=this,i="ontouchstart"in window||void 0!==window.ontouchstart;this.$element.on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"resizeme.zf.trigger":this._setPosition.bind(this)}),this.$anchors.off("click.zf.trigger").on("click.zf.trigger",(function(e){t._setCurrentAnchor(this),(!1===t.options.forceFollow||i&&t.options.hover&&!1===t.$element.hasClass("is-open"))&&e.preventDefault()})),this.options.hover&&(this.$anchors.off("mouseenter.zf.dropdown mouseleave.zf.dropdown").on("mouseenter.zf.dropdown",(function(){t._setCurrentAnchor(this);var i=e()("body").data();void 0!==i.whatinput&&"mouse"!==i.whatinput||(clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.open(),t.$anchors.data("hover",!0)}),t.options.hoverDelay))})).on("mouseleave.zf.dropdown",l((function(){clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.close(),t.$anchors.data("hover",!1)}),t.options.hoverDelay)}))),this.options.hoverPane&&this.$element.off("mouseenter.zf.dropdown mouseleave.zf.dropdown").on("mouseenter.zf.dropdown",(function(){clearTimeout(t.timeout)})).on("mouseleave.zf.dropdown",l((function(){clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.close(),t.$anchors.data("hover",!1)}),t.options.hoverDelay)})))),this.$anchors.add(this.$element).on("keydown.zf.dropdown",(function(i){var n=e()(this);y.handleKey(i,"Dropdown",{open:function(){n.is(t.$anchors)&&!n.is("input, textarea")&&(t.open(),t.$element.attr("tabindex",-1).focus(),i.preventDefault())},close:function(){t.close(),t.$anchors.focus()}})}))}_addBodyHandler(){var t=e()(document.body).not(this.$element),i=this;t.off("click.zf.dropdown tap.zf.dropdown").on("click.zf.dropdown tap.zf.dropdown",(function(e){i.$anchors.is(e.target)||i.$anchors.find(e.target).length||i.$element.is(e.target)||i.$element.find(e.target).length||(i.close(),t.off("click.zf.dropdown tap.zf.dropdown"))}))}open(){if(this.$element.trigger("closeme.zf.dropdown",this.$element.attr("id")),this.$anchors.addClass("hover").attr({"aria-expanded":!0}),this.$element.addClass("is-opening"),this._setPosition(),this.$element.removeClass("is-opening").addClass("is-open").attr({"aria-hidden":!1}),this.options.autoFocus){var t=y.findFocusable(this.$element);t.length&&t.eq(0).focus()}this.options.closeOnClick&&this._addBodyHandler(),this.options.trapFocus&&y.trapFocus(this.$element),this.$element.trigger("show.zf.dropdown",[this.$element])}close(){if(!this.$element.hasClass("is-open"))return!1;this.$element.removeClass("is-open").attr({"aria-hidden":!0}),this.$anchors.removeClass("hover").attr("aria-expanded",!1),this.$element.trigger("hide.zf.dropdown",[this.$element]),this.options.trapFocus&&y.releaseFocus(this.$element)}toggle(){if(this.$element.hasClass("is-open")){if(this.$anchors.data("hover"))return;this.close()}else this.open()}_destroy(){this.$element.off(".zf.trigger").hide(),this.$anchors.off(".zf.dropdown"),e()(document.body).off("click.zf.dropdown tap.zf.dropdown")}}nt.defaults={parentClass:null,hoverDelay:250,hover:!1,hoverPane:!1,vOffset:0,hOffset:0,position:"auto",alignment:"auto",allowOverlap:!1,allowBottomOverlap:!0,trapFocus:!1,autoFocus:!1,closeOnClick:!1,forceFollow:!0};class st extends G{_setup(t,i){this.$element=t,this.options=e().extend({},st.defaults,this.$element.data(),i),this.className="DropdownMenu",H.init(e()),this._init(),y.register("DropdownMenu",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"previous",ESCAPE:"close"})}_init(){L.Feather(this.$element,"dropdown");var t=this.$element.find("li.is-dropdown-submenu-parent");this.$element.children(".is-dropdown-submenu-parent").children(".is-dropdown-submenu").addClass("first-sub"),this.$menuItems=this.$element.find('li[role="none"]'),this.$tabs=this.$element.children('li[role="none"]'),this.$tabs.find("ul.is-dropdown-submenu").addClass(this.options.verticalClass),"auto"===this.options.alignment?this.$element.hasClass(this.options.rightClass)||n()||this.$element.parents(".top-bar-right").is("*")?(this.options.alignment="right",t.addClass("opens-left")):(this.options.alignment="left",t.addClass("opens-right")):"right"===this.options.alignment?t.addClass("opens-left"):t.addClass("opens-right"),this.changed=!1,this._events()}_isVertical(){return"block"===this.$tabs.css("display")||"column"===this.$element.css("flex-direction")}_isRtl(){return this.$element.hasClass("align-right")||n()&&!this.$element.hasClass("align-left")}_events(){var t=this,i="ontouchstart"in window||void 0!==window.ontouchstart,n="is-dropdown-submenu-parent";(this.options.clickOpen||i)&&this.$menuItems.on("click.zf.dropdownMenu touchstart.zf.dropdownMenu",(function(s){var o=e()(s.target).parentsUntil("ul",`.${n}`),a=o.hasClass(n),r="true"===o.attr("data-is-click"),l=o.children(".is-dropdown-submenu");if(a)if(r){if(!t.options.closeOnClick||!t.options.clickOpen&&!i||t.options.forceFollow&&i)return;s.stopImmediatePropagation(),s.preventDefault(),t._hide(o)}else s.stopImmediatePropagation(),s.preventDefault(),t._show(l),o.add(o.parentsUntil(t.$element,`.${n}`)).attr("data-is-click",!0)})),t.options.closeOnClickInside&&this.$menuItems.on("click.zf.dropdownMenu",(function(){e()(this).hasClass(n)||t._hide()})),i&&this.options.disableHoverOnTouch&&(this.options.disableHover=!0),this.options.disableHover||this.$menuItems.on("mouseenter.zf.dropdownMenu",(function(){var i=e()(this);i.hasClass(n)&&(clearTimeout(i.data("_delay")),i.data("_delay",setTimeout((function(){t._show(i.children(".is-dropdown-submenu"))}),t.options.hoverDelay)))})).on("mouseleave.zf.dropdownMenu",l((function(){var i=e()(this);if(i.hasClass(n)&&t.options.autoclose){if("true"===i.attr("data-is-click")&&t.options.clickOpen)return!1;clearTimeout(i.data("_delay")),i.data("_delay",setTimeout((function(){t._hide(i)}),t.options.closingTime))}}))),this.$menuItems.on("keydown.zf.dropdownMenu",(function(i){var n,s,o=e()(i.target).parentsUntil("ul",'[role="none"]'),a=t.$tabs.index(o)>-1,r=a?t.$tabs:o.siblings("li").add(o);r.each((function(t){if(e()(this).is(o))return n=r.eq(t-1),void(s=r.eq(t+1))}));var l=function(){s.children("a:first").focus(),i.preventDefault()},d=function(){n.children("a:first").focus(),i.preventDefault()},h=function(){var e=o.children("ul.is-dropdown-submenu");e.length&&(t._show(e),o.find("li > a:first").focus(),i.preventDefault())},c=function(){var e=o.parent("ul").parent("li");e.children("a:first").focus(),t._hide(e),i.preventDefault()},u={open:h,close:function(){t._hide(t.$element),t.$menuItems.eq(0).children("a").focus(),i.preventDefault()}};a?t._isVertical()?t._isRtl()?e().extend(u,{down:l,up:d,next:c,previous:h}):e().extend(u,{down:l,up:d,next:h,previous:c}):t._isRtl()?e().extend(u,{next:d,previous:l,down:h,up:c}):e().extend(u,{next:l,previous:d,down:h,up:c}):t._isRtl()?e().extend(u,{next:c,previous:h,down:l,up:d}):e().extend(u,{next:h,previous:c,down:l,up:d}),y.handleKey(i,"DropdownMenu",u)}))}_addBodyHandler(){const t=e()(document.body);this._removeBodyHandler(),t.on("click.zf.dropdownMenu tap.zf.dropdownMenu",(t=>{e()(t.target).closest(this.$element).length||(this._hide(),this._removeBodyHandler())}))}_removeBodyHandler(){e()(document.body).off("click.zf.dropdownMenu tap.zf.dropdownMenu")}_show(t){var i=this.$tabs.index(this.$tabs.filter((function(i,n){return e()(n).find(t).length>0}))),n=t.parent("li.is-dropdown-submenu-parent").siblings("li.is-dropdown-submenu-parent");this._hide(n,i),t.css("visibility","hidden").addClass("js-dropdown-active").parent("li.is-dropdown-submenu-parent").addClass("is-active");var s=f.ImNotTouchingYou(t,null,!0);if(!s){var o="left"===this.options.alignment?"-right":"-left",a=t.parent(".is-dropdown-submenu-parent");a.removeClass(`opens${o}`).addClass(`opens-${this.options.alignment}`),(s=f.ImNotTouchingYou(t,null,!0))||a.removeClass(`opens-${this.options.alignment}`).addClass("opens-inner"),this.changed=!0}t.css("visibility",""),this.options.closeOnClick&&this._addBodyHandler(),this.$element.trigger("show.zf.dropdownMenu",[t])}_hide(t,e){var i;if((i=t&&t.length?t:void 0!==e?this.$tabs.not((function(t){return t===e})):this.$element).hasClass("is-active")||i.find(".is-active").length>0){var n=i.find("li.is-active");if(n.add(i).attr({"data-is-click":!1}).removeClass("is-active"),i.find("ul.js-dropdown-active").removeClass("js-dropdown-active"),this.changed||i.find("opens-inner").length){var s="left"===this.options.alignment?"right":"left";i.find("li.is-dropdown-submenu-parent").add(i).removeClass(`opens-inner opens-${this.options.alignment}`).addClass(`opens-${s}`),this.changed=!1}clearTimeout(n.data("_delay")),this._removeBodyHandler(),this.$element.trigger("hide.zf.dropdownMenu",[i])}}_destroy(){this.$menuItems.off(".zf.dropdownMenu").removeAttr("data-is-click").removeClass("is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner"),e()(document.body).off(".zf.dropdownMenu"),L.Burn(this.$element,"dropdown")}}st.defaults={disableHover:!1,disableHoverOnTouch:!0,autoclose:!0,hoverDelay:50,clickOpen:!1,closingTime:500,alignment:"auto",closeOnClick:!0,closeOnClickInside:!0,verticalClass:"vertical",rightClass:"align-right",forceFollow:!0};class ot extends G{_setup(t,i){this.$element=t,this.options=e().extend({},ot.defaults,this.$element.data(),i),this.className="Equalizer",this._init()}_init(){var t=this.$element.attr("data-equalizer")||"",i=this.$element.find(`[data-equalizer-watch="${t}"]`);d._init(),this.$watched=i.length?i:this.$element.find("[data-equalizer-watch]"),this.$element.attr("data-resize",t||s(6,"eq")),this.$element.attr("data-mutate",t||s(6,"eq")),this.hasNested=this.$element.find("[data-equalizer]").length>0,this.isNested=this.$element.parentsUntil(document.body,"[data-equalizer]").length>0,this.isOn=!1,this._bindHandler={onResizeMeBound:this._onResizeMe.bind(this),onPostEqualizedBound:this._onPostEqualized.bind(this)};var n,o=this.$element.find("img");this.options.equalizeOn?(n=this._checkMQ(),e()(window).on("changed.zf.mediaquery",this._checkMQ.bind(this))):this._events(),(void 0!==n&&!1===n||void 0===n)&&(o.length?g(o,this._reflow.bind(this)):this._reflow())}_pauseEvents(){this.isOn=!1,this.$element.off({".zf.equalizer":this._bindHandler.onPostEqualizedBound,"resizeme.zf.trigger":this._bindHandler.onResizeMeBound,"mutateme.zf.trigger":this._bindHandler.onResizeMeBound})}_onResizeMe(){this._reflow()}_onPostEqualized(t){t.target!==this.$element[0]&&this._reflow()}_events(){this._pauseEvents(),this.hasNested?this.$element.on("postequalized.zf.equalizer",this._bindHandler.onPostEqualizedBound):(this.$element.on("resizeme.zf.trigger",this._bindHandler.onResizeMeBound),this.$element.on("mutateme.zf.trigger",this._bindHandler.onResizeMeBound)),this.isOn=!0}_checkMQ(){var t=!d.is(this.options.equalizeOn);return t?this.isOn&&(this._pauseEvents(),this.$watched.css("height","auto")):this.isOn||this._events(),t}_killswitch(){}_reflow(){if(!this.options.equalizeOnStack&&this._isStacked())return this.$watched.css("height","auto"),!1;this.options.equalizeByRow?this.getHeightsByRow(this.applyHeightByRow.bind(this)):this.getHeights(this.applyHeight.bind(this))}_isStacked(){return!this.$watched[0]||!this.$watched[1]||this.$watched[0].getBoundingClientRect().top!==this.$watched[1].getBoundingClientRect().top}getHeights(t){for(var e=[],i=0,n=this.$watched.length;i<n;i++)this.$watched[i].style.height="auto",e.push(this.$watched[i].offsetHeight);t(e)}getHeightsByRow(t){var i=this.$watched.length?this.$watched.first().offset().top:0,n=[],s=0;n[s]=[];for(var o=0,a=this.$watched.length;o<a;o++){this.$watched[o].style.height="auto";var r=e()(this.$watched[o]).offset().top;r!==i&&(n[++s]=[],i=r),n[s].push([this.$watched[o],this.$watched[o].offsetHeight])}for(var l=0,d=n.length;l<d;l++){var h=e()(n[l]).map((function(){return this[1]})).get(),c=Math.max.apply(null,h);n[l].push(c)}t(n)}applyHeight(t){var e=Math.max.apply(null,t);this.$element.trigger("preequalized.zf.equalizer"),this.$watched.css("height",e),this.$element.trigger("postequalized.zf.equalizer")}applyHeightByRow(t){this.$element.trigger("preequalized.zf.equalizer");for(var i=0,n=t.length;i<n;i++){var s=t[i].length,o=t[i][s-1];if(s<=2)e()(t[i][0][0]).css({height:"auto"});else{this.$element.trigger("preequalizedrow.zf.equalizer");for(var a=0,r=s-1;a<r;a++)e()(t[i][a][0]).css({height:o});this.$element.trigger("postequalizedrow.zf.equalizer")}}this.$element.trigger("postequalized.zf.equalizer")}_destroy(){this._pauseEvents(),this.$watched.css("height","auto")}}ot.defaults={equalizeOnStack:!1,equalizeByRow:!1,equalizeOn:""};class at extends G{_setup(t,i){this.$element=t,this.options=e().extend({},at.defaults,this.$element.data(),i),this.rules=[],this.currentPath="",this.className="Interchange",W.init(e()),this._init(),this._events()}_init(){d._init();var t=this.$element[0].id||s(6,"interchange");this.$element.attr({"data-resize":t,id:t}),this._parseOptions(),this._addBreakpoints(),this._generateRules(),this._reflow()}_events(){this.$element.off("resizeme.zf.trigger").on("resizeme.zf.trigger",(()=>this._reflow()))}_reflow(){var t;for(var e in this.rules)if(this.rules.hasOwnProperty(e)){var i=this.rules[e];window.matchMedia(i.query).matches&&(t=i)}t&&this.replace(t.path)}_parseOptions(){void 0===this.options.type?this.options.type="auto":-1===["auto","src","background","html"].indexOf(this.options.type)&&(console.warn(`Warning: invalid value "${this.options.type}" for Interchange option "type"`),this.options.type="auto")}_addBreakpoints(){for(var t in d.queries)if(d.queries.hasOwnProperty(t)){var e=d.queries[t];at.SPECIAL_QUERIES[e.name]=e.value}}_generateRules(){var t,e=[];for(var i in t="string"==typeof(t=this.options.rules?this.options.rules:this.$element.data("interchange"))?t.match(/\[.*?, .*?\]/g):t)if(t.hasOwnProperty(i)){var n=t[i].slice(1,-1).split(", "),s=n.slice(0,-1).join(""),o=n[n.length-1];at.SPECIAL_QUERIES[o]&&(o=at.SPECIAL_QUERIES[o]),e.push({path:s,query:o})}this.rules=e}replace(t){if(this.currentPath!==t){var i="replaced.zf.interchange",n=this.options.type;"auto"===n&&(n="IMG"===this.$element[0].nodeName?"src":t.match(/\.(gif|jpe?g|png|svg|tiff)([?#].*)?/i)?"background":"html"),"src"===n?this.$element.attr("src",t).on("load",(()=>{this.currentPath=t})).trigger(i):"background"===n?(t=t.replace(/\(/g,"%28").replace(/\)/g,"%29"),this.$element.css({"background-image":"url("+t+")"}).trigger(i)):"html"===n&&e().get(t,(n=>{this.$element.html(n).trigger(i),e()(n).foundation(),this.currentPath=t}))}}_destroy(){this.$element.off("resizeme.zf.trigger")}}at.defaults={rules:null,type:"auto"},at.SPECIAL_QUERIES={landscape:"screen and (orientation: landscape)",portrait:"screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)"};class rt extends G{_setup(t,i){this.$element=t,this.options=e().extend({},rt.defaults,this.$element.data(),i),this.className="SmoothScroll",this._init()}_init(){const t=this.$element[0].id||s(6,"smooth-scroll");this.$element.attr({id:t}),this._events()}_events(){this._linkClickListener=this._handleLinkClick.bind(this),this.$element.on("click.zf.smoothScroll",this._linkClickListener),this.$element.on("click.zf.smoothScroll",'a[href^="#"]',this._linkClickListener)}_handleLinkClick(t){if(!e()(t.currentTarget).is('a[href^="#"]'))return;const i=t.currentTarget.getAttribute("href");this._inTransition=!0,rt.scrollToLoc(i,this.options,(()=>{this._inTransition=!1})),t.preventDefault()}static scrollToLoc(t,i=rt.defaults,n){const s=e()(t);if(!s.length)return!1;var o=Math.round(s.offset().top-i.threshold/2-i.offset);e()("html, body").stop(!0).animate({scrollTop:o},i.animationDuration,i.animationEasing,(()=>{"function"==typeof n&&n()}))}_destroy(){this.$element.off("click.zf.smoothScroll",this._linkClickListener),this.$element.off("click.zf.smoothScroll",'a[href^="#"]',this._linkClickListener)}}rt.defaults={animationDuration:500,animationEasing:"linear",threshold:50,offset:0};class lt extends G{_setup(t,i){this.$element=t,this.options=e().extend({},lt.defaults,this.$element.data(),i),this.className="Magellan",W.init(e()),this._init(),this.calcPoints()}_init(){var t=this.$element[0].id||s(6,"magellan");this.$targets=e()("[data-magellan-target]"),this.$links=this.$element.find("a"),this.$element.attr({"data-resize":t,"data-scroll":t,id:t}),this.$active=e()(),this.scrollPos=parseInt(window.pageYOffset,10),this._events()}calcPoints(){var t=this,i=document.body,n=document.documentElement;this.points=[],this.winHeight=Math.round(Math.max(window.innerHeight,n.clientHeight)),this.docHeight=Math.round(Math.max(i.scrollHeight,i.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)),this.$targets.each((function(){var i=e()(this),n=Math.round(i.offset().top-t.options.threshold);i.targetPoint=n,t.points.push(n)}))}_events(){var t=this;e()(window).one("load",(function(){t.options.deepLinking&&location.hash&&t.scrollToLoc(location.hash),t.calcPoints(),t._updateActive()})),t.onLoadListener=r(e()(window),(function(){t.$element.on({"resizeme.zf.trigger":t.reflow.bind(t),"scrollme.zf.trigger":t._updateActive.bind(t)}).on("click.zf.magellan",'a[href^="#"]',(function(e){e.preventDefault();var i=this.getAttribute("href");t.scrollToLoc(i)}))})),this._deepLinkScroll=function(){t.options.deepLinking&&t.scrollToLoc(window.location.hash)},e()(window).on("hashchange",this._deepLinkScroll)}scrollToLoc(t){this._inTransition=!0;var e=this,i={animationEasing:this.options.animationEasing,animationDuration:this.options.animationDuration,threshold:this.options.threshold,offset:this.options.offset};rt.scrollToLoc(t,i,(function(){e._inTransition=!1}))}reflow(){this.calcPoints(),this._updateActive()}_updateActive(){if(this._inTransition)return;const t=parseInt(window.pageYOffset,10),i=this.scrollPos>t;let n;if(this.scrollPos=t,t<this.points[0]-this.options.offset-(i?this.options.threshold:0));else if(t+this.winHeight===this.docHeight)n=this.points.length-1;else{const e=this.points.filter((e=>e-this.options.offset-(i?this.options.threshold:0)<=t));n=e.length?e.length-1:0}const s=this.$active;let o="";void 0!==n?(this.$active=this.$links.filter('[href="#'+this.$targets.eq(n).data("magellan-target")+'"]'),this.$active.length&&(o=this.$active[0].getAttribute("href"))):this.$active=e()();const a=!(!this.$active.length&&!s.length||this.$active.is(s)),r=o!==window.location.hash;if(a&&(s.removeClass(this.options.activeClass),this.$active.addClass(this.options.activeClass)),this.options.deepLinking&&r)if(window.history.pushState){const t=o||window.location.pathname+window.location.search;this.options.updateHistory?window.history.pushState({},"",t):window.history.replaceState({},"",t)}else window.location.hash=o;a&&this.$element.trigger("update.zf.magellan",[this.$active])}_destroy(){if(this.$element.off(".zf.trigger .zf.magellan").find(`.${this.options.activeClass}`).removeClass(this.options.activeClass),this.options.deepLinking){var t=this.$active[0].getAttribute("href");window.location.hash.replace(t,"")}e()(window).off("hashchange",this._deepLinkScroll),this.onLoadListener&&e()(window).off(this.onLoadListener)}}lt.defaults={animationDuration:500,animationEasing:"linear",threshold:50,activeClass:"is-active",deepLinking:!1,updateHistory:!1,offset:0};class dt extends G{_setup(t,i){this.className="OffCanvas",this.$element=t,this.options=e().extend({},dt.defaults,this.$element.data(),i),this.contentClasses={base:[],reveal:[]},this.$lastTrigger=e()(),this.$triggers=e()(),this.position="left",this.$content=e()(),this.nested=!!this.options.nested,this.$sticky=e()(),this.isInCanvas=!1,e()(["push","overlap"]).each(((t,e)=>{this.contentClasses.base.push("has-transition-"+e)})),e()(["left","right","top","bottom"]).each(((t,e)=>{this.contentClasses.base.push("has-position-"+e),this.contentClasses.reveal.push("has-reveal-"+e)})),W.init(e()),d._init(),this._init(),this._events(),y.register("OffCanvas",{ESCAPE:"close"})}_init(){var t=this.$element.attr("id");if(this.$element.attr("aria-hidden","true"),this.options.contentId?this.$content=e()("#"+this.options.contentId):this.$element.siblings("[data-off-canvas-content]").length?this.$content=this.$element.siblings("[data-off-canvas-content]").first():this.$content=this.$element.closest("[data-off-canvas-content]").first(),this.options.contentId?this.options.contentId&&null===this.options.nested&&console.warn("Remember to use the nested option if using the content ID option!"):this.nested=0===this.$element.siblings("[data-off-canvas-content]").length,!0===this.nested&&(this.options.transition="overlap",this.$element.removeClass("is-transition-push")),this.$element.addClass(`is-transition-${this.options.transition} is-closed`),this.$triggers=e()(document).find('[data-open="'+t+'"], [data-close="'+t+'"], [data-toggle="'+t+'"]').attr("aria-expanded","false").attr("aria-controls",t),this.position=this.$element.is(".position-left, .position-top, .position-right, .position-bottom")?this.$element.attr("class").match(/position\-(left|top|right|bottom)/)[1]:this.position,!0===this.options.contentOverlay){var i=document.createElement("div"),n="fixed"===e()(this.$element).css("position")?"is-overlay-fixed":"is-overlay-absolute";i.setAttribute("class","js-off-canvas-overlay "+n),this.$overlay=e()(i),"is-overlay-fixed"===n?e()(this.$overlay).insertAfter(this.$element):this.$content.append(this.$overlay)}var s=new RegExp(o(this.options.revealClass)+"([^\\s]+)","g").exec(this.$element[0].className);s&&(this.options.isRevealed=!0,this.options.revealOn=this.options.revealOn||s[1]),!0===this.options.isRevealed&&this.options.revealOn&&(this.$element.first().addClass(`${this.options.revealClass}${this.options.revealOn}`),this._setMQChecker()),this.options.transitionTime&&this.$element.css("transition-duration",this.options.transitionTime),this.$sticky=this.$content.find("[data-off-canvas-sticky]"),this.$sticky.length>0&&"push"===this.options.transition&&(this.options.contentScroll=!1);let a=this.$element.attr("class").match(/\bin-canvas-for-(\w+)/);a&&2===a.length?this.options.inCanvasOn=a[1]:this.options.inCanvasOn&&this.$element.addClass(`in-canvas-for-${this.options.inCanvasOn}`),this.options.inCanvasOn&&this._checkInCanvas(),this._removeContentClasses()}_events(){this.$element.off(".zf.trigger .zf.offCanvas").on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"keydown.zf.offCanvas":this._handleKeyboard.bind(this)}),!0===this.options.closeOnClick&&(this.options.contentOverlay?this.$overlay:this.$content).on({"click.zf.offCanvas":this.close.bind(this)}),this.options.inCanvasOn&&e()(window).on("changed.zf.mediaquery",(()=>{this._checkInCanvas()}))}_setMQChecker(){var t=this;this.onLoadListener=r(e()(window),(function(){d.atLeast(t.options.revealOn)&&t.reveal(!0)})),e()(window).on("changed.zf.mediaquery",(function(){d.atLeast(t.options.revealOn)?t.reveal(!0):t.reveal(!1)}))}_checkInCanvas(){this.isInCanvas=d.atLeast(this.options.inCanvasOn),!0===this.isInCanvas&&this.close()}_removeContentClasses(t){"boolean"!=typeof t?this.$content.removeClass(this.contentClasses.base.join(" ")):!1===t&&this.$content.removeClass(`has-reveal-${this.position}`)}_addContentClasses(t){this._removeContentClasses(t),"boolean"!=typeof t?this.$content.addClass(`has-transition-${this.options.transition} has-position-${this.position}`):!0===t&&this.$content.addClass(`has-reveal-${this.position}`)}_fixStickyElements(){this.$sticky.each(((t,i)=>{const n=e()(i);if("fixed"===n.css("position")){let t=parseInt(n.css("top"),10);n.data("offCanvasSticky",{top:t});let i=e()(document).scrollTop()+t;n.css({top:`${i}px`,width:"100%",transition:"none"})}}))}_unfixStickyElements(){this.$sticky.each(((t,i)=>{const n=e()(i);let s=n.data("offCanvasSticky");"object"==typeof s&&(n.css({top:`${s.top}px`,width:"",transition:""}),n.data("offCanvasSticky",""))}))}reveal(t){t?(this.close(),this.isRevealed=!0,this.$element.attr("aria-hidden","false"),this.$element.off("open.zf.trigger toggle.zf.trigger"),this.$element.removeClass("is-closed")):(this.isRevealed=!1,this.$element.attr("aria-hidden","true"),this.$element.off("open.zf.trigger toggle.zf.trigger").on({"open.zf.trigger":this.open.bind(this),"toggle.zf.trigger":this.toggle.bind(this)}),this.$element.addClass("is-closed")),this._addContentClasses(t)}_stopScrolling(){return!1}_recordScrollable(t){this.lastY=t.touches[0].pageY}_preventDefaultAtEdges(t){const e=this,i=t.data,n=e.lastY-t.touches[0].pageY;e.lastY=t.touches[0].pageY,i._canScroll(n,e)||t.preventDefault()}_scrollboxTouchMoved(t){const e=this,i=t.data,n=e.closest("[data-off-canvas], [data-off-canvas-scrollbox-outer]"),s=e.lastY-t.touches[0].pageY;n.lastY=e.lastY=t.touches[0].pageY,t.stopPropagation(),i._canScroll(s,e)||(i._canScroll(s,n)?n.scrollTop+=s:t.preventDefault())}_canScroll(t,e){const i=t<0,n=t>0,s=e.scrollTop>0,o=e.scrollTop<e.scrollHeight-e.clientHeight;return i&&s||n&&o}open(t,i){if(!(this.$element.hasClass("is-open")||this.isRevealed||this.isInCanvas)){var n=this;i&&(this.$lastTrigger=i),"top"===this.options.forceTo?window.scrollTo(0,0):"bottom"===this.options.forceTo&&window.scrollTo(0,document.body.scrollHeight),this.options.transitionTime&&"overlap"!==this.options.transition?this.$element.siblings("[data-off-canvas-content]").css("transition-duration",this.options.transitionTime):this.$element.siblings("[data-off-canvas-content]").css("transition-duration",""),this.$element.addClass("is-open").removeClass("is-closed"),this.$triggers.attr("aria-expanded","true"),this.$element.attr("aria-hidden","false"),this.$content.addClass("is-open-"+this.position),!1===this.options.contentScroll&&(e()("body").addClass("is-off-canvas-open").on("touchmove",this._stopScrolling),this.$element.on("touchstart",this._recordScrollable),this.$element.on("touchmove",this,this._preventDefaultAtEdges),this.$element.on("touchstart","[data-off-canvas-scrollbox]",this._recordScrollable),this.$element.on("touchmove","[data-off-canvas-scrollbox]",this,this._scrollboxTouchMoved)),!0===this.options.contentOverlay&&this.$overlay.addClass("is-visible"),!0===this.options.closeOnClick&&!0===this.options.contentOverlay&&this.$overlay.addClass("is-closable"),!0===this.options.autoFocus&&this.$element.one(a(this.$element),(function(){if(n.$element.hasClass("is-open")){var t=n.$element.find("[data-autofocus]");t.length?t.eq(0).focus():n.$element.find("a, button").eq(0).focus()}})),!0===this.options.trapFocus&&(this.$content.attr("tabindex","-1"),y.trapFocus(this.$element)),"push"===this.options.transition&&this._fixStickyElements(),this._addContentClasses(),this.$element.trigger("opened.zf.offCanvas"),this.$element.one(a(this.$element),(()=>{this.$element.trigger("openedEnd.zf.offCanvas")}))}}close(){this.$element.hasClass("is-open")&&!this.isRevealed&&(this.$element.trigger("close.zf.offCanvas"),this.$element.removeClass("is-open"),this.$element.attr("aria-hidden","true"),this.$content.removeClass("is-open-left is-open-top is-open-right is-open-bottom"),!0===this.options.contentOverlay&&this.$overlay.removeClass("is-visible"),!0===this.options.closeOnClick&&!0===this.options.contentOverlay&&this.$overlay.removeClass("is-closable"),this.$triggers.attr("aria-expanded","false"),this.$element.one(a(this.$element),(()=>{this.$element.addClass("is-closed"),this._removeContentClasses(),"push"===this.options.transition&&this._unfixStickyElements(),!1===this.options.contentScroll&&(e()("body").removeClass("is-off-canvas-open").off("touchmove",this._stopScrolling),this.$element.off("touchstart",this._recordScrollable),this.$element.off("touchmove",this._preventDefaultAtEdges),this.$element.off("touchstart","[data-off-canvas-scrollbox]",this._recordScrollable),this.$element.off("touchmove","[data-off-canvas-scrollbox]",this._scrollboxTouchMoved)),!0===this.options.trapFocus&&(this.$content.removeAttr("tabindex"),y.releaseFocus(this.$element)),this.$element.trigger("closed.zf.offCanvas")})))}toggle(t,e){this.$element.hasClass("is-open")?this.close(t,e):this.open(t,e)}_handleKeyboard(t){y.handleKey(t,"OffCanvas",{close:()=>(this.close(),this.$lastTrigger.focus(),!0),handled:()=>{t.preventDefault()}})}_destroy(){this.close(),this.$element.off(".zf.trigger .zf.offCanvas"),this.$overlay.off(".zf.offCanvas"),this.onLoadListener&&e()(window).off(this.onLoadListener)}}dt.defaults={closeOnClick:!0,contentOverlay:!0,contentId:null,nested:null,contentScroll:!0,transitionTime:null,transition:"push",forceTo:null,isRevealed:!1,revealOn:null,inCanvasOn:null,autoFocus:!0,revealClass:"reveal-for-",trapFocus:!1};class ht extends G{_setup(t,i){this.$element=t,this.options=e().extend({},ht.defaults,this.$element.data(),i),this.className="Orbit",H.init(e()),this._init(),y.register("Orbit",{ltr:{ARROW_RIGHT:"next",ARROW_LEFT:"previous"},rtl:{ARROW_LEFT:"next",ARROW_RIGHT:"previous"}})}_init(){this._reset(),this.$wrapper=this.$element.find(`.${this.options.containerClass}`),this.$slides=this.$element.find(`.${this.options.slideClass}`);var t=this.$element.find("img"),e=this.$slides.filter(".is-active"),i=this.$element[0].id||s(6,"orbit");this.$element.attr({"data-resize":i,id:i}),e.length||this.$slides.eq(0).addClass("is-active"),this.options.useMUI||this.$slides.addClass("no-motionui"),t.length?g(t,this._prepareForOrbit.bind(this)):this._prepareForOrbit(),this.options.bullets&&this._loadBullets(),this._events(),this.options.autoPlay&&this.$slides.length>1&&this.geoSync(),this.options.accessible&&this.$wrapper.attr("tabindex",0)}_loadBullets(){this.$bullets=this.$element.find(`.${this.options.boxOfBullets}`).find("button")}geoSync(){var t=this;this.timer=new x(this.$element,{duration:this.options.timerDelay,infinite:!1},(function(){t.changeSlide(!0)})),this.timer.start()}_prepareForOrbit(){this._setWrapperHeight()}_setWrapperHeight(t){var i,n=0,s=0,o=this;this.$slides.each((function(){i=this.getBoundingClientRect().height,e()(this).attr("data-slide",s),/mui/g.test(e()(this)[0].className)||o.$slides.filter(".is-active")[0]===o.$slides.eq(s)[0]||e()(this).css({display:"none"}),n=i>n?i:n,s++})),s===this.$slides.length&&(this.$wrapper.css({height:n}),t&&t(n))}_setSlideHeight(t){this.$slides.each((function(){e()(this).css("max-height",t)}))}_events(){var t=this;this.$element.off(".resizeme.zf.trigger").on({"resizeme.zf.trigger":this._prepareForOrbit.bind(this)}),this.$slides.length>1&&(this.options.swipe&&this.$slides.off("swipeleft.zf.orbit swiperight.zf.orbit").on("swipeleft.zf.orbit",(function(e){e.preventDefault(),t.changeSlide(!0)})).on("swiperight.zf.orbit",(function(e){e.preventDefault(),t.changeSlide(!1)})),this.options.autoPlay&&(this.$slides.on("click.zf.orbit",(function(){t.$element.data("clickedOn",!t.$element.data("clickedOn")),t.timer[t.$element.data("clickedOn")?"pause":"start"]()})),this.options.pauseOnHover&&this.$element.on("mouseenter.zf.orbit",(function(){t.timer.pause()})).on("mouseleave.zf.orbit",(function(){t.$element.data("clickedOn")||t.timer.start()}))),this.options.navButtons&&this.$element.find(`.${this.options.nextClass}, .${this.options.prevClass}`).attr("tabindex",0).on("click.zf.orbit touchend.zf.orbit",(function(i){i.preventDefault(),t.changeSlide(e()(this).hasClass(t.options.nextClass))})),this.options.bullets&&this.$bullets.on("click.zf.orbit touchend.zf.orbit",(function(){if(/is-active/g.test(this.className))return!1;var i=e()(this).data("slide"),n=i>t.$slides.filter(".is-active").data("slide"),s=t.$slides.eq(i);t.changeSlide(n,s,i)})),this.options.accessible&&this.$wrapper.add(this.$bullets).on("keydown.zf.orbit",(function(i){y.handleKey(i,"Orbit",{next:function(){t.changeSlide(!0)},previous:function(){t.changeSlide(!1)},handled:function(){e()(i.target).is(t.$bullets)&&t.$bullets.filter(".is-active").focus()}})})))}_reset(){void 0!==this.$slides&&this.$slides.length>1&&(this.$element.off(".zf.orbit").find("*").off(".zf.orbit"),this.options.autoPlay&&this.timer.restart(),this.$slides.each((function(t){e()(t).removeClass("is-active is-active is-in").removeAttr("aria-live").hide()})),this.$slides.first().addClass("is-active").show(),this.$element.trigger("slidechange.zf.orbit",[this.$slides.first()]),this.options.bullets&&this._updateBullets(0))}changeSlide(t,e,i){if(this.$slides){var n=this.$slides.filter(".is-active").eq(0);if(/mui/g.test(n[0].className))return!1;var s,o=this.$slides.first(),a=this.$slides.last(),r=t?"Right":"Left",l=t?"Left":"Right",d=this;(s=e||(t?this.options.infiniteWrap?n.next(`.${this.options.slideClass}`).length?n.next(`.${this.options.slideClass}`):o:n.next(`.${this.options.slideClass}`):this.options.infiniteWrap?n.prev(`.${this.options.slideClass}`).length?n.prev(`.${this.options.slideClass}`):a:n.prev(`.${this.options.slideClass}`))).length&&(this.$element.trigger("beforeslidechange.zf.orbit",[n,s]),this.options.bullets&&(i=i||this.$slides.index(s),this._updateBullets(i)),this.options.useMUI&&!this.$element.is(":hidden")?(z.animateIn(s.addClass("is-active"),this.options[`animInFrom${r}`],(function(){s.css({display:"block"}).attr("aria-live","polite")})),z.animateOut(n.removeClass("is-active"),this.options[`animOutTo${l}`],(function(){n.removeAttr("aria-live"),d.options.autoPlay&&!d.timer.isPaused&&d.timer.restart()}))):(n.removeClass("is-active is-in").removeAttr("aria-live").hide(),s.addClass("is-active is-in").attr("aria-live","polite").show(),this.options.autoPlay&&!this.timer.isPaused&&this.timer.restart()),this.$element.trigger("slidechange.zf.orbit",[s]))}}_updateBullets(t){var i=this.$bullets.filter(".is-active"),n=this.$bullets.not(".is-active"),s=this.$bullets.eq(t);i.removeClass("is-active").blur(),s.addClass("is-active");var o=i.children("[data-slide-active-label]").last();if(!o.length){var a=i.children("span");n.toArray().map((t=>e()(t).children("span").length)).every((t=>t<a.length))&&(o=a.last()).attr("data-slide-active-label","")}o.length&&(o.detach(),s.append(o))}_destroy(){this.$element.off(".zf.orbit").find("*").off(".zf.orbit").end().hide()}}ht.defaults={bullets:!0,navButtons:!0,animInFromRight:"slide-in-right",animOutToRight:"slide-out-right",animInFromLeft:"slide-in-left",animOutToLeft:"slide-out-left",autoPlay:!0,timerDelay:5e3,infiniteWrap:!0,swipe:!0,pauseOnHover:!0,accessible:!0,containerClass:"orbit-container",slideClass:"orbit-slide",boxOfBullets:"orbit-bullets",nextClass:"orbit-next",prevClass:"orbit-previous",useMUI:!0};let ct={dropdown:{cssClass:"dropdown",plugin:st},drilldown:{cssClass:"drilldown",plugin:Q},accordion:{cssClass:"accordion-menu",plugin:V}};class ut extends G{_setup(t){this.$element=e()(t),this.rules=this.$element.data("responsive-menu"),this.currentMq=null,this.currentPlugin=null,this.className="ResponsiveMenu",this._init(),this._events()}_init(){if(d._init(),"string"==typeof this.rules){let t={},e=this.rules.split(" ");for(let i=0;i<e.length;i++){let n=e[i].split("-"),s=n.length>1?n[0]:"small",o=n.length>1?n[1]:n[0];null!==ct[o]&&(t[s]=ct[o])}this.rules=t}e().isEmptyObject(this.rules)||this._checkMediaQueries(),this.$element.attr("data-mutate",this.$element.attr("data-mutate")||s(6,"responsive-menu"))}_events(){var t=this;e()(window).on("changed.zf.mediaquery",(function(){t._checkMediaQueries()}))}_checkMediaQueries(){var t,i=this;e().each(this.rules,(function(e){d.atLeast(e)&&(t=e)})),t&&(this.currentPlugin instanceof this.rules[t].plugin||(e().each(ct,(function(t,e){i.$element.removeClass(e.cssClass)})),this.$element.addClass(this.rules[t].cssClass),this.currentPlugin&&this.currentPlugin.destroy(),this.currentPlugin=new this.rules[t].plugin(this.$element,{})))}_destroy(){this.currentPlugin.destroy(),e()(window).off(".zf.ResponsiveMenu")}}ut.defaults={};class ft extends G{_setup(t,i){this.$element=e()(t),this.options=e().extend({},ft.defaults,this.$element.data(),i),this.className="ResponsiveToggle",this._init(),this._events()}_init(){d._init();var t=this.$element.data("responsive-toggle");if(t||console.error("Your tab bar needs an ID of a Menu as the value of data-tab-bar."),this.$targetMenu=e()(`#${t}`),this.$toggler=this.$element.find("[data-toggle]").filter((function(){var i=e()(this).data("toggle");return i===t||""===i})),this.options=e().extend({},this.options,this.$targetMenu.data()),this.options.animate){let t=this.options.animate.split(" ");this.animationIn=t[0],this.animationOut=t[1]||null}this._update()}_events(){this._updateMqHandler=this._update.bind(this),e()(window).on("changed.zf.mediaquery",this._updateMqHandler),this.$toggler.on("click.zf.responsiveToggle",this.toggleMenu.bind(this))}_update(){d.atLeast(this.options.hideFor)?(this.$element.hide(),this.$targetMenu.show()):(this.$element.show(),this.$targetMenu.hide())}toggleMenu(){d.atLeast(this.options.hideFor)||(this.options.animate?this.$targetMenu.is(":hidden")?z.animateIn(this.$targetMenu,this.animationIn,(()=>{this.$element.trigger("toggled.zf.responsiveToggle"),this.$targetMenu.find("[data-mutate]").triggerHandler("mutateme.zf.trigger")})):z.animateOut(this.$targetMenu,this.animationOut,(()=>{this.$element.trigger("toggled.zf.responsiveToggle")})):(this.$targetMenu.toggle(0),this.$targetMenu.find("[data-mutate]").trigger("mutateme.zf.trigger"),this.$element.trigger("toggled.zf.responsiveToggle")))}_destroy(){this.$element.off(".zf.responsiveToggle"),this.$toggler.off(".zf.responsiveToggle"),e()(window).off("changed.zf.mediaquery",this._updateMqHandler)}}ft.defaults={hideFor:"medium",animate:!1};class pt extends G{_setup(t,i){this.$element=t,this.options=e().extend({},pt.defaults,this.$element.data(),i),this.className="Reveal",this._init(),H.init(e()),W.init(e()),y.register("Reveal",{ESCAPE:"close"})}_init(){d._init(),this.id=this.$element.attr("id"),this.isActive=!1,this.cached={mq:d.current},this.$anchor=e()(`[data-open="${this.id}"]`).length?e()(`[data-open="${this.id}"]`):e()(`[data-toggle="${this.id}"]`),this.$anchor.attr({"aria-controls":this.id,"aria-haspopup":"dialog",tabindex:0}),(this.options.fullScreen||this.$element.hasClass("full"))&&(this.options.fullScreen=!0,this.options.overlay=!1),this.options.overlay&&!this.$overlay&&(this.$overlay=this._makeOverlay(this.id)),this.$element.attr({role:"dialog","aria-hidden":!0,"data-yeti-box":this.id,"data-resize":this.id}),this.$overlay?this.$element.detach().appendTo(this.$overlay):(this.$element.detach().appendTo(e()(this.options.appendTo)),this.$element.addClass("without-overlay")),this._events(),this.options.deepLink&&window.location.hash===`#${this.id}`&&(this.onLoadListener=r(e()(window),(()=>this.open())))}_makeOverlay(){var t="";return this.options.additionalOverlayClasses&&(t=" "+this.options.additionalOverlayClasses),e()("<div></div>").addClass("reveal-overlay"+t).appendTo(this.options.appendTo)}_updatePosition(){var t,i=this.$element.outerWidth(),n=e()(window).width(),s=this.$element.outerHeight(),o=e()(window).height(),a=null;t="auto"===this.options.hOffset?parseInt((n-i)/2,10):parseInt(this.options.hOffset,10),"auto"===this.options.vOffset?a=s>o?parseInt(Math.min(100,o/10),10):parseInt((o-s)/4,10):null!==this.options.vOffset&&(a=parseInt(this.options.vOffset,10)),null!==a&&this.$element.css({top:a+"px"}),this.$overlay&&"auto"===this.options.hOffset||(this.$element.css({left:t+"px"}),this.$element.css({margin:"0px"}))}_events(){var t=this;this.$element.on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":(i,n)=>{if(i.target===t.$element[0]||e()(i.target).parents("[data-closable]")[0]===n)return this.close.apply(this)},"toggle.zf.trigger":this.toggle.bind(this),"resizeme.zf.trigger":function(){t._updatePosition()}}),this.options.closeOnClick&&this.options.overlay&&this.$overlay.off(".zf.reveal").on("click.zf.dropdown tap.zf.dropdown",(function(i){i.target!==t.$element[0]&&!e().contains(t.$element[0],i.target)&&e().contains(document,i.target)&&t.close()})),this.options.deepLink&&e()(window).on(`hashchange.zf.reveal:${this.id}`,this._handleState.bind(this))}_handleState(){window.location.hash!=="#"+this.id||this.isActive?this.close():this.open()}_disableScroll(t){t=t||e()(window).scrollTop(),e()(document).height()>e()(window).height()&&e()("html").css("top",-t)}_enableScroll(t){t=t||parseInt(e()("html").css("top"),10),e()(document).height()>e()(window).height()&&(e()("html").css("top",""),e()(window).scrollTop(-t))}open(){const t=`#${this.id}`;this.options.deepLink&&window.location.hash!==t&&(window.history.pushState?this.options.updateHistory?window.history.pushState({},"",t):window.history.replaceState({},"",t):window.location.hash=t),this.$activeAnchor=e()(document.activeElement).is(this.$anchor)?e()(document.activeElement):this.$anchor,this.isActive=!0,this.$element.css({visibility:"hidden"}).show().scrollTop(0),this.options.overlay&&this.$overlay.css({visibility:"hidden"}).show(),this._updatePosition(),this.$element.hide().css({visibility:""}),this.$overlay&&(this.$overlay.css({visibility:""}).hide(),this.$element.hasClass("fast")?this.$overlay.addClass("fast"):this.$element.hasClass("slow")&&this.$overlay.addClass("slow")),this.options.multipleOpened||this.$element.trigger("closeme.zf.reveal",this.id),0===e()(".reveal:visible").length&&this._disableScroll();var i=this;this.options.animationIn?(this.options.overlay&&z.animateIn(this.$overlay,"fade-in"),z.animateIn(this.$element,this.options.animationIn,(()=>{this.$element&&(this.focusableElements=y.findFocusable(this.$element),i.$element.attr({"aria-hidden":!1,tabindex:-1}).focus(),i._addGlobalClasses(),y.trapFocus(i.$element))}))):(this.options.overlay&&this.$overlay.show(0),this.$element.show(this.options.showDelay)),this.$element.attr({"aria-hidden":!1,tabindex:-1}).focus(),y.trapFocus(this.$element),this._addGlobalClasses(),this._addGlobalListeners(),this.$element.trigger("open.zf.reveal")}_addGlobalClasses(){const t=()=>{e()("html").toggleClass("zf-has-scroll",!!(e()(document).height()>e()(window).height()))};this.$element.on("resizeme.zf.trigger.revealScrollbarListener",(()=>t())),t(),e()("html").addClass("is-reveal-open")}_removeGlobalClasses(){this.$element.off("resizeme.zf.trigger.revealScrollbarListener"),e()("html").removeClass("is-reveal-open"),e()("html").removeClass("zf-has-scroll")}_addGlobalListeners(){var t=this;this.$element&&(this.focusableElements=y.findFocusable(this.$element),this.options.overlay||!this.options.closeOnClick||this.options.fullScreen||e()("body").on("click.zf.dropdown tap.zf.dropdown",(function(i){i.target!==t.$element[0]&&!e().contains(t.$element[0],i.target)&&e().contains(document,i.target)&&t.close()})),this.options.closeOnEsc&&e()(window).on("keydown.zf.reveal",(function(e){y.handleKey(e,"Reveal",{close:function(){t.options.closeOnEsc&&t.close()}})})))}close(){if(!this.isActive||!this.$element.is(":visible"))return!1;var t=this;function i(){var i=parseInt(e()("html").css("top"),10);0===e()(".reveal:visible").length&&t._removeGlobalClasses(),y.releaseFocus(t.$element),t.$element.attr("aria-hidden",!0),0===e()(".reveal:visible").length&&t._enableScroll(i),t.$element.trigger("closed.zf.reveal")}if(this.options.animationOut?(this.options.overlay&&z.animateOut(this.$overlay,"fade-out"),z.animateOut(this.$element,this.options.animationOut,i)):(this.$element.hide(this.options.hideDelay),this.options.overlay?this.$overlay.hide(0,i):i()),this.options.closeOnEsc&&e()(window).off("keydown.zf.reveal"),!this.options.overlay&&this.options.closeOnClick&&e()("body").off("click.zf.dropdown tap.zf.dropdown"),this.$element.off("keydown.zf.reveal"),this.options.resetOnClose&&this.$element.html(this.$element.html()),this.isActive=!1,t.options.deepLink&&window.location.hash===`#${this.id}`)if(window.history.replaceState){const t=window.location.pathname+window.location.search;this.options.updateHistory?window.history.pushState({},"",t):window.history.replaceState("",document.title,t)}else window.location.hash="";this.$activeAnchor.focus()}toggle(){this.isActive?this.close():this.open()}_destroy(){this.options.overlay&&(this.$element.appendTo(e()(this.options.appendTo)),this.$overlay.hide().off().remove()),this.$element.hide().off(),this.$anchor.off(".zf"),e()(window).off(`.zf.reveal:${this.id}`),this.onLoadListener&&e()(window).off(this.onLoadListener),0===e()(".reveal:visible").length&&this._removeGlobalClasses()}}pt.defaults={animationIn:"",animationOut:"",showDelay:0,hideDelay:0,closeOnClick:!0,closeOnEsc:!0,multipleOpened:!1,vOffset:"auto",hOffset:"auto",fullScreen:!1,overlay:!0,resetOnClose:!1,deepLink:!1,updateHistory:!1,appendTo:"body",additionalOverlayClasses:""};class mt extends G{_setup(t,i){this.$element=t,this.options=e().extend({},mt.defaults,this.$element.data(),i),this.className="Slider",this.initialized=!1,H.init(e()),W.init(e()),this._init(),y.register("Slider",{ltr:{ARROW_RIGHT:"increase",ARROW_UP:"increase",ARROW_DOWN:"decrease",ARROW_LEFT:"decrease",SHIFT_ARROW_RIGHT:"increaseFast",SHIFT_ARROW_UP:"increaseFast",SHIFT_ARROW_DOWN:"decreaseFast",SHIFT_ARROW_LEFT:"decreaseFast",HOME:"min",END:"max"},rtl:{ARROW_LEFT:"increase",ARROW_RIGHT:"decrease",SHIFT_ARROW_LEFT:"increaseFast",SHIFT_ARROW_RIGHT:"decreaseFast"}})}_init(){this.inputs=this.$element.find("input"),this.handles=this.$element.find("[data-slider-handle]"),this.$handle=this.handles.eq(0),this.$input=this.inputs.length?this.inputs.eq(0):e()(`#${this.$handle.attr("aria-controls")}`),this.$fill=this.$element.find("[data-slider-fill]").css(this.options.vertical?"height":"width",0),(this.options.disabled||this.$element.hasClass(this.options.disabledClass))&&(this.options.disabled=!0,this.$element.addClass(this.options.disabledClass)),this.inputs.length||(this.inputs=e()().add(this.$input),this.options.binding=!0),this._setInitAttr(0),this.handles[1]&&(this.options.doubleSided=!0,this.$handle2=this.handles.eq(1),this.$input2=this.inputs.length>1?this.inputs.eq(1):e()(`#${this.$handle2.attr("aria-controls")}`),this.inputs[1]||(this.inputs=this.inputs.add(this.$input2)),this._setInitAttr(1)),this.setHandles(),this._events(),this.initialized=!0}setHandles(){this.handles[1]?this._setHandlePos(this.$handle,this.inputs.eq(0).val(),(()=>{this._setHandlePos(this.$handle2,this.inputs.eq(1).val())})):this._setHandlePos(this.$handle,this.inputs.eq(0).val())}_reflow(){this.setHandles()}_pctOfBar(t){var e=gt(t-this.options.start,this.options.end-this.options.start);switch(this.options.positionValueFunction){case"pow":e=this._logTransform(e);break;case"log":e=this._powTransform(e)}return e.toFixed(2)}_value(t){switch(this.options.positionValueFunction){case"pow":t=this._powTransform(t);break;case"log":t=this._logTransform(t)}return this.options.vertical?parseFloat(this.options.end)+t*(this.options.start-this.options.end):(this.options.end-this.options.start)*t+parseFloat(this.options.start)}_logTransform(t){return function(t,e){return Math.log(e)/Math.log(t)}(this.options.nonLinearBase,t*(this.options.nonLinearBase-1)+1)}_powTransform(t){return(Math.pow(this.options.nonLinearBase,t)-1)/(this.options.nonLinearBase-1)}_setHandlePos(t,e,i){if(!this.$element.hasClass(this.options.disabledClass)){(e=parseFloat(e))<this.options.start?e=this.options.start:e>this.options.end&&(e=this.options.end);var n=this.options.doubleSided;if(n)if(0===this.handles.index(t)){var s=parseFloat(this.$handle2.attr("aria-valuenow"));e=e>=s?s-this.options.step:e}else{var o=parseFloat(this.$handle.attr("aria-valuenow"));e=e<=o?o+this.options.step:e}var a=this,r=this.options.vertical,l=r?"height":"width",d=r?"top":"left",h=t[0].getBoundingClientRect()[l],c=this.$element[0].getBoundingClientRect()[l],u=this._pctOfBar(e),f=(100*gt((c-h)*u,c)).toFixed(this.options.decimal);e=parseFloat(e.toFixed(this.options.decimal));var p={};if(this._setValues(t,e),n){var m,g=0===this.handles.index(t),v=Math.floor(100*gt(h,c));if(g)p[d]=`${f}%`,m=parseFloat(this.$handle2[0].style[d])-f+v,i&&"function"==typeof i&&i();else{var $=parseFloat(this.$handle[0].style[d]);m=f-(isNaN($)?(this.options.initialStart-this.options.start)/((this.options.end-this.options.start)/100):$)+v}p[`min-${l}`]=`${m}%`}k(this.$element.data("dragging")?1e3/60:this.options.moveTime,t,(function(){isNaN(f)?t.css(d,100*u+"%"):t.css(d,`${f}%`),a.options.doubleSided?a.$fill.css(p):a.$fill.css(l,100*u+"%")})),this.initialized&&(this.$element.one("finished.zf.animate",(function(){a.$element.trigger("moved.zf.slider",[t])})),clearTimeout(a.timeout),a.timeout=setTimeout((function(){a.$element.trigger("changed.zf.slider",[t])}),a.options.changedDelay))}}_setInitAttr(t){var e=0===t?this.options.initialStart:this.options.initialEnd,i=this.inputs.eq(t).attr("id")||s(6,"slider");this.inputs.eq(t).attr({id:i,max:this.options.end,min:this.options.start,step:this.options.step}),this.inputs.eq(t).val(e),this.handles.eq(t).attr({role:"slider","aria-controls":i,"aria-valuemax":this.options.end,"aria-valuemin":this.options.start,"aria-valuenow":e,"aria-orientation":this.options.vertical?"vertical":"horizontal",tabindex:0})}_setValues(t,e){var i=this.options.doubleSided?this.handles.index(t):0;this.inputs.eq(i).val(e),t.attr("aria-valuenow",e)}_handleEvent(t,i,s){var o;if(s)o=this._adjustValue(null,s);else{t.preventDefault();var a=this.options.vertical,r=a?"height":"width",l=a?"top":"left",d=a?t.pageY:t.pageX,h=this.$element[0].getBoundingClientRect()[r],c=a?e()(window).scrollTop():e()(window).scrollLeft(),u=this.$element.offset()[l];t.clientY===t.pageY&&(d+=c);var f,p=d-u,m=gt(f=p<0?0:p>h?h:p,h);o=this._value(m),n()&&!this.options.vertical&&(o=this.options.end-o),o=this._adjustValue(null,o),i||(i=vt(this.$handle,l,f,r)<=vt(this.$handle2,l,f,r)?this.$handle:this.$handle2)}this._setHandlePos(i,o)}_adjustValue(t,e){var i,n,s,o=this.options.step,a=parseFloat(o/2);return 0===(n=(i=t?parseFloat(t.attr("aria-valuenow")):e)>=0?i%o:o+i%o)?i:i=i>=(s=i-n)+a?s+o:s}_events(){this._eventsForHandle(this.$handle),this.handles[1]&&this._eventsForHandle(this.$handle2)}_eventsForHandle(t){var i,n=this;const s=function(t){const i=n.inputs.index(e()(this));n._handleEvent(t,n.handles.eq(i),e()(this).val())};if(this.inputs.off("keyup.zf.slider").on("keyup.zf.slider",(function(t){13===t.keyCode&&s.call(this,t)})),this.inputs.off("change.zf.slider").on("change.zf.slider",s),this.options.clickSelect&&this.$element.off("click.zf.slider").on("click.zf.slider",(function(t){if(n.$element.data("dragging"))return!1;e()(t.target).is("[data-slider-handle]")||(n.options.doubleSided?n._handleEvent(t):n._handleEvent(t,n.$handle))})),this.options.draggable){this.handles.addTouch();var o=e()("body");t.off("mousedown.zf.slider").on("mousedown.zf.slider",(function(s){t.addClass("is-dragging"),n.$fill.addClass("is-dragging"),n.$element.data("dragging",!0),i=e()(s.currentTarget),o.on("mousemove.zf.slider",(function(t){t.preventDefault(),n._handleEvent(t,i)})).on("mouseup.zf.slider",(function(e){n._handleEvent(e,i),t.removeClass("is-dragging"),n.$fill.removeClass("is-dragging"),n.$element.data("dragging",!1),o.off("mousemove.zf.slider mouseup.zf.slider")}))})).on("selectstart.zf.slider touchmove.zf.slider",(function(t){t.preventDefault()}))}t.off("keydown.zf.slider").on("keydown.zf.slider",(function(i){var s,o=e()(this),a=(n.options.doubleSided&&n.handles.index(o),parseFloat(t.attr("aria-valuenow")));y.handleKey(i,"Slider",{decrease:function(){s=a-n.options.step},increase:function(){s=a+n.options.step},decreaseFast:function(){s=a-10*n.options.step},increaseFast:function(){s=a+10*n.options.step},min:function(){s=n.options.start},max:function(){s=n.options.end},handled:function(){i.preventDefault(),n._setHandlePos(o,s)}})}))}_destroy(){this.handles.off(".zf.slider"),this.inputs.off(".zf.slider"),this.$element.off(".zf.slider"),clearTimeout(this.timeout)}}function gt(t,e){return t/e}function vt(t,e,i,n){return Math.abs(t.position()[e]+t[n]()/2-i)}mt.defaults={start:0,end:100,step:1,initialStart:0,initialEnd:100,binding:!1,clickSelect:!0,vertical:!1,draggable:!0,disabled:!1,doubleSided:!1,decimal:2,moveTime:200,disabledClass:"disabled",invertVertical:!1,changedDelay:500,nonLinearBase:5,positionValueFunction:"linear"};class $t extends G{_setup(t,i){this.$element=t,this.options=e().extend({},$t.defaults,this.$element.data(),i),this.className="Sticky",W.init(e()),this._init()}_init(){d._init();var t=this.$element.parent("[data-sticky-container]"),i=this.$element[0].id||s(6,"sticky"),n=this;t.length?this.$container=t:(this.wasWrapped=!0,this.$element.wrap(this.options.container),this.$container=this.$element.parent()),this.$container.addClass(this.options.containerClass),this.$element.addClass(this.options.stickyClass).attr({"data-resize":i,"data-mutate":i}),""!==this.options.anchor&&e()("#"+n.options.anchor).attr({"data-mutate":i}),this.scrollCount=this.options.checkEvery,this.isStuck=!1,this.onLoadListener=r(e()(window),(function(){n.containerHeight="none"===n.$element.css("display")?0:n.$element[0].getBoundingClientRect().height,n.$container.css("height",n.containerHeight),n.elemHeight=n.containerHeight,""!==n.options.anchor?n.$anchor=e()("#"+n.options.anchor):n._parsePoints(),n._setSizes((function(){var t=window.pageYOffset;n._calc(!1,t),n.isStuck||n._removeSticky(!(t>=n.topPoint))})),n._events(i.split("-").reverse().join("-"))}))}_parsePoints(){for(var t=[""===this.options.topAnchor?1:this.options.topAnchor,""===this.options.btmAnchor?document.documentElement.scrollHeight:this.options.btmAnchor],i={},n=0,s=t.length;n<s&&t[n];n++){var o;if("number"==typeof t[n])o=t[n];else{var a=t[n].split(":"),r=e()(`#${a[0]}`);o=r.offset().top,a[1]&&"bottom"===a[1].toLowerCase()&&(o+=r[0].getBoundingClientRect().height)}i[n]=o}this.points=i}_events(t){var i=this,n=this.scrollListener=`scroll.zf.${t}`;this.isOn||(this.canStick&&(this.isOn=!0,e()(window).off(n).on(n,(function(){0===i.scrollCount?(i.scrollCount=i.options.checkEvery,i._setSizes((function(){i._calc(!1,window.pageYOffset)}))):(i.scrollCount--,i._calc(!1,window.pageYOffset))}))),this.$element.off("resizeme.zf.trigger").on("resizeme.zf.trigger",(function(){i._eventsHandler(t)})),this.$element.on("mutateme.zf.trigger",(function(){i._eventsHandler(t)})),this.$anchor&&this.$anchor.on("mutateme.zf.trigger",(function(){i._eventsHandler(t)})))}_eventsHandler(t){var e=this,i=this.scrollListener=`scroll.zf.${t}`;e._setSizes((function(){e._calc(!1),e.canStick?e.isOn||e._events(t):e.isOn&&e._pauseListeners(i)}))}_pauseListeners(t){this.isOn=!1,e()(window).off(t),this.$element.trigger("pause.zf.sticky")}_calc(t,e){if(t&&this._setSizes(),!this.canStick)return this.isStuck&&this._removeSticky(!0),!1;e||(e=window.pageYOffset),e>=this.topPoint?e<=this.bottomPoint?this.isStuck||this._setSticky():this.isStuck&&this._removeSticky(!1):this.isStuck&&this._removeSticky(!0)}_setSticky(){var t=this,e=this.options.stickTo,i="top"===e?"marginTop":"marginBottom",n="top"===e?"bottom":"top",s={};s[i]=`${this.options[i]}em`,s[e]=0,s[n]="auto",this.isStuck=!0,this.$element.removeClass(`is-anchored is-at-${n}`).addClass(`is-stuck is-at-${e}`).css(s).trigger(`sticky.zf.stuckto:${e}`),this.$element.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",(function(){t._setSizes()}))}_removeSticky(t){var e=this.options.stickTo,i="top"===e,n={},s=(this.points?this.points[1]-this.points[0]:this.anchorHeight)-this.elemHeight,o=t?"top":"bottom";n[i?"marginTop":"marginBottom"]=0,n.bottom="auto",n.top=t?0:s,this.isStuck=!1,this.$element.removeClass(`is-stuck is-at-${e}`).addClass(`is-anchored is-at-${o}`).css(n).trigger(`sticky.zf.unstuckfrom:${o}`)}_setSizes(t){this.canStick=d.is(this.options.stickyOn),this.canStick||t&&"function"==typeof t&&t();var e=this.$container[0].getBoundingClientRect().width,i=window.getComputedStyle(this.$container[0]),n=parseInt(i["padding-left"],10),s=parseInt(i["padding-right"],10);if(this.$anchor&&this.$anchor.length?this.anchorHeight=this.$anchor[0].getBoundingClientRect().height:this._parsePoints(),this.$element.css({"max-width":e-n-s+"px"}),this.options.dynamicHeight||!this.containerHeight){var o=this.$element[0].getBoundingClientRect().height||this.containerHeight;o="none"===this.$element.css("display")?0:o,this.$container.css("height",o),this.containerHeight=o}if(this.elemHeight=this.containerHeight,!this.isStuck&&this.$element.hasClass("is-at-bottom")){var a=(this.points?this.points[1]-this.$container.offset().top:this.anchorHeight)-this.elemHeight;this.$element.css("top",a)}this._setBreakPoints(this.containerHeight,(function(){t&&"function"==typeof t&&t()}))}_setBreakPoints(t,e){if(!this.canStick){if(!e||"function"!=typeof e)return!1;e()}var i=bt(this.options.marginTop),n=bt(this.options.marginBottom),s=this.points?this.points[0]:this.$anchor.offset().top,o=this.points?this.points[1]:s+this.anchorHeight,a=window.innerHeight;"top"===this.options.stickTo?(s-=i,o-=t+i):"bottom"===this.options.stickTo&&(s-=a-(t+n),o-=a-n),this.topPoint=s,this.bottomPoint=o,e&&"function"==typeof e&&e()}_destroy(){this._removeSticky(!0),this.$element.removeClass(`${this.options.stickyClass} is-anchored is-at-top`).css({height:"",top:"",bottom:"","max-width":""}).off("resizeme.zf.trigger").off("mutateme.zf.trigger"),this.$anchor&&this.$anchor.length&&this.$anchor.off("change.zf.sticky"),this.scrollListener&&e()(window).off(this.scrollListener),this.onLoadListener&&e()(window).off(this.onLoadListener),this.wasWrapped?this.$element.unwrap():this.$container.removeClass(this.options.containerClass).css({height:""})}}function bt(t){return parseInt(window.getComputedStyle(document.body,null).fontSize,10)*t}$t.defaults={container:"<div data-sticky-container></div>",stickTo:"top",anchor:"",topAnchor:"",btmAnchor:"",marginTop:1,marginBottom:1,stickyOn:"medium",stickyClass:"sticky",containerClass:"sticky-container",dynamicHeight:!0,checkEvery:-1};class wt extends G{_setup(t,i){this.$element=t,this.options=e().extend({},wt.defaults,this.$element.data(),i),this.className="Tabs",this._init(),y.register("Tabs",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"previous",ARROW_DOWN:"next",ARROW_LEFT:"previous"})}_init(){var t=this;if(this._isInitializing=!0,this.$element.attr({role:"tablist"}),this.$tabTitles=this.$element.find(`.${this.options.linkClass}`),this.$tabContent=e()(`[data-tabs-content="${this.$element[0].id}"]`),this.$tabTitles.each((function(){var i=e()(this),n=i.find("a"),s=i.hasClass(`${t.options.linkActiveClass}`),o=n.attr("data-tabs-target")||n[0].hash.slice(1),a=n[0].id?n[0].id:`${o}-label`,l=e()(`#${o}`);i.attr({role:"presentation"}),n.attr({role:"tab","aria-controls":o,"aria-selected":s,id:a,tabindex:s?"0":"-1"}),l.attr({role:"tabpanel","aria-labelledby":a}),s&&(t._initialAnchor=`#${o}`),s||l.attr("aria-hidden","true"),s&&t.options.autoFocus&&(t.onLoadListener=r(e()(window),(function(){e()("html, body").animate({scrollTop:i.offset().top},t.options.deepLinkSmudgeDelay,(()=>{n.focus()}))})))})),this.options.matchHeight){var i=this.$tabContent.find("img");i.length?g(i,this._setHeight.bind(this)):this._setHeight()}this._checkDeepLink=()=>{var t=window.location.hash;if(!t.length){if(this._isInitializing)return;this._initialAnchor&&(t=this._initialAnchor)}var i=t.indexOf("#")>=0?t.slice(1):t,n=i&&e()(`#${i}`),s=t&&this.$element.find(`[href$="${t}"],[data-tabs-target="${i}"]`).first();if(n.length&&s.length){if(n&&n.length&&s&&s.length?this.selectTab(n,!0):this._collapse(),this.options.deepLinkSmudge){var o=this.$element.offset();e()("html, body").animate({scrollTop:o.top-this.options.deepLinkSmudgeOffset},this.options.deepLinkSmudgeDelay)}this.$element.trigger("deeplink.zf.tabs",[s,n])}},this.options.deepLink&&this._checkDeepLink(),this._events(),this._isInitializing=!1}_events(){this._addKeyHandler(),this._addClickHandler(),this._setHeightMqHandler=null,this.options.matchHeight&&(this._setHeightMqHandler=this._setHeight.bind(this),e()(window).on("changed.zf.mediaquery",this._setHeightMqHandler)),this.options.deepLink&&e()(window).on("hashchange",this._checkDeepLink)}_addClickHandler(){var t=this;this.$element.off("click.zf.tabs").on("click.zf.tabs",`.${this.options.linkClass}`,(function(i){i.preventDefault(),t._handleTabChange(e()(this))}))}_addKeyHandler(){var t=this;this.$tabTitles.off("keydown.zf.tabs").on("keydown.zf.tabs",(function(i){if(9!==i.which){var n,s,o=e()(this),a=o.parent("ul").children("li");a.each((function(i){e()(this).is(o)&&(t.options.wrapOnKeys?(n=0===i?a.last():a.eq(i-1),s=i===a.length-1?a.first():a.eq(i+1)):(n=a.eq(Math.max(0,i-1)),s=a.eq(Math.min(i+1,a.length-1))))})),y.handleKey(i,"Tabs",{open:function(){o.find('[role="tab"]').focus(),t._handleTabChange(o)},previous:function(){n.find('[role="tab"]').focus(),t._handleTabChange(n)},next:function(){s.find('[role="tab"]').focus(),t._handleTabChange(s)},handled:function(){i.preventDefault()}})}}))}_handleTabChange(t,e){if(t.hasClass(`${this.options.linkActiveClass}`))this.options.activeCollapse&&this._collapse();else{var i=this.$element.find(`.${this.options.linkClass}.${this.options.linkActiveClass}`),n=t.find('[role="tab"]'),s=n.attr("data-tabs-target"),o=s&&s.length?`#${s}`:n[0].hash,a=this.$tabContent.find(o);this._collapseTab(i),this._openTab(t),this.options.deepLink&&!e&&(this.options.updateHistory?history.pushState({},"",o):history.replaceState({},"",o)),this.$element.trigger("change.zf.tabs",[t,a]),a.find("[data-mutate]").trigger("mutateme.zf.trigger")}}_openTab(t){var e=t.find('[role="tab"]'),i=e.attr("data-tabs-target")||e[0].hash.slice(1),n=this.$tabContent.find(`#${i}`);t.addClass(`${this.options.linkActiveClass}`),e.attr({"aria-selected":"true",tabindex:"0"}),n.addClass(`${this.options.panelActiveClass}`).removeAttr("aria-hidden")}_collapseTab(t){var i=t.removeClass(`${this.options.linkActiveClass}`).find('[role="tab"]').attr({"aria-selected":"false",tabindex:-1});e()(`#${i.attr("aria-controls")}`).removeClass(`${this.options.panelActiveClass}`).attr({"aria-hidden":"true"})}_collapse(){var t=this.$element.find(`.${this.options.linkClass}.${this.options.linkActiveClass}`);t.length&&(this._collapseTab(t),this.$element.trigger("collapse.zf.tabs",[t]))}selectTab(t,e){var i,n;(i="object"==typeof t?t[0].id:t).indexOf("#")<0?n=`#${i}`:(n=i,i=i.slice(1));var s=this.$tabTitles.has(`[href$="${n}"],[data-tabs-target="${i}"]`).first();this._handleTabChange(s,e)}_setHeight(){var t=0,i=this;this.$tabContent&&this.$tabContent.find(`.${this.options.panelClass}`).css("min-height","").each((function(){var n=e()(this),s=n.hasClass(`${i.options.panelActiveClass}`);s||n.css({visibility:"hidden",display:"block"});var o=this.getBoundingClientRect().height;s||n.css({visibility:"",display:""}),t=o>t?o:t})).css("min-height",`${t}px`)}_destroy(){this.$element.find(`.${this.options.linkClass}`).off(".zf.tabs").hide().end().find(`.${this.options.panelClass}`).hide(),this.options.matchHeight&&null!=this._setHeightMqHandler&&e()(window).off("changed.zf.mediaquery",this._setHeightMqHandler),this.options.deepLink&&e()(window).off("hashchange",this._checkDeepLink),this.onLoadListener&&e()(window).off(this.onLoadListener)}}wt.defaults={deepLink:!1,deepLinkSmudge:!1,deepLinkSmudgeDelay:300,deepLinkSmudgeOffset:0,updateHistory:!1,autoFocus:!1,wrapOnKeys:!0,matchHeight:!1,activeCollapse:!1,linkClass:"tabs-title",linkActiveClass:"is-active",panelClass:"tabs-panel",panelActiveClass:"is-active"};class yt extends G{_setup(t,i){this.$element=t,this.options=e().extend({},yt.defaults,t.data(),i),this.className="",this.className="Toggler",W.init(e()),this._init(),this._events()}_init(){var t,i=this.$element[0].id,n=e()(`[data-open~="${i}"], [data-close~="${i}"], [data-toggle~="${i}"]`);if(this.options.animate)t=this.options.animate.split(" "),this.animationIn=t[0],this.animationOut=t[1]||null,n.attr("aria-expanded",!this.$element.is(":hidden"));else{if("string"!=typeof(t=this.options.toggler)||!t.length)throw new Error(`The 'toggler' option containing the target class is required, got "${t}"`);this.className="."===t[0]?t.slice(1):t,n.attr("aria-expanded",this.$element.hasClass(this.className))}n.each(((t,n)=>{const s=e()(n),a=s.attr("aria-controls")||"";new RegExp(`\\b${o(i)}\\b`).test(a)||s.attr("aria-controls",a?`${a} ${i}`:i)}))}_events(){this.$element.off("toggle.zf.trigger").on("toggle.zf.trigger",this.toggle.bind(this))}toggle(){this[this.options.animate?"_toggleAnimate":"_toggleClass"]()}_toggleClass(){this.$element.toggleClass(this.className);var t=this.$element.hasClass(this.className);t?this.$element.trigger("on.zf.toggler"):this.$element.trigger("off.zf.toggler"),this._updateARIA(t),this.$element.find("[data-mutate]").trigger("mutateme.zf.trigger")}_toggleAnimate(){var t=this;this.$element.is(":hidden")?z.animateIn(this.$element,this.animationIn,(function(){t._updateARIA(!0),this.trigger("on.zf.toggler"),this.find("[data-mutate]").trigger("mutateme.zf.trigger")})):z.animateOut(this.$element,this.animationOut,(function(){t._updateARIA(!1),this.trigger("off.zf.toggler"),this.find("[data-mutate]").trigger("mutateme.zf.trigger")}))}_updateARIA(t){var i=this.$element[0].id;e()(`[data-open="${i}"], [data-close="${i}"], [data-toggle="${i}"]`).attr({"aria-expanded":!!t})}_destroy(){this.$element.off(".zf.toggler")}}yt.defaults={toggler:void 0,animate:!1};class _t extends it{_setup(t,i){this.$element=t,this.options=e().extend({},_t.defaults,this.$element.data(),i),this.className="Tooltip",this.isActive=!1,this.isClick=!1,W.init(e()),this._init()}_init(){d._init();var t=this.$element.attr("aria-describedby")||s(6,"tooltip");this.options.tipText=this.options.tipText||this.$element.attr("title"),this.template=this.options.template?e()(this.options.template):this._buildTemplate(t),this.options.allowHtml?this.template.appendTo(document.body).html(this.options.tipText).hide():this.template.appendTo(document.body).text(this.options.tipText).hide(),this.$element.attr({title:"","aria-describedby":t,"data-yeti-box":t,"data-toggle":t,"data-resize":t}).addClass(this.options.triggerClass),super._init(),this._events()}_getDefaultPosition(){var t=this.$element[0].className;this.$element[0]instanceof SVGElement&&(t=t.baseVal);var e=t.match(/\b(top|left|right|bottom)\b/g);return e?e[0]:"top"}_getDefaultAlignment(){return"center"}_getHOffset(){return"left"===this.position||"right"===this.position?this.options.hOffset+this.options.tooltipWidth:this.options.hOffset}_getVOffset(){return"top"===this.position||"bottom"===this.position?this.options.vOffset+this.options.tooltipHeight:this.options.vOffset}_buildTemplate(t){var i=`${this.options.tooltipClass} ${this.options.templateClasses}`.trim();return e()("<div></div>").addClass(i).attr({role:"tooltip","aria-hidden":!0,"data-is-active":!1,"data-is-focus":!1,id:t})}_setPosition(){super._setPosition(this.$element,this.template)}show(){if("all"!==this.options.showOn&&!d.is(this.options.showOn))return!1;this.template.css("visibility","hidden").show(),this._setPosition(),this.template.removeClass("top bottom left right").addClass(this.position),this.template.removeClass("align-top align-bottom align-left align-right align-center").addClass("align-"+this.alignment),this.$element.trigger("closeme.zf.tooltip",this.template.attr("id")),this.template.attr({"data-is-active":!0,"aria-hidden":!1}),this.isActive=!0,this.template.stop().hide().css("visibility","").fadeIn(this.options.fadeInDuration,(function(){})),this.$element.trigger("show.zf.tooltip")}hide(){var t=this;this.template.stop().attr({"aria-hidden":!0,"data-is-active":!1}).fadeOut(this.options.fadeOutDuration,(function(){t.isActive=!1,t.isClick=!1})),this.$element.trigger("hide.zf.tooltip")}_events(){const t=this,e="ontouchstart"in window||void 0!==window.ontouchstart;var i=!1;e&&this.options.disableForTouch||(this.options.disableHover||this.$element.on("mouseenter.zf.tooltip",(function(){t.isActive||(t.timeout=setTimeout((function(){t.show()}),t.options.hoverDelay))})).on("mouseleave.zf.tooltip",l((function(){clearTimeout(t.timeout),(!i||t.isClick&&!t.options.clickOpen)&&t.hide()}))),e&&this.$element.on("tap.zf.tooltip touchend.zf.tooltip",(function(){t.isActive?t.hide():t.show()})),this.options.clickOpen?this.$element.on("mousedown.zf.tooltip",(function(){t.isClick||(t.isClick=!0,!t.options.disableHover&&t.$element.attr("tabindex")||t.isActive||t.show())})):this.$element.on("mousedown.zf.tooltip",(function(){t.isClick=!0})),this.$element.on({"close.zf.trigger":this.hide.bind(this)}),this.$element.on("focus.zf.tooltip",(function(){if(i=!0,t.isClick)return t.options.clickOpen||(i=!1),!1;t.show()})).on("focusout.zf.tooltip",(function(){i=!1,t.isClick=!1,t.hide()})).on("resizeme.zf.trigger",(function(){t.isActive&&t._setPosition()})))}toggle(){this.isActive?this.hide():this.show()}_destroy(){this.$element.attr("title",this.template.text()).off(".zf.trigger .zf.tooltip").removeClass(this.options.triggerClass).removeClass("top right left bottom").removeAttr("aria-describedby data-disable-hover data-resize data-toggle data-tooltip data-yeti-box"),this.template.remove()}}_t.defaults={hoverDelay:200,fadeInDuration:150,fadeOutDuration:150,disableHover:!1,disableForTouch:!1,templateClasses:"",tooltipClass:"tooltip",triggerClass:"has-tip",showOn:"small",template:"",tipText:"",touchCloseText:"Tap to close.",clickOpen:!0,position:"auto",alignment:"auto",allowOverlap:!1,allowBottomOverlap:!1,vOffset:0,hOffset:0,tooltipHeight:14,tooltipWidth:12,allowHtml:!1};var Ct={tabs:{cssClass:"tabs",plugin:wt,open:(t,e)=>t.selectTab(e),close:null,toggle:null},accordion:{cssClass:"accordion",plugin:K,open:(t,i)=>t.down(e()(i)),close:(t,i)=>t.up(e()(i)),toggle:(t,i)=>t.toggle(e()(i))}};class zt extends G{constructor(t,e){return super(t,e),this.options.reflow&&this.storezfData||this}_setup(t,i){this.$element=e()(t),this.$element.data("zfPluginBase",this),this.options=e().extend({},zt.defaults,this.$element.data(),i),this.rules=this.$element.data("responsive-accordion-tabs"),this.currentMq=null,this.currentRule=null,this.currentPlugin=null,this.className="ResponsiveAccordionTabs",this.$element.attr("id")||this.$element.attr("id",s(6,"responsiveaccordiontabs")),this._init(),this._events()}_init(){if(d._init(),"string"==typeof this.rules){let t={},e=this.rules.split(" ");for(let i=0;i<e.length;i++){let n=e[i].split("-"),s=n.length>1?n[0]:"small",o=n.length>1?n[1]:n[0];null!==Ct[o]&&(t[s]=Ct[o])}this.rules=t}this._getAllOptions(),e().isEmptyObject(this.rules)||this._checkMediaQueries()}_getAllOptions(){var t=this;for(var i in t.allOptions={},Ct)if(Ct.hasOwnProperty(i)){var n=Ct[i];try{var s=e()("<ul></ul>"),o=new n.plugin(s,t.options);for(var a in o.options)if(o.options.hasOwnProperty(a)&&"zfPlugin"!==a){var r=o.options[a];t.allOptions[a]=r}o.destroy()}catch(t){console.warn(`Warning: Problems getting Accordion/Tab options: ${t}`)}}}_events(){this._changedZfMediaQueryHandler=this._checkMediaQueries.bind(this),e()(window).on("changed.zf.mediaquery",this._changedZfMediaQueryHandler)}_checkMediaQueries(){var t,i=this;e().each(this.rules,(function(e){d.atLeast(e)&&(t=e)})),t&&(this.currentPlugin instanceof this.rules[t].plugin||(e().each(Ct,(function(t,e){i.$element.removeClass(e.cssClass)})),this.$element.addClass(this.rules[t].cssClass),this.currentPlugin&&(!this.currentPlugin.$element.data("zfPlugin")&&this.storezfData&&this.currentPlugin.$element.data("zfPlugin",this.storezfData),this.currentPlugin.destroy()),this._handleMarkup(this.rules[t].cssClass),this.currentRule=this.rules[t],this.currentPlugin=new this.currentRule.plugin(this.$element,this.options),this.storezfData=this.currentPlugin.$element.data("zfPlugin")))}_handleMarkup(t){var i=this,n="accordion",o=e()("[data-tabs-content="+this.$element.attr("id")+"]");if(o.length&&(n="tabs"),n!==t){var a=i.allOptions.linkClass?i.allOptions.linkClass:"tabs-title",r=i.allOptions.panelClass?i.allOptions.panelClass:"tabs-panel";this.$element.removeAttr("role");var l=this.$element.children("."+a+",[data-accordion-item]").removeClass(a).removeClass("accordion-item").removeAttr("data-accordion-item"),d=l.children("a").removeClass("accordion-title");if("tabs"===n?(o=o.children("."+r).removeClass(r).removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby")).children("a").removeAttr("role").removeAttr("aria-controls").removeAttr("aria-selected"):o=l.children("[data-tab-content]").removeClass("accordion-content"),o.css({display:"",visibility:""}),l.css({display:"",visibility:""}),"accordion"===t)o.each((function(t,n){e()(n).appendTo(l.get(t)).addClass("accordion-content").attr("data-tab-content","").removeClass("is-active").css({height:""}),e()("[data-tabs-content="+i.$element.attr("id")+"]").after('<div id="tabs-placeholder-'+i.$element.attr("id")+'"></div>').detach(),l.addClass("accordion-item").attr("data-accordion-item",""),d.addClass("accordion-title")}));else if("tabs"===t){var h=e()("[data-tabs-content="+i.$element.attr("id")+"]"),c=e()("#tabs-placeholder-"+i.$element.attr("id"));c.length?(h=e()('<div class="tabs-content"></div>').insertAfter(c).attr("data-tabs-content",i.$element.attr("id")),c.remove()):h=e()('<div class="tabs-content"></div>').insertAfter(i.$element).attr("data-tabs-content",i.$element.attr("id")),o.each((function(t,i){var n=e()(i).appendTo(h).addClass(r),o=d.get(t).hash.slice(1),a=e()(i).attr("id")||s(6,"accordion");o!==a&&(""!==o?e()(i).attr("id",o):(o=a,e()(i).attr("id",o),e()(d.get(t)).attr("href",e()(d.get(t)).attr("href").replace("#","")+"#"+o))),e()(l.get(t)).hasClass("is-active")&&n.addClass("is-active")})),l.addClass(a)}}}open(){if(this.currentRule&&"function"==typeof this.currentRule.open)return this.currentRule.open(this.currentPlugin,...arguments)}close(){if(this.currentRule&&"function"==typeof this.currentRule.close)return this.currentRule.close(this.currentPlugin,...arguments)}toggle(){if(this.currentRule&&"function"==typeof this.currentRule.toggle)return this.currentRule.toggle(this.currentPlugin,...arguments)}_destroy(){this.currentPlugin&&this.currentPlugin.destroy(),e()(window).off("changed.zf.mediaquery",this._changedZfMediaQueryHandler)}}zt.defaults={},h.addToJquery(e()),h.rtl=n,h.GetYoDigits=s,h.transitionend=a,h.RegExpEscape=o,h.onLoad=r,h.Box=f,h.onImagesLoaded=g,h.Keyboard=y,h.MediaQuery=d,h.Motion=z,h.Move=k,h.Nest=L,h.Timer=x,H.init(e()),W.init(e(),h),d._init(),h.plugin(U,"Abide"),h.plugin(K,"Accordion"),h.plugin(V,"AccordionMenu"),h.plugin(Q,"Drilldown"),h.plugin(nt,"Dropdown"),h.plugin(st,"DropdownMenu"),h.plugin(ot,"Equalizer"),h.plugin(at,"Interchange"),h.plugin(lt,"Magellan"),h.plugin(dt,"OffCanvas"),h.plugin(ht,"Orbit"),h.plugin(ut,"ResponsiveMenu"),h.plugin(ft,"ResponsiveToggle"),h.plugin(pt,"Reveal"),h.plugin(mt,"Slider"),h.plugin(rt,"SmoothScroll"),h.plugin($t,"Sticky"),h.plugin(wt,"Tabs"),h.plugin(yt,"Toggler"),h.plugin(_t,"Tooltip"),h.plugin(zt,"ResponsiveAccordionTabs"),i(479),i(346),i(720),i(711),i(506),i(420),i(612),i(384),i(491),i(980),i(116),window.$=e(),e()(document).foundation(),document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".mepr-invoice-print ~ a");t&&(t.textContent="Započni trenirati",t.setAttribute("href","/katalog/"))}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwibWFwcGluZ3MiOiI7a0NBR0FBLFFBQU8sU0FBVUMsR0FDZixJQUFJQyxFQUFXRCxFQUFFLDRCQUNiRSxFQUFZRixFQUFFLDZCQXNDbEIsU0FBU0csSUFDUEQsRUFBVUUsWUFBWSxXQUN0QkgsRUFBU0ksS0FBSyxnQkFBaUIsUUFDakMsQ0F2Q0tKLEVBQVNLLFNBR2RMLEVBQVNNLEdBQUcsU0FBUyxTQUFVQyxHQUM3QkEsRUFBRUMsaUJBQ0ZELEVBQUVFLGtCQUVXUixFQUFVUyxTQUFTLFdBRzlCUixLQXNCRkQsRUFBVVUsU0FBUyxXQUNuQlgsRUFBU0ksS0FBSyxnQkFBaUIsUUFuQmpDLElBR0FMLEVBQUVhLFVBQVVOLEdBQUcsU0FBUyxTQUFVQyxHQUMzQlIsRUFBRVEsRUFBRU0sUUFBUUMsUUFBUSx1QkFBdUJULFFBQzlDSCxHQUVKLElBR0FILEVBQUVhLFVBQVVOLEdBQUcsV0FBVyxTQUFVQyxHQUNwQixXQUFWQSxFQUFFUSxNQUNKYixJQUNBRixFQUFTZ0IsUUFFYixJQVdGLG9CQy9DQUosU0FBU0ssaUJBQWlCLG9CQUFvQixXQUM1Q0wsU0FBU00saUJBQWlCLHVCQUF1QkMsU0FBUSxTQUFDQyxHQUN4RCxJQUFNQyxFQUFPQyxNQUFNQyxLQUFLSCxFQUFVRixpQkFBaUIsdUJBQzdDTSxFQUFTRixNQUFNQyxLQUFLSCxFQUFVRixpQkFBaUIseUJBRXJELEdBQUtHLEVBQUtoQixRQUFXbUIsRUFBT25CLE9BQTVCLENBSUEsSUFBTW9CLEVBQVksU0FBQ0MsR0FDakJMLEVBQUtGLFNBQVEsU0FBQ1EsR0FDWixJQUFNQyxFQUFXRCxFQUFJRSxRQUFRQyxhQUFlSixFQUM1Q0MsRUFBSUksVUFBVUMsT0FBTyxZQUFhSixHQUNsQ0QsRUFBSU0sYUFBYSxnQkFBaUJMLEVBQVcsT0FBUyxTQUN0REQsRUFBSU8sU0FBV04sRUFBVyxHQUFLLENBQ2pDLElBRUFKLEVBQU9MLFNBQVEsU0FBQ2dCLEdBQ2QsSUFBTVAsRUFBV08sRUFBTU4sUUFBUU8sZUFBaUJWLEVBQ2hEUyxFQUFNSixVQUFVQyxPQUFPLFlBQWFKLEdBQ3BDTyxFQUFNRSxRQUFVVCxFQUNoQk8sRUFBTUYsYUFBYSxjQUFlTCxFQUFXLFFBQVUsT0FDekQsR0FDRixFQUVNVSxFQUFhakIsRUFBS2tCLE1BQUssU0FBQ1osR0FBRyxPQUFLQSxFQUFJSSxVQUFVUyxTQUFTLFlBQVksS0FBS25CLEVBQUssR0FDL0VpQixHQUNGYixFQUFVYSxFQUFXVCxRQUFRQyxZQUcvQlQsRUFBS0YsU0FBUSxTQUFDUSxHQUNaQSxFQUFJVixpQkFBaUIsU0FBUyxrQkFBTVEsRUFBVUUsRUFBSUUsUUFBUUMsV0FBVyxHQUN2RSxHQXpCQSxDQTBCRixHQUNGLG9CQ2xDQSxJQUNNVyxFQUFZLENBQUMsT0FBUSxRQUFTLFVBQVcsV0FHekNDLEVBQWFDLEtBQ2JDLEVBQVlGLE1BRVpHLEVBQWMsU0FBQ0MsR0FBSyxPQUFLQyxPQUFPRCxHQUFPRSxTQUFTLEVBQUcsSUFBSSxFQUV2REMsRUFBaUIsU0FBQ0MsR0FDdkIsSUFBS0EsRUFDSixPQUFPLEtBR1IsSUFBTUMsRUFBbUI3QixNQUFNQyxLQUFLMkIsRUFBUUUsWUFBWWIsTUFDdkQsU0FBQ2MsR0FBSSxPQUFLQSxFQUFLQyxXQUFhQyxLQUFLQyxTQUFTLElBRzNDLEdBQUlMLEVBQ0gsT0FBT0EsRUFHUixJQUFNTSxFQUFXN0MsU0FBUzhDLGVBQWUsTUFFekMsT0FEQVIsRUFBUVMsYUFBYUYsRUFBVVAsRUFBUVUsWUFBYyxNQUM5Q0gsQ0FDUixFQUVNSSxFQUFnQixTQUFDQyxHQUN0QixJQUFNQyxFQUFlRCxFQUFVRSxhQUFhLGlCQUN0Q0MsRUFBV0YsRUFBZSxJQUFJRyxLQUFLSCxHQUFnQixLQUV6RCxHQUFLRSxJQUFZRSxPQUFPQyxNQUFNSCxFQUFTSSxXQUF2QyxDQUlBLElBQU1DLEVBQVk3QixFQUFVOEIsUUFBTyxTQUFDQyxFQUFLekQsR0FDeEMsSUFBTW1DLEVBQVVZLEVBQVVXLGNBQWMsZUFBREMsT0FBZ0IzRCxFQUFHLE9BSzFELE9BSkF5RCxFQUFJekQsR0FBTyxDQUNWbUMsUUFBQUEsRUFDQU8sU0FBVVIsRUFBZUMsSUFFbkJzQixDQUNSLEdBQUcsQ0FBQyxHQUVFRyxFQUFTLFdBQU0sSUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFDZEMsRUFBTWQsS0FBS2MsTUFDYkMsRUFBT2hCLEVBQVNJLFVBQVlXLEVBRTVCQyxHQUFRLElBQ1hBLEVBQU8sR0FHUixJQUFNQyxFQUFPQyxLQUFLQyxNQUFNSCxFQUFPckMsR0FDekJ5QyxFQUFRRixLQUFLQyxNQUFPSCxFQUFPckMsRUFBYUYsR0FDeEM0QyxFQUFVSCxLQUFLQyxNQUFPSCxFQUFPdkMsRUFuRGhCNkMsS0FvRGJDLEVBQVVMLEtBQUtDLE1BQU9ILEVBcERUTSxJQURBLEtBb0VuQixPQWJrQixRQUFsQlgsRUFBSU4sRUFBVVksWUFBSSxJQUFBTixHQUFkQSxFQUFnQm5CLFdBQ25CYSxFQUFVWSxLQUFLekIsU0FBU2dDLFVBQVk1QyxFQUFZcUMsSUFFOUIsUUFBbkJMLEVBQUlQLEVBQVVlLGFBQUssSUFBQVIsR0FBZkEsRUFBaUJwQixXQUNwQmEsRUFBVWUsTUFBTTVCLFNBQVNnQyxVQUFZNUMsRUFBWXdDLElBRTdCLFFBQXJCUCxFQUFJUixFQUFVZ0IsZUFBTyxJQUFBUixHQUFqQkEsRUFBbUJyQixXQUN0QmEsRUFBVWdCLFFBQVE3QixTQUFTZ0MsVUFBWTVDLEVBQVl5QyxJQUUvQixRQUFyQlAsRUFBSVQsRUFBVWtCLGVBQU8sSUFBQVQsR0FBakJBLEVBQW1CdEIsV0FDdEJhLEVBQVVrQixRQUFRL0IsU0FBU2dDLFVBQVk1QyxFQUFZMkMsSUFHdkMsSUFBVFAsSUFDSG5CLEVBQVUvQixVQUFVMkQsSUFBSSwyQkFDakIsRUFJVCxFQUVBZixJQUVBLElBQU1nQixFQUFhQyxPQUFPQyxhQUFZLFdBQ3BCbEIsS0FFaEJpQixPQUFPRSxjQUFjSCxFQUV2QixHQW5Gb0IsSUErQnBCLENBcURELEVBRU1JLEVBQWtCLFdBQ0puRixTQUFTTSxpQkF6RkYsZ0NBMEZmQyxRQUFRMEMsRUFDcEIsRUFFNEIsWUFBeEJqRCxTQUFTb0YsV0FDWnBGLFNBQVNLLGlCQUFpQixtQkFBb0I4RSxHQUU5Q0Esb0JDbUZEbkYsU0FBU0ssaUJBQWlCLG9CQW5MQSxXQUN4QixJQUFNZ0YsRUFBT3JGLFNBQVM2RCxjQUFjLCtDQUNwQyxHQUFLd0IsRUFBTCxDQUlBLElBQU1DLEVBQVFELEVBQUt4QixjQUFjLCtCQUMzQjBCLEVBQVVGLEVBQUt4QixjQUFjLGlDQUM3QjJCLEVBQVdILEVBQUtqQyxhQUFhLHdCQUM3QnFDLEVBQW1CSixFQUFLakMsYUFBYSw0QkFBOEIsR0FFekUsR0FBS2tDLEdBQVVDLEdBQVlDLEVBQTNCLENBSUEsSUFBSUUsRUFBa0IsS0FDbEJDLEVBQWEsS0FDYkMsRUFBWSxHQUVWQyxFQUFlLFdBQ25CTixFQUFRcEUsVUFBVTJFLE9BQU8sV0FDekJQLEVBQVFsRSxhQUFhLGNBQWUsUUFDcENrRSxFQUFRUSxnQkFBZ0IsYUFDeEJSLEVBQVFTLFVBQVksRUFDdEIsRUFFTUMsRUFBYyxXQUNsQlYsRUFBUXBFLFVBQVUyRCxJQUFJLFdBQ3RCUyxFQUFRbEUsYUFBYSxjQUFlLFFBQ3RDLEVBNEVNNkUsRUFBZSxTQUFDQyxHQUNoQlQsR0FDRkEsRUFBZ0JVLFFBR2xCVixFQUFrQixJQUFJVyxnQkFDdEJkLEVBQVFsRSxhQUFhLFlBQWEsUUFFbEMsSUFBTWlGLEVBQU0sR0FBSHhDLE9BQU0wQixFQUFRLFlBQUExQixPQUFXeUMsbUJBQW1CSixHQUFNLHFEQUUzREssTUFBTUYsRUFBSyxDQUFFRyxPQUFRZixFQUFnQmUsT0FBUUMsWUFBYSxnQkFDdkRDLE1BQUssU0FBQ0MsR0FDTCxJQUFLQSxFQUFTQyxHQUNaLE1BQU0sSUFBSUMsTUFBTSx5QkFFbEIsT0FBT0YsRUFBU0csTUFDbEIsSUFDQ0osTUFBSyxTQUFDSyxHQUNMLEdBQUliLElBQVViLEVBQU1wRCxNQUFNK0UsT0FBMUIsQ0FNQSxHQUZBMUIsRUFBUVEsZ0JBQWdCLGNBRW5CckYsTUFBTXdHLFFBQVFGLElBQXlCLElBQWhCQSxFQUFLdkgsT0FFL0IsT0FuR044RixFQUFRUyxVQUFZLHFFQUNwQkMsS0E2QmtCLFNBQUNrQixHQUNuQjVCLEVBQVFTLFVBQVksR0FDcEIsSUFBTW9CLEVBQVdwSCxTQUFTcUgseUJBRTFCRixFQUFNNUcsU0FBUSxTQUFDK0csR0FDYixHQUFLQSxHQUFTQSxFQUFLQyxLQUFuQixDQUlBLElBbkNrQkMsRUFDZEMsRUFrQ0VDLEVBQVlKLEVBQUtLLE9BQVNMLEVBQUtLLE1BQU1DLFNBQVdOLEVBQUtLLE1BQU1DLFNBQVcsR0FDdEVDLEdBcENZTCxFQW9DYUUsR0FuQzNCRCxFQUFPekgsU0FBUzhILGNBQWMsUUFDL0I5QixVQUFZd0IsR0FBUSxHQUNsQkMsRUFBS00sYUFBZU4sRUFBS08sV0FBYSxJQWtDckNDLEVBL0JVLFNBQUNYLEdBQ25CLEdBQUlBLEdBQVFBLEVBQUtZLFdBQWFaLEVBQUtZLFVBQVUsb0JBQXFCLENBQ2hFLElBQU1DLEVBQVFiLEVBQUtZLFVBQVUsb0JBQW9CLEdBQzNDRSxFQUFRRCxHQUFTQSxFQUFNRSxjQUFnQkYsRUFBTUUsY0FBY0QsTUFBUSxLQUN6RSxHQUFJQSxFQUFPLENBQ1QsSUFBTUUsRUFDSkYsRUFBTSxhQUNOQSxFQUFNRyxRQUNOSCxFQUFNSSxVQUNSLEdBQUlGLEdBQWFBLEVBQVVHLFdBQ3pCLE9BQU9ILEVBQVVHLFVBRXJCLENBQ0EsR0FBSU4sR0FBU0EsRUFBTU0sV0FDakIsT0FBT04sRUFBTU0sVUFFakIsQ0FDQSxPQUFPaEQsQ0FDVCxDQWFxQmlELENBQVlwQixHQUV2QkMsRUFBT3ZILFNBQVM4SCxjQUFjLEtBS3BDLEdBSkFQLEVBQUtvQixVQUFZLDhCQUNqQnBCLEVBQUtxQixLQUFPdEIsRUFBS0MsS0FDakJBLEVBQUtsRyxhQUFhLE9BQVEsVUFFdEI0RyxFQUFVLENBQ1osSUFBTVksRUFBUTdJLFNBQVM4SCxjQUFjLFFBQ3JDZSxFQUFNRixVQUFZLDZCQUVsQixJQUFNRyxFQUFNOUksU0FBUzhILGNBQWMsT0FDbkNnQixFQUFJQyxJQUFNZCxFQUNWYSxFQUFJRSxJQUFNbkIsRUFDVmlCLEVBQUlHLFFBQVUsT0FFZEosRUFBTUssWUFBWUosR0FDbEJ2QixFQUFLMkIsWUFBWUwsRUFDbkIsQ0FFQSxJQUFNbEIsRUFBUTNILFNBQVM4SCxjQUFjLFFBQ3JDSCxFQUFNZ0IsVUFBWSw2QkFDbEJoQixFQUFNM0IsVUFBWTBCLEVBRWxCSCxFQUFLMkIsWUFBWXZCLEdBQ2pCUCxFQUFTOEIsWUFBWTNCLEVBN0JyQixDQThCRixJQUVBaEMsRUFBUTJELFlBQVk5QixHQUNwQm5CLEdBQ0YsQ0ErQk1rRCxDQUFZbkMsRUFUWixDQVVGLElBQ0NvQyxPQUFNLFNBQUNDLEdBQ2EsZUFBZkEsRUFBTXZJLE1BR1YrRSxHQUNGLEdBQ0osRUFFTXlELEVBQWdCLFdBQ3BCLElBQU1uRCxFQUFRYixFQUFNcEQsTUFBTStFLE9BQzFCLEdBQUlkLEVBQU0xRyxPQUFTLEVBR2pCLE9BRkFtRyxFQUFZTyxPQUNaTixJQUlFTSxJQUFVUCxJQUlkQSxFQUFZTyxFQUNabkIsT0FBT3VFLGFBQWE1RCxHQUNwQkEsRUFBYVgsT0FBT3dFLFlBQVcsa0JBQU10RCxFQUFhQyxFQUFNLEdBQUUsS0FDNUQsRUFFQWIsRUFBTWpGLGlCQUFpQixRQUFTaUosR0FDaENoRSxFQUFNakYsaUJBQWlCLFFBQVNpSixHQUNoQ2hFLEVBQU1qRixpQkFBaUIsV0FBVyxTQUFDb0osR0FDZixXQUFkQSxFQUFNdEosTUFDUjBGLElBQ0FQLEVBQU1vRSxPQUVWLElBQ0FyRSxFQUFLaEYsaUJBQWlCLFVBQVUsV0FDOUJ3RixHQUNGLElBQ0E3RixTQUFTSyxpQkFBaUIsU0FBUyxTQUFDb0osR0FDN0JwRSxFQUFLekQsU0FBUzZILEVBQU14SixTQUN2QjRGLEdBRUosR0FuS0EsQ0FUQSxDQTZLRixvQkNoTEEsSUFBSThELEdBQXlCLEVBRzdCLFNBQVNDLElBQ1AsSUFBTXJJLEVBQVF2QixTQUFTNkosZUFBZSxjQUNsQ3RJLEdBQ0ZBLEVBQU1KLFVBQVVDLE9BQU8sT0FFM0IsQ0FFQSxTQUFTMEksRUFBU0MsR0FDaEIsSUFBTUMsRUFBV2hLLFNBQVM2RCxjQUFjLHFCQUN4QyxHQUFLbUcsRUFBTCxDQUVBLElBQU1DLEVBQVFELEVBQVNFLGVBQ2pCQyxFQUFNSCxFQUFTSSxhQUNmQyxFQUFPTCxFQUFTOUgsTUFHaEJvSSxFQUFTRCxFQUFLRSxVQUFVLEVBQUdOLEdBQzNCTyxFQUFRSCxFQUFLRSxVQUFVSixFQUFLRSxFQUFLNUssUUFDdkN1SyxFQUFTOUgsTUFBUW9JLEVBQVNQLEVBQVFTLEVBR2xDUixFQUFTRSxlQUFpQkYsRUFBU0ksYUFBZUgsRUFBUUYsRUFBTXRLLE9BQ2hFdUssRUFBUzVKLFFBR1RxSyxFQUFtQlQsR0FHbkIsSUFBTXpJLEVBQVF2QixTQUFTNkosZUFBZSxjQUNsQ3RJLEdBQ0ZBLEVBQU1KLFVBQVUyRSxPQUFPLE9BckJKLENBdUJ2QixDQUVBLFNBQVMyRSxFQUFtQlQsR0FDMUJBLEVBQVNVLE1BQU1DLE9BQVMsT0FDeEJYLEVBQVNVLE1BQU1DLE9BQVVYLEVBQVNZLGFBQWdCLElBQ3BELENBRUEsU0FBU0MsRUFBV0MsR0FDbEIsSUFBTUMsRUFBUUQsRUFBT2pILGNBQWMsZUFDbkMsR0FBS2tILEVBQUwsQ0FFQSxJQUFNQyxFQUFlQyxTQUFTRixFQUFNaEQsY0FBZ0IsRUFDcEMrQyxFQUFPM0osVUFBVVMsU0FBUyxVQUd4Q21KLEVBQU1oRCxZQUFjeEQsS0FBSzJHLElBQUksRUFBR0YsRUFBZSxHQUMvQ0YsRUFBTzNKLFVBQVUyRSxPQUFPLFdBRXhCaUYsRUFBTWhELFlBQWNpRCxFQUFlLEVBQ25DRixFQUFPM0osVUFBVTJELElBQUksU0FWTCxDQVlwQixDQUdBOUUsU0FBU0ssaUJBQWlCLG9CQUFvQixXQUM1QyxJQUFJc0osRUFBSixDQUNBQSxHQUF5QixFQUd6QixJQUFNSyxFQUFXaEssU0FBUzZELGNBQWMscUJBQ3BDbUcsR0FDRkEsRUFBUzNKLGlCQUFpQixTQUFTLFdBQ2pDb0ssRUFBbUJVLEtBQ3JCLElBSUZuTCxTQUFTSyxpQkFBaUIsU0FBUyxTQUFTb0osR0FDMUMsSUFBTTJCLEVBQWNwTCxTQUFTNkQsY0FBYyxpQkFDckN3SCxFQUFhckwsU0FBUzZKLGVBQWUsY0FFdkN1QixHQUFlQyxJQUFlRCxFQUFZeEosU0FBUzZILEVBQU14SixTQUMzRG9MLEVBQVdsSyxVQUFVMkUsT0FBTyxPQUVoQyxJQUdBLElBQU1ULEVBQU9yRixTQUFTNkQsY0FBYyxvQkFDaEN3QixHQUNGQSxFQUFLaEYsaUJBQWlCLFVBQVUsU0FBU1YsR0FDdkMsSUFBTW1MLEVBQVNLLEtBQUt0SCxjQUFjLHVCQUNsQyxHQUFLaUgsRUFBTCxDQUVBLElBQU1RLEVBQVdSLEVBQU8vQyxZQUV4QitDLEVBQU8vQyxZQUFjLGVBQ3JCK0MsRUFBT1MsVUFBVyxFQUdsQi9CLFlBQVcsV0FDa0IsaUJBQXZCc0IsRUFBTy9DLGNBQ1QrQyxFQUFPL0MsWUFBY3VELEVBQ3JCUixFQUFPUyxVQUFXLEVBRXRCLEdBQUcsSUFiZ0IsQ0FjckIsSUFJRnZMLFNBQVNNLGlCQUFpQixnQkFBZ0JDLFNBQVEsU0FBQXVLLEdBQzNDQSxFQUFPVSxhQUFhLHNCQUN2QlYsRUFBT3pKLGFBQWEsbUJBQW9CLFFBQ3hDeUosRUFBT3pLLGlCQUFpQixTQUFTLFdBQy9Cd0ssRUFBV00sS0FDYixJQUVKLEdBbkRrQyxDQW9EcEMsSUFHQW5MLFNBQVNLLGlCQUFpQixXQUFXLFNBQVNWLEdBRTVDLElBQUtBLEVBQUU4TCxTQUFXOUwsRUFBRStMLFVBQXNCLE1BQVYvTCxFQUFFUSxJQUFhLENBQzdDLElBQU02SixFQUFXaEssU0FBUzZELGNBQWMscUJBQ3BDbUcsR0FBWUEsSUFBYWhLLFNBQVMyTCxnQkFDcENoTSxFQUFFQyxpQkFDRmdLLElBRUosQ0FHQSxHQUFjLFdBQVZqSyxFQUFFUSxJQUFrQixDQUN0QixJQUFNb0IsRUFBUXZCLFNBQVM2SixlQUFlLGNBQ2xDdEksR0FDRkEsRUFBTUosVUFBVTJFLE9BQU8sT0FFM0IsQ0FDRixJQWFBZCxPQUFPNEcsZ0JBQWtCLENBQ3ZCaEMsa0JBQW1CQSxFQUNuQkUsU0FBVUEsRUFDVmUsV0FBWUEsRUFDWmdCLHNCQWRGLFdBQ0U3TCxTQUFTTSxpQkFBaUIsd0NBQXdDQyxTQUFRLFNBQUF1SyxHQUN4RUEsRUFBT3pKLGFBQWEsbUJBQW9CLFFBQ3hDeUosRUFBT3pLLGlCQUFpQixTQUFTLFdBQy9Cd0ssRUFBV00sS0FDYixHQUNGLEdBQ0YsR0FVQW5MLFNBQVNLLGlCQUFpQixvQkFBb0IsV0FDNUMsSUFBTXlMLEVBQVk5TCxTQUFTNkQsY0FBYyxpQkFDckNpSSxHQUFXQSxFQUFVekwsaUJBQWlCLFFBQVN1SixHQUVuRDVKLFNBQVNNLGlCQUFpQixjQUFjQyxTQUFRLFNBQUF3TCxHQUM5Q0EsRUFBSTFMLGlCQUFpQixTQUFTLGtCQUFNeUosRUFBU2lDLEVBQUloRSxZQUFZZCxPQUFPLEdBQ3RFLEdBQ0Ysb0JDaEtBakgsU0FBU0ssaUJBQWlCLG9CQUFvQixXQUN2QzJFLE9BQU85RixTQU1aQyxFQUZVNkYsT0FBTzlGLFFBRWZjLFVBQVVOLEdBQUcsNEJBQTRCLFNBQUMrSixFQUFPdUMsRUFBV0MsRUFBUUMsRUFBUUMsR0FDNUUsR0FBZSxhQUFYQSxFQUFKLENBSUEsSUFBTUMsRUFBT3BNLFNBQVM2RCxjQUFjLHNEQUFEQyxPQUF1RG1JLEVBQU0sT0FDaEcsR0FBS0csRUFBTCxDQUlBQSxFQUFLdEcsU0FFTCxJQUFNdUcsRUFBT3JNLFNBQVM2RCxjQUFjLHlCQUNwQyxHQUFJd0ksR0FBaUMsSUFBekJBLEVBQUtDLFNBQVM3TSxPQUFjLENBQ3RDLElBQU04TSxFQUFRdk0sU0FBUzZELGNBQWMsMkNBQ2pDMEksSUFDRkEsRUFBTTdCLE1BQU04QixRQUFVLEdBRTFCLENBRUEsSUFBTXpCLEVBQVEvSyxTQUFTNkQsY0FBYyxzQ0FDckMsR0FBSWtILEVBQU8sQ0FDVCxJQUFNMEIsRUFBVXhCLFNBQVNGLEVBQU1oRCxZQUFZMkUsUUFBUSxNQUFPLElBQUssSUFDMURuSixPQUFPQyxNQUFNaUosS0FDaEIxQixFQUFNaEQsWUFBYyxJQUFIakUsT0FBT1MsS0FBSzJHLElBQUksRUFBR3VCLEVBQVUsR0FBRSxLQUVwRCxDQWxCQSxDQUxBLENBd0JGLEdBQ0Ysb0JDbkNBdk4sUUFBTyxTQUFVQyxHQUNmLFNBQVN3TixJQUVMeE4sRUFBRSxRQUFReU4sWUFBWSxxQkFHdEJ6TixFQUFFLFdBQVd5TixZQUFZLGtCQUd6QixJQUFJQyxFQUFTMU4sRUFBRSxRQUFRVyxTQUFTLHFCQUNoQ1gsRUFBRSw0QkFBNEJLLEtBQUssZ0JBQWlCcU4sR0FHaERBLEVBQ0ExTixFQUFFLGdCQUFnQjJOLElBQUksQ0FDbEIsV0FBYyxVQUNkLFFBQVcsTUFHZjNOLEVBQUUsZ0JBQWdCMk4sSUFBSSxDQUNsQixXQUFjLFNBQ2QsUUFBVyxLQUd2QixDQUdBM04sRUFBRSxXQUFXNE4sTUFBTUosR0FHbkJ4TixFQUFFLDRCQUE0QjROLE1BQU1KLEVBQ3RDLG9CQy9CQTNNLFNBQVNLLGlCQUFpQixTQUFTLFNBQUNvSixHQUNsQyxJQUFNckksRUFBU3FJLEVBQU14SixPQUFPQyxRQUFRLDBCQUNwQyxHQUFLa0IsRUFBTCxDQUlBLElBQU00TCxFQUFRNUwsRUFBT2xCLFFBQVEsOEJBQ3ZCb0YsRUFBUTBILEVBQVFBLEVBQU1uSixjQUFjLFNBQVcsS0FDckQsR0FBS3lCLEVBQUwsQ0FJQSxJQUFNMkgsRUFBMkIsU0FBZjNILEVBQU00SCxLQUN4QjVILEVBQU00SCxLQUFPRCxFQUFZLFdBQWEsT0FDdEM3TCxFQUFPRCxVQUFVQyxPQUFPLGNBQWU2TCxHQUN2QzdMLEVBQU9DLGFBQWEsaUJBQWtCNEwsR0FBV0UsWUFDakQvTCxFQUFPQyxhQUFhLGFBQWM0TCxFQUFZLGtCQUFvQixpQkFObEUsQ0FOQSxDQWFGLG9CQ2pCQSxJQUFNRyxFQUFPcE4sU0FBUzZELGNBQWMsUUFFcEMsR0FBYyxPQUFUdUosRUFBZSxDQUNFcE4sU0FBUzZELGNBQWMsV0FBM0MsSUFDTXdKLEVBQVcsWUFDWEMsRUFBYSxjQUNmQyxFQUFhLEVBRWpCdkksT0FBTzNFLGlCQUFpQixVQUFVLFdBQ2hDLElBQU1tTixFQUFnQnhJLE9BQU95SSxZQUN6QkQsR0FBaUIsSUFDbkJKLEVBQUtqTSxVQUFVMkUsT0FBT3VILElBSXBCRyxFQUFnQkQsSUFBZUgsRUFBS2pNLFVBQVVTLFNBQVMwTCxJQUV6REYsRUFBS2pNLFVBQVUyRSxPQUFPdUgsR0FDdEJELEVBQUtqTSxVQUFVMkQsSUFBSXdJLElBRW5CRSxFQUFnQkQsR0FDaEJILEVBQUtqTSxVQUFVUyxTQUFTMEwsS0FHeEJGLEVBQUtqTSxVQUFVMkUsT0FBT3dILEdBQ3RCRixFQUFLak0sVUFBVTJELElBQUl1SSxJQUVyQkUsRUFBYUMsRUFDZixHQUNGLGtCQzdCQSxJQTBETUUsRUFBVyxTQUFDVixHQUNoQixJQUFNdk0sRUFBT0MsTUFBTUMsS0FBS3FNLEVBQU0xTSxpQkFBaUIsMEJBRS9DLEdBQUtHLEVBQUtoQixPQUFWLENBS0EsSUFsRXNCa08sRUFFbEJDLEVBQ0FDLEVBRkFDLEVBR0FDLEVBNEJFQyxFQWtDQUMsRUFBVWpCLEVBQU1uSixjQUFjLHNCQUNoQ29LLElBbEVBSCxHQUFTLEVBR1RDLEdBQWEsRUE0QlhDLEVBQWMsU0FBQ3JPLEdBQ25CLEdBQUttTyxJQUNMQSxHQUFTLEVBQ1RILEVBQUd4TSxVQUFVMkUsT0FBTyxlQUVoQmlJLEdBQVksQ0FDZCxJQUNFSixFQUFHTyxzQkFBc0J2TyxFQUFFd08sVUFDN0IsQ0FBRSxNQUFPQyxHQUNQLENBT0ZULEVBQUd0TixpQkFBaUIsU0FKQyxTQUFDZ08sR0FDcEJBLEVBQUl6TyxpQkFDSnlPLEVBQUl4TyxpQkFDTixHQUMyQyxDQUFFeU8sU0FBUyxFQUFNQyxNQUFNLEdBQ3BFLENBQ0YsR0FsRHNCWixFQW9FTE0sR0FoQmQ1TixpQkFBaUIsZUE5Q0UsU0FBQ1YsR0FFQyxVQUFsQkEsRUFBRTZPLGFBQXdDLElBQWI3TyxFQUFFbUwsU0FFbkNnRCxHQUFTLEVBQ1RDLEdBQWEsRUFDYkgsRUFBU2pPLEVBQUU4TyxNQUFRZCxFQUFHZSxXQUN0QmIsRUFBYUYsRUFBR0UsV0FDbEIsSUF1Q0FGLEVBQUd0TixpQkFBaUIsZUFyQ0UsU0FBQ1YsR0FDckIsR0FBS21PLEVBQUwsQ0FDQSxJQUNNYSxFQUFzQixLQURsQmhQLEVBQUU4TyxNQUFRZCxFQUFHZSxXQUNMZCxHQUVkckosS0FBS3FLLElBQUlELEdBQVEsSUFDZFosSUFDSEEsR0FBYSxFQUNiSixFQUFHeE0sVUFBVTJELElBQUksZUFDakI2SSxFQUFHa0Isa0JBQWtCbFAsRUFBRXdPLFlBRXpCeE8sRUFBRUMsaUJBQ0YrTixFQUFHRSxXQUFhQSxFQUFhYyxFQVhaLENBYXJCLElBd0JBaEIsRUFBR3ROLGlCQUFpQixZQUFhMk4sR0FDakNMLEVBQUd0TixpQkFBaUIsZ0JBQWlCMk4sSUFnQnJDLElBQU1jLEVBQWUsU0FBQy9OLEdBQXFDLElBQUxnTyxHQUFLQyxVQUFBdlAsT0FBQSxRQUFBd1AsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBQVAsQ0FBQyxHQUF4QkUsV0FBQUEsT0FBVSxJQUFBSCxHQUFRQSxFQWE3QyxHQVpBdE8sRUFBS0YsU0FBUSxTQUFDK0csR0FDWixJQUFNdEcsRUFBV3NHLElBQVN2RyxFQUMxQnVHLEVBQUtuRyxVQUFVQyxPQUFPLFNBQVVKLEdBQ2hDc0csRUFBS2pHLGFBQWEsZ0JBQWlCTCxFQUFXLE9BQVMsU0FDdkRzRyxFQUFLaEcsU0FBV04sRUFBVyxHQUFLLEVBRWhDLElBQU1mLEVBQVMrTSxFQUFNbkosY0FBY3lELEVBQUtyRyxRQUFRa08sV0FDNUNsUCxHQUNGQSxFQUFPa0IsVUFBVUMsT0FBTyxTQUFVSixFQUV0QyxJQUVJa08sR0FBY25PLEVBQUlFLFFBQVFrTyxVQUFXLENBQ3ZDLElBQU1DLEVBQWFyTyxFQUFJRSxRQUFRa08sVUFDM0JFLFFBQVFDLGFBQ050SyxPQUFPdUssU0FBU0MsT0FBU0osR0FDM0JDLFFBQVFDLGFBQWEsS0FBTXRQLFNBQVMySCxNQUFPeUgsR0FHN0NwSyxPQUFPdUssU0FBU0MsS0FBT0osQ0FFM0IsQ0FDRixFQUVNSyxFQUFtQixXQUN2QixHQUFLekssT0FBT3VLLFNBQVNDLEtBQXJCLENBSUEsSUFBTUUsRUFBUzFQLFNBQVM2RCxjQUFjbUIsT0FBT3VLLFNBQVNDLE1BQ3RELEdBQUtFLEVBQUwsQ0FJQSxJQUFNbk8sRUFBUW1PLEVBQU92TyxVQUFVUyxTQUFTLHFCQUNwQzhOLEVBQ0FBLEVBQU94UCxRQUFRLHNCQUVuQixHQUFLcUIsR0FBVXlMLEVBQU1wTCxTQUFTTCxHQUE5QixDQUlBLElBQU1SLEVBQU1OLEVBQUtrQixNQUFLLFNBQUMyRixHQUFJLE9BQUtBLEVBQUtyRyxRQUFRa08sWUFBYyxJQUFMckwsT0FBU3ZDLEVBQU1vTyxHQUFJLElBQ3JFNU8sR0FDRitOLEVBQWEvTixFQUpmLENBUkEsQ0FMQSxDQW1CRixFQUVBTixFQUFLRixTQUFRLFNBQUNRLEdBQ1pBLEVBQUlWLGlCQUFpQixTQUFTLGtCQUFNeU8sRUFBYS9OLEVBQUssQ0FBRW1PLFlBQVksR0FBTyxHQUM3RSxJQUVLek8sRUFBS21QLE1BQUssU0FBQzdPLEdBQUcsT0FBS0EsRUFBSUksVUFBVVMsU0FBUyxTQUFTLEtBQ3REa04sRUFBYXJPLEVBQUssSUFHcEJnUCxJQUNBekssT0FBTzNFLGlCQUFpQixhQUFjb1AsRUFsRXRDLENBbUVGLEVBRUF6UCxTQUFTSyxpQkFBaUIsb0JBQW9CLFdBQzVDTCxTQUFTTSxpQkFBaUIsZUFBZUMsUUFBUW1OLEVBQ25ELG9CQ25DQTFOLFNBQVNLLGlCQUFpQixvQkFiUSxXQUNoQyxJQUFNd1AsRUFBYW5QLE1BQU1DLEtBQUtYLFNBQVNNLGlCQUFpQixvQ0FDbkR1UCxFQUFXcFEsUUF2RmhCLElBQUlxUSxTQUFRLFNBQUNDLEVBQVNDLEdBQ3BCLEdBQUloTCxPQUFPaUwsT0FBU2pMLE9BQU9pTCxNQUFNQyxPQUMvQkgsRUFBUS9LLE9BQU9pTCxXQURqQixDQUtBLElBQU1FLEVBQWlCblEsU0FBUzZELGNBQWMsNkJBQzlDLEdBQUlzTSxFQUdGLE9BRkFBLEVBQWU5UCxpQkFBaUIsUUFBUSxrQkFBTTBQLEVBQVEvSyxPQUFPaUwsTUFBTSxTQUNuRUUsRUFBZTlQLGlCQUFpQixRQUFTMlAsR0FJM0MsSUFBTUksRUFBU3BRLFNBQVM4SCxjQUFjLFVBQ3RDc0ksRUFBT3JILElBQU0seUNBQ2JxSCxFQUFPQyxPQUFRLEVBQ2ZELEVBQU9FLE9BQVEsRUFDZkYsRUFBTy9PLGFBQWEsb0JBQXFCLFFBQ3pDK08sRUFBTy9QLGlCQUFpQixRQUFRLGtCQUFNMFAsRUFBUS9LLE9BQU9pTCxNQUFNLElBQzNERyxFQUFPL1AsaUJBQWlCLFFBQVMyUCxHQUNqQ2hRLFNBQVN1USxLQUFLckgsWUFBWWtILEVBaEIxQixDQWlCRixJQXVFR3pKLE1BQUssU0FBQ3NKLEdBQ0xKLEVBQVd0UCxTQUFRLFNBQUNDLEdBQVMsT0F0RUgsU0FBQ0EsRUFBV3lQLEdBQzFDLElBQU1PLEVBQVNoUSxFQUFVcUQsY0FBYyxVQUNqQzJCLEVBQVdoRixFQUFVNEMsYUFBYSwwQkFDbENxTixFQUFRalEsRUFBVTRDLGFBQWEsdUJBQy9Cc04sRUFBWXpGLFNBQVN6SyxFQUFVNEMsYUFBYSxtQkFBb0IsSUFFdEUsR0FBS29OLEdBQVdoTCxHQUFhaUwsR0FBVUMsRUFBdkMsQ0FJQSxJQUFNQyxFQUFTLElBQUlWLEVBQU1DLE9BQU9NLEdBQzVCSSxHQUFhLEVBQ2JDLEVBQWEsRUFDYkMsRUFBbUIsRUFFakJDLEVBQWUsU0FBQ0MsR0FBK0MsSUFBckNDLEVBQVNqQyxVQUFBdlAsT0FBQSxRQUFBd1AsSUFBQUQsVUFBQSxJQUFBQSxVQUFBLEtBQWVBLFVBQUF2UCxPQUFBLFFBQUF3UCxJQUFBRCxVQUFBLElBQUFBLFVBQUEsS0FFeEMxTCxLQUFLYyxNQUVQeU0sRUFBYSxNQURERyxFQUFXRixFQUNlLE1BS2xERCxFQUFhdk4sS0FBS2MsTUFDbEIwTSxFQUFtQkUsRUFFbkJ4SyxNQUFNaEIsRUFBVSxDQUNkMEwsT0FBUSxPQUNSQyxRQUFTLENBQ1AsZUFBZ0IsbUJBQ2hCLGFBQWNWLEdBRWhCL0osWUFBYSxjQUNiMEcsS0FBTWdFLEtBQUtDLFVBQVUsQ0FDbkJDLFdBQVlaLEVBQ1pNLFNBQUFBLEVBQ0FDLFVBQUFBLE1BRUQ3SCxPQUFNLFdBQU8sSUFDbEIsRUFFQXVILEVBQU9qUixHQUFHLFFBQVEsU0FBQ3NILEdBQ2pCNEosR0FBYSxFQUNiLElBQU1JLEVBQVdoSyxHQUFnQyxpQkFBakJBLEVBQUt1SyxRQUF1QnZLLEVBQUt1SyxRQUFVLEVBQzNFUixFQUFhQyxHQUFVLEdBQU8sRUFDaEMsSUFFQUwsRUFBT2pSLEdBQUcsY0FBYyxTQUFDc0gsR0FDdkIsR0FBSzRKLEdBQWU1SixHQUFnQyxpQkFBakJBLEVBQUt1SyxRQUF4QyxDQUdBLElBQU1QLEVBQVdoSyxFQUFLdUssUUFDaEJOLEVBQVlELEdBQVksSUFDOUJELEVBQWFDLEVBQVVDLEVBQVdBLEVBSGxDLENBSUYsSUFFQU4sRUFBT2pSLEdBQUcsU0FBUyxXQUNqQnFSLEVBQWEsR0FBRyxHQUFNLEVBQ3hCLEdBbkRBLENBb0RGLENBVXdDUyxDQUF3QmhSLEVBQVd5UCxFQUFNLEdBQzdFLElBQ0M3RyxPQUFNLFdBQU8sR0FDbEIscUJDM0ZBLElBQWlEcUksSUFTeEMsV0FDVCxPQUFnQixTQUFVQyxHQUVoQixJQUFJQyxFQUFtQixDQUFDLEVBR3hCLFNBQVMsRUFBb0JDLEdBRzVCLEdBQUdELEVBQWlCQyxHQUNuQixPQUFPRCxFQUFpQkMsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0gsRUFBaUJDLEdBQVksQ0FDekNDLFFBQVMsQ0FBQyxFQUNWbEMsR0FBSWlDLEVBQ0pHLFFBQVEsR0FVVCxPQU5BTCxFQUFRRSxHQUFVSSxLQUFLRixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTLEdBRy9EQyxFQUFPQyxRQUFTLEVBR1RELEVBQU9ELE9BQ2YsQ0FhQSxPQVRBLEVBQW9CSSxFQUFJUCxFQUd4QixFQUFvQlEsRUFBSVAsRUFHeEIsRUFBb0JRLEVBQUksR0FHakIsRUFBb0IsRUFDM0IsQ0F4Q00sQ0EwQ04sQ0FFSixTQUFVTCxFQUFRRCxHQUV2QixhQUVBQyxFQUFPRCxRQUFVLFdBT2YsR0FBd0Isb0JBQWI3UixVQUE4QyxvQkFBWGdGLE9BQzVDLE1BQU8sQ0FFTG9OLElBQUssV0FDSCxNQUFPLFNBQ1QsRUFHQTlQLFFBQVMsV0FDUCxPQUFPLElBQ1QsRUFHQStQLFdBQVksV0FBdUIsRUFHbkNDLGFBQWMsV0FBeUIsRUFHdkNDLGlCQUFrQixXQUE2QixFQUcvQ0MsbUJBQW9CLFdBQStCLEdBU3ZELElBQUlDLEVBQVV6UyxTQUFTMFMsZ0JBR25CQyxFQUFpQixLQUdqQkMsRUFBZSxVQUdmQyxFQUFnQkQsRUFHaEJFLEVBQW1CeFAsS0FBS2MsTUFHeEIyTyxHQUFnQixFQUdoQkMsRUFBYSxDQUFDLFNBQVUsUUFBUyxTQUFVLFlBRzNDQyxFQUFlLEdBSWZDLEVBQVksQ0FBQyxHQUNqQixHQUNBLEdBQ0EsR0FDQSxJQUdJQyxFQUFjLEdBR2RDLEVBQVcsQ0FDYkMsUUFBUyxXQUNUQyxNQUFPLFdBQ1BDLFVBQVcsUUFDWEMsVUFBVyxRQUNYQyxjQUFlLFVBQ2ZDLGNBQWUsVUFDZkMsWUFBYSxVQUNiQyxZQUFhLFVBQ2JDLFdBQVksUUFDWkMsU0FBVSxTQUdOQyxHQUFjLEVBR2hCQyxFQUFXLENBQ2JDLEVBQUcsS0FDSEMsRUFBRyxNQUdDQyxFQUFhLENBQ2pCLEVBQUcsUUFDSCxFQUFHLFFBQ0gsRUFBRyxTQUdDQyxHQUFrQixFQUV4QixJQUNFLElBQUlDLEVBQU9DLE9BQU9DLGVBQWUsQ0FBQyxFQUFHLFVBQVcsQ0FDOUNDLElBQUssV0FDSEosR0FBa0IsQ0FDcEIsSUFHRnBQLE9BQU8zRSxpQkFBaUIsT0FBUSxLQUFNZ1UsRUFDeEMsQ0FBRSxNQUFPMVUsR0FBSSxDQVFiLElBZU04VSxFQXFDRkMsRUFBYSxXQUdmLEdBRkEzQixJQUErRCxVQUE3Q04sRUFBUXJQLGFBQWEscUJBQXNGLFVBQW5EcEQsU0FBU29OLEtBQUtoSyxhQUFhLHFCQUluRyxJQUNNNEIsT0FBTzJQLGVBQWVDLFFBQVEsZ0JBQ2hDaEMsRUFBZTVOLE9BQU8yUCxlQUFlQyxRQUFRLGVBRzNDNVAsT0FBTzJQLGVBQWVDLFFBQVEsaUJBQ2hDL0IsRUFBZ0I3TixPQUFPMlAsZUFBZUMsUUFBUSxlQUVsRCxDQUFFLE1BQU9qVixHQUVULENBSUZrVixFQUFTLFNBQ1RBLEVBQVMsU0FDWCxFQUdJQyxFQUFXLFNBQWtCckwsR0FDL0IsSUFBSXNMLEVBQVd0TCxFQUFNdUwsTUFDakI5UyxFQUFRa1IsRUFBUzNKLEVBQU15RCxNQUViLFlBQVZoTCxJQUNGQSxFQUFRc00sRUFBWS9FLElBR3RCLElBQUl3TCxHQUFlOUIsRUFBWTFULFNBQTJDLElBQWpDeVQsRUFBVWdDLFFBQVFILEdBRXZESSxFQUFnQmhDLEVBQVkxVCxTQUE2QyxJQUFuQzBULEVBQVkrQixRQUFRSCxHQUUxREssRUFBeUIsYUFBVmxULEdBQXdCNlMsSUFBYUUsR0FBZUUsSUFBNEIsVUFBVmpULEdBQStCLFVBQVZBLEVBYzlHLEdBWEltVCxFQUFjblQsS0FDaEJrVCxHQUFlLEdBR2JBLEdBQWdCeEMsSUFBaUIxUSxJQUduQ29ULEVBQWEsUUFGYjFDLEVBQWUxUSxHQUdmMlMsRUFBUyxVQUdQTyxHQUFnQnZDLElBQWtCM1EsRUFBTyxDQUUzQyxJQUFJcVQsRUFBYXZWLFNBQVMyTCxjQUNQNEosR0FBY0EsRUFBV0MsWUFBd0UsSUFBM0R4QyxFQUFXa0MsUUFBUUssRUFBV0MsU0FBU0MsZ0JBQStELFdBQXRDRixFQUFXQyxTQUFTQyxnQkFBK0JDLEVBQWFILEVBQVksV0FLbk1ELEVBQWEsU0FGYnpDLEVBQWdCM1EsR0FHaEIyUyxFQUFTLFVBRWIsQ0FDRixFQUdJQSxFQUFXLFNBQWtCRyxHQUMvQnZDLEVBQVFwUixhQUFhLFlBQWMyVCxFQUFpQixVQUFWQSxFQUFvQnBDLEVBQWVDLEdBRTdFOEMsRUFBY1gsRUFDaEIsRUFHSVksRUFBWSxTQUFtQm5NLEdBQ2pDLElBQUl2SCxFQUFRa1IsRUFBUzNKLEVBQU15RCxNQUViLFlBQVZoTCxJQUNGQSxFQUFRc00sRUFBWS9FLElBSXRCb00sRUFBZ0JwTSxLQUdWc0ssSUFBZ0JzQixFQUFjblQsSUFBVTZSLEdBQThCLFVBQWZ0SyxFQUFNeUQsTUFBbUMsZUFBZnpELEVBQU15RCxNQUF3QyxtQkFBZnpELEVBQU15RCxPQUE4QjJGLElBQWtCM1EsSUFHMUtvVCxFQUFhLFNBRmJ6QyxFQUFnQjNRLEdBR2hCMlMsRUFBUyxVQUViLEVBRUlpQixFQUFhLFNBQW9Cck0sR0FDOUJBLEVBQU14SixPQUFPdVYsVUFPbEI3QyxFQUFpQmxKLEVBQU14SixPQUFPdVYsU0FBU0MsY0FDdkNoRCxFQUFRcFIsYUFBYSxtQkFBb0JzUixHQUVyQ2xKLEVBQU14SixPQUFPa0IsV0FBYXNJLEVBQU14SixPQUFPa0IsVUFBVTFCLFFBQ25EZ1QsRUFBUXBSLGFBQWEsbUJBQW9Cb0ksRUFBTXhKLE9BQU9rQixVQUFVZ00sV0FBV1QsUUFBUSxJQUFLLE9BUnhGcUosR0FVSixFQUVJQSxFQUFlLFdBQ2pCcEQsRUFBaUIsS0FFakJGLEVBQVExTSxnQkFBZ0Isb0JBQ3hCME0sRUFBUTFNLGdCQUFnQixtQkFDMUIsRUFFSXVQLEVBQWUsU0FBc0JOLEVBQU85UyxHQUM5QyxHQUFJNlEsRUFDRixJQUNFL04sT0FBTzJQLGVBQWVxQixRQUFRLFFBQVVoQixFQUFPOVMsRUFDakQsQ0FBRSxNQUFPdkMsR0FFVCxDQUVKLEVBTUk2TyxFQUFjLFNBQXFCL0UsR0FDckMsTUFBaUMsaUJBQXRCQSxFQUFNK0UsWUFDUjJGLEVBQVcxSyxFQUFNK0UsYUFHSyxRQUF0Qi9FLEVBQU0rRSxZQUF3QixRQUFVL0UsRUFBTStFLFdBRXpELEVBR0k2RyxFQUFnQixTQUF1Qm5ULEdBQ3pDLElBQUkrVCxFQUFZM1MsS0FBS2MsTUFFakI4UixFQUF5QixVQUFWaFUsR0FBc0MsVUFBakIwUSxHQUE0QnFELEVBQVluRCxFQUFtQixJQUluRyxPQUZBQSxFQUFtQm1ELEVBRVpDLENBQ1QsRUFJSUMsRUFBYyxXQVloQixNQVJJLFlBQWFuVyxTQUFTOEgsY0FBYyxPQUMxQixhQUkwQm1ILElBQTFCalAsU0FBU29XLGFBQTZCLGFBQWUsZ0JBSXJFLEVBR0lULEVBQWdCLFNBQXVCekksR0FDekMsSUFBSyxJQUFJbUosRUFBSSxFQUFHQyxFQUFNckQsRUFBYXhULE9BQVE0VyxFQUFJQyxFQUFLRCxJQUM5Q3BELEVBQWFvRCxHQUFHbkosT0FBU0EsR0FDM0IrRixFQUFhb0QsR0FBR0UsR0FBR3ZFLFVBQUsvQyxFQUFvQixVQUFUL0IsRUFBbUIwRixFQUFlQyxFQUczRSxFQVdJZ0QsRUFBa0IsU0FBeUJwTSxHQUN6Q3VLLEVBQVNDLElBQU14SyxFQUFNK00sU0FBV3hDLEVBQVNFLElBQU16SyxFQUFNZ04sU0FDdkQxQyxHQUFjLEVBRWRDLEVBQVNDLEVBQUl4SyxFQUFNK00sUUFDbkJ4QyxFQUFTRSxFQUFJekssRUFBTWdOLFNBRW5CMUMsR0FBYyxDQUVsQixFQUdJMkIsRUFBZSxTQUFzQmdCLEVBQU1DLEdBQzdDLElBQUlDLEVBQW1CNVIsT0FBTzZSLFFBQVFDLFVBTXRDLEdBSktGLEVBQWlCRyxVQUNwQkgsRUFBaUJHLFFBQVVILEVBQWlCSSxtQkFBcUJKLEVBQWlCSyx1QkFHL0VMLEVBQWlCMVcsUUFXcEIsT0FBT3dXLEVBQUt4VyxRQUFReVcsR0FWcEIsRUFBRyxDQUNELEdBQUlELEVBQUtLLFFBQVFKLEdBQ2YsT0FBT0QsRUFHVEEsRUFBT0EsRUFBS1EsZUFBaUJSLEVBQUtTLFVBQ3BDLE9BQWtCLE9BQVRULEdBQW1DLElBQWxCQSxFQUFLaFUsVUFFL0IsT0FBTyxJQUlYLEVBZ0JBLE1BUkkscUJBQXNCc0MsUUFBVXRFLE1BQU1vVyxVQUFVNUIsVUFqUmxEOUIsRUFBUytDLEtBQWlCLFFBYXRCMUIsR0FBVUwsR0FBa0IsQ0FBRWdELFNBQVMsRUFBTTlJLFNBQVMsR0FFMUR0TyxTQUFTSyxpQkFBaUIsbUJBQW9CcVUsR0FBWSxHQUd0RDFQLE9BQU9xUyxjQUNUclMsT0FBTzNFLGlCQUFpQixjQUFleVUsR0FBVSxHQUNqRDlQLE9BQU8zRSxpQkFBaUIsY0FBZXVWLEdBQVcsSUFDekM1USxPQUFPc1MsZ0JBQ2hCdFMsT0FBTzNFLGlCQUFpQixnQkFBaUJ5VSxHQUFVLEdBQ25EOVAsT0FBTzNFLGlCQUFpQixnQkFBaUJ1VixHQUFXLEtBR3BENVEsT0FBTzNFLGlCQUFpQixZQUFheVUsR0FBVSxHQUMvQzlQLE9BQU8zRSxpQkFBaUIsWUFBYXVWLEdBQVcsR0FHNUMsaUJBQWtCNVEsU0FDcEJBLE9BQU8zRSxpQkFBaUIsYUFBY3lVLEVBQVVMLEdBQ2hEelAsT0FBTzNFLGlCQUFpQixXQUFZeVUsR0FBVSxLQUtsRDlQLE9BQU8zRSxpQkFBaUI4VixJQUFlUCxFQUFXbkIsR0FHbER6UCxPQUFPM0UsaUJBQWlCLFVBQVd5VSxHQUFVLEdBQzdDOVAsT0FBTzNFLGlCQUFpQixRQUFTeVUsR0FBVSxHQUczQzlQLE9BQU8zRSxpQkFBaUIsVUFBV3lWLEdBQVksR0FDL0M5USxPQUFPM0UsaUJBQWlCLFdBQVkwVixHQUFjLElBNE83QyxDQUtMM0QsSUFBSyxTQUFhbUYsR0FDaEIsTUFBZSxXQUFSQSxFQUFtQjFFLEVBQWdCRCxDQUM1QyxFQUdBdFEsUUFBUyxXQUNQLE9BQU9xUSxDQUNULEVBR0FOLFdBQVksU0FBb0JtRixHQUM5QnRFLEVBQVlzRSxDQUNkLEVBR0FsRixhQUFjLFNBQXNCa0YsR0FDbENyRSxFQUFjcUUsQ0FDaEIsRUFLQWpGLGlCQUFrQixTQUEwQmdFLEVBQUlrQixHQUM5Q3hFLEVBQWF5RSxLQUFLLENBQ2hCbkIsR0FBSUEsRUFDSnJKLEtBQU11SyxHQUFhLFNBRXZCLEVBRUFqRixtQkFBb0IsU0FBNEIrRCxHQUM5QyxJQUFJb0IsRUEzRkssU0FBZ0JDLEdBQzNCLElBQUssSUFBSXZCLEVBQUksRUFBR0MsRUFBTXJELEVBQWF4VCxPQUFRNFcsRUFBSUMsRUFBS0QsSUFDbEQsR0FBSXBELEVBQWFvRCxHQUFHRSxLQUFPcUIsRUFDekIsT0FBT3ZCLENBR2IsQ0FxRm1Cd0IsQ0FBT3RCLElBRWxCb0IsR0FBeUIsSUFBYkEsSUFDZDFFLEVBQWE2RSxPQUFPSCxFQUFVLEVBRWxDLEVBRUFJLGFBQWMsV0FDWi9TLE9BQU8yUCxlQUFlcUQsT0FDeEIsRUFFSixDQS9iaUIsRUFpY1gsR0FFUCxFQTNmRWxHLEVBQU9ELFFBQVVKLE1DUGZ3RyxFQUEyQixDQUFDLEVBR2hDLFNBQVNDLEVBQW9CdEcsR0FFNUIsSUFBSXVHLEVBQWVGLEVBQXlCckcsR0FDNUMsUUFBcUIzQyxJQUFqQmtKLEVBQ0gsT0FBT0EsRUFBYXRHLFFBR3JCLElBQUlDLEVBQVNtRyxFQUF5QnJHLEdBQVksQ0FHakRDLFFBQVMsQ0FBQyxHQU9YLE9BSEF1RyxFQUFvQnhHLEdBQVVJLEtBQUtGLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNxRyxHQUdwRXBHLEVBQU9ELE9BQ2YsQ0NyQkFxRyxFQUFvQkcsRUFBSSxTQUFTdkcsR0FDaEMsSUFBSXdHLEVBQVN4RyxHQUFVQSxFQUFPeUcsV0FDN0IsV0FBYSxPQUFPekcsRUFBZ0IsT0FBRyxFQUN2QyxXQUFhLE9BQU9BLENBQVEsRUFFN0IsT0FEQW9HLEVBQW9CTSxFQUFFRixFQUFRLENBQUVHLEVBQUdILElBQzVCQSxDQUNSLEVDTkFKLEVBQW9CTSxFQUFJLFNBQVMzRyxFQUFTNkcsR0FDekMsSUFBSSxJQUFJdlksS0FBT3VZLEVBQ1hSLEVBQW9CUyxFQUFFRCxFQUFZdlksS0FBUytYLEVBQW9CUyxFQUFFOUcsRUFBUzFSLElBQzVFbVUsT0FBT0MsZUFBZTFDLEVBQVMxUixFQUFLLENBQUV5WSxZQUFZLEVBQU1wRSxJQUFLa0UsRUFBV3ZZLElBRzNFLEVDUEErWCxFQUFvQlMsRUFBSSxTQUFTRSxFQUFLQyxHQUFRLE9BQU94RSxPQUFPd0MsVUFBVWlDLGVBQWUvRyxLQUFLNkcsRUFBS0MsRUFBTywwQkNBdEcsSUFBSSxFQUErQjVaLGdCQ09uQyxTQUFTOFosSUFDUCxNQUFpQyxRQUExQjdaLElBQUUsUUFBUUssS0FBSyxNQUN4QixDQVVBLFNBQVN5WixFQUFZeFosRUFBUyxFQUFHeVosR0FDL0IsSUFBSUMsRUFBTSxHQUdWLElBQUssSUFBSTlDLEVBQUksRUFBR0EsRUFBSTVXLEVBQVE0VyxJQUMxQjhDLEdBSFksdUNBR0M1VSxLQUFLQyxNQUZBNFUsR0FFTTdVLEtBQUs4VSxXQUUvQixPQUFPSCxFQUFhLEdBQUVDLEtBQU9ELElBQWNDLENBQzdDLENBVUEsU0FBU0csRUFBYUgsR0FDcEIsT0FBT0EsRUFBSXpNLFFBQVEsMkJBQTRCLE9BQ2pELENBRUEsU0FBUzZNLEVBQWNDLEdBQ3JCLElBT0lyUCxFQVBBc1AsRUFBYyxDQUNoQixXQUFjLGdCQUNkLGlCQUFvQixzQkFDcEIsY0FBaUIsZ0JBQ2pCLFlBQWUsa0JBRWIvQyxFQUFPMVcsU0FBUzhILGNBQWMsT0FHbEMsSUFBSyxJQUFJNFIsS0FBY0QsT0FDaUIsSUFBM0IvQyxFQUFLaE0sTUFBTWdQLEtBQ3BCdlAsRUFBTXNQLEVBQVlDLElBR3RCLE9BQUl2UCxJQUdGWCxZQUFXLFdBQ1RnUSxFQUFNRyxlQUFlLGdCQUFpQixDQUFDSCxHQUN6QyxHQUFHLEdBQ0ksZ0JBRVgsQ0FjQSxTQUFTSSxFQUFPSixFQUFPSyxHQUNyQixNQUFNQyxFQUFrQyxhQUF4QjlaLFNBQVNvRixXQUNuQnFTLEdBQWFxQyxFQUFVLFdBQWEsUUFBVSxrQkFDOUNDLEVBQUtBLElBQU1QLEVBQU1HLGVBQWVsQyxHQVd0QyxPQVRJK0IsSUFDRUssR0FBU0wsRUFBTVEsSUFBSXZDLEVBQVdvQyxHQUU5QkMsRUFDRnRRLFdBQVd1USxHQUVYNWEsSUFBRTZGLFFBQVFnVixJQUFJLE9BQVFELElBR25CdEMsQ0FDVCxDQW9CQSxTQUFTd0MsRUFBcUJKLEdBQVMsa0JBQUVLLEdBQW9CLEVBQUssZUFBRUMsR0FBaUIsR0FBVSxDQUFDLEdBQzlGLE9BQU8sU0FBMkJDLEtBQVdDLEdBQzNDLE1BQU1DLEVBQVdULEVBQVFVLEtBQUtwUCxLQUFNaVAsS0FBV0MsR0FHL0MsR0FBNkIsT0FBekJELEVBQU9JLGNBQ1QsT0FBT0YsSUFNVDlRLFlBQVcsV0FDVCxJQUFLMFEsR0FBcUJsYSxTQUFTeWEsV0FBYXphLFNBQVN5YSxXQUN2RCxPQUFPSCxJQUlKSCxHQUNIaGIsSUFBRWEsVUFBVWdhLElBQUksY0FBYyxTQUE2QlUsR0FDcER2YixJQUFFaWIsRUFBT08sZUFBZUMsSUFBSUYsRUFBU3phLFFBQVFSLFNBRWhEMmEsRUFBT0ksY0FBZ0JFLEVBQVN6YSxPQUNoQ3FhLElBRUosR0FHSixHQUFHLEVBQ0wsQ0FDRixRQzVIQXRWLE9BQU82VixhQUFlN1YsT0FBTzZWLFdBQWMsV0FJekMsSUFBSUMsRUFBYzlWLE9BQU84VixZQUFjOVYsT0FBT21ELE1BRzlDLElBQUsyUyxFQUFZLENBQ2YsSUFFQUMsRUFGSXJRLEVBQVUxSyxTQUFTOEgsY0FBYyxTQUNyQ3NJLEVBQWNwUSxTQUFTZ2IscUJBQXFCLFVBQVUsR0FHdER0USxFQUFNd0MsS0FBUSxXQUNkeEMsRUFBTWlGLEdBQVEsb0JBRVRTLEVBR0hBLEVBQU8rRyxXQUFXcFUsYUFBYTJILEVBQU8wRixHQUZ0Q3BRLFNBQVN1USxLQUFLckgsWUFBWXdCLEdBTTVCcVEsRUFBUSxxQkFBc0IvVixRQUFXQSxPQUFPaVcsaUJBQWlCdlEsRUFBTyxPQUFTQSxFQUFNd1EsYUFFdkZKLEVBQWEsQ0FDWEssWUFBYSxTQUFVaFQsR0FDckIsSUFBSWtDLEVBQU8sVUFBWWxDLEVBQVEseUNBVS9CLE9BUEl1QyxFQUFNMFEsV0FDUjFRLEVBQU0wUSxXQUFXQyxRQUFVaFIsRUFFM0JLLEVBQU0zQyxZQUFjc0MsRUFJQSxRQUFmMFEsRUFBS08sS0FDZCxFQUVKLENBRUEsT0FBTyxTQUFTblQsR0FDZCxNQUFPLENBQ0w0TyxRQUFTK0QsRUFBV0ssWUFBWWhULEdBQVMsT0FDekNBLE1BQU9BLEdBQVMsTUFFcEIsQ0FDRixDQS9DMkMsSUFrRDNDLElBQUlvVCxFQUFhLENBQ2ZDLFFBQVMsR0FFVC9PLFFBQVMsR0FPVGdQLFFBR0UsSUFBMkIsSUFBdkJ0USxLQUFLdVEsY0FDUCxPQUFPdlEsS0FFUEEsS0FBS3VRLGVBQWdCLEVBSVh2YyxJQUFFLHNCQUNKTSxRQUNSTixJQUFFLDZEQUE2RHdjLFNBQVMzYixTQUFTdVEsTUFHbkYsSUFDSXFMLEVBNE1vQnpDLEVBQ3RCMEMsRUE5TUVDLEVBQWtCM2MsSUFBRSxrQkFBa0IyTixJQUFJLGVBTzlDLElBQUssSUFBSTNNLEtBdU1QMGIsV0FBYyxDQUFDLEVBM01qQkQsRUE2TWlCLGlCQUhPekMsRUExTVUyQyxHQThNM0JELEdBR1QxQyxFQUFNQSxFQUFJbFMsT0FBTzhVLE1BQU0sR0FBSSxLQU0zQkYsRUFBYzFDLEVBQUk2QyxNQUFNLEtBQUtyWSxRQUFPLFNBQVNzWSxFQUFLQyxHQUNoRCxJQUFJQyxFQUFRRCxFQUFNeFAsUUFBUSxNQUFPLEtBQUtzUCxNQUFNLEtBQ3hDN2IsRUFBTWdjLEVBQU0sR0FDWkMsRUFBTUQsRUFBTSxHQWNoQixPQWJBaGMsRUFBTWtjLG1CQUFtQmxjLEdBSXpCaWMsT0FBcUIsSUFBUkEsRUFBc0IsS0FBT0MsbUJBQW1CRCxHQUV4REgsRUFBSWxELGVBQWU1WSxHQUViTyxNQUFNd0csUUFBUStVLEVBQUk5YixJQUMzQjhiLEVBQUk5YixHQUFLdVgsS0FBSzBFLEdBRWRILEVBQUk5YixHQUFPLENBQUM4YixFQUFJOWIsR0FBTWljLEdBSnRCSCxFQUFJOWIsR0FBT2ljLEVBTU5ILENBQ1QsR0FBRyxDQUFDLEdBRUdKLEdBdkJFQSxFQTdOSTFRLEtBV05xUSxRQUFVLEdBRUNJLEVBQ1hBLEVBQWE3QyxlQUFlNVksSUFkdEJnTCxLQWVGcVEsUUFBUTlELEtBQUssQ0FDaEI1VyxLQUFNWCxFQUNOK0IsTUFBUSwrQkFBOEIwWixFQUFhemIsUUFLekRnTCxLQUFLc0IsUUFBVXRCLEtBQUttUixrQkFFcEJuUixLQUFLb1IsVUFDUCxFQVFBQyxVQUNFclIsS0FBS3VRLGVBQWdCLEVBQ3JCdlEsS0FBS3NRLE9BQ1AsRUFRQWdCLFFBQVFDLEdBQ04sSUFBSXZXLEVBQVFnRixLQUFLcUosSUFBSWtJLEdBRXJCLFFBQUl2VyxHQUNLbkIsT0FBTzZWLFdBQVcxVSxHQUFPNFEsT0FJcEMsRUFTQTRGLEtBQUtELEdBQ0gsT0FBT0EsSUFBU3ZSLEtBQUttUixpQkFDdkIsRUFRQU0sS0FBS0YsR0FDSCxNQUFNRyxFQUFXMVIsS0FBSzJSLEtBQUtKLEdBSTNCLE9BQUlHLElBQ00xUixLQUFLc1IsUUFBUUksRUFNekIsRUFRQUUsR0FBR0wsR0FDRCxNQUFNUCxFQUFRTyxFQUFLelYsT0FBTytVLE1BQU0sS0FBS2dCLFFBQU83SyxLQUFPQSxFQUFFMVMsVUFDOUN3ZCxFQUFRQyxFQUFhLElBQU1mLEVBR2xDLEdBQW1CLFNBQWZlLEVBQ0YsT0FBTy9SLEtBQUt3UixLQUFLTSxHQUduQixJQUFLQyxHQUE2QixPQUFmQSxFQUNqQixPQUFPL1IsS0FBS3NSLFFBQVFRLEdBR3RCLEdBQW1CLFNBQWZDLEVBQ0YsT0FBTy9SLEtBQUt5UixLQUFLSyxHQUduQixNQUFNLElBQUluVyxNQUFPLG9JQUV1RDRWLFlBRTFFLEVBUUFsSSxJQUFJa0ksR0FDRixJQUFLLElBQUlyRyxLQUFLbEwsS0FBS3FRLFFBQ2pCLEdBQUdyUSxLQUFLcVEsUUFBUXpDLGVBQWUxQyxHQUFJLENBQ2pDLElBQUlsUSxFQUFRZ0YsS0FBS3FRLFFBQVFuRixHQUN6QixHQUFJcUcsSUFBU3ZXLEVBQU1yRixLQUFNLE9BQU9xRixFQUFNakUsS0FDeEMsQ0FHRixPQUFPLElBQ1QsRUFRQTRhLEtBQUtKLEdBQ0gsTUFBTVMsRUFBYWhTLEtBQUtxUSxRQUFRNEIsV0FBV0MsR0FBTWxTLEtBQUttUyxjQUFjRCxLQUFPWCxJQUMzRSxJQUFvQixJQUFoQlMsRUFDRixNQUFNLElBQUlyVyxNQUFPLGlDQUNPNFYsOEdBSzFCLE1BQU1hLEVBQVlwUyxLQUFLcVEsUUFBUTJCLEVBQWEsR0FDNUMsT0FBT0ksRUFBWUEsRUFBVXpjLEtBQU8sSUFDdEMsRUFTQXdjLGNBQWNwYixHQUNaLEdBQXFCLGlCQUFWQSxFQUNULE9BQU9BLEVBQ1QsR0FBcUIsaUJBQVZBLEVBQ1QsT0FBT0EsRUFBTXBCLEtBQ2YsTUFBTSxJQUFJMGMsVUFBVywrSUFFd0R0YixjQUFrQkEsV0FFakcsRUFRQW9hLGtCQUdFLElBRkEsSUFBSW1CLEVBRUtwSCxFQUFJLEVBQUdBLEVBQUlsTCxLQUFLcVEsUUFBUS9iLE9BQVE0VyxJQUFLLENBQzVDLElBQUlsUSxFQUFRZ0YsS0FBS3FRLFFBQVFuRixHQUVyQnJSLE9BQU82VixXQUFXMVUsRUFBTWpFLE9BQU82VSxVQUNqQzBHLEVBQVV0WCxFQUVkLENBRUEsT0FBT3NYLEdBQVd0UyxLQUFLbVMsY0FBY0csRUFDdkMsRUFPQWxCLFdBQ0VwZCxJQUFFNkYsUUFBUXRGLEdBQUcscUJBQXFCLEtBQ2hDLElBQUlnZSxFQUFVdlMsS0FBS21SLGtCQUFtQnFCLEVBQWN4UyxLQUFLc0IsUUFFckRpUixJQUFZQyxJQUVkeFMsS0FBS3NCLFFBQVVpUixFQUdmdmUsSUFBRTZGLFFBQVE0WSxRQUFRLHdCQUF5QixDQUFDRixFQUFTQyxJQUN2RCxHQUVKLEdDN1JFRSxFQUFhLENBQ2ZDLFFBTHVCLFFBVXZCQyxTQUFVLENBQUMsRUFLWEMsT0FBUSxHQU1SQyxPQUFRLFNBQVNBLEVBQVFuZCxHQUd2QixJQUFJNkgsRUFBYTdILEdBQVFvZCxFQUFhRCxHQUdsQ0UsRUFBWUMsRUFBVXpWLEdBRzFCd0MsS0FBSzRTLFNBQVNJLEdBQVloVCxLQUFLeEMsR0FBYXNWLENBQzlDLEVBVUFJLGVBQWdCLFNBQVNKLEVBQVFuZCxHQUMvQixJQUFJd2QsRUFBYXhkLEVBQU9zZCxFQUFVdGQsR0FBUW9kLEVBQWFELEVBQU9NLGFBQWE5SSxjQUMzRXdJLEVBQU9PLEtBQU92RixFQUFZLEVBQUdxRixHQUV6QkwsRUFBT1EsU0FBU2pmLEtBQU0sUUFBTzhlLE1BQWdCTCxFQUFPUSxTQUFTamYsS0FBTSxRQUFPOGUsSUFBY0wsRUFBT08sTUFDL0ZQLEVBQU9RLFNBQVN6WCxLQUFLLGFBQWNpWCxFQUFPUSxTQUFTelgsS0FBSyxXQUFZaVgsR0FLeEVBLEVBQU9RLFNBQVNiLFFBQVMsV0FBVVUsS0FFbkNuVCxLQUFLNlMsT0FBT3RHLEtBQUt1RyxFQUFPTyxLQUcxQixFQVNBRSxpQkFBa0IsU0FBU1QsR0FDekIsSUFBSUssRUFBYUYsRUFBVUYsRUFBYUQsRUFBT1EsU0FBU3pYLEtBQUssWUFBWXVYLGNBU3pFLElBQUksSUFBSXpGLEtBUFIzTixLQUFLNlMsT0FBT2xHLE9BQU8zTSxLQUFLNlMsT0FBTzlJLFFBQVErSSxFQUFPTyxNQUFPLEdBQ3JEUCxFQUFPUSxTQUFTRSxXQUFZLFFBQU9MLEtBQWNNLFdBQVcsWUFLckRoQixRQUFTLGdCQUFlVSxLQUNmTCxFQUNhLG1CQUFqQkEsRUFBT25GLEtBQ2ZtRixFQUFPbkYsR0FBUSxLQUlyQixFQVFDK0YsT0FBUSxTQUFTQyxHQUNmLElBQUlDLEVBQU9ELGFBQW1CM2YsSUFDOUIsSUFDRSxHQUFHNGYsRUFDREQsRUFBUUUsTUFBSyxXQUNYN2YsSUFBRWdNLE1BQU1uRSxLQUFLLFlBQVl5VSxPQUMzQixRQUNHLENBQ0gsSUFDQXdELEVBQVE5VCxNQUNGLENBQ0osT0FBVSxTQUFTK1QsR0FDakJBLEVBQUszZSxTQUFRLFNBQVM0UixHQUNwQkEsRUFBSWlNLEVBQVVqTSxHQUNkaFQsSUFBRSxTQUFVZ1QsRUFBRyxLQUFLZ04sV0FBVyxRQUNqQyxHQUNGLEVBQ0EsT0FBVSxXQUNSTCxFQUFVVixFQUFVVSxHQUNwQjNmLElBQUUsU0FBVTJmLEVBQVMsS0FBS0ssV0FBVyxRQUN2QyxFQUNBLFVBQWEsV0FDWGhVLEtBQUtpVSxPQUFPOUssT0FBTytLLEtBQUtKLEVBQU1sQixVQUNoQyxXQWZnQmUsR0FpQlJBLEVBQ1osQ0FDRixDQUFDLE1BQU0xUSxHQUNMa1IsUUFBUWpXLE1BQU0rRSxFQUNoQixDQUFDLFFBQ0MsT0FBTzBRLENBQ1QsQ0FDRixFQU9EUyxPQUFRLFNBQVM3SSxFQUFNb0ksUUFHRSxJQUFaQSxFQUNUQSxFQUFVeEssT0FBTytLLEtBQUtsVSxLQUFLNFMsVUFHRCxpQkFBWmUsSUFDZEEsRUFBVSxDQUFDQSxJQUdiLElBQUlHLEVBQVE5VCxLQUdaaE0sSUFBQUEsS0FBTzJmLEdBQVMsU0FBU3pJLEVBQUd2VixHQUUxQixJQUFJbWQsRUFBU2dCLEVBQU1sQixTQUFTamQsR0FHaEIzQixJQUFFdVgsR0FBTS9VLEtBQUssU0FBU2IsRUFBSyxLQUFLMGUsUUFBUSxTQUFTMWUsRUFBSyxLQUFLa2MsUUFBTyxXQUM1RSxZQUEyQyxJQUE3QjdkLElBQUVnTSxNQUFNbkUsS0FBSyxXQUM3QixJQUdNZ1ksTUFBSyxXQUNULElBQUlTLEVBQU10Z0IsSUFBRWdNLE1BQ1JrSixFQUFPLENBQUVrTCxRQUFRLEdBRWxCRSxFQUFJamdCLEtBQUssaUJBQ1ZpZ0IsRUFBSWpnQixLQUFLLGdCQUFnQndjLE1BQU0sS0FBS3piLFNBQVEsU0FBU21mLEdBQ25ELElBZ0tRdkcsRUFoS0o1QixFQUFNbUksRUFBTzFELE1BQU0sS0FBSzJELEtBQUksU0FBU2hTLEdBQUssT0FBT0EsRUFBRzFHLE1BQVEsSUFDN0RzUSxFQUFJLEtBQUlsRCxFQUFLa0QsRUFBSSxJQWdLMUIsVUFEYzRCLEVBL0o2QjVCLEVBQUksS0FpSzFDLFVBQVk0QixJQUNYM1YsTUFBWSxFQUFOMlYsR0FDVEEsRUFEMEJ5RyxXQUFXekcsSUFqS3BDLElBRUYsSUFDRXNHLEVBQUl6WSxLQUFLLFdBQVksSUFBSWlYLEVBQU85ZSxJQUFFZ00sTUFBT2tKLEdBQzNDLENBQUMsTUFBTXdMLEdBQ0xQLFFBQVFqVyxNQUFNd1csRUFDaEIsQ0FBQyxRQUNDLE1BQ0YsQ0FDRixHQUNGLEdBQ0YsRUFDQUMsVUFBVzVCLEVBRVg2QixZQUFhLFdBdUNYLE9BREE1Z0IsSUFBQUEsR0FBS2dnQixXQS9CWSxTQUFTak8sR0FDeEIsSUFBSWhFLFNBQWNnRSxFQUNkOE8sRUFBUTdnQixJQUFFLFVBTWQsR0FKRzZnQixFQUFNdmdCLFFBQ1B1Z0IsRUFBTXpnQixZQUFZLFNBR1IsY0FBVDJOLEVBQ0RxTyxFQUFXRSxRQUNYb0MsRUFBVzBCLE9BQU9wVSxVQUNkLElBQVksV0FBVCtCLEVBZ0JQLE1BQU0sSUFBSXNRLFVBQVcsZ0JBQWV0USxpR0FmcEMsSUFBSStTLEVBQU92ZixNQUFNb1csVUFBVWlGLE1BQU0vSixLQUFLaEQsVUFBVyxHQUM3Q2tSLEVBQVkvVSxLQUFLbkUsS0FBSyxZQUUxQixRQUF3QixJQUFka1osUUFBMEQsSUFBdEJBLEVBQVVoUCxHQVN0RCxNQUFNLElBQUlpUCxlQUFlLGlCQUFtQmpQLEVBQVMscUNBQXVDZ1AsRUFBWWhDLEVBQWFnQyxHQUFhLGdCQUFrQixLQVJqSSxJQUFoQi9VLEtBQUsxTCxPQUNKeWdCLEVBQVVoUCxHQUFRa1AsTUFBTUYsRUFBV0QsR0FFckM5VSxLQUFLNlQsTUFBSyxTQUFTM0ksRUFBRzFJLEdBQ3BCdVMsRUFBVWhQLEdBQVFrUCxNQUFNamhCLElBQUV3TyxHQUFJM0csS0FBSyxZQUFhaVosRUFDbEQsR0FPTixDQUNBLE9BQU85VSxJQUNULEVBRU9oTSxHQUNULEdBMkZGLFNBQVMrZSxFQUFhM0gsR0FDcEIsUUFBdUMsSUFBNUI4SixTQUFTdkosVUFBVWhXLEtBQXNCLENBQ2xELElBQ0l5RSxFQURnQix5QkFDVSthLEtBQU0vSixFQUFJcEosWUFDeEMsT0FBUTVILEdBQVdBLEVBQVE5RixPQUFTLEVBQUs4RixFQUFRLEdBQUcwQixPQUFTLEVBQy9ELENBQ0ssWUFBNEIsSUFBakJzUCxFQUFHTyxVQUNWUCxFQUFHZ0ksWUFBWXpkLEtBR2Z5VixFQUFHTyxVQUFVeUgsWUFBWXpkLElBRXBDLENBU0EsU0FBU3NkLEVBQVVqRixHQUNqQixPQUFPQSxFQUFJek0sUUFBUSxrQkFBbUIsU0FBUytJLGFBQ2pELENBL0dBb0ksRUFBVzBDLEtBQU8sQ0FRaEJDLFNBQVUsU0FBVUMsRUFBTUMsR0FDeEIsSUFBSUMsRUFBUSxLQUVaLE9BQU8sV0FDTCxJQUFJQyxFQUFVelYsS0FBTThVLEVBQU9qUixVQUViLE9BQVYyUixJQUNGQSxFQUFRblgsWUFBVyxXQUNqQmlYLEVBQUtMLE1BQU1RLEVBQVNYLEdBQ3BCVSxFQUFRLElBQ1YsR0FBR0QsR0FFUCxDQUNGLEdBR0YxYixPQUFPNlksV0FBYUEsRUFHcEIsV0FDT3ZhLEtBQUtjLEtBQVFZLE9BQU8xQixLQUFLYyxNQUM1QlksT0FBTzFCLEtBQUtjLElBQU1kLEtBQUtjLElBQU0sV0FBYSxPQUFPLElBQUlkLE1BQU9HLFNBQVcsR0FHekUsSUFEQSxJQUFJb2QsRUFBVSxDQUFDLFNBQVUsT0FDaEJ4SyxFQUFJLEVBQUdBLEVBQUl3SyxFQUFRcGhCLFNBQVd1RixPQUFPOGIsd0JBQXlCekssRUFBRyxDQUN0RSxJQUFJMEssRUFBS0YsRUFBUXhLLEdBQ2pCclIsT0FBTzhiLHNCQUF3QjliLE9BQU8rYixFQUFHLHlCQUN6Qy9iLE9BQU9nYyxxQkFBd0JoYyxPQUFPK2IsRUFBRyx5QkFDWC9iLE9BQU8rYixFQUFHLDhCQUM1QyxDQUNBLEdBQUksdUJBQXVCRSxLQUFLamMsT0FBT2tjLFVBQVVDLGFBQzNDbmMsT0FBTzhiLHdCQUEwQjliLE9BQU9nYyxxQkFBc0IsQ0FDbEUsSUFBSUksRUFBVyxFQUNmcGMsT0FBTzhiLHNCQUF3QixTQUFTeEcsR0FDcEMsSUFBSWxXLEVBQU1kLEtBQUtjLE1BQ1hpZCxFQUFXOWMsS0FBSzJHLElBQUlrVyxFQUFXLEdBQUloZCxHQUN2QyxPQUFPb0YsWUFBVyxXQUFhOFEsRUFBUzhHLEVBQVdDLEVBQVcsR0FDNUNBLEVBQVdqZCxFQUNqQyxFQUNBWSxPQUFPZ2MscUJBQXVCelgsWUFDaEMsQ0FJSXZFLE9BQU9zYyxhQUFnQnRjLE9BQU9zYyxZQUFZbGQsTUFDNUNZLE9BQU9zYyxZQUFjLENBQ25CclgsTUFBTzNHLEtBQUtjLE1BQ1pBLElBQUssV0FBWSxPQUFPZCxLQUFLYyxNQUFRK0csS0FBS2xCLEtBQU8sR0FHdEQsQ0EvQkQsR0FnQ0tvVyxTQUFTdkosVUFBVXlELE9BRXRCOEYsU0FBU3ZKLFVBQVV5RCxLQUFPLFNBQVNnSCxHQUNqQyxHQUFvQixtQkFBVHBXLEtBR1QsTUFBTSxJQUFJcVMsVUFBVSx3RUFHdEIsSUFBSWdFLEVBQVU5Z0IsTUFBTW9XLFVBQVVpRixNQUFNL0osS0FBS2hELFVBQVcsR0FDaER5UyxFQUFVdFcsS0FDVnVXLEVBQVUsV0FBWSxFQUN0QkMsRUFBVSxXQUNSLE9BQU9GLEVBQVFyQixNQUFNalYsZ0JBQWdCdVcsRUFDNUJ2VyxLQUNBb1csRUFDRkMsRUFBTTFkLE9BQU9wRCxNQUFNb1csVUFBVWlGLE1BQU0vSixLQUFLaEQsWUFDakQsRUFRSixPQU5JN0QsS0FBSzJMLFlBRVA0SyxFQUFLNUssVUFBWTNMLEtBQUsyTCxXQUV4QjZLLEVBQU83SyxVQUFZLElBQUk0SyxFQUVoQkMsQ0FDVCxHQ2xURixJQUFJQyxFQUFNLENBQ1JDLGlCQWdCRixTQUEwQnZmLEVBQVN3ZixFQUFRQyxFQUFRQyxFQUFRQyxHQUN6RCxPQUFzRSxJQUEvREMsRUFBWTVmLEVBQVN3ZixFQUFRQyxFQUFRQyxFQUFRQyxFQUN0RCxFQWpCRUMsWUFBYUEsRUFDYkMsY0FBZUEsRUFDZkMsbUJBK0dGLFNBQTRCOWYsRUFBU29OLEVBQVFpSSxFQUFVMEssRUFBV0MsRUFBU0MsRUFBU0MsR0FDbEYsSUFHUUMsRUFBUUMsRUFIWkMsRUFBV1IsRUFBYzdmLEdBQ3pCc2dCLEVBQWNsVCxFQUFTeVMsRUFBY3pTLEdBQVUsS0FJbkQsR0FBb0IsT0FBaEJrVCxFQUFzQixDQUUxQixPQUFRakwsR0FDTixJQUFLLE1BQ0g4SyxFQUFTRyxFQUFZQyxPQUFPQyxLQUFPSCxFQUFTaFksT0FBUzJYLEdBQ3JELE1BQ0YsSUFBSyxTQUNIRyxFQUFTRyxFQUFZQyxPQUFPQyxJQUFNRixFQUFZalksT0FBUzJYLEVBQ3ZELE1BQ0YsSUFBSyxPQUNISSxFQUFVRSxFQUFZQyxPQUFPRSxNQUFRSixFQUFTckgsTUFBUWlILEdBQ3RELE1BQ0YsSUFBSyxRQUNIRyxFQUFVRSxFQUFZQyxPQUFPRSxLQUFPSCxFQUFZdEgsTUFBUWlILEVBSzVELE9BQVE1SyxHQUNOLElBQUssTUFDTCxJQUFLLFNBQ0gsT0FBUTBLLEdBQ04sSUFBSyxPQUNISyxFQUFVRSxFQUFZQyxPQUFPRSxLQUFPUixFQUNwQyxNQUNGLElBQUssUUFDSEcsRUFBVUUsRUFBWUMsT0FBT0UsS0FBT0osRUFBU3JILE1BQVFzSCxFQUFZdEgsTUFBUWlILEVBQ3pFLE1BQ0YsSUFBSyxTQUNIRyxFQUFVRixFQUFhRCxFQUFZSyxFQUFZQyxPQUFPRSxLQUFRSCxFQUFZdEgsTUFBUSxFQUFPcUgsRUFBU3JILE1BQVEsRUFBTWlILEVBR3BILE1BQ0YsSUFBSyxRQUNMLElBQUssT0FDSCxPQUFRRixHQUNOLElBQUssU0FDSEksRUFBU0csRUFBWUMsT0FBT0MsSUFBTVIsRUFBVU0sRUFBWWpZLE9BQVNnWSxFQUFTaFksT0FDMUUsTUFDRixJQUFLLE1BQ0g4WCxFQUFTRyxFQUFZQyxPQUFPQyxJQUFNUixFQUNsQyxNQUNGLElBQUssU0FDSEcsRUFBVUcsRUFBWUMsT0FBT0MsSUFBTVIsRUFBV00sRUFBWWpZLE9BQVMsRUFBT2dZLEVBQVNoWSxPQUFTLEdBS3BHLENBRUEsTUFBTyxDQUFDbVksSUFBS0wsRUFBUU0sS0FBTUwsRUFDN0IsR0F2SkEsU0FBU1IsRUFBWTVmLEVBQVN3ZixFQUFRQyxFQUFRQyxFQUFRQyxHQUNwRCxJQUNBZSxFQUFTQyxFQUFZQyxFQUFVQyxFQUQzQkMsRUFBVWpCLEVBQWM3ZixHQUU1QixHQUFJd2YsRUFBUSxDQUNWLElBQUl1QixFQUFVbEIsRUFBY0wsR0FFNUJtQixFQUFjSSxFQUFRMVksT0FBUzBZLEVBQVFSLE9BQU9DLEtBQVFNLEVBQVFQLE9BQU9DLElBQU1NLEVBQVF6WSxRQUNuRnFZLEVBQWFJLEVBQVFQLE9BQU9DLElBQU1PLEVBQVFSLE9BQU9DLElBQ2pESSxFQUFhRSxFQUFRUCxPQUFPRSxLQUFPTSxFQUFRUixPQUFPRSxLQUNsREksRUFBY0UsRUFBUS9ILE1BQVErSCxFQUFRUixPQUFPRSxNQUFTSyxFQUFRUCxPQUFPRSxLQUFPSyxFQUFROUgsTUFDdEYsTUFFRTJILEVBQWNHLEVBQVFFLFdBQVczWSxPQUFTeVksRUFBUUUsV0FBV1QsT0FBT0MsS0FBUU0sRUFBUVAsT0FBT0MsSUFBTU0sRUFBUXpZLFFBQ3pHcVksRUFBYUksRUFBUVAsT0FBT0MsSUFBTU0sRUFBUUUsV0FBV1QsT0FBT0MsSUFDNURJLEVBQWFFLEVBQVFQLE9BQU9FLEtBQU9LLEVBQVFFLFdBQVdULE9BQU9FLEtBQzdESSxFQUFhQyxFQUFRRSxXQUFXaEksT0FBUzhILEVBQVFQLE9BQU9FLEtBQU9LLEVBQVE5SCxPQVF6RSxPQUxBMkgsRUFBYWhCLEVBQWUsRUFBSTFkLEtBQUtnZixJQUFJTixFQUFZLEdBQ3JERCxFQUFhemUsS0FBS2dmLElBQUlQLEVBQVMsR0FDL0JFLEVBQWEzZSxLQUFLZ2YsSUFBSUwsRUFBVSxHQUNoQ0MsRUFBYTVlLEtBQUtnZixJQUFJSixFQUFXLEdBRTdCcEIsRUFDS21CLEVBQVdDLEVBRWhCbkIsRUFDS2dCLEVBQVVDLEVBSVoxZSxLQUFLaWYsS0FBTVIsRUFBVUEsRUFBWUMsRUFBYUEsRUFBZUMsRUFBV0EsRUFBYUMsRUFBWUEsRUFDMUcsQ0FTQSxTQUFTaEIsRUFBY3pMLEdBR3JCLElBRkFBLEVBQU9BLEVBQUtqWCxPQUFTaVgsRUFBSyxHQUFLQSxLQUVsQjFSLFFBQVUwUixJQUFTMVcsU0FDOUIsTUFBTSxJQUFJOEcsTUFBTSxnREFHbEIsSUFBSTJjLEVBQU8vTSxFQUFLZ04sd0JBQ1pDLEVBQVVqTixFQUFLUyxXQUFXdU0sd0JBQzFCRSxFQUFVNWpCLFNBQVNvTixLQUFLc1csd0JBQ3hCRyxFQUFPN2UsT0FBT3lJLFlBQ2RxVyxFQUFPOWUsT0FBTytlLFlBRWxCLE1BQU8sQ0FDTHpJLE1BQU9tSSxFQUFLbkksTUFDWjNRLE9BQVE4WSxFQUFLOVksT0FDYmtZLE9BQVEsQ0FDTkMsSUFBS1csRUFBS1gsSUFBTWUsRUFDaEJkLEtBQU1VLEVBQUtWLEtBQU9lLEdBRXBCRSxXQUFZLENBQ1YxSSxNQUFPcUksRUFBUXJJLE1BQ2YzUSxPQUFRZ1osRUFBUWhaLE9BQ2hCa1ksT0FBUSxDQUNOQyxJQUFLYSxFQUFRYixJQUFNZSxFQUNuQmQsS0FBTVksRUFBUVosS0FBT2UsSUFHekJSLFdBQVksQ0FDVmhJLE1BQU9zSSxFQUFRdEksTUFDZjNRLE9BQVFpWixFQUFRalosT0FDaEJrWSxPQUFRLENBQ05DLElBQUtlLEVBQ0xkLEtBQU1lLElBSWQsQ0M1RkEsU0FBU0csRUFBZUMsRUFBUTVKLEdBQzlCLElBQUk2SixFQUFXRCxFQUFPemtCLE9BeUJ0QixTQUFTMmtCLElBRVUsS0FEakJELEdBRUU3SixHQUVKLENBNUJpQixJQUFiNkosR0FDRjdKLElBR0Y0SixFQUFPbEYsTUFBSyxXQUVWLEdBQUk3VCxLQUFLa1osZUFBeUMsSUFBdEJsWixLQUFLbVosYUFDL0JGLFFBRUcsQ0FFSCxJQUFJRyxFQUFRLElBQUlDLE1BRVpDLEVBQVMsaUNBQ2J0bEIsSUFBRW9sQixHQUFPdkssSUFBSXlLLEdBQVEsU0FBU0MsSUFFNUJ2bEIsSUFBRWdNLE1BQU13WixJQUFJRixFQUFRQyxHQUNwQk4sR0FDRixJQUNBRyxFQUFNeGIsSUFBTTVKLElBQUVnTSxNQUFNM0wsS0FBSyxNQUMzQixDQUNGLEdBUUYsQ0M1QkEsTUFBTW9sQixFQUFXLENBQ2YsRUFBRyxNQUNILEdBQUksUUFDSixHQUFJLFNBQ0osR0FBSSxRQUNKLEdBQUksTUFDSixHQUFJLE9BQ0osR0FBSSxhQUNKLEdBQUksV0FDSixHQUFJLGNBQ0osR0FBSSxjQUdOLElBQUlDLEVBQVcsQ0FBQyxFQUdoQixTQUFTQyxFQUFjckcsR0FDckIsUUFBSUEsR0FDR0EsRUFBUzljLEtBQUssZ0xBQWdMcWIsUUFBTyxXQUMxTSxTQUFLN2QsSUFBRWdNLE1BQU00UixHQUFHLGFBQWU1ZCxJQUFFZ00sTUFBTTNMLEtBQUssWUFBYyxFQUU1RCxJQUNDdWxCLE1BQU0sU0FBVXRNLEVBQUd1TSxHQUNsQixHQUFJN2xCLElBQUVzWixHQUFHalosS0FBSyxjQUFnQkwsSUFBRTZsQixHQUFHeGxCLEtBQUssWUFDdEMsT0FBTyxFQUVULElBQUl5bEIsRUFBWWhhLFNBQVM5TCxJQUFFc1osR0FBR2paLEtBQUssWUFBYSxJQUM5QzBsQixFQUFZamEsU0FBUzlMLElBQUU2bEIsR0FBR3hsQixLQUFLLFlBQWEsSUFFOUMsWUFBcUMsSUFBMUJMLElBQUVzWixHQUFHalosS0FBSyxhQUErQjBsQixFQUFZLEVBQ3ZELE9BRTRCLElBQTFCL2xCLElBQUU2bEIsR0FBR3hsQixLQUFLLGFBQStCeWxCLEVBQVksR0FDdEQsRUFFUSxJQUFkQSxHQUFtQkMsRUFBWSxFQUMxQixFQUVTLElBQWRBLEdBQW1CRCxFQUFZLEdBRy9CQSxFQUFZQyxHQUZOLEVBS05ELEVBQVlDLEVBQ1AsT0FEVCxDQUdGLEdBQ0YsQ0FFQSxTQUFTQyxFQUFTMWIsR0FDaEIsSUFBSXRKLEVBQU15a0IsRUFBU25iLEVBQU11TCxPQUFTdkwsRUFBTTJiLFVBQVlqakIsT0FBT2tqQixhQUFhNWIsRUFBTXVMLE9BQU9zUSxjQVlyRixPQVRBbmxCLEVBQU1BLEVBQUl1TSxRQUFRLE1BQU8sSUFFckJqRCxFQUFNOGIsV0FBVXBsQixFQUFPLFNBQVFBLEtBQy9Cc0osRUFBTWdDLFVBQVN0TCxFQUFPLFFBQU9BLEtBQzdCc0osRUFBTStiLFNBQVFybEIsRUFBTyxPQUFNQSxLQUd6QkEsRUFBSXVNLFFBQVEsS0FBTSxHQUcxQixDQUVBLElBQUkrWSxFQUFXLENBQ2JwRyxLQWdIRixTQUFxQnFHLEdBQ25CLElBQUlDLEVBQUksQ0FBQyxFQUNULElBQUssSUFBSUMsS0FBTUYsRUFDVEEsRUFBSTNNLGVBQWU2TSxLQUFLRCxFQUFFRCxFQUFJRSxJQUFPRixFQUFJRSxJQUUvQyxPQUFPRCxDQUNULENBdEhRRSxDQUFZakIsR0FRbEJPLFNBQVVBLEVBUVZXLFVBQVVyYyxFQUFPc2MsRUFBV0MsR0FDMUIsSUFJRXpQLEVBSkUwUCxFQUFjcEIsRUFBU2tCLEdBQ3pCWCxFQUFVamEsS0FBS2dhLFNBQVMxYixHQUsxQixJQUFLd2MsRUFBYSxPQUFPM0csUUFBUTRHLEtBQUssMEJBR3RDLElBQTZCLElBQXpCemMsRUFBTTBjLGVBY1YsSUFGQTVQLEVBQUt5UCxRQVQwQixJQUFwQkMsRUFBWUcsSUFDWkgsRUFFSEksSUFBY2xuQixJQUFBQSxPQUFTLENBQUMsRUFBRzhtQixFQUFZRyxJQUFLSCxFQUFZak4sS0FFaEQ3WixJQUFBQSxPQUFTLENBQUMsRUFBRzhtQixFQUFZak4sSUFBS2lOLEVBQVlHLE1BRTNDaEIsTUFJUyxtQkFBUDdPLEVBQW1CLENBQ2xDLElBQUkrUCxFQUFjL1AsRUFBRzZKLFFBR3JCM1csRUFBTTBjLGdCQUFpQixHQUduQkgsRUFBVU8sU0FBd0MsbUJBQXRCUCxFQUFVTyxVQUN0Q1AsRUFBVU8sUUFBUUQsRUFFeEIsTUFFTU4sRUFBVVEsV0FBNEMsbUJBQXhCUixFQUFVUSxZQUN4Q1IsRUFBVVEsV0FHbEIsRUFRQTFCLGNBQWVBLEVBUWYyQixTQUFTQyxFQUFlQyxHQUN0QjlCLEVBQVM2QixHQUFpQkMsQ0FDNUIsRUFTQUMsVUFBVW5JLEdBQ1IsSUFBSW9JLEVBQWEvQixFQUFjckcsR0FDM0JxSSxFQUFrQkQsRUFBV0UsR0FBRyxHQUNoQ0MsRUFBaUJILEVBQVdFLElBQUksR0FFcEN0SSxFQUFTL2UsR0FBRyx3QkFBd0IsU0FBUytKLEdBQ3ZDQSxFQUFNeEosU0FBVyttQixFQUFlLElBQTBCLFFBQXBCN0IsRUFBUzFiLElBQ2pEQSxFQUFNN0osaUJBQ05rbkIsRUFBZ0IxbUIsU0FFVHFKLEVBQU14SixTQUFXNm1CLEVBQWdCLElBQTBCLGNBQXBCM0IsRUFBUzFiLEtBQ3ZEQSxFQUFNN0osaUJBQ05vbkIsRUFBZTVtQixRQUVuQixHQUNGLEVBS0E2bUIsYUFBYXhJLEdBQ1hBLEVBQVNrRyxJQUFJLHVCQUNmLEdDL0tGLE1BQU11QyxFQUFnQixDQUFDLFlBQWEsYUFDOUJDLEVBQWdCLENBQUMsbUJBQW9CLG9CQUVyQ0MsRUFBUyxDQUNiQyxVQUFXLFNBQVMva0IsRUFBU2dsQixFQUFXdk4sR0FDdEN3TixHQUFRLEVBQU1qbEIsRUFBU2dsQixFQUFXdk4sRUFDcEMsRUFFQXlOLFdBQVksU0FBU2xsQixFQUFTZ2xCLEVBQVd2TixHQUN2Q3dOLEdBQVEsRUFBT2psQixFQUFTZ2xCLEVBQVd2TixFQUNyQyxHQUdGLFNBQVMwTixFQUFLQyxFQUFVaFIsRUFBTUgsR0FDNUIsSUFBSW9SLEVBQU1DLEVBQU0zZCxFQUFRLEtBRXhCLEdBQWlCLElBQWJ5ZCxFQUdGLE9BRkFuUixFQUFHNkosTUFBTTFKLFFBQ1RBLEVBQUtrSCxRQUFRLHNCQUF1QixDQUFDbEgsSUFBT2lELGVBQWUsc0JBQXVCLENBQUNqRCxJQWVyRmlSLEVBQU8zaUIsT0FBTzhiLHVCQVhkLFNBQVMrRyxFQUFLQyxHQUNSN2QsSUFBT0EsRUFBUTZkLEdBQ25CRixFQUFPRSxFQUFLN2QsRUFDWnNNLEVBQUc2SixNQUFNMUosR0FFTmtSLEVBQU9GLEVBQVdDLEVBQU8zaUIsT0FBTzhiLHNCQUFzQitHLEVBQU1uUixJQUU3RDFSLE9BQU9nYyxxQkFBcUIyRyxHQUM1QmpSLEVBQUtrSCxRQUFRLHNCQUF1QixDQUFDbEgsSUFBT2lELGVBQWUsc0JBQXVCLENBQUNqRCxJQUV2RixHQUVGLENBV0EsU0FBUzZRLEVBQVFRLEVBQU16bEIsRUFBU2dsQixFQUFXdk4sR0FHekMsSUFGQXpYLEVBQVVuRCxJQUFFbUQsR0FBU3lrQixHQUFHLElBRVh0bkIsT0FBYixDQUVBLElBQUl1b0IsRUFBWUQsRUFBT2IsRUFBWSxHQUFLQSxFQUFZLEdBQ2hEZSxFQUFjRixFQUFPWixFQUFjLEdBQUtBLEVBQWMsR0FHMURlLElBRUE1bEIsRUFDR3ZDLFNBQVN1bkIsR0FDVHhhLElBQUksYUFBYyxRQUVyQmdVLHVCQUFzQixLQUNwQnhlLEVBQVF2QyxTQUFTaW9CLEdBQ2JELEdBQU16bEIsRUFBUTZsQixNQUFNLElBSTFCckgsdUJBQXNCLEtBSXBCeGUsRUFBUSxHQUFHOGxCLFlBQ1g5bEIsRUFDR3dLLElBQUksYUFBYyxJQUNsQi9NLFNBQVNrb0IsRUFBWSxJQUkxQjNsQixFQUFRMFgsSUFBSVQsRUFBY2pYLElBRzFCLFdBQ095bEIsR0FBTXpsQixFQUFRK2xCLE9BQ25CSCxJQUNJbk8sR0FBSUEsRUFBR3FHLE1BQU05ZCxFQUNuQixHQXBDMkIsQ0F1QzNCLFNBQVM0bEIsSUFDUDVsQixFQUFRLEdBQUdvSSxNQUFNNGQsbUJBQXFCLEVBQ3RDaG1CLEVBQVEvQyxZQUFhLEdBQUV5b0IsS0FBYUMsS0FBZVgsSUFDckQsQ0FDRixDQ2pHQSxNQUFNaUIsRUFBTyxDQUNYQyxRQUFRQyxFQUFNdmIsRUFBTyxNQUNuQnViLEVBQUtqcEIsS0FBSyxPQUFRLFdBQ2xCaXBCLEVBQUs5bUIsS0FBSyxLQUFLbkMsS0FBSyxDQUFDLEtBQVEsYUFFN0IsSUFBSTJILEVBQVFzaEIsRUFBSzltQixLQUFLLE1BQU1uQyxLQUFLLENBQUMsS0FBUSxTQUN0Q2twQixFQUFnQixNQUFLeGIsWUFDckJ5YixFQUFnQixHQUFFRCxTQUNsQkUsRUFBZSxNQUFLMWIsbUJBQ3BCMmIsRUFBc0IsY0FBVDNiLEVBRWpCL0YsRUFBTTZYLE1BQUssV0FDVCxJQUFJOEosRUFBUTNwQixJQUFFZ00sTUFDVjRkLEVBQU9ELEVBQU14YyxTQUFTLE1BRTFCLEdBQUl5YyxFQUFLdHBCLE9BQVEsQ0FFZixHQURBcXBCLEVBQU0vb0IsU0FBUzZvQixHQUNaQyxFQUFXLENBQ1osTUFBTUcsRUFBWUYsRUFBTXhjLFNBQVMsV0FDakMwYyxFQUFVeHBCLEtBQUssQ0FDYixpQkFBaUIsRUFDakIsYUFBY3dwQixFQUFVeHBCLEtBQUssZUFBaUJ3cEIsRUFBVTNlLFNBSzlDLGNBQVQ2QyxHQUNENGIsRUFBTXRwQixLQUFLLENBQUMsaUJBQWlCLEdBRWpDLENBQ0F1cEIsRUFDR2hwQixTQUFVLFdBQVUyb0IsS0FDcEJscEIsS0FBSyxDQUNKLGVBQWdCLEdBQ2hCLEtBQVEsWUFFQSxjQUFUME4sR0FDRDZiLEVBQUt2cEIsS0FBSyxDQUFDLGVBQWUsR0FFOUIsQ0FFSXNwQixFQUFNaEgsT0FBTyxrQkFBa0JyaUIsUUFDakNxcEIsRUFBTS9vQixTQUFVLG1CQUFrQjRvQixJQUV0QyxHQUdGLEVBRUFNLEtBQUtSLEVBQU12YixHQUNULElBQ0l3YixFQUFnQixNQUFLeGIsWUFDckJ5YixFQUFnQixHQUFFRCxTQUNsQkUsRUFBZSxNQUFLMWIsbUJBRXhCdWIsRUFDRzltQixLQUFLLDBEQUNMcEMsWUFBYSxHQUFFbXBCLEtBQWdCQyxLQUFnQkMsdUNBQy9DakssV0FBVyxnQkFBZ0I3UixJQUFJLFVBQVcsR0FFL0MsR0M5REYsU0FBU29jLEVBQU14UyxFQUFNakMsRUFBU3NGLEdBQzVCLElBSUk5UCxFQUNBMFcsRUFMQTFCLEVBQVE5VCxLQUNSdWMsRUFBV2pULEVBQVFpVCxTQUNuQnlCLEVBQVk3VSxPQUFPK0ssS0FBSzNJLEVBQUsxUCxRQUFRLElBQU0sUUFDM0NvaUIsR0FBVSxFQUlkamUsS0FBS2tlLFVBQVcsRUFFaEJsZSxLQUFLbWUsUUFBVSxXQUNiRixHQUFVLEVBQ1Y3ZixhQUFhb1gsR0FDYnhWLEtBQUtsQixPQUNQLEVBRUFrQixLQUFLbEIsTUFBUSxXQUNYa0IsS0FBS2tlLFVBQVcsRUFFaEI5ZixhQUFhb1gsR0FDYnlJLEVBQVNBLEdBQVUsRUFBSTFCLEVBQVcwQixFQUNsQzFTLEVBQUsxUCxLQUFLLFVBQVUsR0FDcEJpRCxFQUFRM0csS0FBS2MsTUFDYnVjLEVBQVFuWCxZQUFXLFdBQ2RpTCxFQUFROFUsVUFDVHRLLEVBQU1xSyxVQUVKdlAsR0FBb0IsbUJBQVBBLEdBQXFCQSxHQUN4QyxHQUFHcVAsR0FDSDFTLEVBQUtrSCxRQUFTLGlCQUFnQnVMLElBQ2hDLEVBRUFoZSxLQUFLcWUsTUFBUSxXQUNYcmUsS0FBS2tlLFVBQVcsRUFFaEI5ZixhQUFhb1gsR0FDYmpLLEVBQUsxUCxLQUFLLFVBQVUsR0FDcEIsSUFBSW1ELEVBQU03RyxLQUFLYyxNQUNmZ2xCLEdBQW1CamYsRUFBTUYsRUFDekJ5TSxFQUFLa0gsUUFBUyxrQkFBaUJ1TCxJQUNqQyxDQUNGLENDbENBLElBRUlNLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBTEFDLEVBQVEsQ0FBQyxFQU1UQyxHQUFXLEVBQ1hDLEdBQVcsRUFFZixTQUFTQyxFQUFXcnFCLEdBS2xCLEdBSkF3TCxLQUFLOGUsb0JBQW9CLFlBQWFDLEdBQ3RDL2UsS0FBSzhlLG9CQUFvQixXQUFZRCxJQUdoQ0QsRUFBVSxDQUNiLElBQUlJLEVBQVdockIsSUFBQUEsTUFBUSxNQUFPeXFCLEdBQWNqcUIsR0FDNUNSLElBQUVnTSxNQUFNeVMsUUFBUXVNLEVBQ2xCLENBRUFQLEVBQWEsS0FDYkUsR0FBVyxFQUNYQyxHQUFXLENBQ2IsQ0FFQSxTQUFTRyxFQUFZdnFCLEdBR25CLElBRkksSUFBU1IsSUFBQUEsVUFBWVMsZ0JBQWtCRCxFQUFFQyxpQkFFMUNrcUIsRUFBVSxDQUNYLElBSUlNLEVBSkFuVyxFQUFJdFUsRUFBRTBxQixRQUFRLEdBQUc1YixNQUVqQjZiLEVBQUtiLEVBQVl4VixFQUdyQjhWLEdBQVcsRUFDWEosR0FBYyxJQUFJcm1CLE1BQU9HLFVBQVlpbUIsRUFDbENubEIsS0FBS3FLLElBQUkwYixJQUFPbnJCLElBQUFBLFVBQVlvckIsZUFBaUJaLEdBQWV4cUIsSUFBQUEsVUFBWXFyQixnQkFDekVKLEVBQU1FLEVBQUssRUFBSSxPQUFTLFNBS3ZCRixJQUNEenFCLEVBQUVDLGlCQUNGb3FCLEVBQVc1SixNQUFNalYsS0FBTTZELFdBQ3ZCN1AsSUFBRWdNLE1BQ0N5UyxRQUFRemUsSUFBQUEsTUFBUSxRQUFTbVYsT0FBT21XLE9BQU8sQ0FBQyxFQUFHOXFCLElBQUt5cUIsR0FDaER4TSxRQUFRemUsSUFBQUEsTUFBUyxRQUFPaXJCLElBQU85VixPQUFPbVcsT0FBTyxDQUFDLEVBQUc5cUIsS0FFeEQsQ0FFRixDQUVBLFNBQVMrcUIsRUFBYS9xQixHQUVLLElBQXJCQSxFQUFFMHFCLFFBQVE1cUIsU0FDWmdxQixFQUFZOXBCLEVBQUUwcUIsUUFBUSxHQUFHNWIsTUFDekJtYixFQUFhanFCLEVBQ2JtcUIsR0FBVyxFQUNYQyxHQUFXLEVBQ1hMLEdBQVksSUFBSXBtQixNQUFPRyxVQUN2QjBILEtBQUs5SyxpQkFBaUIsWUFBYTZwQixFQUFhLENBQUU5UyxTQUFVLElBQVNqWSxJQUFBQSxVQUFZUyxpQkFDakZ1TCxLQUFLOUssaUJBQWlCLFdBQVkycEIsR0FBWSxHQUVsRCxDQUVBLFNBQVNXLElBQ1B4ZixLQUFLOUssa0JBQW9COEssS0FBSzlLLGlCQUFpQixhQUFjcXFCLEVBQWMsQ0FBRXRULFNBQVUsR0FDekYsQ0FNQSxNQUFNd1QsRUFDSnJNLGNBQ0VwVCxLQUFLMlMsUUFBVSxRQUNmM1MsS0FBSzBmLFFBQVUsaUJBQWtCN3FCLFNBQVMwUyxnQkFDMUN2SCxLQUFLdkwsZ0JBQWlCLEVBQ3RCdUwsS0FBS29mLGNBQWdCLEdBQ3JCcGYsS0FBS3FmLGNBQWdCLElBQ3JCcmYsS0FBS3NRLE9BQ1AsQ0FFQUEsUUFDRXRjLElBQUFBLE1BQVEyckIsUUFBUUMsTUFBUSxDQUFFQyxNQUFPTCxHQUNqQ3hyQixJQUFBQSxNQUFRMnJCLFFBQVFHLElBQU0sQ0FBRUQsTUFBT0wsR0FFL0J4ckIsSUFBQUEsS0FBTyxDQUFDLE9BQVEsS0FBTSxPQUFRLFVBQVUsV0FDdENBLElBQUFBLE1BQVEyckIsUUFBUyxRQUFPM2YsUUFBVSxDQUFFNmYsTUFBTyxXQUN6QzdyQixJQUFFZ00sTUFBTXpMLEdBQUcsUUFBU1AsSUFBQUEsS0FDdEIsRUFDRixHQUNGLEVBVUYwcUIsRUFBTXFCLGVBQWlCLFdBQ3JCL3JCLElBQUFBLFVBQWMsSUFBSXlyQixFQUFVenJCLElBQzlCLEVBS0EwcUIsRUFBTXNCLGtCQUFvQixXQUN4QmhzQixJQUFBQSxHQUFLaXNCLFNBQVcsV0FDZGpnQixLQUFLNlQsTUFBSyxTQUFTM0ksRUFBRzFJLEdBQ3BCeE8sSUFBRXdPLEdBQUk0TSxLQUFLLDZDQUE2QyxTQUFTOVEsR0FHL0Q0aEIsRUFBWTVoQixFQUNkLEdBQ0YsSUFFQSxJQUFJNGhCLEVBQWMsU0FBUzVoQixHQUN6QixJQVFJNmhCLEVBUEFDLEVBRFU5aEIsRUFBTStoQixlQUNBLEdBTWhCdGUsRUFMYSxDQUNYMkcsV0FBWSxZQUNaNFgsVUFBVyxZQUNYM1gsU0FBVSxXQUVNckssRUFBTXlELE1BSXpCLGVBQWdCbEksUUFBdUMsbUJBQXRCQSxPQUFPMG1CLFdBQ3pDSixFQUFpQixJQUFJdG1CLE9BQU8wbUIsV0FBV3hlLEVBQU0sQ0FDM0MsU0FBVyxFQUNYLFlBQWMsRUFDZCxRQUFXcWUsRUFBTS9VLFFBQ2pCLFFBQVcrVSxFQUFNOVUsUUFDakIsUUFBVzhVLEVBQU1JLFFBQ2pCLFFBQVdKLEVBQU1LLFdBR25CTixFQUFpQnRyQixTQUFTNnJCLFlBQVksZUFDdkJDLGVBQWU1ZSxHQUFNLEdBQU0sRUFBTWxJLE9BQVEsRUFBR3VtQixFQUFNL1UsUUFBUytVLEVBQU05VSxRQUFTOFUsRUFBTUksUUFBU0osRUFBTUssU0FBUyxHQUFPLEdBQU8sR0FBTyxFQUFPLEVBQVcsTUFFaEtMLEVBQU10ckIsT0FBTzhyQixjQUFjVCxFQUM3QixDQUNGLENBQ0YsRUFFQXpCLEVBQU1jLEtBQU8sZ0JBQ2dCLElBQWpCeHJCLElBQUFBLFlBQ1IwcUIsRUFBTXFCLGVBQWUvckIsS0FDckIwcUIsRUFBTXNCLGtCQUFrQmhzQixLQUU1QixFQzdKQSxNQUFNNnNCLEVBQW9CLFdBRXhCLElBREEsSUFBSUMsRUFBVyxDQUFDLFNBQVUsTUFBTyxJQUFLLEtBQU0sSUFDbkM1VixFQUFFLEVBQUdBLEVBQUk0VixFQUFTeHNCLE9BQVE0VyxJQUNqQyxHQUFLLEdBQUU0VixFQUFTNVYsdUJBQXdCclIsT0FDdEMsT0FBT0EsT0FBUSxHQUFFaW5CLEVBQVM1VixzQkFHOUIsT0FBTyxDQUNULENBUjBCLEdBVXBCNlYsRUFBV0EsQ0FBQ3ZlLEVBQUlULEtBQ3BCUyxFQUFHM0csS0FBS2tHLEdBQU04TyxNQUFNLEtBQUt6YixTQUFRb1AsSUFDL0J4USxJQUFHLElBQUd3USxLQUFnQixVQUFUekMsRUFBbUIsVUFBWSxrQkFBbUIsR0FBRUEsZUFBbUIsQ0FBQ1MsR0FBSSxHQUN6RixFQUdKLElBQUl3ZSxFQUFXLENBQ2JDLFVBQVcsQ0FDVEMsTUFBTyxDQUFDLEVBQ1JDLE9BQVEsQ0FBQyxHQUVYQyxhQUFjLENBQUMsR0FtSWpCLFNBQVNDLEVBQXVCQyxFQUFVN08sRUFBUzhPLEdBQ2pELElBQUkvTCxFQUFPVixFQUFPdmYsTUFBTW9XLFVBQVVpRixNQUFNL0osS0FBS2hELFVBQVcsR0FDeEQ3UCxJQUFFNkYsUUFBUXRGLEdBQUdrZSxHQUFTLFdBQ2hCK0MsR0FBU3BYLGFBQWFvWCxHQUMxQkEsRUFBUW5YLFlBQVcsV0FDakJrakIsRUFBU3RNLE1BQU0sS0FBTUgsRUFDdkIsR0FBR3dNLEdBQVksR0FDakIsR0FDRixDQXhJQU4sRUFBU0MsVUFBVUMsTUFBUyxDQUMxQk0sYUFBYyxXQUNaVCxFQUFTL3NCLElBQUVnTSxNQUFPLE9BQ3BCLEVBQ0F5aEIsY0FBZSxXQUNKenRCLElBQUVnTSxNQUFNbkUsS0FBSyxTQUVwQmtsQixFQUFTL3NCLElBQUVnTSxNQUFPLFNBR2xCaE0sSUFBRWdNLE1BQU15UyxRQUFRLG1CQUVwQixFQUNBaVAsZUFBZ0IsV0FDTDF0QixJQUFFZ00sTUFBTW5FLEtBQUssVUFFcEJrbEIsRUFBUy9zQixJQUFFZ00sTUFBTyxVQUVsQmhNLElBQUVnTSxNQUFNeVMsUUFBUSxvQkFFcEIsRUFDQWtQLGtCQUFtQixTQUFTbnRCLEdBQzFCLElBQUkybkIsRUFBWW5vQixJQUFFZ00sTUFBTW5FLEtBQUssWUFHN0JySCxFQUFFRSxrQkFFZSxLQUFkeW5CLEVBQ0RGLEVBQU9JLFdBQVdyb0IsSUFBRWdNLE1BQU9tYyxHQUFXLFdBQ3BDbm9CLElBQUVnTSxNQUFNeVMsUUFBUSxZQUNsQixJQUVBemUsSUFBRWdNLE1BQU00aEIsVUFBVW5QLFFBQVEsWUFFOUIsRUFDQW9QLG9CQUFxQixXQUNuQixJQUFJcmQsRUFBS3hRLElBQUVnTSxNQUFNbkUsS0FBSyxnQkFDdEI3SCxJQUFHLElBQUd3USxLQUFNZ0ssZUFBZSxvQkFBcUIsQ0FBQ3hhLElBQUVnTSxPQUNyRCxHQUlGZ2hCLEVBQVNJLGFBQWFVLGdCQUFtQnpULElBQ3ZDQSxFQUFNbUwsSUFBSSxtQkFBb0J3SCxFQUFTQyxVQUFVQyxNQUFNTSxjQUN2RG5ULEVBQU05WixHQUFHLG1CQUFvQixjQUFleXNCLEVBQVNDLFVBQVVDLE1BQU1NLGFBQWEsRUFLcEZSLEVBQVNJLGFBQWFXLGlCQUFvQjFULElBQ3hDQSxFQUFNbUwsSUFBSSxtQkFBb0J3SCxFQUFTQyxVQUFVQyxNQUFNTyxlQUN2RHBULEVBQU05WixHQUFHLG1CQUFvQixlQUFnQnlzQixFQUFTQyxVQUFVQyxNQUFNTyxjQUFjLEVBSXRGVCxFQUFTSSxhQUFhWSxrQkFBcUIzVCxJQUN6Q0EsRUFBTW1MLElBQUksbUJBQW9Cd0gsRUFBU0MsVUFBVUMsTUFBTVEsZ0JBQ3ZEclQsRUFBTTlaLEdBQUcsbUJBQW9CLGdCQUFpQnlzQixFQUFTQyxVQUFVQyxNQUFNUSxlQUFlLEVBSXhGVixFQUFTSSxhQUFhYSxxQkFBd0I1VCxJQUM1Q0EsRUFBTW1MLElBQUksbUJBQW9Cd0gsRUFBU0MsVUFBVUMsTUFBTVMsbUJBQ3ZEdFQsRUFBTTlaLEdBQUcsbUJBQW9CLG9DQUFxQ3lzQixFQUFTQyxVQUFVQyxNQUFNUyxrQkFBa0IsRUFJL0dYLEVBQVNJLGFBQWFjLHVCQUEwQjdULElBQzlDQSxFQUFNbUwsSUFBSSxtQ0FBb0N3SCxFQUFTQyxVQUFVQyxNQUFNVyxxQkFDdkV4VCxFQUFNOVosR0FBRyxtQ0FBb0Msc0JBQXVCeXNCLEVBQVNDLFVBQVVDLE1BQU1XLG9CQUFvQixFQU1uSGIsRUFBU0MsVUFBVUUsT0FBVSxDQUMzQmdCLGVBQWdCLFNBQVNDLEdBQ25CdkIsR0FDRnVCLEVBQU92TyxNQUFLLFdBQ1Y3ZixJQUFFZ00sTUFBTXdPLGVBQWUsc0JBQ3pCLElBR0Y0VCxFQUFPL3RCLEtBQUssY0FBZSxTQUM3QixFQUNBZ3VCLGVBQWdCLFNBQVNELEdBQ25CdkIsR0FDRnVCLEVBQU92TyxNQUFLLFdBQ1Y3ZixJQUFFZ00sTUFBTXdPLGVBQWUsc0JBQ3pCLElBR0Y0VCxFQUFPL3RCLEtBQUssY0FBZSxTQUM3QixFQUNBaXVCLGdCQUFpQixTQUFTOXRCLEVBQUcrdEIsR0FDM0IsSUFBSXpQLEVBQVN0ZSxFQUFFdVosVUFBVThDLE1BQU0sS0FBSyxHQUN0QjdjLElBQUcsU0FBUThlLE1BQVcwUCxJQUFLLG1CQUFrQkQsT0FFbkQxTyxNQUFLLFdBQ1gsSUFBSUMsRUFBUTlmLElBQUVnTSxNQUNkOFQsRUFBTXRGLGVBQWUsbUJBQW9CLENBQUNzRixHQUM1QyxHQUNGLEdBSUZrTixFQUFTSSxhQUFhcUIsbUJBQXFCLFNBQVN0UCxHQUNsRCxJQUFJdVAsRUFBWTF1QixJQUFFLG1CQUNkMnVCLEVBQVksQ0FBQyxXQUFZLFVBQVcsVUFXeEMsR0FUR3hQLElBQ3dCLGlCQUFmQSxFQUNSd1AsRUFBVXBXLEtBQUs0RyxHQUNjLGlCQUFmQSxHQUFvRCxpQkFBbEJBLEVBQVcsR0FDM0R3UCxFQUFZQSxFQUFVaHFCLE9BQU93YSxHQUU3QmdCLFFBQVFqVyxNQUFNLGlDQUdmd2tCLEVBQVVwdUIsT0FBTyxDQUNsQixJQUFJc3VCLEVBQVlELEVBQVVuTyxLQUFLN2UsR0FDckIsY0FBYUEsTUFDcEJrdEIsS0FBSyxLQUVSN3VCLElBQUU2RixRQUFRMmYsSUFBSW9KLEdBQVdydUIsR0FBR3F1QixFQUFXNUIsRUFBU0MsVUFBVUUsT0FBT21CLGdCQUNuRSxDQUNGLEVBWUF0QixFQUFTSSxhQUFhMEIsa0JBQW9CLFNBQVN4QixHQUNqRCxJQUFJYyxFQUFTcHVCLElBQUUsaUJBQ1pvdUIsRUFBTzl0QixRQUNSK3NCLEVBQXVCQyxFQUFVLG9CQUFxQk4sRUFBU0MsVUFBVUUsT0FBT2dCLGVBQWdCQyxFQUVwRyxFQUVBcEIsRUFBU0ksYUFBYTJCLGtCQUFvQixTQUFTekIsR0FDakQsSUFBSWMsRUFBU3B1QixJQUFFLGlCQUNab3VCLEVBQU85dEIsUUFDUitzQixFQUF1QkMsRUFBVSxvQkFBcUJOLEVBQVNDLFVBQVVFLE9BQU9rQixlQUFnQkQsRUFFcEcsRUFFQXBCLEVBQVNJLGFBQWE0QiwwQkFBNEIsU0FBUzNVLEdBQ3pELElBQUl3UyxFQUFtQixPQUFPLEVBQzlCLElBQUl1QixFQUFTL1QsRUFBTTdYLEtBQUssK0NBR3hCLElBQUl5c0IsRUFBNEIsU0FBVUMsR0FDeEMsSUFBSUMsRUFBVW52QixJQUFFa3ZCLEVBQW9CLEdBQUdwdUIsUUFHdkMsT0FBUW91QixFQUFvQixHQUFHbmhCLE1BQzdCLElBQUssYUFDaUMsV0FBaENvaEIsRUFBUTl1QixLQUFLLGdCQUF3RSxnQkFBekM2dUIsRUFBb0IsR0FBR0UsZUFDckVELEVBQVEzVSxlQUFlLHNCQUF1QixDQUFDMlUsRUFBU3RwQixPQUFPeUksY0FFN0IsV0FBaEM2Z0IsRUFBUTl1QixLQUFLLGdCQUF3RSxnQkFBekM2dUIsRUFBb0IsR0FBR0UsZUFDckVELEVBQVEzVSxlQUFlLHNCQUF1QixDQUFDMlUsSUFFSixVQUF6Q0QsRUFBb0IsR0FBR0UsZ0JBQ3pCRCxFQUFRcHVCLFFBQVEsaUJBQWlCVixLQUFLLGNBQWMsVUFDcEQ4dUIsRUFBUXB1QixRQUFRLGlCQUFpQnlaLGVBQWUsc0JBQXVCLENBQUMyVSxFQUFRcHVCLFFBQVEsb0JBRTFGLE1BRUYsSUFBSyxZQUNIb3VCLEVBQVFwdUIsUUFBUSxpQkFBaUJWLEtBQUssY0FBYyxVQUNwRDh1QixFQUFRcHVCLFFBQVEsaUJBQWlCeVosZUFBZSxzQkFBdUIsQ0FBQzJVLEVBQVFwdUIsUUFBUSxtQkFDeEYsTUFFRixRQUNFLE9BQU8sRUFHYixFQUVBLEdBQUlxdEIsRUFBTzl0QixPQUVULElBQUssSUFBSTRXLEVBQUksRUFBR0EsR0FBS2tYLEVBQU85dEIsT0FBUyxFQUFHNFcsSUFDaEIsSUFBSTJWLEVBQWlCb0MsR0FDM0JJLFFBQVFqQixFQUFPbFgsR0FBSSxDQUFFb1ksWUFBWSxFQUFNQyxXQUFXLEVBQU1DLGVBQWUsRUFBT0MsU0FBUyxFQUFNQyxnQkFBaUIsQ0FBQyxjQUFlLFVBR3BKLEVBRUExQyxFQUFTSSxhQUFhdUMsbUJBQXFCLFdBQ3pDLElBQUlDLEVBQVk1dkIsSUFBRWEsVUFFbEJtc0IsRUFBU0ksYUFBYVUsZ0JBQWdCOEIsR0FDdEM1QyxFQUFTSSxhQUFhVyxpQkFBaUI2QixHQUN2QzVDLEVBQVNJLGFBQWFZLGtCQUFrQjRCLEdBQ3hDNUMsRUFBU0ksYUFBYWEscUJBQXFCMkIsR0FDM0M1QyxFQUFTSSxhQUFhYyx1QkFBdUIwQixFQUUvQyxFQUVBNUMsRUFBU0ksYUFBYXlDLG1CQUFxQixXQUN6QyxJQUFJRCxFQUFZNXZCLElBQUVhLFVBQ2xCbXNCLEVBQVNJLGFBQWE0QiwwQkFBMEJZLEdBQ2hENUMsRUFBU0ksYUFBYTBCLGtCQUFrQixLQUN4QzlCLEVBQVNJLGFBQWEyQixvQkFDdEIvQixFQUFTSSxhQUFhcUIsb0JBQ3hCLEVBR0F6QixFQUFTeEIsS0FBTyxTQUFVc0UsRUFBSXBSLEdBQzVCakUsRUFBT3phLElBQUU2RixTQUFTLFlBQ2MsSUFBMUI3RixJQUFBQSxzQkFDRmd0QixFQUFTSSxhQUFhdUMscUJBQ3RCM0MsRUFBU0ksYUFBYXlDLHFCQUN0Qjd2QixJQUFBQSxxQkFBd0IsRUFFNUIsSUFFRzBlLElBQ0RBLEVBQVdzTyxTQUFXQSxFQUV0QnRPLEVBQVdxUixTQUFXL0MsRUFBU0ksYUFBYXlDLG1CQUVoRCxFQzVQQSxNQUFNRyxFQUVKNVEsWUFBWWpjLEVBQVNtUyxHQUNuQnRKLEtBQUtpa0IsT0FBTzlzQixFQUFTbVMsR0FDckIsSUFBSTZKLEVBQWErUSxFQUFjbGtCLE1BQy9CQSxLQUFLcVQsS0FBT3ZGLEVBQVksRUFBR3FGLEdBRXZCblQsS0FBS3NULFNBQVNqZixLQUFNLFFBQU84ZSxNQUFnQm5ULEtBQUtzVCxTQUFTamYsS0FBTSxRQUFPOGUsSUFBY25ULEtBQUtxVCxNQUN6RnJULEtBQUtzVCxTQUFTelgsS0FBSyxhQUFjbUUsS0FBS3NULFNBQVN6WCxLQUFLLFdBQVltRSxNQUtwRUEsS0FBS3NULFNBQVNiLFFBQVMsV0FBVVUsSUFDbkMsQ0FFQWdSLFVBQ0Vua0IsS0FBS29rQixXQUNMLElBQUlqUixFQUFhK1EsRUFBY2xrQixNQU8vQixJQUFJLElBQUkyTixLQU5SM04sS0FBS3NULFNBQVNFLFdBQVksUUFBT0wsS0FBY00sV0FBVyxZQUtyRGhCLFFBQVMsZ0JBQWVVLEtBQ2JuVCxLQUNWQSxLQUFLNE4sZUFBZUQsS0FDdEIzTixLQUFLMk4sR0FBUSxLQUduQixFQVNGLFNBQVN1VyxFQUFjeFcsR0FDckIsT0FBaUJBLEVBQUlsUSxVQUpWK0QsUUFBUSxrQkFBbUIsU0FBUytJLGFBS2pELENDckNBLE1BQU0rWixVQUFjTCxFQVNsQkMsT0FBTzlzQixFQUFTbVMsRUFBVSxDQUFDLEdBQ3pCdEosS0FBS3NULFNBQVduYyxFQUNoQjZJLEtBQUtzSixRQUFXdFYsSUFBQUEsUUFBUyxFQUFNLENBQUMsRUFBR3F3QixFQUFNQyxTQUFVdGtCLEtBQUtzVCxTQUFTelgsT0FBUXlOLEdBQ3pFdEosS0FBS3VrQixXQUFZLEVBQ2pCdmtCLEtBQUt3a0IsZUFBaUIsS0FFdEJ4a0IsS0FBS3hDLFVBQVksUUFDakJ3QyxLQUFLc1EsT0FDUCxDQU1BQSxRQUNFdFEsS0FBS3lrQixRQUFVendCLElBQUFBLE1BQ2JnTSxLQUFLc1QsU0FBUzljLEtBQUssU0FBU2dzQixJQUFJLG1CQUNoQ3hpQixLQUFLc1QsU0FBUzljLEtBQUsscUJBRXJCd0osS0FBSzBrQixTQUFXMWtCLEtBQUtzVCxTQUFTOWMsS0FBSyxtQkFDbkMsTUFBTW11QixFQUFnQjNrQixLQUFLc1QsU0FBUzljLEtBQUssc0JBR3JDd0osS0FBS3NKLFFBQVFzYixpQkFDZjVrQixLQUFLeWtCLFFBQVE1USxNQUFLLENBQUMzSSxFQUFHL1EsSUFBVTZGLEtBQUs2a0Isa0JBQWtCN3dCLElBQUVtRyxNQUN6RHdxQixFQUFjOVEsTUFBSyxDQUFDM0ksRUFBR2hOLElBQVU4QixLQUFLOGtCLDZCQUE2Qjl3QixJQUFFa0ssT0FHdkU4QixLQUFLK2tCLFNBQ1AsQ0FNQUEsVUFDRS9rQixLQUFLc1QsU0FBU2tHLElBQUksVUFDZmpsQixHQUFHLGtCQUFrQixLQUNwQnlMLEtBQUtnbEIsV0FBVyxJQUVqQnp3QixHQUFHLG1CQUFtQixJQUNkeUwsS0FBS2lsQixpQkFHaEJqbEIsS0FBSzBrQixTQUNGbEwsSUFBSSxtQ0FDSmpsQixHQUFHLG1DQUFvQ0MsSUFDakNBLEVBQUVRLEtBQWtCLE1BQVZSLEVBQUVRLEtBQXlCLFVBQVZSLEVBQUVRLE1BQ2hDUixFQUFFQyxpQkFDRnVMLEtBQUt3a0IsZUFBNkQsT0FBNUNod0IsRUFBRU0sT0FBT21ELGFBQWEsa0JBQzVDK0gsS0FBS3NULFNBQVM0UixTQUNoQixJQUc0QixnQkFBNUJsbEIsS0FBS3NKLFFBQVE2YixZQUNmbmxCLEtBQUt5a0IsUUFDRmpMLElBQUksbUJBQ0pqbEIsR0FBRyxtQkFBb0JDLElBQ3RCd0wsS0FBS29sQixjQUFjcHhCLElBQUVRLEVBQUVNLFFBQVEsSUFJakNrTCxLQUFLc0osUUFBUStiLGNBQ2ZybEIsS0FBS3lrQixRQUNGakwsSUFBSSxrQkFDSmpsQixHQUFHLGtCQUFtQkMsSUFDckJ3TCxLQUFLb2xCLGNBQWNweEIsSUFBRVEsRUFBRU0sUUFBUSxJQUlqQ2tMLEtBQUtzSixRQUFRZ2MsZ0JBQ2Z0bEIsS0FBS3lrQixRQUNGakwsSUFBSSxpQkFDSmpsQixHQUFHLGlCQUFrQkMsSUFDcEJ3TCxLQUFLb2xCLGNBQWNweEIsSUFBRVEsRUFBRU0sUUFBUSxHQUd2QyxDQU1BeXdCLFVBQ0V2bEIsS0FBS3NRLE9BQ1AsQ0FPQWtWLHdCQUNFLE9BQXVCLElBQW5CeGxCLEtBQUt1a0IsWUFFaUMsa0JBQXhCdmtCLEtBQUt3a0IsZUFDZHhrQixLQUFLd2tCLGlCQUdQeGtCLEtBQUswa0IsU0FBU3B3QixRQUE2RCxPQUFwRDBMLEtBQUswa0IsU0FBUyxHQUFHenNCLGFBQWEsa0JBQzlELENBS0F3dEIsbUJBQ0V6bEIsS0FBS3VrQixXQUFZLENBQ25CLENBS0FtQixvQkFDRTFsQixLQUFLdWtCLFdBQVksQ0FDbkIsQ0FPQW9CLGNBQWNyUixHQUNaLElBQUtBLEVBQUlqZ0IsS0FBSyxZQUFhLE9BQU8sRUFFbEMsSUFBSXV4QixHQUFTLEVBRWIsT0FBUXRSLEVBQUksR0FBR3ZTLE1BQ2IsSUFBSyxXQUNINmpCLEVBQVN0UixFQUFJLEdBQUd1UixRQUNoQixNQUVGLElBQUssU0FDTCxJQUFLLGFBQ0wsSUFBSyxrQkFDSCxJQUFJelosRUFBTWtJLEVBQUk5ZCxLQUFLLG1CQUNkNFYsRUFBSTlYLFFBQVc4WCxFQUFJNkUsUUFBTzJVLEdBQVMsR0FDeEMsTUFFRixRQUNPdFIsRUFBSXJELE9BQVVxRCxFQUFJckQsTUFBTTNjLFNBQVFzeEIsR0FBUyxHQUdsRCxPQUFPQSxDQUNULENBZUFFLGNBQWN4UixFQUFLeVIsR0FDakIsSUFBSXZoQixFQUFLOFAsRUFBSWhnQixPQUFTZ2dCLEVBQUksR0FBRzlQLEdBQUssR0FDOUJ3aEIsRUFBUzFSLEVBQUkyUixTQUFTam1CLEtBQUtzSixRQUFRNGMsbUJBbUJ2QyxPQWpCS0YsRUFBTzF4QixTQUNWMHhCLEVBQVMxUixFQUFJcUMsU0FBU25nQixLQUFLd0osS0FBS3NKLFFBQVE0YyxvQkFHdEMxaEIsSUFDRndoQixFQUFTQSxFQUFPcnNCLElBQUlxRyxLQUFLc1QsU0FBUzljLEtBQU0seUJBQXdCZ08sU0FHNUR1aEIsSUFDSkMsRUFBU0EsRUFBT3hELElBQUksd0JBRXBCdUQsRUFBaUIzd0IsU0FBUyt3QixJQUV4QkgsR0FEQUEsRUFBU0EsRUFBT3JzQixJQUFJMmEsRUFBSTJSLFNBQVUsd0JBQXVCRSxTQUN6Q3hzQixJQUFJcUcsS0FBS3NULFNBQVM5YyxLQUFNLHlCQUF3QmdPLDJCQUE0QjJoQixPQUFPLEtBSWhHSCxDQUNULENBVUFJLFVBQVU5UixHQUNSLElBQUk5UCxFQUFLOFAsRUFBSSxHQUFHOVAsR0FDWjZoQixFQUFTcm1CLEtBQUtzVCxTQUFTOWMsS0FBTSxjQUFhZ08sT0FFOUMsT0FBSzZoQixFQUFPL3hCLE9BSUwreEIsRUFIRS9SLEVBQUl2ZixRQUFRLFFBSXZCLENBVUF1eEIsZ0JBQWdCQyxHQUNkLElBQUlDLEVBQVNELEVBQUsvUixLQUFJLENBQUN0SixFQUFHMUksS0FDeEIsSUFBSWdDLEVBQUtoQyxFQUFHZ0MsR0FDUjZoQixFQUFTcm1CLEtBQUtzVCxTQUFTOWMsS0FBTSxjQUFhZ08sT0FLOUMsT0FISzZoQixFQUFPL3hCLFNBQ1YreEIsRUFBU3J5QixJQUFFd08sR0FBSXpOLFFBQVEsVUFFbEJzeEIsRUFBTyxFQUFFLElBR2xCLE9BQU9yeUIsSUFBRXd5QixFQUNYLENBVUFDLG1CQUFtQkYsR0FDakIsSUFBSUMsRUFBU0QsRUFBSy9SLEtBQUksQ0FBQ3RKLEVBQUcxSSxLQUN4QixJQUFJZ0MsRUFBS2hDLEVBQUdnQyxHQUNSNmhCLEVBQVNybUIsS0FBS3NULFNBQVM5YyxLQUFNLGNBQWFnTyxPQUs5QyxPQUhLNmhCLEVBQU8veEIsU0FDVit4QixFQUFTcnlCLElBQUV3TyxHQUFJek4sUUFBUSxVQUVsQnN4QixFQUFPLEVBQUUsSUFHbEIsT0FBT3J5QixJQUFFd3lCLEVBQ1gsQ0FPQUUsZ0JBQWdCcFMsRUFBS3lSLEdBQ25CLElBQUlNLEVBQVNybUIsS0FBS29tQixVQUFVOVIsR0FDeEJxUyxFQUFhM21CLEtBQUs4bEIsY0FBY3hSLEVBQUt5UixHQUVyQ00sRUFBTy94QixRQUNUK3hCLEVBQU96eEIsU0FBU29MLEtBQUtzSixRQUFRc2QsaUJBRzNCRCxFQUFXcnlCLFFBQ2JxeUIsRUFBVy94QixTQUFTb0wsS0FBS3NKLFFBQVF1ZCxnQkFHbkN2UyxFQUFJMWYsU0FBU29MLEtBQUtzSixRQUFRd2QsaUJBQWlCenlCLEtBQUssQ0FDOUMsZUFBZ0IsR0FDaEIsZ0JBQWdCLElBR2RzeUIsRUFBVzlVLE9BQU8sWUFBWXZkLFFBQ2hDMEwsS0FBSyttQixxQkFBcUJ6UyxFQUFLcVMsRUFFbkMsQ0FPQTlCLGtCQUFrQnZRLEdBQ2hCLElBQUkwUyxFQUFVaG5CLEtBQUs4bEIsY0FBY3hSLEdBQzdCMlMsRUFBVUQsRUFBUW5WLE9BQU8sU0FDN0IsSUFBS21WLEVBQVExeUIsT0FBUSxPQUVyQixJQUFJMHhCLEVBQVNnQixFQUFRblYsT0FBTyxZQUFZdU8sUUFLeEMsR0FKSTRGLEVBQU8xeEIsUUFDVDBMLEtBQUsrbUIscUJBQXFCelMsRUFBSzBSLEdBRzdCaUIsRUFBUXBWLE9BQU8sU0FBU3ZkLE9BQVMyeUIsRUFBUTN5QixPQUFRLENBRW5ELElBQUk0eUIsRUFBUzVTLEVBQUlqZ0IsS0FBSyxXQUNBLElBQVg2eUIsSUFDVEEsRUFBU3BaLEVBQVksRUFBRyxlQUN4QndHLEVBQUlqZ0IsS0FBSyxLQUFNNnlCLElBSWpCRCxFQUFRcFQsTUFBSyxDQUFDM0ksRUFBR2ljLEtBQ2YsTUFBTWQsRUFBU3J5QixJQUFFbXpCLFFBQ2lCLElBQXZCZCxFQUFPaHlCLEtBQUssUUFDckJneUIsRUFBT2h5QixLQUFLLE1BQU82eUIsRUFBTyxHQUVoQyxDQUdBRixFQUFRblQsTUFBSyxDQUFDM0ksRUFBR2ljLEtBQ2YsTUFBTWQsRUFBU3J5QixJQUFFbXpCLFFBQ2tCLElBQXhCZCxFQUFPaHlCLEtBQUssU0FDckJneUIsRUFBT2h5QixLQUFLLE9BQVEsUUFBUSxJQUM3QjJLLEtBQ0wsQ0FFQStuQixxQkFBcUJ6UyxFQUFLMFIsR0FDeEIsUUFBNEMsSUFBakMxUixFQUFJamdCLEtBQUssb0JBQXFDLE9BSXpELElBQUkreUIsRUFBVXBCLEVBQU8zeEIsS0FBSyxXQUNILElBQVoreUIsSUFDVEEsRUFBVXRaLEVBQVksRUFBRyxlQUN6QmtZLEVBQU8zeEIsS0FBSyxLQUFNK3lCLElBR3BCOVMsRUFBSWpnQixLQUFLLG1CQUFvQit5QixHQUFTdnJCLEtBQUsscUJBQXFCLEVBQ2xFLENBTUFpcEIsNkJBQTZCeFEsUUFDVSxJQUExQkEsRUFBSWpnQixLQUFLLGNBQ2xCaWdCLEVBQUlqZ0IsS0FBSyxZQUFhMkwsS0FBS3NKLFFBQVErZCxlQUN2QyxDQU9BQyx3QkFBd0JDLEdBQ3RCLElBQUloQixFQUFPdm1CLEtBQUtzVCxTQUFTOWMsS0FBTSxnQkFBZSt3QixPQUMxQ04sRUFBVWpuQixLQUFLc21CLGdCQUFnQkMsR0FDL0JpQixFQUFjeG5CLEtBQUs4bEIsY0FBY1MsR0FFakNVLEVBQVEzeUIsUUFDVjJ5QixFQUFRN3lCLFlBQVk0TCxLQUFLc0osUUFBUXNkLGlCQUcvQlksRUFBWWx6QixRQUNka3pCLEVBQVlwekIsWUFBWTRMLEtBQUtzSixRQUFRdWQsZ0JBR3ZDTixFQUFLbnlCLFlBQVk0TCxLQUFLc0osUUFBUXdkLGlCQUFpQnp5QixLQUFLLENBQ2xELGVBQWdCLEtBQ2hCLGVBQWdCLE1BR3BCLENBT0FvekIsMkJBQTJCRixHQUN6QixJQUFJaEIsRUFBT3ZtQixLQUFLc1QsU0FBUzljLEtBQU0sbUJBQWtCK3dCLE9BQzdDTixFQUFVam5CLEtBQUt5bUIsbUJBQW1CRixHQUNsQ2lCLEVBQWN4bkIsS0FBSzhsQixjQUFjUyxHQUVqQ1UsRUFBUTN5QixRQUNWMnlCLEVBQVE3eUIsWUFBWTRMLEtBQUtzSixRQUFRc2QsaUJBRy9CWSxFQUFZbHpCLFFBQ2RrekIsRUFBWXB6QixZQUFZNEwsS0FBS3NKLFFBQVF1ZCxnQkFHdkNOLEVBQUtueUIsWUFBWTRMLEtBQUtzSixRQUFRd2QsaUJBQWlCenlCLEtBQUssQ0FDbEQsZUFBZ0IsS0FDaEIsZUFBZ0IsTUFHcEIsQ0FNQXF6QixtQkFBbUJwVCxHQUVqQixHQUFvQixVQUFoQkEsRUFBSSxHQUFHdlMsS0FDVCxPQUFPL0IsS0FBS3NuQix3QkFBd0JoVCxFQUFJamdCLEtBQUssU0FHMUMsR0FBb0IsYUFBaEJpZ0IsRUFBSSxHQUFHdlMsS0FDZCxPQUFPL0IsS0FBS3luQiwyQkFBMkJuVCxFQUFJamdCLEtBQUssU0FHbEQsSUFBSWd5QixFQUFTcm1CLEtBQUtvbUIsVUFBVTlSLEdBQ3hCcVMsRUFBYTNtQixLQUFLOGxCLGNBQWN4UixHQUVoQytSLEVBQU8veEIsUUFDVCt4QixFQUFPanlCLFlBQVk0TCxLQUFLc0osUUFBUXNkLGlCQUc5QkQsRUFBV3J5QixRQUNicXlCLEVBQVd2eUIsWUFBWTRMLEtBQUtzSixRQUFRdWQsZ0JBR3RDdlMsRUFBSWxnQixZQUFZNEwsS0FBS3NKLFFBQVF3ZCxpQkFBaUJ6eUIsS0FBSyxDQUNqRCxlQUFnQixLQUNoQixlQUFnQixPQUdkaWdCLEVBQUl6WSxLQUFLLHNCQUNYeVksRUFBSWQsV0FBVyxvQkFBb0JDLFdBQVcsb0JBRWxELENBVUEyUixjQUFjOVEsR0FDWixJQUFJcVQsRUFBZTNuQixLQUFLMmxCLGNBQWNyUixHQUNsQ3NULEVBQVl0VCxFQUFJamdCLEtBQUssa0JBQ3JCMHhCLEVBQW1CLEdBQ25COEIsR0FBcUIsRUFHekIsR0FBSTduQixLQUFLd2xCLHdCQUNQLE9BQU8sRUFJVCxHQUFJbFIsRUFBSTFDLEdBQUcsd0JBQTBCMEMsRUFBSTFDLEdBQUcsb0JBQXNCMEMsRUFBSTFDLEdBQUcsY0FDdkUsT0FBTyxFQUdULE9BQVEwQyxFQUFJLEdBQUd2UyxNQUNiLElBQUssUUFDSC9CLEtBQUs4bkIsY0FBY3hULEVBQUlqZ0IsS0FBSyxVQUFZMHhCLEVBQWlCeFosS0FBSyxZQUM5RCxNQUVGLElBQUssV0FDSHZNLEtBQUsrbkIsaUJBQWlCelQsRUFBSWpnQixLQUFLLFVBQVkweEIsRUFBaUJ4WixLQUFLLFlBRWpFc2IsR0FBcUIsRUFDckIsTUFFRixJQUFLLFNBQ0wsSUFBSyxhQUNMLElBQUssa0JBQ0hGLEdBQWdCNUIsRUFBaUJ4WixLQUFLLFlBQ3RDLE1BRUYsUUFDRW9iLEdBQWdCNUIsRUFBaUJ4WixLQUFLLFlBQ3RDdk0sS0FBS2dvQixhQUFhMVQsSUFBUXlSLEVBQWlCeFosS0FBSyxXQUdwRCxHQUFJcWIsRUFBVyxDQUNiLE1BQU1LLElBQVczVCxFQUFJamdCLEtBQUssWUFFMUJ1ekIsRUFBVS9XLE1BQU0sS0FBS3piLFNBQVMrd0IsSUFDNUJubUIsS0FBS3NKLFFBQVE0ZSxXQUFXL0IsR0FBRzdSLEVBQUsyVCxFQUFVM1QsRUFBSXFDLFdBQWFvUCxFQUFpQnhaLEtBQUs0WixFQUFFLEdBRXZGLENBRUk3UixFQUFJamdCLEtBQUssa0JBQ1gyTCxLQUFLc0osUUFBUTRlLFdBQVdDLFFBQVE3VCxJQUFReVIsRUFBaUJ4WixLQUFLLFlBR2hFLElBQUk2YixFQUF1QyxJQUE1QnJDLEVBQWlCenhCLE9BQzVCK3pCLEdBQVdELEVBQVcsUUFBVSxXQUFhLFlBRWpELEdBQUlBLEVBQVUsQ0FFWixNQUFNRSxFQUFvQnRvQixLQUFLc1QsU0FBUzljLEtBQU0sa0JBQWlCOGQsRUFBSWpnQixLQUFLLFdBQ3hFLEdBQUlpMEIsRUFBa0JoMEIsT0FBUSxDQUM1QixJQUFJd2YsRUFBUTlULEtBQ1pzb0IsRUFBa0J6VSxNQUFLLFdBQ2pCN2YsSUFBRWdNLE1BQU1pUixPQUNWNkMsRUFBTXNSLGNBQWNweEIsSUFBRWdNLE1BRTFCLEdBQ0YsQ0FDRixDQWtCQSxPQWhCSTZuQixJQUNHTyxFQUdIcG9CLEtBQUswbkIsbUJBQW1CcFQsR0FGeEJ0VSxLQUFLMG1CLGdCQUFnQnBTLEVBQUt5UixJQVk5QnpSLEVBQUk3QixRQUFRNFYsRUFBUyxDQUFDL1QsSUFFZjhULENBQ1QsQ0FRQW5ELGVBQ0UsSUFFSXNELEVBRkE5dkIsRUFBTSxHQUNOcWIsRUFBUTlULEtBU1osR0FMS0EsS0FBS3dvQixjQUNSeG9CLEtBQUt3b0IsYUFBYyxHQUlqQnhvQixLQUFLd2xCLHdCQUVQLE9BREF4bEIsS0FBS3drQixlQUFpQixNQUNmLEVBR1R4a0IsS0FBS3lrQixRQUFRNVEsTUFBSyxXQUdoQixHQUF3QixhQUFwQjdmLElBQUVnTSxNQUFNLEdBQUcrQixLQUFxQixDQUNsQyxHQUFJL04sSUFBRWdNLE1BQU0zTCxLQUFLLFVBQVlrMEIsRUFBbUIsT0FBTyxFQUN2REEsRUFBb0J2MEIsSUFBRWdNLE1BQU0zTCxLQUFLLE9BQ25DLENBRUFvRSxFQUFJOFQsS0FBS3VILEVBQU1zUixjQUFjcHhCLElBQUVnTSxPQUNqQyxJQUVBLElBQUl5b0IsR0FBa0MsSUFBeEJod0IsRUFBSXNSLFNBQVEsR0FrQjFCLE9BaEJBL0osS0FBS3NULFNBQVM5YyxLQUFLLHNCQUFzQnFkLE1BQUssQ0FBQzNJLEVBQUdLLEtBQ2hELE1BQU04QyxFQUFRcmEsSUFBRXVYLEdBRVp2TCxLQUFLc0osUUFBUXNiLGdCQUFnQjVrQixLQUFLOGtCLDZCQUE2QnpXLEdBRW5FQSxFQUFNMU0sSUFBSSxVQUFZOG1CLEVBQVUsT0FBUyxRQUFTLElBU3BEem9CLEtBQUtzVCxTQUFTYixTQUFTZ1csRUFBVSxZQUFjLGVBQWlCLFlBQWEsQ0FBQ3pvQixLQUFLc1QsV0FFNUVtVixDQUNULENBUUFULGFBQWExVCxFQUFLb1UsR0FFaEJBLEVBQVdBLEdBQVdwVSxFQUFJamdCLEtBQUssaUJBQW1CaWdCLEVBQUlqZ0IsS0FBSyxZQUFjaWdCLEVBQUlqZ0IsS0FBSyxRQUNsRixJQUFJczBCLEVBQVlyVSxFQUFJckQsTUFDaEIyWCxHQUFRLEVBYVosT0FYSUQsRUFBVXIwQixTQUVSMEwsS0FBS3NKLFFBQVF1ZixTQUFTamIsZUFBZThhLEdBQ3ZDRSxFQUFRNW9CLEtBQUtzSixRQUFRdWYsU0FBU0gsR0FBUzVTLEtBQUs2UyxHQUdyQ0QsSUFBWXBVLEVBQUlqZ0IsS0FBSyxVQUM1QnUwQixFQUFRLElBQUlFLE9BQU9KLEdBQVM1UyxLQUFLNlMsS0FJOUJDLENBQ1IsQ0FPRGQsY0FBY1AsR0FHWixJQUFJd0IsRUFBUy9vQixLQUFLc1QsU0FBUzljLEtBQU0sZ0JBQWUrd0IsT0FDNUNxQixHQUFRLEVBQU9YLEdBQVcsRUFtQjlCLE9BaEJBYyxFQUFPbFYsTUFBSyxDQUFDM0ksRUFBRzFXLEtBQ1ZSLElBQUVRLEdBQUdILEtBQUssY0FDWjR6QixHQUFXLEVBQ2IsSUFFR0EsSUFBVVcsR0FBTSxHQUVoQkEsR0FFSEcsRUFBT2xWLE1BQUssQ0FBQzNJLEVBQUcxVyxLQUNWUixJQUFFUSxHQUFHbVosS0FBSyxhQUNaaWIsR0FBUSxFQUNWLElBSUdBLENBQ1QsQ0FPQWIsaUJBQWlCUixHQUdmLElBQUl3QixFQUFTL29CLEtBQUtzVCxTQUFTOWMsS0FBTSxtQkFBa0Ird0IsT0FDL0NxQixHQUFRLEVBQU9YLEdBQVcsRUFBT2UsRUFBYyxFQUFHbkQsRUFBVSxFQTZCaEUsT0ExQkFrRCxFQUFPbFYsTUFBSyxDQUFDM0ksRUFBRzFXLEtBQ1ZSLElBQUVRLEdBQUdILEtBQUssY0FDWjR6QixHQUFXLEVBQ2IsSUFFR0EsSUFBVVcsR0FBTSxHQUVoQkEsSUFHSEcsRUFBT2xWLE1BQUssQ0FBQzNJLEVBQUcxVyxLQUNWUixJQUFFUSxHQUFHbVosS0FBSyxZQUNaa1ksU0FFNEMsSUFBbkM3eEIsSUFBRVEsR0FBR0gsS0FBSyx1QkFDbkIyMEIsRUFBY2xwQixTQUFTOUwsSUFBRVEsR0FBR0gsS0FBSyxxQkFBc0IsSUFDekQsSUFJRXd4QixHQUFXbUQsSUFDYkosR0FBUSxLQUthLElBQXJCNW9CLEtBQUt3b0IsYUFBd0JRLEVBQWMsSUFLL0NELEVBQU9sVixNQUFLLENBQUMzSSxFQUFHMVcsS0FDVG8wQixFQUdINW9CLEtBQUswbkIsbUJBQW1CMXpCLElBQUVRLElBRjFCd0wsS0FBSzBtQixnQkFBZ0IxeUIsSUFBRVEsR0FBSSxDQUFDLFlBRzlCLElBR0tvMEIsRUFDVCxDQVNBSyxnQkFBZ0IzVSxFQUFLNFQsRUFBWUQsR0FNL0IsT0FMQUEsSUFBV0EsR0FLc0IsSUFIckJDLEVBQVdyWCxNQUFNLEtBQUsyRCxLQUFLMlIsR0FDOUJubUIsS0FBS3NKLFFBQVE0ZSxXQUFXL0IsR0FBRzdSLEVBQUsyVCxFQUFVM1QsRUFBSXFDLFlBRTFDNU0sU0FBUSxFQUN2QixDQU1BaWIsWUFDRSxJQUFJa0UsRUFBUWxwQixLQUFLc1QsU0FDYnBLLEVBQU9sSixLQUFLc0osUUFFaEJ0VixJQUFHLElBQUdrVixFQUFLMGQsa0JBQW1Cc0MsR0FBTzFHLElBQUksU0FBU3B1QixZQUFZOFUsRUFBSzBkLGlCQUNuRTV5QixJQUFHLElBQUdrVixFQUFLNGQsa0JBQW1Cb0MsR0FBTzFHLElBQUksU0FBU3B1QixZQUFZOFUsRUFBSzRkLGlCQUNuRTl5QixJQUFHLEdBQUVrVixFQUFLZ2QscUJBQXFCaGQsRUFBSzJkLGtCQUFrQnp5QixZQUFZOFUsRUFBSzJkLGdCQUN2RXFDLEVBQU0xeUIsS0FBSyxzQkFBc0JtTCxJQUFJLFVBQVcsUUFDaEQzTixJQUFFLFNBQVVrMUIsR0FBTzFHLElBQUksNkVBQTZFdlIsSUFBSSxJQUFJNWMsS0FBSyxDQUMvRyxlQUFnQixLQUNoQixlQUFnQixPQUVsQkwsSUFBRSxlQUFnQmsxQixHQUFPMUcsSUFBSSx1QkFBdUI3VSxLQUFLLFdBQVUsR0FBT3RaLEtBQUssQ0FDN0UsZUFBZ0IsS0FDaEIsZUFBZ0IsT0FFbEJMLElBQUUsa0JBQW1CazFCLEdBQU8xRyxJQUFJLHVCQUF1QjdVLEtBQUssV0FBVSxHQUFPdFosS0FBSyxDQUNoRixlQUFnQixLQUNoQixlQUFnQixPQU1sQjYwQixFQUFNelcsUUFBUSxxQkFBc0IsQ0FBQ3lXLEdBQ3ZDLENBTUE5RSxXQUNFLElBQUl0USxFQUFROVQsS0FDWkEsS0FBS3NULFNBQ0ZrRyxJQUFJLFVBQ0poakIsS0FBSyxzQkFDSG1MLElBQUksVUFBVyxRQUVwQjNCLEtBQUt5a0IsUUFDRmpMLElBQUksVUFDSjNGLE1BQUssV0FDSkMsRUFBTTRULG1CQUFtQjF6QixJQUFFZ00sTUFDN0IsSUFFRkEsS0FBSzBrQixTQUNGbEwsSUFBSSxTQUNULEVBTUY2SyxFQUFNQyxTQUFXLENBUWZhLFdBQVksY0FRWnlCLGdCQUFpQixtQkFRakJFLGdCQUFpQixtQkFRakJaLGtCQUFtQixjQVFuQlcsZUFBZ0IsYUFXaEJqQyxnQkFBZ0IsRUFVaEJ5QyxlQUFnQixZQVFoQmhDLGNBQWMsRUFRZEMsZ0JBQWdCLEVBRWhCdUQsU0FBVSxDQUNSTSxNQUFRLGNBRVJDLGNBQWdCLGlCQUNoQkMsUUFBVSxhQUNWQyxPQUFTLDJCQUdUcm9CLEtBQU8sK01BQ1Bzb0IsSUFBTSxpQkFHTkMsTUFBUSx3SUFLUnJ1QixJQUFLLGdQQUdMc3VCLE9BQVMsbUVBRVRDLFNBQVcscUhBRVhDLEtBQU8saUlBRVBDLEtBQU8sMkNBQ1BDLFFBQVUsb0NBR1ZDLGVBQWlCLCtEQUdqQkMsZUFBaUIsK0RBR2pCQyxNQUFRLHNDQUdSQyxRQUFTLENBQ1BuVSxLQUFPNVcsR0FDRW1sQixFQUFNQyxTQUFTdUUsU0FBU1ksT0FBTzNULEtBQUs1VyxJQUFTbWxCLEVBQU1DLFNBQVN1RSxTQUFTMXRCLElBQUkyYSxLQUFLNVcsS0FXM0ZncEIsV0FBWSxDQUNWQyxRQUFTLFNBQVUzbEIsR0FDakIsT0FBT3hPLElBQUcsSUFBR3dPLEVBQUduTyxLQUFLLG1CQUFtQjRjLFFBQVV6TyxFQUFHeU8sS0FDdkQsSUMxM0JKLE1BQU1pWixVQUFrQmxHLEVBU3RCQyxPQUFPOXNCLEVBQVNtUyxHQUNkdEosS0FBS3NULFNBQVduYyxFQUNoQjZJLEtBQUtzSixRQUFVdFYsSUFBQUEsT0FBUyxDQUFDLEVBQUdrMkIsRUFBVTVGLFNBQVV0a0IsS0FBS3NULFNBQVN6WCxPQUFReU4sR0FFdEV0SixLQUFLeEMsVUFBWSxZQUNqQndDLEtBQUtzUSxRQUVMZ0ssRUFBU2dCLFNBQVMsWUFBYSxDQUM3QixNQUFTLFNBQ1QsTUFBUyxTQUNULFdBQWMsT0FDZCxTQUFZLFdBQ1osS0FBUSxRQUNSLElBQU8sUUFFWCxDQU1BaEwsUUFDRXRRLEtBQUttcUIsaUJBQWtCLEVBRXZCbnFCLEtBQUtvcUIsTUFBUXBxQixLQUFLc1QsU0FBU25TLFNBQVMseUJBR3BDbkIsS0FBS29xQixNQUFNdlcsTUFBSyxTQUFTd1csRUFBSzduQixHQUM1QixJQUFJOFIsRUFBTXRnQixJQUFFd08sR0FDUjhuQixFQUFXaFcsRUFBSW5ULFNBQVMsc0JBQ3hCcUQsRUFBSzhsQixFQUFTLEdBQUc5bEIsSUFBTXNKLEVBQVksRUFBRyxhQUN0Q3ljLEVBQVUvbkIsRUFBR2dDLEdBQU8sR0FBRWhDLEVBQUdnQyxXQUFjLEdBQUVBLFVBRTdDOFAsRUFBSTlkLEtBQUssV0FBV25DLEtBQUssQ0FDdkIsZ0JBQWlCbVEsRUFDakIsR0FBTStsQixFQUNOLGlCQUFpQixJQUduQkQsRUFBU2oyQixLQUFLLENBQUMsS0FBUSxTQUFVLGtCQUFtQmsyQixFQUFRLGVBQWUsRUFBTSxHQUFNL2xCLEdBQ3pGLElBRUEsSUFBSWdtQixFQUFjeHFCLEtBQUtzVCxTQUFTOWMsS0FBSyxjQUFjMkssU0FBUyxzQkFDeERxcEIsRUFBWWwyQixTQUVkMEwsS0FBS3lxQixlQUFpQkQsRUFBWUUsS0FBSyxLQUFLcjJCLEtBQUssUUFDakQyTCxLQUFLMnFCLGVBQWVILElBR3RCeHFCLEtBQUs0cUIsZUFBaUIsS0FDcEIsSUFBSXJtQixFQUFTMUssT0FBT3VLLFNBQVNDLEtBRTdCLElBQUtFLEVBQU9qUSxPQUFRLENBRWxCLEdBQUkwTCxLQUFLbXFCLGdCQUFpQixPQUV0Qm5xQixLQUFLeXFCLGlCQUFnQmxtQixFQUFTdkUsS0FBS3lxQixlQUN6QyxDQUVBLElBQUlJLEVBQVV0bUIsR0FBVXZRLElBQUV1USxHQUN0QnVtQixFQUFRdm1CLEdBQVV2RSxLQUFLc1QsU0FBUzljLEtBQU0sV0FBVStOLE9BRS9Cc21CLEVBQVF2MkIsUUFBVXcyQixFQUFNeDJCLFNBSXZDdTJCLEdBQVdDLEdBQVNBLEVBQU14MkIsT0FDdkJ3MkIsRUFBTW5VLE9BQU8seUJBQXlCaGlCLFNBQVMsY0FDbERxTCxLQUFLMnFCLGVBQWVFLEdBS3RCN3FCLEtBQUsrcUIsZ0JBSUgvcUIsS0FBS3NKLFFBQVEwaEIsZ0JBQ2Z2YyxFQUFPemEsSUFBRTZGLFNBQVMsS0FDaEIsSUFBSTZkLEVBQVMxWCxLQUFLc1QsU0FBU29FLFNBQzNCMWpCLElBQUUsY0FBY29vQixRQUFRLENBQUU2TyxVQUFXdlQsRUFBT0MsSUFBTTNYLEtBQUtzSixRQUFRNGhCLHNCQUF3QmxyQixLQUFLc0osUUFBUTZoQixvQkFBb0IsSUFRNUhuckIsS0FBS3NULFNBQVNiLFFBQVEsd0JBQXlCLENBQUNxWSxFQUFPRCxJQUN6RCxFQUlFN3FCLEtBQUtzSixRQUFROGhCLFVBQ2ZwckIsS0FBSzRxQixpQkFHUDVxQixLQUFLK2tCLFVBRUwva0IsS0FBS21xQixpQkFBa0IsQ0FDekIsQ0FNQXBGLFVBQ0UsSUFBSWpSLEVBQVE5VCxLQUVaQSxLQUFLb3FCLE1BQU12VyxNQUFLLFdBQ2QsSUFBSXhGLEVBQVFyYSxJQUFFZ00sTUFDVnFyQixFQUFjaGQsRUFBTWxOLFNBQVMsc0JBQzdCa3FCLEVBQVkvMkIsUUFDZCtaLEVBQU1sTixTQUFTLEtBQUtxWSxJQUFJLDJDQUNoQmpsQixHQUFHLHNCQUFzQixTQUFTQyxHQUN4Q0EsRUFBRUMsaUJBQ0ZxZixFQUFNN2QsT0FBT28xQixFQUNmLElBQUc5MkIsR0FBRyx3QkFBd0IsU0FBU0MsR0FDckM4bEIsRUFBU0ssVUFBVW5tQixFQUFHLFlBQWEsQ0FDakN5QixPQUFRLFdBQ042ZCxFQUFNN2QsT0FBT28xQixFQUNmLEVBQ0ExWixLQUFNLFdBQ0osSUFBSTJaLEVBQUtqZCxFQUFNc0QsT0FBT25iLEtBQUssS0FBS3ZCLFFBQzNCNmUsRUFBTXhLLFFBQVFpaUIsYUFDakJELEVBQUc3WSxRQUFRLHFCQUVmLEVBQ0ErWSxTQUFVLFdBQ1IsSUFBSUYsRUFBS2pkLEVBQU1xYyxPQUFPbDBCLEtBQUssS0FBS3ZCLFFBQzNCNmUsRUFBTXhLLFFBQVFpaUIsYUFDakJELEVBQUc3WSxRQUFRLHFCQUVmLEVBQ0EyTixNQUFPLFdBQ0wsSUFBSWtMLEVBQUt4WCxFQUFNc1csTUFBTWhLLFFBQVE1cEIsS0FBSyxvQkFBb0J2QixRQUNqRDZlLEVBQU14SyxRQUFRaWlCLGFBQ2hCRCxFQUFHN1ksUUFBUSxxQkFFaEIsRUFDQWdaLEtBQU0sV0FDSixJQUFJSCxFQUFLeFgsRUFBTXNXLE1BQU1xQixPQUFPajFCLEtBQUssb0JBQW9CdkIsUUFDaEQ2ZSxFQUFNeEssUUFBUWlpQixhQUNoQkQsRUFBRzdZLFFBQVEscUJBRWhCLEVBQ0EySSxRQUFTLFdBQ1A1bUIsRUFBRUMsZ0JBQ0osR0FFSixHQUVKLElBQ0l1TCxLQUFLc0osUUFBUThoQixVQUNmcDNCLElBQUU2RixRQUFRdEYsR0FBRyxhQUFjeUwsS0FBSzRxQixlQUVwQyxDQU9BMzBCLE9BQU9rdEIsR0FDTCxHQUFJQSxFQUFRcHVCLFFBQVEsb0JBQW9CNmMsR0FBRyxjQUN6Q3VDLFFBQVF2RSxLQUFLLHFEQVNmLEdBTkl1VCxFQUFReE0sU0FBU2hpQixTQUFTLGFBQzVCcUwsS0FBSzByQixHQUFHdkksR0FFUm5qQixLQUFLMnJCLEtBQUt4SSxHQUdSbmpCLEtBQUtzSixRQUFROGhCLFNBQVUsQ0FDekIsSUFBSTdtQixFQUFTNGUsRUFBUXVILEtBQUssS0FBS3IyQixLQUFLLFFBRWhDMkwsS0FBS3NKLFFBQVFzaUIsY0FDZjFuQixRQUFRMm5CLFVBQVUsQ0FBQyxFQUFHLEdBQUl0bkIsR0FFMUJMLFFBQVFDLGFBQWEsQ0FBQyxFQUFHLEdBQUlJLEVBRWpDLENBQ0YsQ0FRQW9uQixLQUFLeEksR0FDQ0EsRUFBUXB1QixRQUFRLG9CQUFvQjZjLEdBQUcsY0FDekN1QyxRQUFRdkUsS0FBSyxzREFJWDVQLEtBQUtzSixRQUFRaWlCLFlBQ2Z2ckIsS0FBSzhyQixTQUFTM0ksR0FFZG5qQixLQUFLMnFCLGVBQWV4SCxFQUN4QixDQVVBdUksR0FBR3ZJLEdBQ0QsR0FBSW5qQixLQUFLc1QsU0FBUzFCLEdBQUcsY0FFbkIsWUFEQXVDLFFBQVF2RSxLQUFLLG9EQUtmLE1BQU1tYyxFQUFjNUksRUFBUXhNLFNBQzVCLElBQUtvVixFQUFZcDNCLFNBQVMsYUFBYyxPQUd4QyxNQUFNcTNCLEVBQWVELEVBQVk5RixZQUM1QmptQixLQUFLc0osUUFBUTJpQixnQkFBbUJELEVBQWFyM0IsU0FBUyxlQUUzRHFMLEtBQUtrc0IsVUFBVS9JLEVBQ2pCLENBUUF3SCxlQUFleEgsR0FFYixNQUFNZ0osRUFBa0Juc0IsS0FBS3NULFNBQVNuUyxTQUFTLGNBQWNBLFNBQVMsc0JBQ2xFZ3JCLEVBQWdCNzNCLFFBQ2xCMEwsS0FBS2tzQixVQUFVQyxFQUFnQjNKLElBQUlXLElBSXJDbmpCLEtBQUs4ckIsU0FBUzNJLEVBQ2hCLENBU0EySSxTQUFTM0ksR0FDUCxNQUFNNEksRUFBYzVJLEVBQVF4TSxTQUN0QnlWLEVBQWtCakosRUFBUTl1QixLQUFLLG1CQUVyQzh1QixFQUFROXVCLEtBQUssZUFBZSxHQUM1QjAzQixFQUFZbjNCLFNBQVMsYUFFckJaLElBQUcsSUFBR280QixLQUFtQi8zQixLQUFLLENBQzVCLGlCQUFpQixJQUduQjh1QixFQUFRa0osU0FBU0MsVUFBVXRzQixLQUFLc0osUUFBUWlqQixZQUFZLEtBS2xEdnNCLEtBQUtzVCxTQUFTYixRQUFRLG9CQUFxQixDQUFDMFEsR0FBUyxHQUV6RCxDQVNBK0ksVUFBVS9JLEdBQ1IsTUFBTTRJLEVBQWM1SSxFQUFReE0sU0FDdEJ5VixFQUFrQmpKLEVBQVE5dUIsS0FBSyxtQkFFckM4dUIsRUFBUTl1QixLQUFLLGVBQWUsR0FDNUIwM0IsRUFBWTMzQixZQUFZLGFBRXhCSixJQUFHLElBQUdvNEIsS0FBbUIvM0IsS0FBSyxDQUM3QixpQkFBaUIsSUFHbEI4dUIsRUFBUWtKLFNBQVNHLFFBQVF4c0IsS0FBS3NKLFFBQVFpakIsWUFBWSxLQUtoRHZzQixLQUFLc1QsU0FBU2IsUUFBUSxrQkFBbUIsQ0FBQzBRLEdBQVMsR0FFdkQsQ0FRQTRILGdCQUNFLElBQUkwQixFQUFjenNCLEtBQUtzVCxTQUFTblMsU0FBUyxjQUFjQSxTQUFTLHNCQUM1RHNyQixFQUFZbjRCLFFBQ2QwTCxLQUFLa3NCLFVBQVVPLEVBRW5CLENBT0FySSxXQUNFcGtCLEtBQUtzVCxTQUFTOWMsS0FBSyxzQkFBc0JrMkIsTUFBSyxHQUFNRixRQUFRLEdBQUc3cUIsSUFBSSxVQUFXLElBQzlFM0IsS0FBS3NULFNBQVM5YyxLQUFLLEtBQUtnakIsSUFBSSxpQkFDeEJ4WixLQUFLc0osUUFBUThoQixVQUNmcDNCLElBQUU2RixRQUFRMmYsSUFBSSxhQUFjeFosS0FBSzRxQixlQUdyQyxFQUdGVixFQUFVNUYsU0FBVyxDQU9uQmlJLFdBQVksSUFPWmhCLGFBQWEsRUFPYlUsZ0JBQWdCLEVBUWhCYixVQUFVLEVBT1ZKLGdCQUFnQixFQU9oQkcsb0JBQXFCLElBT3JCRCxxQkFBc0IsRUFPdEJVLGVBQWUsR0N2WWpCLE1BQU1lLFVBQXNCM0ksRUFTMUJDLE9BQU85c0IsRUFBU21TLEdBQ2R0SixLQUFLc1QsU0FBV25jLEVBQ2hCNkksS0FBS3NKLFFBQVV0VixJQUFBQSxPQUFTLENBQUMsRUFBRzI0QixFQUFjckksU0FBVXRrQixLQUFLc1QsU0FBU3pYLE9BQVF5TixHQUMxRXRKLEtBQUt4QyxVQUFZLGdCQUVqQndDLEtBQUtzUSxRQUVMZ0ssRUFBU2dCLFNBQVMsZ0JBQWlCLENBQ2pDLE1BQVMsU0FDVCxNQUFTLFNBQ1QsWUFBZSxPQUNmLFNBQVksS0FDWixXQUFjLE9BQ2QsV0FBYyxRQUNkLE9BQVUsWUFFZCxDQVFBaEwsUUFDRThNLEVBQUtDLFFBQVFyZCxLQUFLc1QsU0FBVSxhQUU1QixJQUFJUSxFQUFROVQsS0FFWkEsS0FBS3NULFNBQVM5YyxLQUFLLGtCQUFrQmdzQixJQUFJLGNBQWNnSyxRQUFRLEdBQy9EeHNCLEtBQUtzVCxTQUFTamYsS0FBSyxDQUNqQix1QkFBd0IyTCxLQUFLc0osUUFBUXNqQixZQUd2QzVzQixLQUFLNnNCLFdBQWE3c0IsS0FBS3NULFNBQVM5YyxLQUFLLGdDQUNyQ3dKLEtBQUs2c0IsV0FBV2haLE1BQUssV0FDbkIsSUFBSTBXLEVBQVN2cUIsS0FBS3dFLElBQU1zSixFQUFZLEVBQUcsaUJBQ25DTyxFQUFRcmEsSUFBRWdNLE1BQ1Y0ZCxFQUFPdlAsRUFBTWxOLFNBQVMsa0JBQ3RCMnJCLEVBQVFsUCxFQUFLLEdBQUdwWixJQUFNc0osRUFBWSxFQUFHLFlBQ3JDalksRUFBVytuQixFQUFLanBCLFNBQVMsYUFFekJtZixFQUFNeEssUUFBUXlqQixZQUNGMWUsRUFBTWxOLFNBQVMsS0FDckI2ckIsUUFBUUMsVUFBVXJQLEdBQU1zUCxLQUFLLDBHQUduQ3BaLEVBQU14SyxRQUFRNmpCLGVBQ2hCOWUsRUFBTXpaLFNBQVMsc0JBQ2Z5WixFQUFNbE4sU0FBUyxLQUFLOUIsTUFBTSxlQUFpQmtyQixFQUFTLDJDQUE2Q3VDLEVBQVEsb0JBQXNCajNCLEVBQVcsWUFBY2llLEVBQU14SyxRQUFROGpCLGtCQUFvQix1Q0FBeUN0WixFQUFNeEssUUFBUThqQixrQkFBb0IscUJBRXJRL2UsRUFBTWhhLEtBQUssQ0FDVCxnQkFBaUJ5NEIsRUFDakIsZ0JBQWlCajNCLEVBQ2pCLEdBQU0wMEIsSUFHVjNNLEVBQUt2cEIsS0FBSyxDQUNSLGtCQUFtQmsyQixFQUNuQixlQUFnQjEwQixFQUNoQixLQUFRLFFBQ1IsR0FBTWkzQixHQUVWLElBQ0EsSUFBSU8sRUFBWXJ0QixLQUFLc1QsU0FBUzljLEtBQUssY0FDL0I2MkIsRUFBVS80QixRQUNaKzRCLEVBQVV4WixNQUFLLFdBQ2JDLEVBQU02WCxLQUFLMzNCLElBQUVnTSxNQUNmLElBRUZBLEtBQUsra0IsU0FDUCxDQU1BQSxVQUNFLElBQUlqUixFQUFROVQsS0FFWkEsS0FBS3NULFNBQVM5YyxLQUFLLE1BQU1xZCxNQUFLLFdBQzVCLElBQUl5WixFQUFXdDVCLElBQUVnTSxNQUFNbUIsU0FBUyxrQkFFNUJtc0IsRUFBU2g1QixTQUNQd2YsRUFBTXhLLFFBQVE2akIsY0FDaEJuNUIsSUFBRWdNLE1BQU1tQixTQUFTLG1CQUFtQnFZLElBQUksMEJBQTBCamxCLEdBQUcsMEJBQTBCLFdBQzdGdWYsRUFBTTdkLE9BQU9xM0IsRUFDZixJQUVFdDVCLElBQUVnTSxNQUFNbUIsU0FBUyxLQUFLcVksSUFBSSwwQkFBMEJqbEIsR0FBRywwQkFBMEIsU0FBU0MsR0FDeEZBLEVBQUVDLGlCQUNGcWYsRUFBTTdkLE9BQU9xM0IsRUFDZixJQUdSLElBQUcvNEIsR0FBRyw0QkFBNEIsU0FBU0MsR0FDekMsSUFFSSs0QixFQUNBQyxFQUhBbGEsRUFBV3RmLElBQUVnTSxNQUNieXRCLEVBQVluYSxFQUFTcUQsT0FBTyxNQUFNeFYsU0FBUyxNQUczQ2dpQixFQUFVN1AsRUFBU25TLFNBQVMsa0JBRWhDc3NCLEVBQVU1WixNQUFLLFNBQVMzSSxHQUN0QixHQUFJbFgsSUFBRWdNLE1BQU00UixHQUFHMEIsR0FnQmIsT0FmQWlhLEVBQWVFLEVBQVU3UixHQUFHeGlCLEtBQUsyRyxJQUFJLEVBQUdtTCxFQUFFLElBQUkxVSxLQUFLLEtBQUs0cEIsUUFDeERvTixFQUFlQyxFQUFVN1IsR0FBR3hpQixLQUFLZ2YsSUFBSWxOLEVBQUUsRUFBR3VpQixFQUFVbjVCLE9BQU8sSUFBSWtDLEtBQUssS0FBSzRwQixRQUVyRXBzQixJQUFFZ00sTUFBTW1CLFNBQVMsMEJBQTBCN00sU0FDN0NrNUIsRUFBZWxhLEVBQVM5YyxLQUFLLGtCQUFrQkEsS0FBSyxLQUFLNHBCLFNBRXZEcHNCLElBQUVnTSxNQUFNNFIsR0FBRyxnQkFDYjJiLEVBQWVqYSxFQUFTb2EsUUFBUSxNQUFNdE4sUUFBUTVwQixLQUFLLEtBQUs0cEIsUUFDL0NtTixFQUFhRyxRQUFRLE1BQU10TixRQUFRamYsU0FBUywwQkFBMEI3TSxTQUMvRWk1QixFQUFlQSxFQUFhRyxRQUFRLE1BQU1sM0IsS0FBSyxpQkFBaUJBLEtBQUssS0FBSzRwQixjQUV4RXBzQixJQUFFZ00sTUFBTTRSLEdBQUcsaUJBQ2I0YixFQUFlbGEsRUFBU29hLFFBQVEsTUFBTXROLFFBQVF6TyxLQUFLLE1BQU1uYixLQUFLLEtBQUs0cEIsU0FLekUsSUFFQTlGLEVBQVNLLFVBQVVubUIsRUFBRyxnQkFBaUIsQ0FDckNtNUIsS0FBTSxXQUNBeEssRUFBUXZSLEdBQUcsYUFDYmtDLEVBQU02WCxLQUFLeEksR0FDWEEsRUFBUTNzQixLQUFLLE1BQU00cEIsUUFBUTVwQixLQUFLLEtBQUs0cEIsUUFBUW5yQixRQUVqRCxFQUNBMjRCLE1BQU8sV0FDRHpLLEVBQVE3dUIsU0FBVzZ1QixFQUFRdlIsR0FBRyxXQUNoQ2tDLEVBQU00WCxHQUFHdkksR0FDQTdQLEVBQVNxRCxPQUFPLGtCQUFrQnJpQixTQUMzQ3dmLEVBQU00WCxHQUFHcFksRUFBU3FELE9BQU8sbUJBQ3pCckQsRUFBU29hLFFBQVEsTUFBTXROLFFBQVE1cEIsS0FBSyxLQUFLNHBCLFFBQVFuckIsUUFFckQsRUFDQXkyQixHQUFJLFdBRUYsT0FEQTZCLEVBQWF0NEIsU0FDTixDQUNULEVBQ0EwMkIsS0FBTSxXQUVKLE9BREE2QixFQUFhdjRCLFNBQ04sQ0FDVCxFQUNBZ0IsT0FBUSxXQUNOLE9BQUk2ZCxFQUFNeEssUUFBUTZqQixnQkFHZDdaLEVBQVNuUyxTQUFTLGtCQUFrQjdNLFFBQ3RDd2YsRUFBTTdkLE9BQU9xZCxFQUFTblMsU0FBUyxvQkFDeEIsUUFGVCxFQUlGLEVBQ0Ewc0IsU0FBVSxXQUNSL1osRUFBTWdhLFNBQ1IsRUFDQTFTLFFBQVMsU0FBUzNtQixHQUNaQSxHQUNGRCxFQUFFQyxnQkFFTixHQUVKLEdBQ0YsQ0FNQXE1QixVQUNFOXRCLEtBQUswckIsR0FBRzFyQixLQUFLc1QsU0FBUzljLEtBQUssa0JBQzdCLENBTUF1M0IsVUFDRS90QixLQUFLMnJCLEtBQUszckIsS0FBS3NULFNBQVM5YyxLQUFLLGtCQUMvQixDQU9BUCxPQUFPa3RCLEdBQ0FBLEVBQVF2UixHQUFHLGVBQ1R1UixFQUFRdlIsR0FBRyxXQUlkNVIsS0FBSzJyQixLQUFLeEksR0FIVm5qQixLQUFLMHJCLEdBQUd2SSxHQU1kLENBT0F3SSxLQUFLeEksR0FHSCxJQUFLbmpCLEtBQUtzSixRQUFRc2pCLFVBQVcsQ0FHM0IsTUFBTW9CLEVBQWdCN0ssRUFBUThLLGFBQWFqdUIsS0FBS3NULFVBQzdDM1osSUFBSXdwQixHQUNKeHBCLElBQUl3cEIsRUFBUTNzQixLQUFLLGVBRWQwM0IsRUFBd0JsdUIsS0FBS3NULFNBQVM5YyxLQUFLLGNBQWNnc0IsSUFBSXdMLEdBRW5FaHVCLEtBQUswckIsR0FBR3dDLEVBQ1YsQ0FFQS9LLEVBQ0d2dUIsU0FBUyxhQUNUUCxLQUFLLENBQUUsZUFBZSxJQUVyQjJMLEtBQUtzSixRQUFRNmpCLGNBQ2ZoSyxFQUFRdUgsS0FBSyxtQkFBbUJyMkIsS0FBSyxDQUFDLGlCQUFpQixJQUd2RDh1QixFQUFReE0sT0FBTyxnQ0FBZ0N0aUIsS0FBSyxDQUFDLGlCQUFpQixJQUd4RTh1QixFQUFRbUosVUFBVXRzQixLQUFLc0osUUFBUWlqQixZQUFZLEtBS3pDdnNCLEtBQUtzVCxTQUFTYixRQUFRLHdCQUF5QixDQUFDMFEsR0FBUyxHQUU3RCxDQU9BdUksR0FBR3ZJLEdBQ0QsTUFBTWdMLEVBQVloTCxFQUFRM3NCLEtBQUssa0JBQ3pCNDNCLEVBQVlqTCxFQUFReHBCLElBQUl3MEIsR0FFOUJBLEVBQVUzQixRQUFRLEdBQ2xCNEIsRUFDR2g2QixZQUFZLGFBQ1pDLEtBQUssZUFBZSxHQUVuQjJMLEtBQUtzSixRQUFRNmpCLGNBQ2ZpQixFQUFVMUQsS0FBSyxtQkFBbUJyMkIsS0FBSyxpQkFBaUIsR0FHeEQrNUIsRUFBVXpYLE9BQU8sZ0NBQWdDdGlCLEtBQUssaUJBQWlCLEdBR3pFOHVCLEVBQVFxSixRQUFReHNCLEtBQUtzSixRQUFRaWpCLFlBQVksS0FLdkN2c0IsS0FBS3NULFNBQVNiLFFBQVEsc0JBQXVCLENBQUMwUSxHQUFTLEdBRTNELENBTUFpQixXQUNFcGtCLEtBQUtzVCxTQUFTOWMsS0FBSyxrQkFBa0I4MUIsVUFBVSxHQUFHM3FCLElBQUksVUFBVyxJQUNqRTNCLEtBQUtzVCxTQUFTOWMsS0FBSyxLQUFLZ2pCLElBQUksMEJBQzVCeFosS0FBS3NULFNBQVM5YyxLQUFLLHlCQUF5QjYzQixTQUV4Q3J1QixLQUFLc0osUUFBUTZqQixnQkFDZm50QixLQUFLc1QsU0FBUzljLEtBQUssdUJBQXVCcEMsWUFBWSxzQkFDdEQ0TCxLQUFLc1QsU0FBUzljLEtBQUssbUJBQW1CbUUsVUFHeEN5aUIsRUFBS1UsS0FBSzlkLEtBQUtzVCxTQUFVLFlBQzNCLEVBR0ZxWixFQUFjckksU0FBVyxDQU92QnlJLFlBQVksRUFPWlIsV0FBWSxJQU1aWSxlQUFlLEVBTWZDLGtCQUFtQixjQU9uQlIsV0FBVyxHQ3ZVYixNQUFNMEIsVUFBa0J0SyxFQVF0QkMsT0FBTzlzQixFQUFTbVMsR0FDZHRKLEtBQUtzVCxTQUFXbmMsRUFDaEI2SSxLQUFLc0osUUFBVXRWLElBQUFBLE9BQVMsQ0FBQyxFQUFHczZCLEVBQVVoSyxTQUFVdGtCLEtBQUtzVCxTQUFTelgsT0FBUXlOLEdBQ3RFdEosS0FBS3hDLFVBQVksWUFFakJ3QyxLQUFLc1EsUUFFTGdLLEVBQVNnQixTQUFTLFlBQWEsQ0FDN0IsTUFBUyxPQUNULE1BQVMsT0FDVCxZQUFlLE9BQ2YsU0FBWSxLQUNaLFdBQWMsT0FDZCxXQUFjLFdBQ2QsT0FBVSxTQUVkLENBTUFoTCxRQUNFOE0sRUFBS0MsUUFBUXJkLEtBQUtzVCxTQUFVLGFBRXpCdFQsS0FBS3NKLFFBQVFpbEIsZ0JBQ2R2dUIsS0FBS3NULFNBQVMxZSxTQUFTLGFBR3pCb0wsS0FBS3NULFNBQVNqZixLQUFLLENBQ2pCLHdCQUF3QixJQUUxQjJMLEtBQUt3dUIsZ0JBQWtCeHVCLEtBQUtzVCxTQUFTOWMsS0FBSyxrQ0FBa0MySyxTQUFTLEtBQ3JGbkIsS0FBS211QixVQUFZbnVCLEtBQUt3dUIsZ0JBQWdCN1gsT0FBTyxNQUFNeFYsU0FBUyxrQkFBa0I5TSxLQUFLLE9BQVEsU0FDM0YyTCxLQUFLeXVCLFdBQWF6dUIsS0FBS3NULFNBQVM5YyxLQUFLLE1BQU1nc0IsSUFBSSxzQkFBc0Joc0IsS0FBSyxLQUkxRXdKLEtBQUswdUIsYUFBZTF1QixLQUFLc1QsU0FFekJ0VCxLQUFLc1QsU0FBU2pmLEtBQUssY0FBZ0IyTCxLQUFLc1QsU0FBU2pmLEtBQUssbUJBQXFCeVosRUFBWSxFQUFHLGNBRTFGOU4sS0FBSzJ1QixlQUNMM3VCLEtBQUs0dUIsa0JBRUw1dUIsS0FBSzZ1QixpQkFDUCxDQVNBRixlQUNFLElBQUk3YSxFQUFROVQsS0FJWkEsS0FBS3d1QixnQkFBZ0IzYSxNQUFLLFdBQ3hCLElBQUlpWCxFQUFROTJCLElBQUVnTSxNQUNWNGQsRUFBT2tOLEVBQU1uVSxTQUNkN0MsRUFBTXhLLFFBQVF5akIsWUFDZmpDLEVBQU1rQyxRQUFRQyxVQUFVclAsRUFBS3pjLFNBQVMsbUJBQW1CK3JCLEtBQUssc0hBRWhFcEMsRUFBTWp2QixLQUFLLFlBQWFpdkIsRUFBTXoyQixLQUFLLFNBQVNtZixXQUFXLFFBQVFuZixLQUFLLFdBQVksR0FDaEZ5MkIsRUFBTTNwQixTQUFTLGtCQUNWOU0sS0FBSyxDQUNKLGVBQWUsRUFDZixTQUFZLEVBQ1osS0FBUSxVQUVkeWYsRUFBTWlSLFFBQVErRixFQUNoQixJQUNBOXFCLEtBQUttdUIsVUFBVXRhLE1BQUssV0FDbEIsSUFBSWliLEVBQVE5NkIsSUFBRWdNLE1BRWQsSUFEWTh1QixFQUFNdDRCLEtBQUssc0JBQ2JsQyxPQUNSLE9BQVF3ZixFQUFNeEssUUFBUXlsQixvQkFDcEIsSUFBSyxTQUNIRCxFQUFNRSxPQUFPbGIsRUFBTXhLLFFBQVEybEIsWUFDM0IsTUFDRixJQUFLLE1BQ0hILEVBQU1JLFFBQVFwYixFQUFNeEssUUFBUTJsQixZQUM1QixNQUNGLFFBQ0U5YSxRQUFRalcsTUFBTSx5Q0FBMkM0VixFQUFNeEssUUFBUXlsQixtQkFBcUIsS0FHbEdqYixFQUFNcWIsTUFBTUwsRUFDZCxJQUVBOXVCLEtBQUttdUIsVUFBVXY1QixTQUFTLGFBQ3BCb0wsS0FBS3NKLFFBQVE4bEIsWUFDZnB2QixLQUFLbXVCLFVBQVV2NUIsU0FBUyxvQ0FJdEJvTCxLQUFLc1QsU0FBU3FELFNBQVNoaUIsU0FBUyxrQkFDbENxTCxLQUFLcXZCLFNBQVdyN0IsSUFBRWdNLEtBQUtzSixRQUFRZ21CLFNBQVMxNkIsU0FBUyxnQkFDOUNvTCxLQUFLc0osUUFBUWltQixlQUFldnZCLEtBQUtxdkIsU0FBU3o2QixTQUFTLGtCQUN0RG9MLEtBQUtzVCxTQUFTNFosS0FBS2x0QixLQUFLcXZCLFdBRzFCcnZCLEtBQUtxdkIsU0FBV3J2QixLQUFLc1QsU0FBU3FELFNBQzlCM1csS0FBS3F2QixTQUFTMXRCLElBQUkzQixLQUFLd3ZCLGNBQ3pCLENBRUFDLFVBQ0V6dkIsS0FBS3F2QixTQUFTMXRCLElBQUksQ0FBQyxZQUFhLE9BQVEsYUFBYyxTQUV0RDNCLEtBQUtxdkIsU0FBUzF0QixJQUFJM0IsS0FBS3d2QixjQUN6QixDQVFBekssUUFBUTFXLEdBQ04sSUFBSXlGLEVBQVE5VCxLQUVacU8sRUFBTW1MLElBQUksc0JBQ1RqbEIsR0FBRyxzQkFBc0IsU0FBU0MsR0FVakMsR0FUR1IsSUFBRVEsRUFBRU0sUUFBUW01QixhQUFhLEtBQU0sTUFBTXQ1QixTQUFTLGdDQUMvQ0gsRUFBRUMsaUJBTUpxZixFQUFNNGIsTUFBTXJoQixFQUFNc0ksT0FBTyxPQUV0QjdDLEVBQU14SyxRQUFRcW1CLGFBQWEsQ0FDNUIsSUFBSUMsRUFBUTU3QixJQUFFLFFBQ2Q0N0IsRUFBTXBXLElBQUksaUJBQWlCamxCLEdBQUcsc0JBQXNCLFNBQVNzN0IsR0FDdkRBLEVBQUcvNkIsU0FBV2dmLEVBQU1SLFNBQVMsSUFBTXRmLElBQUFBLFNBQVc4ZixFQUFNUixTQUFTLEdBQUl1YyxFQUFHLzZCLFVBQ3hFKzZCLEVBQUdwN0IsaUJBQ0hxZixFQUFNZ2MsV0FDTkYsRUFBTXBXLElBQUksaUJBQ1osR0FDRixDQUNGLEdBQ0YsQ0FPQW9WLGtCQUNLNXVCLEtBQUtzSixRQUFRMmhCLFlBQ2RqckIsS0FBSyt2QixhQUFlL3ZCLEtBQUtnd0IsV0FBVzVnQixLQUFLcFAsTUFDekNBLEtBQUtzVCxTQUFTL2UsR0FBRyw2RUFBNkV5TCxLQUFLK3ZCLGVBRXJHL3ZCLEtBQUtzVCxTQUFTL2UsR0FBRyxzQkFBdUJ5TCxLQUFLeXZCLFFBQVFyZ0IsS0FBS3BQLE1BQzVELENBT0Fnd0IsYUFDRSxJQUFJbGMsRUFBUTlULEtBQ1Jpd0IsRUFBdUQsS0FBbkNuYyxFQUFNeEssUUFBUTRtQixpQkFBd0JsOEIsSUFBRThmLEVBQU14SyxRQUFRNG1CLGtCQUFrQnBjLEVBQU1SLFNBQ2xHNmMsRUFBWXJ3QixTQUFTbXdCLEVBQWtCdlksU0FBU0MsSUFBSTdELEVBQU14SyxRQUFROG1CLGdCQUFpQixJQUN2RnA4QixJQUFFLGNBQWMwNEIsTUFBSyxHQUFNdFEsUUFBUSxDQUFFNk8sVUFBV2tGLEdBQWFyYyxFQUFNeEssUUFBUSttQixrQkFBbUJ2YyxFQUFNeEssUUFBUWduQixpQkFBZ0IsV0FLdkh0d0IsT0FBT2hNLElBQUUsUUFBUSxJQUFHOGYsRUFBTVIsU0FBU2IsUUFBUSx3QkFDaEQsR0FDRixDQU1Bb2Msa0JBQ0UsSUFBSS9hLEVBQVE5VCxLQUVaQSxLQUFLeXVCLFdBQVc5MEIsSUFBSXFHLEtBQUtzVCxTQUFTOWMsS0FBSyx3REFBd0RqQyxHQUFHLHdCQUF3QixTQUFTQyxHQUNqSSxJQUVJKzRCLEVBQ0FDLEVBSEFsYSxFQUFXdGYsSUFBRWdNLE1BQ2J5dEIsRUFBWW5hLEVBQVNxRCxPQUFPLE1BQU1BLE9BQU8sTUFBTXhWLFNBQVMsTUFBTUEsU0FBUyxLQUkzRXNzQixFQUFVNVosTUFBSyxTQUFTM0ksR0FDdEIsR0FBSWxYLElBQUVnTSxNQUFNNFIsR0FBRzBCLEdBR2IsT0FGQWlhLEVBQWVFLEVBQVU3UixHQUFHeGlCLEtBQUsyRyxJQUFJLEVBQUdtTCxFQUFFLFNBQzFDc2lCLEVBQWVDLEVBQVU3UixHQUFHeGlCLEtBQUtnZixJQUFJbE4sRUFBRSxFQUFHdWlCLEVBQVVuNUIsT0FBTyxJQUcvRCxJQUVBZ21CLEVBQVNLLFVBQVVubUIsRUFBRyxZQUFhLENBQ2pDbWQsS0FBTSxXQUNKLEdBQUkyQixFQUFTMUIsR0FBR2tDLEVBQU0wYSxpQkFLcEIsT0FKQTFhLEVBQU00YixNQUFNcGMsRUFBU3FELE9BQU8sT0FDNUJyRCxFQUFTcUQsT0FBTyxNQUFNOUgsSUFBSVQsRUFBY2tGLElBQVcsV0FDakRBLEVBQVNxRCxPQUFPLE1BQU1uZ0IsS0FBSyxXQUFXZ3NCLElBQUksd0JBQXdCcEMsUUFBUW5yQixPQUM1RSxLQUNPLENBRVgsRUFDQXUyQixTQUFVLFdBT1IsT0FOQTFYLEVBQU15YyxNQUFNamQsRUFBU3FELE9BQU8sTUFBTUEsT0FBTyxPQUN6Q3JELEVBQVNxRCxPQUFPLE1BQU1BLE9BQU8sTUFBTTlILElBQUlULEVBQWNrRixJQUFXLFdBQzlEalYsWUFBVyxXQUNUaVYsRUFBU3FELE9BQU8sTUFBTUEsT0FBTyxNQUFNQSxPQUFPLE1BQU14VixTQUFTLEtBQUtpZixRQUFRbnJCLE9BQ3hFLEdBQUcsRUFDTCxLQUNPLENBQ1QsRUFDQXkyQixHQUFJLFdBR0YsT0FGQTZCLEVBQWF0NEIsU0FFTHFlLEVBQVMxQixHQUFHa0MsRUFBTVIsU0FBUzljLEtBQUssd0JBQzFDLEVBQ0FtMUIsS0FBTSxXQUdKLE9BRkE2QixFQUFhdjRCLFNBRUxxZSxFQUFTMUIsR0FBR2tDLEVBQU1SLFNBQVM5YyxLQUFLLHVCQUMxQyxFQUNBbzNCLE1BQU8sV0FFQXRhLEVBQVMxQixHQUFHa0MsRUFBTVIsU0FBUzljLEtBQUssZUFDbkNzZCxFQUFNeWMsTUFBTWpkLEVBQVNxRCxTQUFTQSxVQUM5QnJELEVBQVNxRCxTQUFTQSxTQUFTc1AsU0FBUyxLQUFLaHhCLFFBRTdDLEVBQ0EwNEIsS0FBTSxXQUNKLFFBQUk3WixFQUFNeEssUUFBUXlqQixhQUFjelosRUFBU2pmLEtBQUssV0FFbENpZixFQUFTMUIsR0FBR2tDLEVBQU0yYSxZQVFuQm5iLEVBQVMxQixHQUFHa0MsRUFBTTBhLGtCQUMzQjFhLEVBQU00YixNQUFNcGMsRUFBU3FELE9BQU8sT0FDNUJyRCxFQUFTcUQsT0FBTyxNQUFNOUgsSUFBSVQsRUFBY2tGLElBQVcsV0FDakRBLEVBQVNxRCxPQUFPLE1BQU1uZ0IsS0FBSyxXQUFXZ3NCLElBQUksd0JBQXdCcEMsUUFBUW5yQixPQUM1RSxLQUNPLFFBTEYsR0FQTDZlLEVBQU15YyxNQUFNamQsRUFBU3FELE9BQU8sTUFBTUEsT0FBTyxPQUN6Q3JELEVBQVNxRCxPQUFPLE1BQU1BLE9BQU8sTUFBTTlILElBQUlULEVBQWNrRixJQUFXLFdBQzlEalYsWUFBVyxXQUNUaVYsRUFBU3FELE9BQU8sTUFBTUEsT0FBTyxNQUFNQSxPQUFPLE1BQU14VixTQUFTLEtBQUtpZixRQUFRbnJCLE9BQ3hFLEdBQUcsRUFDTCxLQUNPLEdBUVgsRUFDQW1tQixRQUFTLFNBQVMzbUIsR0FDWkEsR0FDRkQsRUFBRUMsZ0JBRU4sR0FFSixHQUNGLENBUUFxN0IsV0FDRSxJQUFJemhCLEVBQVFyTyxLQUFLc1QsU0FBUzljLEtBQUssbUNBSS9CLEdBSEE2WCxFQUFNelosU0FBUyxjQUNmeVosRUFBTXNJLFNBQVM1aEIsUUFBUSxNQUFNWCxZQUFZLGFBRXJDNEwsS0FBS3NKLFFBQVE4bEIsV0FBWSxDQUMzQixNQUFNb0IsRUFBYW5pQixFQUFNc0ksU0FBUzVoQixRQUFRLE1BQU04RyxLQUFLLGNBQ3JEbUUsS0FBS3F2QixTQUFTMXRCLElBQUksQ0FBRW5DLE9BQVFneEIsR0FDOUIsQ0FNQXh3QixLQUFLc1QsU0FBU2IsUUFBUSxzQkFFdEJwRSxFQUFNUSxJQUFJVCxFQUFjQyxJQUFRLEtBQzlCQSxFQUFNamEsWUFBWSx3QkFNbEI0TCxLQUFLc1QsU0FBU2IsUUFBUSxzQkFBc0IsR0FFaEQsQ0FRQTBjLE1BQU05Z0IsR0FDSixJQUFJeUYsRUFBUTlULEtBQ1pxTyxFQUFNbUwsSUFBSSxzQkFDVm5MLEVBQU1sTixTQUFTLHNCQUNaNU0sR0FBRyxzQkFBc0IsV0FDeEJ1ZixFQUFNeWMsTUFBTWxpQixHQUdaLElBQUlvaUIsRUFBZ0JwaUIsRUFBTXNJLE9BQU8sTUFBTUEsT0FBTyxNQUFNQSxPQUFPLE1BQ3ZEOFosRUFBY244QixPQUNoQndmLEVBQU00YixNQUFNZSxHQUdaM2MsRUFBTTRhLGFBQWU1YSxFQUFNUixRQUUvQixHQUNKLENBT0FvZCxrQkFDRSxJQUFJNWMsRUFBUTlULEtBQ1pBLEtBQUt5dUIsV0FBV2pNLElBQUksZ0NBQ2ZoSixJQUFJLHNCQUNKamxCLEdBQUcsc0JBQXNCLFdBQ3hCOEosWUFBVyxXQUNUeVYsRUFBTWdjLFVBQ1IsR0FBRyxFQUNQLEdBQ0osQ0FTQWEsdUJBQXVCdGlCLEVBQU9vRSxHQUM1QnBFLEVBQU16WixTQUFTLGFBQWFSLFlBQVksYUFBYUMsS0FBSyxlQUFlLEdBQ3pFZ2EsRUFBTXNJLE9BQU8sTUFBTXRpQixLQUFLLGlCQUFpQixJQUN6QixJQUFab2UsR0FDRnpTLEtBQUtzVCxTQUFTYixRQUFRLG9CQUFxQixDQUFDcEUsR0FFaEQsQ0FTQXVpQix1QkFBdUJ2aUIsRUFBT29FLEdBQzVCcEUsRUFBTWphLFlBQVksYUFBYVEsU0FBUyxhQUFhUCxLQUFLLGVBQWUsR0FDekVnYSxFQUFNc0ksT0FBTyxNQUFNdGlCLEtBQUssaUJBQWlCLElBQ3pCLElBQVpvZSxHQUNGcEUsRUFBTW9FLFFBQVEsb0JBQXFCLENBQUNwRSxHQUV4QyxDQVVBd2lCLFVBQVV4aUIsRUFBT3lpQixHQUVmLElBQUloZCxFQUFROVQsS0FZWixHQVR3QkEsS0FBS3NULFNBQVM5YyxLQUFLLCtDQUN6QnFkLE1BQUssV0FDckJDLEVBQU04Yyx1QkFBdUI1OEIsSUFBRWdNLE1BQ2pDLElBR0FBLEtBQUswdUIsYUFBZXJnQixFQUdoQkEsRUFBTXVELEdBQUcsb0JBR1gsT0FGa0IsSUFBZGtmLEdBQW9CemlCLEVBQU03WCxLQUFLLFVBQVU0cEIsUUFBUW5yQixhQUNqRCtLLEtBQUtzSixRQUFROGxCLFlBQVlwdkIsS0FBS3F2QixTQUFTMXRCLElBQUksU0FBVTBNLEVBQU14UyxLQUFLLGdCQUt0RSxJQUFJc3lCLEVBQVk5ZixFQUFNbE4sV0FBV2lmLFFBQVE2TixhQUFhLG1CQUFvQixrQkFHMUVFLEVBQVV0YSxNQUFLLFNBQVNrZCxHQUdSLElBQVZBLEdBQWVqZCxFQUFNeEssUUFBUThsQixZQUMvQnRiLEVBQU11YixTQUFTMXRCLElBQUksU0FBVTNOLElBQUVnTSxNQUFNbkUsS0FBSyxlQUc1QyxJQUFJbTFCLEVBQWNELElBQVU1QyxFQUFVNzVCLE9BQVMsR0FJM0IsSUFBaEIwOEIsR0FDRmg5QixJQUFFZ00sTUFBTTZPLElBQUlULEVBQWNwYSxJQUFFZ00sUUFBUSxNQUNoQixJQUFkOHdCLEdBQ0Z6aUIsRUFBTTdYLEtBQUssVUFBVTRwQixRQUFRbnJCLE9BQy9CLElBSUo2ZSxFQUFNNmMsdUJBQXVCMzhCLElBQUVnTSxNQUFPZ3hCLEVBQ3hDLEdBQ0YsQ0FRQXRCLE1BQU1yaEIsR0FDSixNQUFNaWYsRUFBV2pmLEVBQU1sTixTQUFTLGtCQUVoQ2tOLEVBQU1oYSxLQUFLLGlCQUFpQixHQUU1QjJMLEtBQUswdUIsYUFBZXBCLEVBSXBCamYsRUFBTXNJLFNBQVM1aEIsUUFBUSxNQUFNSCxTQUFTLGFBR3RDMDRCLEVBQVMxNEIsU0FBUyxxQkFBcUJSLFlBQVksYUFBYUMsS0FBSyxlQUFlLEdBRWhGMkwsS0FBS3NKLFFBQVE4bEIsWUFDZnB2QixLQUFLcXZCLFNBQVMxdEIsSUFBSSxDQUFFbkMsT0FBUTh0QixFQUFTenhCLEtBQUssZ0JBTzVDbUUsS0FBS3NULFNBQVNiLFFBQVEsb0JBQXFCLENBQUNwRSxHQUM5QyxDQVFBa2lCLE1BQU1saUIsR0FDRHJPLEtBQUtzSixRQUFROGxCLFlBQVlwdkIsS0FBS3F2QixTQUFTMXRCLElBQUksQ0FBQ25DLE9BQU82TyxFQUFNc0ksU0FBUzVoQixRQUFRLE1BQU04RyxLQUFLLGdCQUN4RndTLEVBQU1zSSxTQUFTNWhCLFFBQVEsTUFBTVgsWUFBWSxhQUN6Q2lhLEVBQU1zSSxPQUFPLE1BQU10aUIsS0FBSyxpQkFBaUIsR0FDekNnYSxFQUFNaGEsS0FBSyxlQUFlLEdBQzFCZ2EsRUFBTXpaLFNBQVMsY0FDVGlhLElBQUlULEVBQWNDLElBQVEsV0FDekJBLEVBQU1qYSxZQUFZLGdDQUNsQmlhLEVBQU05UCxPQUFPM0osU0FBUyxZQUN4QixJQUtMeVosRUFBTW9FLFFBQVEsb0JBQXFCLENBQUNwRSxHQUN0QyxDQVFBbWhCLGNBQ0UsSUFBSXlCLEVBQVksRUFBR0MsRUFBUyxDQUFDLEVBQUdwZCxFQUFROVQsS0FvQnhDLE9BakJBQSxLQUFLbXVCLFVBQVV4MEIsSUFBSXFHLEtBQUtzVCxVQUFVTyxNQUFLLFdBQ3JDLElBQUlyVSxFQUFTaVgsRUFBSU8sY0FBY2hYLE1BQU1SLE9BRXJDeXhCLEVBQVl6eEIsRUFBU3l4QixFQUFZenhCLEVBQVN5eEIsRUFFdkNuZCxFQUFNeEssUUFBUThsQixZQUNmcDdCLElBQUVnTSxNQUFNbkUsS0FBSyxhQUFhMkQsRUFFOUIsSUFFSVEsS0FBS3NKLFFBQVE4bEIsV0FDZjhCLEVBQU8xeEIsT0FBU1EsS0FBSzB1QixhQUFhN3lCLEtBQUssY0FFdkNxMUIsRUFBTyxjQUFpQixHQUFFRCxNQUU1QkMsRUFBTyxhQUFnQixHQUFFbHhCLEtBQUtzVCxTQUFTLEdBQUdpRix3QkFBd0JwSSxVQUUzRCtnQixDQUNULENBTUE5TSxXQUNFcHdCLElBQUUsUUFBUXdsQixJQUFJLGlCQUNYeFosS0FBS3NKLFFBQVEyaEIsV0FBV2pyQixLQUFLc1QsU0FBU2tHLElBQUksZ0JBQWdCeFosS0FBSyt2QixjQUNsRS92QixLQUFLOHZCLFdBQ045dkIsS0FBS3NULFNBQVNrRyxJQUFJLHVCQUNqQjRELEVBQUtVLEtBQUs5ZCxLQUFLc1QsU0FBVSxhQUN6QnRULEtBQUtzVCxTQUFTNmQsU0FDQTM2QixLQUFLLCtDQUErQ21FLFNBQ3BEcUUsTUFBTXhJLEtBQUssa0RBQWtEcEMsWUFBWSw2Q0FBNkNvbEIsSUFBSSxvREFDMUh4YSxNQUFNeEksS0FBSyxrQkFBa0JnZCxXQUFXLDZCQUN0RHhULEtBQUt3dUIsZ0JBQWdCM2EsTUFBSyxXQUN4QjdmLElBQUVnTSxNQUFNd1osSUFBSSxnQkFDZCxJQUVBeFosS0FBS3NULFNBQVM5YyxLQUFLLHlCQUF5QjYzQixTQUM1Q3J1QixLQUFLbXVCLFVBQVUvNUIsWUFBWSw4Q0FFM0I0TCxLQUFLc1QsU0FBUzljLEtBQUssS0FBS3FkLE1BQUssV0FDM0IsSUFBSWlYLEVBQVE5MkIsSUFBRWdNLE1BQ2Q4cUIsRUFBTXRYLFdBQVcsWUFDZHNYLEVBQU1qdkIsS0FBSyxjQUNaaXZCLEVBQU16MkIsS0FBSyxPQUFReTJCLEVBQU1qdkIsS0FBSyxjQUFjNFgsV0FBVyxZQUUzRCxHQUNGLEVBR0Y2YSxFQUFVaEssU0FBVyxDQVFuQmlLLGdCQUFnQixFQU9oQlUsV0FBWSw4REFPWkYsbUJBQW9CLE1BT3BCTyxRQUFTLGNBT1R2QyxZQUFZLEVBT1o0QyxjQUFjLEVBT2RQLFlBQVksRUFPWkcsZUFBZSxFQU9mdEUsV0FBVyxFQU9YaUYsaUJBQWtCLEdBT2xCRSxnQkFBaUIsRUFPakJDLGtCQUFtQixJQVFuQkMsZ0JBQWlCLFNDeG9CbkIsTUFBTWMsRUFBWSxDQUFDLE9BQVEsUUFBUyxNQUFPLFVBQ3JDQyxFQUFzQixDQUFDLE1BQU8sU0FBVSxVQUN4Q0MsRUFBd0IsQ0FBQyxPQUFRLFFBQVMsVUFFMUNDLEdBQWEsQ0FDakIsS0FBUUYsRUFDUixNQUFTQSxFQUNULElBQU9DLEVBQ1AsT0FBVUEsR0FHWixTQUFTRSxHQUFTcjFCLEVBQU1zMUIsR0FDdEIsSUFBSUMsRUFBYUQsRUFBTTFuQixRQUFRNU4sR0FDL0IsT0FBR3UxQixJQUFlRCxFQUFNbjlCLE9BQVMsRUFDeEJtOUIsRUFBTSxHQUVOQSxFQUFNQyxFQUFhLEVBRTlCLENBR0EsTUFBTUMsV0FBcUIzTixFQVd6QjFULFFBQ0V0USxLQUFLNHhCLGVBQWlCLENBQUMsRUFDdkI1eEIsS0FBS3dNLFNBQXNDLFNBQTFCeE0sS0FBS3NKLFFBQVFrRCxTQUFzQnhNLEtBQUs2eEIsc0JBQXdCN3hCLEtBQUtzSixRQUFRa0QsU0FDOUZ4TSxLQUFLa1gsVUFBdUMsU0FBM0JsWCxLQUFLc0osUUFBUTROLFVBQXVCbFgsS0FBSzh4Qix1QkFBeUI5eEIsS0FBS3NKLFFBQVE0TixVQUNoR2xYLEtBQUsreEIsaUJBQW1CL3hCLEtBQUt3TSxTQUM3QnhNLEtBQUtneUIsa0JBQW9CaHlCLEtBQUtrWCxTQUNoQyxDQUVBMmEsc0JBQ0UsTUFBTyxRQUNULENBRUFDLHVCQUNFLE9BQU85eEIsS0FBS3dNLFVBQ1YsSUFBSyxTQUNMLElBQUssTUFDSCxPQUFPME8sSUFBUSxRQUFVLE9BQzNCLElBQUssT0FDTCxJQUFLLFFBQ0gsTUFBTyxTQUViLENBUUErVyxjQUNLanlCLEtBQUtreUIscUJBQXFCbHlCLEtBQUt3TSxXQUNoQ3hNLEtBQUt3TSxTQUFXZ2xCLEdBQVN4eEIsS0FBS3dNLFNBQVU0a0IsR0FDeENweEIsS0FBS2tYLFVBQVlxYSxHQUFXdnhCLEtBQUt3TSxVQUFVLElBRTNDeE0sS0FBS215QixVQUVULENBUUFBLFdBQ0VueUIsS0FBS295QixrQkFBa0JweUIsS0FBS3dNLFNBQVV4TSxLQUFLa1gsV0FDM0NsWCxLQUFLa1gsVUFBWXNhLEdBQVN4eEIsS0FBS2tYLFVBQVdxYSxHQUFXdnhCLEtBQUt3TSxVQUM1RCxDQUVBNGxCLGtCQUFrQjVsQixFQUFVMEssR0FDMUJsWCxLQUFLNHhCLGVBQWVwbEIsR0FBWXhNLEtBQUs0eEIsZUFBZXBsQixJQUFhLEdBQ2pFeE0sS0FBSzR4QixlQUFlcGxCLEdBQVVELEtBQUsySyxFQUNyQyxDQUVBbWIsc0JBRUUsSUFEQSxJQUFJQyxHQUFjLEVBQ1ZwbkIsRUFBSSxFQUFHQSxFQUFJa21CLEVBQVU5OEIsT0FBUTRXLElBQ25Db25CLEVBQWNBLEdBQWV0eUIsS0FBS2t5QixxQkFBcUJkLEVBQVVsbUIsSUFFbkUsT0FBT29uQixDQUNULENBRUFKLHFCQUFxQjFsQixHQUNuQixPQUFPeE0sS0FBSzR4QixlQUFlcGxCLElBQWF4TSxLQUFLNHhCLGVBQWVwbEIsR0FBVWxZLFNBQVdpOUIsR0FBVy9rQixHQUFVbFksTUFDeEcsQ0FTQWkrQixjQUNFLE9BQU92eUIsS0FBS3NKLFFBQVE2TixPQUN0QixDQUVBcWIsY0FDRSxPQUFPeHlCLEtBQUtzSixRQUFROE4sT0FDdEIsQ0FFQXFiLGFBQWE1SCxFQUFTdlgsRUFBVW9mLEdBQzlCLEdBQXFDLFVBQWxDN0gsRUFBUXgyQixLQUFLLGlCQUErQixPQUFPLEVBVXRELEdBUksyTCxLQUFLc0osUUFBUXFwQixlQUVoQjN5QixLQUFLd00sU0FBV3hNLEtBQUsreEIsaUJBQ3JCL3hCLEtBQUtrWCxVQUFZbFgsS0FBS2d5QixtQkFHeEIxZSxFQUFTb0UsT0FBT2pCLEVBQUlRLG1CQUFtQjNELEVBQVV1WCxFQUFTN3FCLEtBQUt3TSxTQUFVeE0sS0FBS2tYLFVBQVdsWCxLQUFLdXlCLGNBQWV2eUIsS0FBS3d5QixpQkFFOUd4eUIsS0FBS3NKLFFBQVFxcEIsYUFBYyxDQUk3QixJQUhBLElBQUlDLEVBQWEsSUFFYkMsRUFBaUIsQ0FBQ3JtQixTQUFVeE0sS0FBS3dNLFNBQVUwSyxVQUFXbFgsS0FBS2tYLFlBQ3hEbFgsS0FBS3F5Qix1QkFBdUIsQ0FDakMsSUFBSVMsRUFBVXJjLEVBQUlNLFlBQVl6RCxFQUFVb2YsR0FBUyxHQUFPLEVBQU8xeUIsS0FBS3NKLFFBQVF5cEIsb0JBQzVFLEdBQWUsSUFBWkQsRUFDRCxPQUdDQSxFQUFVRixJQUNYQSxFQUFhRSxFQUNiRCxFQUFpQixDQUFDcm1CLFNBQVV4TSxLQUFLd00sU0FBVTBLLFVBQVdsWCxLQUFLa1gsWUFHN0RsWCxLQUFLaXlCLGNBRUwzZSxFQUFTb0UsT0FBT2pCLEVBQUlRLG1CQUFtQjNELEVBQVV1WCxFQUFTN3FCLEtBQUt3TSxTQUFVeE0sS0FBS2tYLFVBQVdsWCxLQUFLdXlCLGNBQWV2eUIsS0FBS3d5QixlQUNwSCxDQUdBeHlCLEtBQUt3TSxTQUFXcW1CLEVBQWVybUIsU0FDL0J4TSxLQUFLa1gsVUFBWTJiLEVBQWUzYixVQUNoQzVELEVBQVNvRSxPQUFPakIsRUFBSVEsbUJBQW1CM0QsRUFBVXVYLEVBQVM3cUIsS0FBS3dNLFNBQVV4TSxLQUFLa1gsVUFBV2xYLEtBQUt1eUIsY0FBZXZ5QixLQUFLd3lCLGVBQ3BILENBQ0YsRUFJRmIsR0FBYXJOLFNBQVcsQ0FPdEI5WCxTQUFVLE9BT1YwSyxVQUFXLE9BU1h5YixjQUFjLEVBU2RJLG9CQUFvQixFQU9wQjViLFFBQVMsRUFPVEMsUUFBUyxHQzNMWCxNQUFNNGIsV0FBaUJyQixHQVNyQjFOLE9BQU85c0IsRUFBU21TLEdBQ2R0SixLQUFLc1QsU0FBV25jLEVBQ2hCNkksS0FBS3NKLFFBQVV0VixJQUFBQSxPQUFTLENBQUMsRUFBR2cvQixHQUFTMU8sU0FBVXRrQixLQUFLc1QsU0FBU3pYLE9BQVF5TixHQUNyRXRKLEtBQUt4QyxVQUFZLFdBR2pCa2hCLEVBQU1jLEtBQUt4ckIsS0FDWGd0QixFQUFTeEIsS0FBS3hyQixLQUVkZ00sS0FBS3NRLFFBRUxnSyxFQUFTZ0IsU0FBUyxXQUFZLENBQzVCLE1BQVMsU0FDVCxNQUFTLFNBQ1QsT0FBVSxTQUVkLENBT0FoTCxRQUNFLElBQUkyaUIsRUFBTWp6QixLQUFLc1QsU0FBU2pmLEtBQUssTUFFN0IyTCxLQUFLa3pCLFNBQVdsL0IsSUFBRyxpQkFBZ0JpL0IsT0FBUzMrQixPQUFTTixJQUFHLGlCQUFnQmkvQixPQUFXai9CLElBQUcsZUFBY2kvQixPQUNwR2p6QixLQUFLa3pCLFNBQVM3K0IsS0FBSyxDQUNqQixnQkFBaUI0K0IsRUFDakIsaUJBQWlCLEVBQ2pCLGdCQUFpQkEsRUFDakIsaUJBQWlCLEVBQ2pCLGlCQUFpQixJQUduQmp6QixLQUFLbXpCLGtCQUFrQm56QixLQUFLa3pCLFNBQVM5UyxTQUVsQ3BnQixLQUFLc0osUUFBUThwQixZQUNkcHpCLEtBQUsweUIsUUFBVTF5QixLQUFLc1QsU0FBU29hLFFBQVEsSUFBTTF0QixLQUFLc0osUUFBUThwQixhQUV4RHB6QixLQUFLMHlCLFFBQVUsVUFJb0MsSUFBMUMxeUIsS0FBS3NULFNBQVNqZixLQUFLLDBCQUVrQixJQUFuQzJMLEtBQUtxekIsZUFBZWgvQixLQUFLLE9BQ2xDMkwsS0FBS3F6QixlQUFlaC9CLEtBQUssS0FBTXlaLEVBQVksRUFBRyxjQUdoRDlOLEtBQUtzVCxTQUFTamYsS0FBSyxrQkFBbUIyTCxLQUFLcXpCLGVBQWVoL0IsS0FBSyxRQUdqRTJMLEtBQUtzVCxTQUFTamYsS0FBSyxDQUNqQixjQUFlLE9BQ2YsZ0JBQWlCNCtCLEVBQ2pCLGNBQWVBLElBR2pCSyxNQUFNaGpCLFFBQ050USxLQUFLK2tCLFNBQ1AsQ0FFQThNLHNCQUVFLElBQUlybEIsRUFBV3hNLEtBQUtzVCxTQUFTLEdBQUc5VixVQUFVaVAsTUFBTSw0QkFDaEQsT0FBR0QsRUFDTUEsRUFBUyxHQUVULFFBRVgsQ0FFQXNsQix1QkFFRSxJQUFJeUIsRUFBcUIsY0FBY3BlLEtBQUtuVixLQUFLcXpCLGVBQWVoL0IsS0FBSyxVQUNyRSxPQUFHay9CLEVBQ01BLEVBQW1CLEdBR3JCRCxNQUFNeEIsc0JBQ2YsQ0FVQVcsZUFDRXp5QixLQUFLc1QsU0FBU2xmLFlBQWEsZ0JBQWU0TCxLQUFLd00sMEJBQTBCeE0sS0FBS2tYLGFBQzlFb2MsTUFBTWIsYUFBYXp5QixLQUFLcXpCLGVBQWdCcnpCLEtBQUtzVCxTQUFVdFQsS0FBSzB5QixTQUM1RDF5QixLQUFLc1QsU0FBUzFlLFNBQVUsZ0JBQWVvTCxLQUFLd00sMEJBQTBCeE0sS0FBS2tYLFlBQzdFLENBU0FpYyxrQkFBa0Izd0IsR0FDaEJ4QyxLQUFLcXpCLGVBQWlCci9CLElBQUV3TyxFQUMxQixDQU9BdWlCLFVBQ0UsSUFBSWpSLEVBQVE5VCxLQUNSd3pCLEVBQVcsaUJBQWtCMzVCLGFBQTBDLElBQXhCQSxPQUFPNDVCLGFBRTFEenpCLEtBQUtzVCxTQUFTL2UsR0FBRyxDQUNmLGtCQUFtQnlMLEtBQUsydEIsS0FBS3ZlLEtBQUtwUCxNQUNsQyxtQkFBb0JBLEtBQUs0dEIsTUFBTXhlLEtBQUtwUCxNQUNwQyxvQkFBcUJBLEtBQUsvSixPQUFPbVosS0FBS3BQLE1BQ3RDLHNCQUF1QkEsS0FBS3l5QixhQUFhcmpCLEtBQUtwUCxRQUdoREEsS0FBS2t6QixTQUFTMVosSUFBSSxvQkFDZmpsQixHQUFHLG9CQUFvQixTQUFTQyxHQUMvQnNmLEVBQU1xZixrQkFBa0JuekIsUUFJUyxJQUE5QjhULEVBQU14SyxRQUFRb3FCLGFBR2RGLEdBQVkxZixFQUFNeEssUUFBUXFxQixRQUFnRCxJQUF2QzdmLEVBQU1SLFNBQVMzZSxTQUFTLGFBRTVESCxFQUFFQyxnQkFFUixJQUVHdUwsS0FBS3NKLFFBQVFxcUIsUUFDZDN6QixLQUFLa3pCLFNBQVMxWixJQUFJLGlEQUNqQmpsQixHQUFHLDBCQUEwQixXQUM1QnVmLEVBQU1xZixrQkFBa0JuekIsTUFFeEIsSUFBSTR6QixFQUFXNS9CLElBQUUsUUFBUTZILFlBQ1MsSUFBeEIrM0IsRUFBU0MsV0FBcUQsVUFBdkJELEVBQVNDLFlBQ3hEejFCLGFBQWEwVixFQUFNZ2dCLFNBQ25CaGdCLEVBQU1nZ0IsUUFBVXoxQixZQUFXLFdBQ3pCeVYsRUFBTTZaLE9BQ043WixFQUFNb2YsU0FBU3IzQixLQUFLLFNBQVMsRUFDL0IsR0FBR2lZLEVBQU14SyxRQUFReXFCLFlBRXJCLElBQUd4L0IsR0FBRyx5QkFBMEJ1YSxHQUFxQixXQUNuRDFRLGFBQWEwVixFQUFNZ2dCLFNBQ25CaGdCLEVBQU1nZ0IsUUFBVXoxQixZQUFXLFdBQ3pCeVYsRUFBTThaLFFBQ045WixFQUFNb2YsU0FBU3IzQixLQUFLLFNBQVMsRUFDL0IsR0FBR2lZLEVBQU14SyxRQUFReXFCLFdBQ25CLEtBQ0cvekIsS0FBS3NKLFFBQVEwcUIsV0FDZGgwQixLQUFLc1QsU0FBU2tHLElBQUksaURBQ2JqbEIsR0FBRywwQkFBMEIsV0FDNUI2SixhQUFhMFYsRUFBTWdnQixRQUNyQixJQUFHdi9CLEdBQUcseUJBQTBCdWEsR0FBcUIsV0FDbkQxUSxhQUFhMFYsRUFBTWdnQixTQUNuQmhnQixFQUFNZ2dCLFFBQVV6MUIsWUFBVyxXQUN6QnlWLEVBQU04WixRQUNOOVosRUFBTW9mLFNBQVNyM0IsS0FBSyxTQUFTLEVBQy9CLEdBQUdpWSxFQUFNeEssUUFBUXlxQixXQUNuQixNQUdSL3pCLEtBQUtrekIsU0FBU3Y1QixJQUFJcUcsS0FBS3NULFVBQVUvZSxHQUFHLHVCQUF1QixTQUFTQyxHQUVsRSxJQUFJMnVCLEVBQVVudkIsSUFBRWdNLE1BRWhCc2EsRUFBU0ssVUFBVW5tQixFQUFHLFdBQVksQ0FDaENtNUIsS0FBTSxXQUNBeEssRUFBUXZSLEdBQUdrQyxFQUFNb2YsWUFBYy9QLEVBQVF2UixHQUFHLHFCQUM1Q2tDLEVBQU02WixPQUNON1osRUFBTVIsU0FBU2pmLEtBQUssWUFBYSxHQUFHWSxRQUNwQ1QsRUFBRUMsaUJBRU4sRUFDQW01QixNQUFPLFdBQ0w5WixFQUFNOFosUUFDTjlaLEVBQU1vZixTQUFTaitCLE9BQ2pCLEdBRUosR0FDRixDQU9BZy9CLGtCQUNHLElBQUlyRSxFQUFRNTdCLElBQUVhLFNBQVNvTixNQUFNdWdCLElBQUl4aUIsS0FBS3NULFVBQ2xDUSxFQUFROVQsS0FDWjR2QixFQUFNcFcsSUFBSSxxQ0FDSmpsQixHQUFHLHFDQUFxQyxTQUFVQyxHQUM5Q3NmLEVBQU1vZixTQUFTdGhCLEdBQUdwZCxFQUFFTSxTQUFXZ2YsRUFBTW9mLFNBQVMxOEIsS0FBS2hDLEVBQUVNLFFBQVFSLFFBRzdEd2YsRUFBTVIsU0FBUzFCLEdBQUdwZCxFQUFFTSxTQUFXZ2YsRUFBTVIsU0FBUzljLEtBQUtoQyxFQUFFTSxRQUFRUixTQUdoRXdmLEVBQU04WixRQUNOZ0MsRUFBTXBXLElBQUkscUNBQ1osR0FDUixDQVFBbVUsT0FnQkUsR0FWQTN0QixLQUFLc1QsU0FBU2IsUUFBUSxzQkFBdUJ6UyxLQUFLc1QsU0FBU2pmLEtBQUssT0FDaEUyTCxLQUFLa3pCLFNBQVN0K0IsU0FBUyxTQUNsQlAsS0FBSyxDQUFDLGlCQUFpQixJQUc1QjJMLEtBQUtzVCxTQUFTMWUsU0FBUyxjQUN2Qm9MLEtBQUt5eUIsZUFDTHp5QixLQUFLc1QsU0FBU2xmLFlBQVksY0FBY1EsU0FBUyxXQUM1Q1AsS0FBSyxDQUFDLGVBQWUsSUFFdkIyTCxLQUFLc0osUUFBUXduQixVQUFVLENBQ3hCLElBQUlwVixFQUFhcEIsRUFBU1gsY0FBYzNaLEtBQUtzVCxVQUMxQ29JLEVBQVdwbkIsUUFDWm9uQixFQUFXRSxHQUFHLEdBQUczbUIsT0FFckIsQ0FFRytLLEtBQUtzSixRQUFRcW1CLGNBQWUzdkIsS0FBS2kwQixrQkFFaENqMEIsS0FBS3NKLFFBQVFtUyxXQUNmbkIsRUFBU21CLFVBQVV6YixLQUFLc1QsVUFPMUJ0VCxLQUFLc1QsU0FBU2IsUUFBUSxtQkFBb0IsQ0FBQ3pTLEtBQUtzVCxVQUNsRCxDQU9Bc2EsUUFDRSxJQUFJNXRCLEtBQUtzVCxTQUFTM2UsU0FBUyxXQUN6QixPQUFPLEVBRVRxTCxLQUFLc1QsU0FBU2xmLFlBQVksV0FDckJDLEtBQUssQ0FBQyxlQUFlLElBRTFCMkwsS0FBS2t6QixTQUFTOStCLFlBQVksU0FDckJDLEtBQUssaUJBQWlCLEdBTTNCMkwsS0FBS3NULFNBQVNiLFFBQVEsbUJBQW9CLENBQUN6UyxLQUFLc1QsV0FFNUN0VCxLQUFLc0osUUFBUW1TLFdBQ2ZuQixFQUFTd0IsYUFBYTliLEtBQUtzVCxTQUUvQixDQU1BcmQsU0FDRSxHQUFHK0osS0FBS3NULFNBQVMzZSxTQUFTLFdBQVcsQ0FDbkMsR0FBR3FMLEtBQUtrekIsU0FBU3IzQixLQUFLLFNBQVUsT0FDaENtRSxLQUFLNHRCLE9BQ1AsTUFDRTV0QixLQUFLMnRCLE1BRVQsQ0FNQXZKLFdBQ0Vwa0IsS0FBS3NULFNBQVNrRyxJQUFJLGVBQWUwRCxPQUNqQ2xkLEtBQUtrekIsU0FBUzFaLElBQUksZ0JBQ2xCeGxCLElBQUVhLFNBQVNvTixNQUFNdVgsSUFBSSxvQ0FFdkIsRUFHRndaLEdBQVMxTyxTQUFXLENBT2xCOE8sWUFBYSxLQU9iVyxXQUFZLElBT1pKLE9BQU8sRUFPUEssV0FBVyxFQU9YN2MsUUFBUyxFQU9UQyxRQUFTLEVBT1Q1SyxTQUFVLE9BT1YwSyxVQUFXLE9BT1h5YixjQUFjLEVBU2RJLG9CQUFvQixFQU9wQnRYLFdBQVcsRUFPWHFWLFdBQVcsRUFPWG5CLGNBQWMsRUFPZCtELGFBQWEsR0M3WmYsTUFBTVEsV0FBcUJsUSxFQVN6QkMsT0FBTzlzQixFQUFTbVMsR0FDZHRKLEtBQUtzVCxTQUFXbmMsRUFDaEI2SSxLQUFLc0osUUFBVXRWLElBQUFBLE9BQVMsQ0FBQyxFQUFHa2dDLEdBQWE1UCxTQUFVdGtCLEtBQUtzVCxTQUFTelgsT0FBUXlOLEdBQ3pFdEosS0FBS3hDLFVBQVksZUFFakJraEIsRUFBTWMsS0FBS3hyQixLQUVYZ00sS0FBS3NRLFFBRUxnSyxFQUFTZ0IsU0FBUyxlQUFnQixDQUNoQyxNQUFTLE9BQ1QsTUFBUyxPQUNULFlBQWUsT0FDZixTQUFZLEtBQ1osV0FBYyxPQUNkLFdBQWMsV0FDZCxPQUFVLFNBRWQsQ0FPQWhMLFFBQ0U4TSxFQUFLQyxRQUFRcmQsS0FBS3NULFNBQVUsWUFFNUIsSUFBSTZnQixFQUFPbjBCLEtBQUtzVCxTQUFTOWMsS0FBSyxpQ0FDOUJ3SixLQUFLc1QsU0FBU25TLFNBQVMsK0JBQStCQSxTQUFTLHdCQUF3QnZNLFNBQVMsYUFFaEdvTCxLQUFLeXVCLFdBQWF6dUIsS0FBS3NULFNBQVM5YyxLQUFLLG1CQUNyQ3dKLEtBQUtvcUIsTUFBUXBxQixLQUFLc1QsU0FBU25TLFNBQVMsbUJBQ3BDbkIsS0FBS29xQixNQUFNNXpCLEtBQUssMEJBQTBCNUIsU0FBU29MLEtBQUtzSixRQUFROHFCLGVBRWpDLFNBQTNCcDBCLEtBQUtzSixRQUFRNE4sVUFDVGxYLEtBQUtzVCxTQUFTM2UsU0FBU3FMLEtBQUtzSixRQUFRK3FCLGFBQWVuWixLQUFTbGIsS0FBS3NULFNBQVNvYSxRQUFRLGtCQUFrQjliLEdBQUcsTUFDdkc1UixLQUFLc0osUUFBUTROLFVBQVksUUFDekJpZCxFQUFLdi9CLFNBQVMsZ0JBRWRvTCxLQUFLc0osUUFBUTROLFVBQVksT0FDekJpZCxFQUFLdi9CLFNBQVMsZ0JBR1csVUFBM0JvTCxLQUFLc0osUUFBUTROLFVBQ2JpZCxFQUFLdi9CLFNBQVMsY0FFZHUvQixFQUFLdi9CLFNBQVMsZUFHcEJvTCxLQUFLczBCLFNBQVUsRUFDZnQwQixLQUFLK2tCLFNBQ1AsQ0FFQXdQLGNBQ0UsTUFBcUMsVUFBOUJ2MEIsS0FBS29xQixNQUFNem9CLElBQUksWUFBa0UsV0FBeEMzQixLQUFLc1QsU0FBUzNSLElBQUksaUJBQ3BFLENBRUE2eUIsU0FDRSxPQUFPeDBCLEtBQUtzVCxTQUFTM2UsU0FBUyxnQkFBbUJ1bUIsTUFBVWxiLEtBQUtzVCxTQUFTM2UsU0FBUyxhQUNwRixDQU9Bb3dCLFVBQ0UsSUFBSWpSLEVBQVE5VCxLQUNSd3pCLEVBQVcsaUJBQWtCMzVCLGFBQTBDLElBQXhCQSxPQUFPNDVCLGFBQ3REZ0IsRUFBVyw4QkE2Qlh6MEIsS0FBS3NKLFFBQVFvckIsV0FBYWxCLElBQzVCeHpCLEtBQUt5dUIsV0FBV2w2QixHQUFHLG9EQTNCRCxTQUFTQyxHQUMzQixJQUFJNlosRUFBUXJhLElBQUVRLEVBQUVNLFFBQVFtNUIsYUFBYSxLQUFPLElBQUd3RyxLQUMzQ0UsRUFBU3RtQixFQUFNMVosU0FBUzgvQixHQUN4QkcsRUFBNkMsU0FBaEN2bUIsRUFBTWhhLEtBQUssaUJBQ3hCdXBCLEVBQU92UCxFQUFNbE4sU0FBUyx3QkFFMUIsR0FBSXd6QixFQUNGLEdBQUlDLEVBQVksQ0FDZCxJQUFLOWdCLEVBQU14SyxRQUFRcW1CLGVBQ1o3YixFQUFNeEssUUFBUW9yQixZQUFjbEIsR0FDN0IxZixFQUFNeEssUUFBUW9xQixhQUFlRixFQUNqQyxPQUVGaC9CLEVBQUVxZ0MsMkJBQ0ZyZ0MsRUFBRUMsaUJBQ0ZxZixFQUFNeWMsTUFBTWxpQixFQUNkLE1BRUU3WixFQUFFcWdDLDJCQUNGcmdDLEVBQUVDLGlCQUNGcWYsRUFBTTRiLE1BQU05UixHQUNadlAsRUFBTTFVLElBQUkwVSxFQUFNNGYsYUFBYW5hLEVBQU1SLFNBQVcsSUFBR21oQixNQUFhcGdDLEtBQUssaUJBQWlCLEVBRzFGLElBT0d5ZixFQUFNeEssUUFBUXdyQixvQkFDZjkwQixLQUFLeXVCLFdBQVdsNkIsR0FBRyx5QkFBeUIsV0FDOUJQLElBQUVnTSxNQUNLckwsU0FBUzgvQixJQUUxQjNnQixFQUFNeWMsT0FFVixJQUdFaUQsR0FBWXh6QixLQUFLc0osUUFBUXlyQixzQkFBcUIvMEIsS0FBS3NKLFFBQVEwckIsY0FBZSxHQUV6RWgxQixLQUFLc0osUUFBUTByQixjQUNoQmgxQixLQUFLeXVCLFdBQVdsNkIsR0FBRyw4QkFBOEIsV0FDL0MsSUFBSThaLEVBQVFyYSxJQUFFZ00sTUFDSHFPLEVBQU0xWixTQUFTOC9CLEtBR3hCcjJCLGFBQWFpUSxFQUFNeFMsS0FBSyxXQUN4QndTLEVBQU14UyxLQUFLLFNBQVV3QyxZQUFXLFdBQzlCeVYsRUFBTTRiLE1BQU1yaEIsRUFBTWxOLFNBQVMsd0JBQzdCLEdBQUcyUyxFQUFNeEssUUFBUXlxQixhQUVyQixJQUFHeC9CLEdBQUcsNkJBQThCdWEsR0FBcUIsV0FDdkQsSUFBSVQsRUFBUXJhLElBQUVnTSxNQUVkLEdBRGFxTyxFQUFNMVosU0FBUzgvQixJQUNkM2dCLEVBQU14SyxRQUFRMnJCLFVBQVcsQ0FDckMsR0FBb0MsU0FBaEM1bUIsRUFBTWhhLEtBQUssa0JBQStCeWYsRUFBTXhLLFFBQVFvckIsVUFBYSxPQUFPLEVBRWhGdDJCLGFBQWFpUSxFQUFNeFMsS0FBSyxXQUN4QndTLEVBQU14UyxLQUFLLFNBQVV3QyxZQUFXLFdBQzlCeVYsRUFBTXljLE1BQU1saUIsRUFDZCxHQUFHeUYsRUFBTXhLLFFBQVE0ckIsYUFDbkIsQ0FDRixLQUVGbDFCLEtBQUt5dUIsV0FBV2w2QixHQUFHLDJCQUEyQixTQUFTQyxHQUNyRCxJQUdJKzRCLEVBQ0FDLEVBSkFsYSxFQUFXdGYsSUFBRVEsRUFBRU0sUUFBUW01QixhQUFhLEtBQU0saUJBQzFDa0gsRUFBUXJoQixFQUFNc1csTUFBTTJHLE1BQU16ZCxJQUFhLEVBQ3ZDbWEsRUFBWTBILEVBQVFyaEIsRUFBTXNXLE1BQVE5VyxFQUFTMlMsU0FBUyxNQUFNdHNCLElBQUkyWixHQUlsRW1hLEVBQVU1WixNQUFLLFNBQVMzSSxHQUN0QixHQUFJbFgsSUFBRWdNLE1BQU00UixHQUFHMEIsR0FHYixPQUZBaWEsRUFBZUUsRUFBVTdSLEdBQUcxUSxFQUFFLFFBQzlCc2lCLEVBQWVDLEVBQVU3UixHQUFHMVEsRUFBRSxHQUdsQyxJQUVBLElBQUlrcUIsRUFBYyxXQUNoQjVILEVBQWFyc0IsU0FBUyxXQUFXbE0sUUFDakNULEVBQUVDLGdCQUNKLEVBQUc0Z0MsRUFBYyxXQUNmOUgsRUFBYXBzQixTQUFTLFdBQVdsTSxRQUNqQ1QsRUFBRUMsZ0JBQ0osRUFBRzZnQyxFQUFVLFdBQ1gsSUFBSTFYLEVBQU90SyxFQUFTblMsU0FBUywwQkFDekJ5YyxFQUFLdHBCLFNBQ1B3ZixFQUFNNGIsTUFBTTlSLEdBQ1p0SyxFQUFTOWMsS0FBSyxnQkFBZ0J2QixRQUM5QlQsRUFBRUMsaUJBRU4sRUFBRzhnQyxFQUFXLFdBRVosSUFBSTNILEVBQVF0YSxFQUFTcUQsT0FBTyxNQUFNQSxPQUFPLE1BQ3pDaVgsRUFBTXpzQixTQUFTLFdBQVdsTSxRQUMxQjZlLEVBQU15YyxNQUFNM0MsR0FDWnA1QixFQUFFQyxnQkFFSixFQUNJb21CLEVBQVksQ0FDZDhTLEtBQU0ySCxFQUNOMUgsTUFBTyxXQUNMOVosRUFBTXljLE1BQU16YyxFQUFNUixVQUNsQlEsRUFBTTJhLFdBQVc3UyxHQUFHLEdBQUd6YSxTQUFTLEtBQUtsTSxRQUNyQ1QsRUFBRUMsZ0JBQ0osR0FHRTBnQyxFQUNFcmhCLEVBQU15Z0IsY0FDSnpnQixFQUFNMGdCLFNBQ1J4Z0MsSUFBQUEsT0FBUzZtQixFQUFXLENBQ2xCOFEsS0FBTXlKLEVBQ04xSixHQUFJMkosRUFDSjFqQixLQUFNNGpCLEVBQ04vSixTQUFVOEosSUFHWnRoQyxJQUFBQSxPQUFTNm1CLEVBQVcsQ0FDbEI4USxLQUFNeUosRUFDTjFKLEdBQUkySixFQUNKMWpCLEtBQU0yakIsRUFDTjlKLFNBQVUrSixJQUlWemhCLEVBQU0wZ0IsU0FDUnhnQyxJQUFBQSxPQUFTNm1CLEVBQVcsQ0FDbEJsSixLQUFNMGpCLEVBQ043SixTQUFVNEosRUFDVnpKLEtBQU0ySixFQUNONUosR0FBSTZKLElBR052aEMsSUFBQUEsT0FBUzZtQixFQUFXLENBQ2xCbEosS0FBTXlqQixFQUNONUosU0FBVTZKLEVBQ1YxSixLQUFNMkosRUFDTjVKLEdBQUk2SixJQUtOemhCLEVBQU0wZ0IsU0FDUnhnQyxJQUFBQSxPQUFTNm1CLEVBQVcsQ0FDbEJsSixLQUFNNGpCLEVBQ04vSixTQUFVOEosRUFDVjNKLEtBQU15SixFQUNOMUosR0FBSTJKLElBR05yaEMsSUFBQUEsT0FBUzZtQixFQUFXLENBQ2xCbEosS0FBTTJqQixFQUNOOUosU0FBVStKLEVBQ1Y1SixLQUFNeUosRUFDTjFKLEdBQUkySixJQUlWL2EsRUFBU0ssVUFBVW5tQixFQUFHLGVBQWdCcW1CLEVBRXhDLEdBQ0YsQ0FPQW9aLGtCQUNFLE1BQU1yRSxFQUFRNTdCLElBQUVhLFNBQVNvTixNQUN6QmpDLEtBQUt3MUIscUJBQ0w1RixFQUFNcjdCLEdBQUcsNkNBQThDQyxJQUNwQ1IsSUFBRVEsRUFBRU0sUUFBUUMsUUFBUWlMLEtBQUtzVCxVQUFVaGYsU0FHcEQwTCxLQUFLdXdCLFFBQ0x2d0IsS0FBS3cxQixxQkFBb0IsR0FFN0IsQ0FPQUEscUJBQ0V4aEMsSUFBRWEsU0FBU29OLE1BQU11WCxJQUFJLDRDQUN2QixDQVNBa1csTUFBTTlSLEdBQ0osSUFBSXlNLEVBQU1ycUIsS0FBS29xQixNQUFNMkcsTUFBTS93QixLQUFLb3FCLE1BQU12WSxRQUFPLFNBQVMzRyxFQUFHMUksR0FDdkQsT0FBT3hPLElBQUV3TyxHQUFJaE0sS0FBS29uQixHQUFNdHBCLE9BQVMsQ0FDbkMsS0FDSW1oQyxFQUFRN1gsRUFBS2pILE9BQU8saUNBQWlDc1AsU0FBUyxpQ0FDbEVqbUIsS0FBS3V3QixNQUFNa0YsRUFBT3BMLEdBQ2xCek0sRUFBS2pjLElBQUksYUFBYyxVQUFVL00sU0FBUyxzQkFDckMraEIsT0FBTyxpQ0FBaUMvaEIsU0FBUyxhQUN0RCxJQUFJaVksRUFBUTRKLEVBQUlDLGlCQUFpQmtILEVBQU0sTUFBTSxHQUM3QyxJQUFLL1EsRUFBTyxDQUNWLElBQUk2b0IsRUFBc0MsU0FBM0IxMUIsS0FBS3NKLFFBQVE0TixVQUF1QixTQUFXLFFBQzFEeWUsRUFBWS9YLEVBQUtqSCxPQUFPLCtCQUM1QmdmLEVBQVV2aEMsWUFBYSxRQUFPc2hDLEtBQVk5Z0MsU0FBVSxTQUFRb0wsS0FBS3NKLFFBQVE0TixjQUN6RXJLLEVBQVE0SixFQUFJQyxpQkFBaUJrSCxFQUFNLE1BQU0sS0FFdkMrWCxFQUFVdmhDLFlBQWEsU0FBUTRMLEtBQUtzSixRQUFRNE4sYUFBYXRpQixTQUFTLGVBRXBFb0wsS0FBS3MwQixTQUFVLENBQ2pCLENBQ0ExVyxFQUFLamMsSUFBSSxhQUFjLElBQ25CM0IsS0FBS3NKLFFBQVFxbUIsY0FBZ0IzdkIsS0FBS2kwQixrQkFLdENqMEIsS0FBS3NULFNBQVNiLFFBQVEsdUJBQXdCLENBQUNtTCxHQUNqRCxDQVVBMlMsTUFBTWxpQixFQUFPZ2MsR0FDWCxJQUFJdUwsRUFhSixJQVhFQSxFQURFdm5CLEdBQVNBLEVBQU0vWixPQUNOK1osT0FDYSxJQUFSZ2MsRUFDTHJxQixLQUFLb3FCLE1BQU01SCxLQUFJLFNBQVN0WCxHQUNqQyxPQUFPQSxJQUFNbWYsQ0FDZixJQUdXcnFCLEtBQUtzVCxVQUVjM2UsU0FBUyxjQUFnQmloQyxFQUFTcC9CLEtBQUssY0FBY2xDLE9BQVMsRUFFeEUsQ0FDcEIsSUFBSXVoQyxFQUFjRCxFQUFTcC9CLEtBQUssZ0JBT2hDLEdBTkFxL0IsRUFBWWw4QixJQUFJaThCLEdBQVV2aEMsS0FBSyxDQUM3QixpQkFBaUIsSUFDaEJELFlBQVksYUFFZndoQyxFQUFTcC9CLEtBQUsseUJBQXlCcEMsWUFBWSxzQkFFL0M0TCxLQUFLczBCLFNBQVdzQixFQUFTcC9CLEtBQUssZUFBZWxDLE9BQVEsQ0FDdkQsSUFBSW9oQyxFQUFzQyxTQUEzQjExQixLQUFLc0osUUFBUTROLFVBQXVCLFFBQVUsT0FDN0QwZSxFQUFTcC9CLEtBQUssaUNBQWlDbUQsSUFBSWk4QixHQUMxQ3hoQyxZQUFhLHFCQUFvQjRMLEtBQUtzSixRQUFRNE4sYUFDOUN0aUIsU0FBVSxTQUFROGdDLEtBQzNCMTFCLEtBQUtzMEIsU0FBVSxDQUNqQixDQUVBbDJCLGFBQWF5M0IsRUFBWWg2QixLQUFLLFdBQzlCbUUsS0FBS3cxQixxQkFNTHgxQixLQUFLc1QsU0FBU2IsUUFBUSx1QkFBd0IsQ0FBQ21qQixHQUNqRCxDQUNGLENBTUF4UixXQUNFcGtCLEtBQUt5dUIsV0FBV2pWLElBQUksb0JBQW9CaEcsV0FBVyxpQkFDOUNwZixZQUFZLGlGQUNqQkosSUFBRWEsU0FBU29OLE1BQU11WCxJQUFJLG9CQUNyQjRELEVBQUtVLEtBQUs5ZCxLQUFLc1QsU0FBVSxXQUMzQixFQU1GNGdCLEdBQWE1UCxTQUFXLENBT3RCMFEsY0FBYyxFQU9kRCxxQkFBcUIsRUFPckJFLFdBQVcsRUFPWGxCLFdBQVksR0FPWlcsV0FBVyxFQVFYUSxZQUFhLElBT2JoZSxVQUFXLE9BT1h5WSxjQUFjLEVBT2RtRixvQkFBb0IsRUFPcEJWLGNBQWUsV0FPZkMsV0FBWSxjQU9aWCxhQUFhLEdDamRmLE1BQU1vQyxXQUFrQjlSLEVBU3RCQyxPQUFPOXNCLEVBQVNtUyxHQUNkdEosS0FBS3NULFNBQVduYyxFQUNoQjZJLEtBQUtzSixRQUFXdFYsSUFBQUEsT0FBUyxDQUFDLEVBQUc4aEMsR0FBVXhSLFNBQVV0a0IsS0FBS3NULFNBQVN6WCxPQUFReU4sR0FDdkV0SixLQUFLeEMsVUFBWSxZQUVqQndDLEtBQUtzUSxPQUNQLENBTUFBLFFBQ0UsSUFBSXlsQixFQUFPLzFCLEtBQUtzVCxTQUFTamYsS0FBSyxtQkFBcUIsR0FDL0MyaEMsRUFBV2gyQixLQUFLc1QsU0FBUzljLEtBQU0sMEJBQXlCdS9CLE9BRTVEM2xCLEVBQVdFLFFBRVh0USxLQUFLZzJCLFNBQVdBLEVBQVMxaEMsT0FBUzBoQyxFQUFXaDJCLEtBQUtzVCxTQUFTOWMsS0FBSywwQkFDaEV3SixLQUFLc1QsU0FBU2pmLEtBQUssY0FBZ0IwaEMsR0FBUWpvQixFQUFZLEVBQUcsT0FDMUQ5TixLQUFLc1QsU0FBU2pmLEtBQUssY0FBZ0IwaEMsR0FBUWpvQixFQUFZLEVBQUcsT0FFMUQ5TixLQUFLaTJCLFVBQVlqMkIsS0FBS3NULFNBQVM5YyxLQUFLLG9CQUFvQmxDLE9BQVMsRUFDakUwTCxLQUFLazJCLFNBQVdsMkIsS0FBS3NULFNBQVMyYSxhQUFhcDVCLFNBQVNvTixLQUFNLG9CQUFvQjNOLE9BQVMsRUFDdkYwTCxLQUFLbTJCLE1BQU8sRUFDWm4yQixLQUFLK3ZCLGFBQWUsQ0FDbEJxRyxnQkFBaUJwMkIsS0FBS3EyQixZQUFZam5CLEtBQUtwUCxNQUN2Q3MyQixxQkFBc0J0MkIsS0FBS3UyQixpQkFBaUJubkIsS0FBS3BQLE9BR25ELElBQ0l3MkIsRUFEQUMsRUFBT3oyQixLQUFLc1QsU0FBUzljLEtBQUssT0FFM0J3SixLQUFLc0osUUFBUW90QixZQUNkRixFQUFXeDJCLEtBQUsyMkIsV0FDaEIzaUMsSUFBRTZGLFFBQVF0RixHQUFHLHdCQUF5QnlMLEtBQUsyMkIsU0FBU3ZuQixLQUFLcFAsUUFFekRBLEtBQUsra0IsZ0JBRWlCLElBQWJ5UixJQUF5QyxJQUFiQSxRQUEyQyxJQUFiQSxLQUNoRUMsRUFBS25pQyxPQUNOd2tCLEVBQWUyZCxFQUFNejJCLEtBQUt1bEIsUUFBUW5XLEtBQUtwUCxPQUV2Q0EsS0FBS3VsQixVQUdYLENBTUFxUixlQUNFNTJCLEtBQUttMkIsTUFBTyxFQUNabjJCLEtBQUtzVCxTQUFTa0csSUFBSSxDQUNoQixnQkFBaUJ4WixLQUFLK3ZCLGFBQWF1RyxxQkFDbkMsc0JBQXVCdDJCLEtBQUsrdkIsYUFBYXFHLGdCQUM1QyxzQkFBdUJwMkIsS0FBSyt2QixhQUFhcUcsaUJBRTFDLENBTUFDLGNBQ0VyMkIsS0FBS3VsQixTQUNQLENBTUFnUixpQkFBaUIvaEMsR0FDWkEsRUFBRU0sU0FBV2tMLEtBQUtzVCxTQUFTLElBQUt0VCxLQUFLdWxCLFNBQzFDLENBTUFSLFVBQ0Uva0IsS0FBSzQyQixlQUNGNTJCLEtBQUtpMkIsVUFDTmoyQixLQUFLc1QsU0FBUy9lLEdBQUcsNkJBQThCeUwsS0FBSyt2QixhQUFhdUcsdUJBRWpFdDJCLEtBQUtzVCxTQUFTL2UsR0FBRyxzQkFBdUJ5TCxLQUFLK3ZCLGFBQWFxRyxpQkFDN0RwMkIsS0FBS3NULFNBQVMvZSxHQUFHLHNCQUF1QnlMLEtBQUsrdkIsYUFBYXFHLGtCQUV6RHAyQixLQUFLbTJCLE1BQU8sQ0FDZCxDQU1BUSxXQUNFLElBQUlILEdBQVlwbUIsRUFBV3dCLEdBQUc1UixLQUFLc0osUUFBUW90QixZQVczQyxPQVZHRixFQUNFeDJCLEtBQUttMkIsT0FDTm4yQixLQUFLNDJCLGVBQ0w1MkIsS0FBS2cyQixTQUFTcjBCLElBQUksU0FBVSxTQUcxQjNCLEtBQUttMkIsTUFDUG4yQixLQUFLK2tCLFVBR0Z5UixDQUNULENBTUFLLGNBRUEsQ0FNQXRSLFVBQ0UsSUFBSXZsQixLQUFLc0osUUFBUXd0QixpQkFDWjkyQixLQUFLKzJCLGFBRU4sT0FEQS8yQixLQUFLZzJCLFNBQVNyMEIsSUFBSSxTQUFVLFNBQ3JCLEVBR1AzQixLQUFLc0osUUFBUTB0QixjQUNmaDNCLEtBQUtpM0IsZ0JBQWdCajNCLEtBQUtrM0IsaUJBQWlCOW5CLEtBQUtwUCxPQUVoREEsS0FBS20zQixXQUFXbjNCLEtBQUtvM0IsWUFBWWhvQixLQUFLcFAsTUFFMUMsQ0FNQSsyQixhQUNFLE9BQUsvMkIsS0FBS2cyQixTQUFTLEtBQU9oMkIsS0FBS2cyQixTQUFTLElBR2pDaDJCLEtBQUtnMkIsU0FBUyxHQUFHemQsd0JBQXdCWixNQUFRM1gsS0FBS2cyQixTQUFTLEdBQUd6ZCx3QkFBd0JaLEdBQ25HLENBT0F3ZixXQUFXdm9CLEdBRVQsSUFEQSxJQUFJeW9CLEVBQVUsR0FDTm5zQixFQUFJLEVBQUdDLEVBQU1uTCxLQUFLZzJCLFNBQVMxaEMsT0FBUTRXLEVBQUlDLEVBQUtELElBQ2xEbEwsS0FBS2cyQixTQUFTOXFCLEdBQUczTCxNQUFNQyxPQUFTLE9BQ2hDNjNCLEVBQVE5cUIsS0FBS3ZNLEtBQUtnMkIsU0FBUzlxQixHQUFHb3NCLGNBRWhDMW9CLEVBQUd5b0IsRUFDTCxDQU9BSixnQkFBZ0Jyb0IsR0FDZCxJQUFJMm9CLEVBQW1CdjNCLEtBQUtnMkIsU0FBUzFoQyxPQUFTMEwsS0FBS2cyQixTQUFTNVYsUUFBUTFJLFNBQVNDLElBQU0sRUFDL0U2ZixFQUFTLEdBQ1QzMUIsRUFBUSxFQUVaMjFCLEVBQU8zMUIsR0FBUyxHQUNoQixJQUFJLElBQUlxSixFQUFJLEVBQUdDLEVBQU1uTCxLQUFLZzJCLFNBQVMxaEMsT0FBUTRXLEVBQUlDLEVBQUtELElBQUksQ0FDdERsTCxLQUFLZzJCLFNBQVM5cUIsR0FBRzNMLE1BQU1DLE9BQVMsT0FFaEMsSUFBSWk0QixFQUFjempDLElBQUVnTSxLQUFLZzJCLFNBQVM5cUIsSUFBSXdNLFNBQVNDLElBQzNDOGYsSUFBZ0JGLElBRWxCQyxJQURBMzFCLEdBQ2dCLEdBQ2hCMDFCLEVBQWdCRSxHQUVsQkQsRUFBTzMxQixHQUFPMEssS0FBSyxDQUFDdk0sS0FBS2cyQixTQUFTOXFCLEdBQUdsTCxLQUFLZzJCLFNBQVM5cUIsR0FBR29zQixjQUN4RCxDQUVBLElBQUssSUFBSUksRUFBSSxFQUFHQyxFQUFLSCxFQUFPbGpDLE9BQVFvakMsRUFBSUMsRUFBSUQsSUFBSyxDQUMvQyxJQUFJTCxFQUFVcmpDLElBQUV3akMsRUFBT0UsSUFBSWxqQixLQUFJLFdBQVksT0FBT3hVLEtBQUssRUFBSSxJQUFHcUosTUFDMUR0SixFQUFjM0csS0FBSzJHLElBQUlrVixNQUFNLEtBQU1vaUIsR0FDdkNHLEVBQU9FLEdBQUduckIsS0FBS3hNLEVBQ2pCLENBQ0E2TyxFQUFHNG9CLEVBQ0wsQ0FRQUosWUFBWUMsR0FDVixJQUFJdDNCLEVBQU0zRyxLQUFLMkcsSUFBSWtWLE1BQU0sS0FBTW9pQixHQUsvQnIzQixLQUFLc1QsU0FBU2IsUUFBUSw2QkFFdEJ6UyxLQUFLZzJCLFNBQVNyMEIsSUFBSSxTQUFVNUIsR0FNM0JDLEtBQUtzVCxTQUFTYixRQUFRLDZCQUN6QixDQVVBeWtCLGlCQUFpQk0sR0FJZngzQixLQUFLc1QsU0FBU2IsUUFBUSw2QkFDdEIsSUFBSyxJQUFJdkgsRUFBSSxFQUFHQyxFQUFNcXNCLEVBQU9sakMsT0FBUTRXLEVBQUlDLEVBQU1ELElBQUssQ0FDbEQsSUFBSTBzQixFQUFnQkosRUFBT3RzQixHQUFHNVcsT0FDMUJ5TCxFQUFNeTNCLEVBQU90c0IsR0FBRzBzQixFQUFnQixHQUNwQyxHQUFJQSxHQUFlLEVBQ2pCNWpDLElBQUV3akMsRUFBT3RzQixHQUFHLEdBQUcsSUFBSXZKLElBQUksQ0FBQyxPQUFTLGFBRG5DLENBUUEzQixLQUFLc1QsU0FBU2IsUUFBUSxnQ0FDdEIsSUFBSyxJQUFJaWxCLEVBQUksRUFBR0csRUFBUUQsRUFBYyxFQUFJRixFQUFJRyxFQUFPSCxJQUNuRDFqQyxJQUFFd2pDLEVBQU90c0IsR0FBR3dzQixHQUFHLElBQUkvMUIsSUFBSSxDQUFDLE9BQVM1QixJQU1uQ0MsS0FBS3NULFNBQVNiLFFBQVEsZ0NBYnRCLENBY0YsQ0FJQ3pTLEtBQUtzVCxTQUFTYixRQUFRLDZCQUN6QixDQU1BMlIsV0FDRXBrQixLQUFLNDJCLGVBQ0w1MkIsS0FBS2cyQixTQUFTcjBCLElBQUksU0FBVSxPQUM5QixFQU1GbTBCLEdBQVV4UixTQUFXLENBT25Cd1MsaUJBQWlCLEVBT2pCRSxlQUFlLEVBT2ZOLFdBQVksSUMzU2QsTUFBTW9CLFdBQW9COVQsRUFTeEJDLE9BQU85c0IsRUFBU21TLEdBQ2R0SixLQUFLc1QsU0FBV25jLEVBQ2hCNkksS0FBS3NKLFFBQVV0VixJQUFBQSxPQUFTLENBQUMsRUFBRzhqQyxHQUFZeFQsU0FBVXRrQixLQUFLc1QsU0FBU3pYLE9BQVF5TixHQUN4RXRKLEtBQUsrM0IsTUFBUSxHQUNiLzNCLEtBQUtnNEIsWUFBYyxHQUNuQmg0QixLQUFLeEMsVUFBWSxjQUdqQndqQixFQUFTeEIsS0FBS3hyQixLQUVkZ00sS0FBS3NRLFFBQ0x0USxLQUFLK2tCLFNBQ1AsQ0FPQXpVLFFBQ0VGLEVBQVdFLFFBRVgsSUFBSTlMLEVBQUt4RSxLQUFLc1QsU0FBUyxHQUFHOU8sSUFBTXNKLEVBQVksRUFBRyxlQUMvQzlOLEtBQUtzVCxTQUFTamYsS0FBSyxDQUNqQixjQUFlbVEsRUFDZixHQUFNQSxJQUdSeEUsS0FBS2k0QixnQkFDTGo0QixLQUFLazRCLGtCQUNMbDRCLEtBQUttNEIsaUJBQ0xuNEIsS0FBS3VsQixTQUNQLENBT0FSLFVBQ0Uva0IsS0FBS3NULFNBQVNrRyxJQUFJLHVCQUF1QmpsQixHQUFHLHVCQUF1QixJQUFNeUwsS0FBS3VsQixXQUNoRixDQU9BQSxVQUNFLElBQUk5WSxFQUdKLElBQUssSUFBSXZCLEtBQUtsTCxLQUFLKzNCLE1BQ2pCLEdBQUcvM0IsS0FBSyszQixNQUFNbnFCLGVBQWUxQyxHQUFJLENBQy9CLElBQUlrdEIsRUFBT3A0QixLQUFLKzNCLE1BQU03c0IsR0FDbEJyUixPQUFPNlYsV0FBVzBvQixFQUFLcDlCLE9BQU80USxVQUNoQ2EsRUFBUTJyQixFQUVaLENBR0UzckIsR0FDRnpNLEtBQUt1QixRQUFRa0wsRUFBTTRyQixLQUV2QixDQVFBSixxQkFFbUMsSUFBdEJqNEIsS0FBS3NKLFFBQVF2SCxLQUN0Qi9CLEtBQUtzSixRQUFRdkgsS0FBTyxRQUN5QixJQUhuQyxDQUFDLE9BQVEsTUFBTyxhQUFjLFFBRzNCZ0ksUUFBUS9KLEtBQUtzSixRQUFRdkgsUUFDbENvUyxRQUFRNEcsS0FBTSwyQkFBMEIvYSxLQUFLc0osUUFBUXZILHVDQUNyRC9CLEtBQUtzSixRQUFRdkgsS0FBTyxPQUV4QixDQU9BbTJCLGtCQUNFLElBQUssSUFBSWh0QixLQUFLa0YsRUFBV0MsUUFDdkIsR0FBSUQsRUFBV0MsUUFBUXpDLGVBQWUxQyxHQUFJLENBQ3hDLElBQUlsUSxFQUFRb1YsRUFBV0MsUUFBUW5GLEdBQy9CNHNCLEdBQVlRLGdCQUFnQnQ5QixFQUFNckYsTUFBUXFGLEVBQU1qRSxLQUNsRCxDQUVKLENBUUFvaEMsaUJBQ0UsSUFDSUosRUFEQVEsRUFBWSxHQVloQixJQUFLLElBQUlydEIsS0FGVDZzQixFQUEwQixpQkFOeEJBLEVBREUvM0IsS0FBS3NKLFFBQVF5dUIsTUFDUC8zQixLQUFLc0osUUFBUXl1QixNQUdiLzNCLEtBQUtzVCxTQUFTelgsS0FBSyxnQkFHUWs4QixFQUFNdHJCLE1BQU0saUJBQW1Cc3JCLEVBR2xFLEdBQUdBLEVBQU1ucUIsZUFBZTFDLEdBQUksQ0FDMUIsSUFBSWt0QixFQUFPTCxFQUFNN3NCLEdBQUcwRixNQUFNLEdBQUksR0FBR0MsTUFBTSxNQUNuQ3duQixFQUFPRCxFQUFLeG5CLE1BQU0sR0FBSSxHQUFHaVMsS0FBSyxJQUM5QjduQixFQUFRbzlCLEVBQUtBLEVBQUs5akMsT0FBUyxHQUUzQndqQyxHQUFZUSxnQkFBZ0J0OUIsS0FDOUJBLEVBQVE4OEIsR0FBWVEsZ0JBQWdCdDlCLElBR3RDdTlCLEVBQVVoc0IsS0FBSyxDQUNiOHJCLEtBQU1BLEVBQ05yOUIsTUFBT0EsR0FFWCxDQUdGZ0YsS0FBSyszQixNQUFRUSxDQUNmLENBUUFoM0IsUUFBUTgyQixHQUNOLEdBQUlyNEIsS0FBS2c0QixjQUFnQkssRUFBekIsQ0FFQSxJQUFJNWxCLEVBQVUsMEJBRVYxUSxFQUFPL0IsS0FBS3NKLFFBQVF2SCxLQUNYLFNBQVRBLElBRUFBLEVBRGdDLFFBQTlCL0IsS0FBS3NULFNBQVMsR0FBR2pKLFNBQ1osTUFDQWd1QixFQUFLNXJCLE1BQU0sd0NBQ1gsYUFFQSxRQUlFLFFBQVQxSyxFQUNGL0IsS0FBS3NULFNBQVNqZixLQUFLLE1BQU9na0MsR0FDdkI5akMsR0FBRyxRQUFRLEtBQVF5TCxLQUFLZzRCLFlBQWNLLENBQUksSUFDMUM1bEIsUUFBUUEsR0FHSyxlQUFUMVEsR0FDUHMyQixFQUFPQSxFQUFLOTJCLFFBQVEsTUFBTyxPQUFPQSxRQUFRLE1BQU8sT0FDakR2QixLQUFLc1QsU0FDRjNSLElBQUksQ0FBRSxtQkFBb0IsT0FBUzAyQixFQUFPLE1BQzFDNWxCLFFBQVFBLElBR0ssU0FBVDFRLEdBQ1AvTixJQUFBQSxJQUFNcWtDLEdBQU81OEIsSUFDWHVFLEtBQUtzVCxTQUNGalgsS0FBS1osR0FDTGdYLFFBQVFBLEdBQ1h6ZSxJQUFFeUgsR0FBVXVZLGFBQ1poVSxLQUFLZzRCLFlBQWNLLENBQUksR0FsQ1UsQ0EyQ3ZDLENBTUFqVSxXQUNFcGtCLEtBQUtzVCxTQUFTa0csSUFBSSxzQkFDcEIsRUFNRnNlLEdBQVl4VCxTQUFXLENBT3JCeVQsTUFBTyxLQVlQaDJCLEtBQU0sUUFHUisxQixHQUFZUSxnQkFBa0IsQ0FDNUIsVUFBYSxzQ0FDYixTQUFZLHFDQUNaLE9BQVUsMlJDN09aLE1BQU1FLFdBQXFCeFUsRUFTdkJDLE9BQU85c0IsRUFBU21TLEdBQ1p0SixLQUFLc1QsU0FBV25jLEVBQ2hCNkksS0FBS3NKLFFBQVV0VixJQUFBQSxPQUFTLENBQUMsRUFBR3drQyxHQUFhbFUsU0FBVXRrQixLQUFLc1QsU0FBU3pYLE9BQVF5TixHQUN6RXRKLEtBQUt4QyxVQUFZLGVBRWpCd0MsS0FBS3NRLE9BQ1QsQ0FNQUEsUUFDSSxNQUFNOUwsRUFBS3hFLEtBQUtzVCxTQUFTLEdBQUc5TyxJQUFNc0osRUFBWSxFQUFHLGlCQUNqRDlOLEtBQUtzVCxTQUFTamYsS0FBSyxDQUFFbVEsT0FFckJ4RSxLQUFLK2tCLFNBQ1QsQ0FNQUEsVUFDSS9rQixLQUFLeTRCLG1CQUFxQno0QixLQUFLMDRCLGlCQUFpQnRwQixLQUFLcFAsTUFDckRBLEtBQUtzVCxTQUFTL2UsR0FBRyx3QkFBeUJ5TCxLQUFLeTRCLG9CQUMvQ3o0QixLQUFLc1QsU0FBUy9lLEdBQUcsd0JBQXlCLGVBQWdCeUwsS0FBS3k0QixtQkFDbkUsQ0FRQUMsaUJBQWlCbGtDLEdBRWIsSUFBS1IsSUFBRVEsRUFBRWdiLGVBQWVvQyxHQUFHLGdCQUFpQixPQUU1QyxNQUFNK21CLEVBQVVua0MsRUFBRWdiLGNBQWN2WCxhQUFhLFFBRTdDK0gsS0FBSzQ0QixlQUFnQixFQUVyQkosR0FBYUssWUFBWUYsRUFBUzM0QixLQUFLc0osU0FBUyxLQUM1Q3RKLEtBQUs0NEIsZUFBZ0IsQ0FBSyxJQUc5QnBrQyxFQUFFQyxnQkFDTixDQVVBcWtDLG1CQUFtQkMsRUFBS3p2QixFQUFVa3ZCLEdBQWFsVSxTQUFVblYsR0FDckQsTUFBTTZwQixFQUFPaGxDLElBQUUra0MsR0FHZixJQUFLQyxFQUFLMWtDLE9BQVEsT0FBTyxFQUV6QixJQUFJNjdCLEVBQVkvMkIsS0FBSzYvQixNQUFNRCxFQUFLdGhCLFNBQVNDLElBQU1yTyxFQUFRNHZCLFVBQVksRUFBSTV2QixFQUFRb08sUUFFL0UxakIsSUFBRSxjQUFjMDRCLE1BQUssR0FBTXRRLFFBQ3ZCLENBQUU2TyxVQUFXa0YsR0FDYjdtQixFQUFRK21CLGtCQUNSL21CLEVBQVFnbkIsaUJBQ1IsS0FDNEIsbUJBQWJuaEIsR0FDUEEsR0FDSixHQUdaLENBTUFpVixXQUNJcGtCLEtBQUtzVCxTQUFTa0csSUFBSSx3QkFBeUJ4WixLQUFLeTRCLG9CQUNoRHo0QixLQUFLc1QsU0FBU2tHLElBQUksd0JBQXlCLGVBQWdCeFosS0FBS3k0QixtQkFDcEUsRUFNSkQsR0FBYWxVLFNBQVcsQ0FPdEIrTCxrQkFBbUIsSUFRbkJDLGdCQUFpQixTQU9qQjRJLFVBQVcsR0FPWHhoQixPQUFRLEdDM0hWLE1BQU15aEIsV0FBaUJuVixFQVNyQkMsT0FBTzlzQixFQUFTbVMsR0FDZHRKLEtBQUtzVCxTQUFXbmMsRUFDaEI2SSxLQUFLc0osUUFBV3RWLElBQUFBLE9BQVMsQ0FBQyxFQUFHbWxDLEdBQVM3VSxTQUFVdGtCLEtBQUtzVCxTQUFTelgsT0FBUXlOLEdBQ3RFdEosS0FBS3hDLFVBQVksV0FHakJ3akIsRUFBU3hCLEtBQUt4ckIsS0FFZGdNLEtBQUtzUSxRQUNMdFEsS0FBS281QixZQUNQLENBTUE5b0IsUUFDRSxJQUFJOUwsRUFBS3hFLEtBQUtzVCxTQUFTLEdBQUc5TyxJQUFNc0osRUFBWSxFQUFHLFlBQy9DOU4sS0FBS3E1QixTQUFXcmxDLElBQUUsMEJBQ2xCZ00sS0FBS3M1QixPQUFTdDVCLEtBQUtzVCxTQUFTOWMsS0FBSyxLQUNqQ3dKLEtBQUtzVCxTQUFTamYsS0FBSyxDQUNqQixjQUFlbVEsRUFDZixjQUFlQSxFQUNmLEdBQU1BLElBRVJ4RSxLQUFLdTVCLFFBQVV2bEMsTUFDZmdNLEtBQUttd0IsVUFBWXJ3QixTQUFTakcsT0FBT3lJLFlBQWEsSUFFOUN0QyxLQUFLK2tCLFNBQ1AsQ0FPQXFVLGFBQ0UsSUFBSXRsQixFQUFROVQsS0FDUmlDLEVBQU9wTixTQUFTb04sS0FDaEI1RixFQUFPeEgsU0FBUzBTLGdCQUVwQnZILEtBQUt3NUIsT0FBUyxHQUNkeDVCLEtBQUt5NUIsVUFBWXJnQyxLQUFLNi9CLE1BQU03L0IsS0FBSzJHLElBQUlsRyxPQUFPNi9CLFlBQWFyOUIsRUFBS3M5QixlQUM5RDM1QixLQUFLNDVCLFVBQVl4Z0MsS0FBSzYvQixNQUFNNy9CLEtBQUsyRyxJQUFJa0MsRUFBS3hDLGFBQWN3QyxFQUFLcTFCLGFBQWNqN0IsRUFBS3M5QixhQUFjdDlCLEVBQUtvRCxhQUFjcEQsRUFBS2k3QixlQUV0SHQzQixLQUFLcTVCLFNBQVN4bEIsTUFBSyxXQUNqQixJQUFJZ21CLEVBQU83bEMsSUFBRWdNLE1BQ1Q4NUIsRUFBSzFnQyxLQUFLNi9CLE1BQU1ZLEVBQUtuaUIsU0FBU0MsSUFBTTdELEVBQU14SyxRQUFRNHZCLFdBQ3REVyxFQUFLRSxZQUFjRCxFQUNuQmhtQixFQUFNMGxCLE9BQU9qdEIsS0FBS3V0QixFQUNwQixHQUNGLENBTUEvVSxVQUNFLElBQUlqUixFQUFROVQsS0FFWmhNLElBQUU2RixRQUFRZ1YsSUFBSSxRQUFRLFdBQ2pCaUYsRUFBTXhLLFFBQVEwd0IsYUFDWjUxQixTQUFTQyxNQUNWeVAsRUFBTStrQixZQUFZejBCLFNBQVNDLE1BRy9CeVAsRUFBTXNsQixhQUNOdGxCLEVBQU1tbUIsZUFDUixJQUVBbm1CLEVBQU1vbUIsZUFBaUJ6ckIsRUFBT3phLElBQUU2RixTQUFTLFdBQ3ZDaWEsRUFBTVIsU0FDSC9lLEdBQUcsQ0FDRixzQkFBdUJ1ZixFQUFNTSxPQUFPaEYsS0FBSzBFLEdBQ3pDLHNCQUF1QkEsRUFBTW1tQixjQUFjN3FCLEtBQUswRSxLQUVqRHZmLEdBQUcsb0JBQXFCLGdCQUFnQixTQUFVQyxHQUNqREEsRUFBRUMsaUJBQ0YsSUFBSWtrQyxFQUFVMzRCLEtBQUsvSCxhQUFhLFFBQ2hDNmIsRUFBTStrQixZQUFZRixFQUNwQixHQUNKLElBRUEzNEIsS0FBS202QixnQkFBa0IsV0FDbEJybUIsRUFBTXhLLFFBQVEwd0IsYUFDZmxtQixFQUFNK2tCLFlBQVloL0IsT0FBT3VLLFNBQVNDLEtBRXRDLEVBRUFyUSxJQUFFNkYsUUFBUXRGLEdBQUcsYUFBY3lMLEtBQUttNkIsZ0JBQ2xDLENBT0F0QixZQUFZRSxHQUNWLzRCLEtBQUs0NEIsZUFBZ0IsRUFDckIsSUFBSTlrQixFQUFROVQsS0FFUnNKLEVBQVUsQ0FDWmduQixnQkFBaUJ0d0IsS0FBS3NKLFFBQVFnbkIsZ0JBQzlCRCxrQkFBbUJyd0IsS0FBS3NKLFFBQVErbUIsa0JBQ2hDNkksVUFBV2w1QixLQUFLc0osUUFBUTR2QixVQUN4QnhoQixPQUFRMVgsS0FBS3NKLFFBQVFvTyxRQUd2QjhnQixHQUFhSyxZQUFZRSxFQUFLenZCLEdBQVMsV0FDckN3SyxFQUFNOGtCLGVBQWdCLENBQ3hCLEdBQ0YsQ0FNQXhrQixTQUNFcFUsS0FBS281QixhQUNMcDVCLEtBQUtpNkIsZUFDUCxDQVFBQSxnQkFDRSxHQUFHajZCLEtBQUs0NEIsY0FBZSxPQUV2QixNQUFNd0IsRUFBZXQ2QixTQUFTakcsT0FBT3lJLFlBQWEsSUFDNUMrM0IsRUFBZ0JyNkIsS0FBS213QixVQUFZaUssRUFHdkMsSUFBSUUsRUFFSixHQUpBdDZCLEtBQUttd0IsVUFBWWlLLEVBSWRBLEVBQWVwNkIsS0FBS3c1QixPQUFPLEdBQUt4NUIsS0FBS3NKLFFBQVFvTyxRQUFVMmlCLEVBQWdCcjZCLEtBQUtzSixRQUFRNHZCLFVBQVksU0FFOUYsR0FBR2tCLEVBQWVwNkIsS0FBS3k1QixZQUFjejVCLEtBQUs0NUIsVUFBWVUsRUFBWXQ2QixLQUFLdzVCLE9BQU9sbEMsT0FBUyxNQUV4RixDQUNGLE1BQU1pbUMsRUFBZXY2QixLQUFLdzVCLE9BQU8zbkIsUUFBUTdLLEdBQy9CQSxFQUFJaEgsS0FBS3NKLFFBQVFvTyxRQUFVMmlCLEVBQWdCcjZCLEtBQUtzSixRQUFRNHZCLFVBQVksSUFBT2tCLElBRXJGRSxFQUFZQyxFQUFham1DLE9BQVNpbUMsRUFBYWptQyxPQUFTLEVBQUksQ0FDOUQsQ0FHQSxNQUFNa21DLEVBQWF4NkIsS0FBS3U1QixRQUN4QixJQUFJa0IsRUFBYSxRQUNPLElBQWRILEdBQ1J0NkIsS0FBS3U1QixRQUFVdjVCLEtBQUtzNUIsT0FBT3puQixPQUFPLFdBQWE3UixLQUFLcTVCLFNBQVN6ZCxHQUFHMGUsR0FBV3orQixLQUFLLG1CQUFxQixNQUNqR21FLEtBQUt1NUIsUUFBUWpsQyxTQUFRbW1DLEVBQWF6NkIsS0FBS3U1QixRQUFRLEdBQUd0aEMsYUFBYSxVQUVuRStILEtBQUt1NUIsUUFBVXZsQyxNQUVqQixNQUFNMG1DLEtBQWlCMTZCLEtBQUt1NUIsUUFBUWpsQyxTQUFXa21DLEVBQVdsbUMsUUFBWTBMLEtBQUt1NUIsUUFBUTNuQixHQUFHNG9CLElBQ2hGRyxFQUFZRixJQUFlNWdDLE9BQU91SyxTQUFTQyxLQVNqRCxHQU5HcTJCLElBQ0RGLEVBQVdwbUMsWUFBWTRMLEtBQUtzSixRQUFRd1QsYUFDcEM5YyxLQUFLdTVCLFFBQVEza0MsU0FBU29MLEtBQUtzSixRQUFRd1QsY0FJbEM5YyxLQUFLc0osUUFBUTB3QixhQUFlVyxFQUM3QixHQUFHOWdDLE9BQU9xSyxRQUFRMm5CLFVBQVUsQ0FFMUIsTUFBTTF3QixFQUFNcy9CLEdBQTBCNWdDLE9BQU91SyxTQUFTdzJCLFNBQVcvZ0MsT0FBT3VLLFNBQVN5MkIsT0FDOUU3NkIsS0FBS3NKLFFBQVFzaUIsY0FDZC94QixPQUFPcUssUUFBUTJuQixVQUFVLENBQUMsRUFBRyxHQUFJMXdCLEdBRWpDdEIsT0FBT3FLLFFBQVFDLGFBQWEsQ0FBQyxFQUFHLEdBQUloSixFQUV4QyxNQUNFdEIsT0FBT3VLLFNBQVNDLEtBQU9vMkIsRUFJdkJDLEdBS0gxNkIsS0FBS3NULFNBQVNiLFFBQVEscUJBQXNCLENBQUN6UyxLQUFLdTVCLFNBRXJELENBTUFuVixXQUlFLEdBSEFwa0IsS0FBS3NULFNBQVNrRyxJQUFJLDRCQUNiaGpCLEtBQU0sSUFBR3dKLEtBQUtzSixRQUFRd1QsZUFBZTFvQixZQUFZNEwsS0FBS3NKLFFBQVF3VCxhQUVoRTljLEtBQUtzSixRQUFRMHdCLFlBQVksQ0FDMUIsSUFBSTMxQixFQUFPckUsS0FBS3U1QixRQUFRLEdBQUd0aEMsYUFBYSxRQUN4QzRCLE9BQU91SyxTQUFTQyxLQUFLOUMsUUFBUThDLEVBQU0sR0FDckMsQ0FFQXJRLElBQUU2RixRQUFRMmYsSUFBSSxhQUFjeFosS0FBS202QixpQkFDN0JuNkIsS0FBS2s2QixnQkFBZ0JsbUMsSUFBRTZGLFFBQVEyZixJQUFJeFosS0FBS2s2QixlQUM5QyxFQU1GZixHQUFTN1UsU0FBVyxDQU9sQitMLGtCQUFtQixJQVFuQkMsZ0JBQWlCLFNBT2pCNEksVUFBVyxHQU9YcGMsWUFBYSxZQU9ia2QsYUFBYSxFQU9icE8sZUFBZSxFQU9mbFUsT0FBUSxHQzVRVixNQUFNb2pCLFdBQWtCOVcsRUFTdEJDLE9BQU85c0IsRUFBU21TLEdBQ2R0SixLQUFLeEMsVUFBWSxZQUNqQndDLEtBQUtzVCxTQUFXbmMsRUFDaEI2SSxLQUFLc0osUUFBVXRWLElBQUFBLE9BQVMsQ0FBQyxFQUFHOG1DLEdBQVV4VyxTQUFVdGtCLEtBQUtzVCxTQUFTelgsT0FBUXlOLEdBQ3RFdEosS0FBSys2QixlQUFpQixDQUFFQyxLQUFNLEdBQUlDLE9BQVEsSUFDMUNqN0IsS0FBS2s3QixhQUFlbG5DLE1BQ3BCZ00sS0FBS203QixVQUFZbm5DLE1BQ2pCZ00sS0FBS3dNLFNBQVcsT0FDaEJ4TSxLQUFLc3FCLFNBQVd0MkIsTUFDaEJnTSxLQUFLbzdCLFNBQVlwN0IsS0FBS3NKLFFBQVE4eEIsT0FDOUJwN0IsS0FBS3E3QixRQUFVcm5DLE1BQ2ZnTSxLQUFLczdCLFlBQWEsRUFHbEJ0bkMsSUFBRSxDQUFDLE9BQVEsWUFBWTZmLE1BQUssQ0FBQ2tkLEVBQU85ZixLQUNsQ2pSLEtBQUsrNkIsZUFBZUMsS0FBS3p1QixLQUFLLGtCQUFrQjBFLEVBQUksSUFFdERqZCxJQUFFLENBQUMsT0FBUSxRQUFTLE1BQU8sV0FBVzZmLE1BQUssQ0FBQ2tkLEVBQU85ZixLQUNqRGpSLEtBQUsrNkIsZUFBZUMsS0FBS3p1QixLQUFLLGdCQUFnQjBFLEdBQzlDalIsS0FBSys2QixlQUFlRSxPQUFPMXVCLEtBQUssY0FBYzBFLEVBQUksSUFJcEQrUCxFQUFTeEIsS0FBS3hyQixLQUNkb2MsRUFBV0UsUUFFWHRRLEtBQUtzUSxRQUNMdFEsS0FBSytrQixVQUVMekssRUFBU2dCLFNBQVMsWUFBYSxDQUM3QixPQUFVLFNBR2QsQ0FPQWhMLFFBQ0UsSUFBSTlMLEVBQUt4RSxLQUFLc1QsU0FBU2pmLEtBQUssTUEwQzVCLEdBeENBMkwsS0FBS3NULFNBQVNqZixLQUFLLGNBQWUsUUFHOUIyTCxLQUFLc0osUUFBUWl5QixVQUNmdjdCLEtBQUtzcUIsU0FBV3QyQixJQUFFLElBQUlnTSxLQUFLc0osUUFBUWl5QixXQUMxQnY3QixLQUFLc1QsU0FBUzJTLFNBQVMsNkJBQTZCM3hCLE9BQzdEMEwsS0FBS3NxQixTQUFXdHFCLEtBQUtzVCxTQUFTMlMsU0FBUyw2QkFBNkI3RixRQUVwRXBnQixLQUFLc3FCLFNBQVd0cUIsS0FBS3NULFNBQVN2ZSxRQUFRLDZCQUE2QnFyQixRQUdoRXBnQixLQUFLc0osUUFBUWl5QixVQUlQdjdCLEtBQUtzSixRQUFRaXlCLFdBQXFDLE9BQXhCdjdCLEtBQUtzSixRQUFROHhCLFFBR2hEam5CLFFBQVE0RyxLQUFLLHFFQUxiL2EsS0FBS283QixPQUF3RSxJQUEvRHA3QixLQUFLc1QsU0FBUzJTLFNBQVMsNkJBQTZCM3hCLFFBUWhELElBQWhCMEwsS0FBS283QixTQUVQcDdCLEtBQUtzSixRQUFRaUYsV0FBYSxVQUUxQnZPLEtBQUtzVCxTQUFTbGYsWUFBWSx1QkFHNUI0TCxLQUFLc1QsU0FBUzFlLFNBQVUsaUJBQWdCb0wsS0FBS3NKLFFBQVFpRix3QkFHckR2TyxLQUFLbTdCLFVBQVlubkMsSUFBRWEsVUFDaEIyQixLQUFLLGVBQWVnTyxFQUFHLG9CQUFvQkEsRUFBRyxxQkFBcUJBLEVBQUcsTUFDdEVuUSxLQUFLLGdCQUFpQixTQUN0QkEsS0FBSyxnQkFBaUJtUSxHQUd6QnhFLEtBQUt3TSxTQUFXeE0sS0FBS3NULFNBQVMxQixHQUFHLG9FQUFzRTVSLEtBQUtzVCxTQUFTamYsS0FBSyxTQUFTb1ksTUFBTSxxQ0FBcUMsR0FBS3pNLEtBQUt3TSxVQUdwSixJQUFoQ3hNLEtBQUtzSixRQUFRa3lCLGVBQXlCLENBQ3hDLElBQUlDLEVBQVU1bUMsU0FBUzhILGNBQWMsT0FDakMrK0IsRUFBdUQsVUFBckMxbkMsSUFBRWdNLEtBQUtzVCxVQUFVM1IsSUFBSSxZQUEwQixtQkFBcUIsc0JBQzFGODVCLEVBQVF2bEMsYUFBYSxRQUFTLHlCQUEyQndsQyxHQUN6RDE3QixLQUFLMjdCLFNBQVczbkMsSUFBRXluQyxHQUNLLHFCQUFwQkMsRUFDRDFuQyxJQUFFZ00sS0FBSzI3QixVQUFVQyxZQUFZNTdCLEtBQUtzVCxVQUVsQ3RULEtBQUtzcUIsU0FBUzBFLE9BQU9odkIsS0FBSzI3QixTQUU5QixDQUdBLElBQ0lFLEVBRGlCLElBQUkvUyxPQUFPM2EsRUFBYW5PLEtBQUtzSixRQUFRd3lCLGFBQWUsWUFBYSxLQUNuRDNtQixLQUFLblYsS0FBS3NULFNBQVMsR0FBRzlWLFdBQ3JEcStCLElBQ0Y3N0IsS0FBS3NKLFFBQVF5eUIsWUFBYSxFQUMxQi83QixLQUFLc0osUUFBUTB5QixTQUFXaDhCLEtBQUtzSixRQUFRMHlCLFVBQVlILEVBQWMsS0FJakMsSUFBNUI3N0IsS0FBS3NKLFFBQVF5eUIsWUFBdUIvN0IsS0FBS3NKLFFBQVEweUIsV0FDbkRoOEIsS0FBS3NULFNBQVM4TSxRQUFReHJCLFNBQVUsR0FBRW9MLEtBQUtzSixRQUFRd3lCLGNBQWM5N0IsS0FBS3NKLFFBQVEweUIsWUFDMUVoOEIsS0FBS2k4QixpQkFHSGo4QixLQUFLc0osUUFBUTR5QixnQkFDZmw4QixLQUFLc1QsU0FBUzNSLElBQUksc0JBQXVCM0IsS0FBS3NKLFFBQVE0eUIsZ0JBSXhEbDhCLEtBQUtxN0IsUUFBVXI3QixLQUFLc3FCLFNBQVM5ekIsS0FBSyw0QkFDOUJ3SixLQUFLcTdCLFFBQVEvbUMsT0FBUyxHQUFpQyxTQUE1QjBMLEtBQUtzSixRQUFRaUYsYUFHMUN2TyxLQUFLc0osUUFBUTZ5QixlQUFnQixHQUcvQixJQUFJQyxFQUFjcDhCLEtBQUtzVCxTQUFTamYsS0FBSyxTQUFTb1ksTUFBTSx5QkFDaEQydkIsR0FBc0MsSUFBdkJBLEVBQVk5bkMsT0FFN0IwTCxLQUFLc0osUUFBUSt5QixXQUFhRCxFQUFZLEdBQzdCcDhCLEtBQUtzSixRQUFRK3lCLFlBRXRCcjhCLEtBQUtzVCxTQUFTMWUsU0FBVSxpQkFBZ0JvTCxLQUFLc0osUUFBUSt5QixjQUduRHI4QixLQUFLc0osUUFBUSt5QixZQUNmcjhCLEtBQUtzOEIsaUJBSVB0OEIsS0FBS3U4Qix1QkFDUCxDQU9BeFgsVUFDRS9rQixLQUFLc1QsU0FBU2tHLElBQUksNkJBQTZCamxCLEdBQUcsQ0FDaEQsa0JBQW1CeUwsS0FBSzJ0QixLQUFLdmUsS0FBS3BQLE1BQ2xDLG1CQUFvQkEsS0FBSzR0QixNQUFNeGUsS0FBS3BQLE1BQ3BDLG9CQUFxQkEsS0FBSy9KLE9BQU9tWixLQUFLcFAsTUFDdEMsdUJBQXdCQSxLQUFLdzhCLGdCQUFnQnB0QixLQUFLcFAsU0FHbEIsSUFBOUJBLEtBQUtzSixRQUFRcW1CLGVBQ0QzdkIsS0FBS3NKLFFBQVFreUIsZUFBaUJ4N0IsS0FBSzI3QixTQUFXMzdCLEtBQUtzcUIsVUFDekQvMUIsR0FBRyxDQUFDLHFCQUFzQnlMLEtBQUs0dEIsTUFBTXhlLEtBQUtwUCxRQUdoREEsS0FBS3NKLFFBQVEreUIsWUFDZnJvQyxJQUFFNkYsUUFBUXRGLEdBQUcseUJBQXlCLEtBQ3BDeUwsS0FBS3M4QixnQkFBZ0IsR0FJM0IsQ0FNQUwsZ0JBQ0UsSUFBSW5vQixFQUFROVQsS0FFWkEsS0FBS2s2QixlQUFpQnpyQixFQUFPemEsSUFBRTZGLFNBQVMsV0FDbEN1VyxFQUFXa0IsUUFBUXdDLEVBQU14SyxRQUFRMHlCLFdBQ25DbG9CLEVBQU1tbkIsUUFBTyxFQUVqQixJQUVBam5DLElBQUU2RixRQUFRdEYsR0FBRyx5QkFBeUIsV0FDaEM2YixFQUFXa0IsUUFBUXdDLEVBQU14SyxRQUFRMHlCLFVBQ25DbG9CLEVBQU1tbkIsUUFBTyxHQUVibm5CLEVBQU1tbkIsUUFBTyxFQUVqQixHQUNGLENBTUFxQixpQkFDRXQ4QixLQUFLczdCLFdBQWFsckIsRUFBV2tCLFFBQVF0UixLQUFLc0osUUFBUSt5QixhQUMxQixJQUFwQnI4QixLQUFLczdCLFlBQ1B0N0IsS0FBSzR0QixPQUVULENBUUEyTyxzQkFBc0JFLEdBQ0ssa0JBQWRBLEVBQ1R6OEIsS0FBS3NxQixTQUFTbDJCLFlBQVk0TCxLQUFLKzZCLGVBQWVDLEtBQUtuWSxLQUFLLE9BQ2pDLElBQWQ0WixHQUNUejhCLEtBQUtzcUIsU0FBU2wyQixZQUFhLGNBQWE0TCxLQUFLd00sV0FFakQsQ0FRQWt3QixtQkFBbUJELEdBQ2pCejhCLEtBQUt1OEIsc0JBQXNCRSxHQUNGLGtCQUFkQSxFQUNUejhCLEtBQUtzcUIsU0FBUzExQixTQUFVLGtCQUFpQm9MLEtBQUtzSixRQUFRaUYsMkJBQTJCdk8sS0FBS3dNLGFBQy9ELElBQWRpd0IsR0FDVHo4QixLQUFLc3FCLFNBQVMxMUIsU0FBVSxjQUFhb0wsS0FBS3dNLFdBRTlDLENBT0Ftd0IscUJBQ0UzOEIsS0FBS3E3QixRQUFReG5CLE1BQUssQ0FBQytvQixFQUFHcDZCLEtBQ3BCLE1BQU04UixFQUFNdGdCLElBQUV3TyxHQUlkLEdBQTRCLFVBQXhCOFIsRUFBSTNTLElBQUksWUFBeUIsQ0FHbkMsSUFBSTJWLEVBQVN4WCxTQUFTd1UsRUFBSTNTLElBQUksT0FBUSxJQUN0QzJTLEVBQUl6WSxLQUFLLGtCQUFtQixDQUFFOGIsSUFBS0wsSUFFbkMsSUFBSXVsQixFQUFpQjdvQyxJQUFFYSxVQUFVbzJCLFlBQWMzVCxFQUMvQ2hELEVBQUkzUyxJQUFJLENBQUVnVyxJQUFNLEdBQUVrbEIsTUFBb0Ixc0IsTUFBTyxPQUFRNUIsV0FBWSxRQUNuRSxJQUVKLENBT0F1dUIsdUJBQ0U5OEIsS0FBS3E3QixRQUFReG5CLE1BQUssQ0FBQytvQixFQUFHcDZCLEtBQ3BCLE1BQU04UixFQUFNdGdCLElBQUV3TyxHQUNkLElBQUl1NkIsRUFBYXpvQixFQUFJelksS0FBSyxtQkFHQSxpQkFBZmtoQyxJQUNUem9CLEVBQUkzUyxJQUFJLENBQUVnVyxJQUFNLEdBQUVvbEIsRUFBV3BsQixRQUFTeEgsTUFBTyxHQUFJNUIsV0FBWSxLQUM3RCtGLEVBQUl6WSxLQUFLLGtCQUFtQixJQUM5QixHQUVKLENBT0FvL0IsT0FBT2MsR0FDREEsR0FDRi83QixLQUFLNHRCLFFBQ0w1dEIsS0FBSys3QixZQUFhLEVBQ2xCLzdCLEtBQUtzVCxTQUFTamYsS0FBSyxjQUFlLFNBQ2xDMkwsS0FBS3NULFNBQVNrRyxJQUFJLHFDQUNsQnhaLEtBQUtzVCxTQUFTbGYsWUFBWSxlQUUxQjRMLEtBQUsrN0IsWUFBYSxFQUNsQi83QixLQUFLc1QsU0FBU2pmLEtBQUssY0FBZSxRQUNsQzJMLEtBQUtzVCxTQUFTa0csSUFBSSxxQ0FBcUNqbEIsR0FBRyxDQUN4RCxrQkFBbUJ5TCxLQUFLMnRCLEtBQUt2ZSxLQUFLcFAsTUFDbEMsb0JBQXFCQSxLQUFLL0osT0FBT21aLEtBQUtwUCxRQUV4Q0EsS0FBS3NULFNBQVMxZSxTQUFTLGNBRXpCb0wsS0FBSzA4QixtQkFBbUJYLEVBQzFCLENBT0FpQixpQkFDRSxPQUFPLENBQ1QsQ0FPQUMsa0JBQWtCMytCLEdBQ0gwQixLQUNSazlCLE1BQVE1K0IsRUFBTTRnQixRQUFRLEdBQUdpZSxLQUNoQyxDQU9BQyx1QkFBdUI5K0IsR0FDckIsTUFBTWlOLEVBQU92TCxLQUNQOFQsRUFBUXhWLEVBQU16QyxLQUNkd2hDLEVBQVE5eEIsRUFBSzJ4QixNQUFRNStCLEVBQU00Z0IsUUFBUSxHQUFHaWUsTUFDNUM1eEIsRUFBSzJ4QixNQUFRNStCLEVBQU00Z0IsUUFBUSxHQUFHaWUsTUFFekJycEIsRUFBTXdwQixXQUFXRCxFQUFPOXhCLElBQzNCak4sRUFBTTdKLGdCQUVWLENBUUE4b0MscUJBQXFCai9CLEdBQ25CLE1BQU1pTixFQUFPdkwsS0FDUDhULEVBQVF4VixFQUFNekMsS0FDZDhhLEVBQVNwTCxFQUFLeFcsUUFBUSx3REFDdEJzb0MsRUFBUTl4QixFQUFLMnhCLE1BQVE1K0IsRUFBTTRnQixRQUFRLEdBQUdpZSxNQUM1Q3htQixFQUFPdW1CLE1BQVEzeEIsRUFBSzJ4QixNQUFRNStCLEVBQU00Z0IsUUFBUSxHQUFHaWUsTUFFN0M3K0IsRUFBTTVKLGtCQUVEb2YsRUFBTXdwQixXQUFXRCxFQUFPOXhCLEtBQ3RCdUksRUFBTXdwQixXQUFXRCxFQUFPMW1CLEdBRzNCQSxFQUFPc1UsV0FBYW9TLEVBRnBCLytCLEVBQU03SixpQkFLWixDQVNBNm9DLFdBQVdELEVBQU85eEIsR0FDaEIsTUFBTW1nQixFQUFLMlIsRUFBUSxFQUNiMVIsRUFBTzBSLEVBQVEsRUFDZkcsRUFBVWp5QixFQUFLMGYsVUFBWSxFQUMzQndTLEVBQVlseUIsRUFBSzBmLFVBQVkxZixFQUFLOUwsYUFBZThMLEVBQUtvdUIsYUFDNUQsT0FBT2pPLEdBQU04UixHQUFXN1IsR0FBUThSLENBQ2xDLENBVUE5UCxLQUFLcnZCLEVBQU9tVSxHQUNWLEtBQUl6UyxLQUFLc1QsU0FBUzNlLFNBQVMsWUFBY3FMLEtBQUsrN0IsWUFBYy83QixLQUFLczdCLFlBQWpFLENBQ0EsSUFBSXhuQixFQUFROVQsS0FFUnlTLElBQ0Z6UyxLQUFLazdCLGFBQWV6b0IsR0FHTyxRQUF6QnpTLEtBQUtzSixRQUFRbzBCLFFBQ2Y3akMsT0FBTzhqQyxTQUFTLEVBQUcsR0FDZSxXQUF6QjM5QixLQUFLc0osUUFBUW8wQixTQUN0QjdqQyxPQUFPOGpDLFNBQVMsRUFBRTlvQyxTQUFTb04sS0FBS3hDLGNBRzlCTyxLQUFLc0osUUFBUTR5QixnQkFBOEMsWUFBNUJsOEIsS0FBS3NKLFFBQVFpRixXQUM5Q3ZPLEtBQUtzVCxTQUFTMlMsU0FBUyw2QkFBNkJ0a0IsSUFBSSxzQkFBdUIzQixLQUFLc0osUUFBUTR5QixnQkFFNUZsOEIsS0FBS3NULFNBQVMyUyxTQUFTLDZCQUE2QnRrQixJQUFJLHNCQUF1QixJQUdqRjNCLEtBQUtzVCxTQUFTMWUsU0FBUyxXQUFXUixZQUFZLGFBRTlDNEwsS0FBS203QixVQUFVOW1DLEtBQUssZ0JBQWlCLFFBQ3JDMkwsS0FBS3NULFNBQVNqZixLQUFLLGNBQWUsU0FFbEMyTCxLQUFLc3FCLFNBQVMxMUIsU0FBUyxXQUFhb0wsS0FBS3dNLFdBR04sSUFBL0J4TSxLQUFLc0osUUFBUTZ5QixnQkFDZm5vQyxJQUFFLFFBQVFZLFNBQVMsc0JBQXNCTCxHQUFHLFlBQWF5TCxLQUFLZzlCLGdCQUM5RGg5QixLQUFLc1QsU0FBUy9lLEdBQUcsYUFBY3lMLEtBQUtpOUIsbUJBQ3BDajlCLEtBQUtzVCxTQUFTL2UsR0FBRyxZQUFheUwsS0FBTUEsS0FBS285Qix3QkFDekNwOUIsS0FBS3NULFNBQVMvZSxHQUFHLGFBQWMsOEJBQStCeUwsS0FBS2k5QixtQkFDbkVqOUIsS0FBS3NULFNBQVMvZSxHQUFHLFlBQWEsOEJBQStCeUwsS0FBTUEsS0FBS3U5Qix3QkFHdEMsSUFBaEN2OUIsS0FBS3NKLFFBQVFreUIsZ0JBQ2Z4N0IsS0FBSzI3QixTQUFTL21DLFNBQVMsZUFHUyxJQUE5Qm9MLEtBQUtzSixRQUFRcW1CLGVBQXlELElBQWhDM3ZCLEtBQUtzSixRQUFRa3lCLGdCQUNyRHg3QixLQUFLMjdCLFNBQVMvbUMsU0FBUyxnQkFHTSxJQUEzQm9MLEtBQUtzSixRQUFRd25CLFdBQ2Y5d0IsS0FBS3NULFNBQVN6RSxJQUFJVCxFQUFjcE8sS0FBS3NULFdBQVcsV0FDOUMsR0FBS1EsRUFBTVIsU0FBUzNlLFNBQVMsV0FBN0IsQ0FHQSxJQUFJaXBDLEVBQWM5cEIsRUFBTVIsU0FBUzljLEtBQUssb0JBQ2xDb25DLEVBQVl0cEMsT0FDWnNwQyxFQUFZaGlCLEdBQUcsR0FBRzNtQixRQUVsQjZlLEVBQU1SLFNBQVM5YyxLQUFLLGFBQWFvbEIsR0FBRyxHQUFHM21CLE9BTDNDLENBT0YsS0FHNkIsSUFBM0IrSyxLQUFLc0osUUFBUW1TLFlBQ2Z6YixLQUFLc3FCLFNBQVNqMkIsS0FBSyxXQUFZLE1BQy9CaW1CLEVBQVNtQixVQUFVemIsS0FBS3NULFdBR00sU0FBNUJ0VCxLQUFLc0osUUFBUWlGLFlBQ2Z2TyxLQUFLMjhCLHFCQUdQMzhCLEtBQUswOEIscUJBTUwxOEIsS0FBS3NULFNBQVNiLFFBQVEsdUJBTXRCelMsS0FBS3NULFNBQVN6RSxJQUFJVCxFQUFjcE8sS0FBS3NULFdBQVcsS0FDOUN0VCxLQUFLc1QsU0FBU2IsUUFBUSx5QkFBeUIsR0EvRXNDLENBaUZ6RixDQVNBbWIsUUFDTzV0QixLQUFLc1QsU0FBUzNlLFNBQVMsYUFBY3FMLEtBQUsrN0IsYUFNL0MvN0IsS0FBS3NULFNBQVNiLFFBQVEsc0JBRXRCelMsS0FBS3NULFNBQVNsZixZQUFZLFdBRTFCNEwsS0FBS3NULFNBQVNqZixLQUFLLGNBQWUsUUFFbEMyTCxLQUFLc3FCLFNBQVNsMkIsWUFBWSwwREFFVSxJQUFoQzRMLEtBQUtzSixRQUFRa3lCLGdCQUNmeDdCLEtBQUsyN0IsU0FBU3ZuQyxZQUFZLGVBR00sSUFBOUI0TCxLQUFLc0osUUFBUXFtQixlQUF5RCxJQUFoQzN2QixLQUFLc0osUUFBUWt5QixnQkFDckR4N0IsS0FBSzI3QixTQUFTdm5DLFlBQVksZUFHNUI0TCxLQUFLbTdCLFVBQVU5bUMsS0FBSyxnQkFBaUIsU0FJckMyTCxLQUFLc1QsU0FBU3pFLElBQUlULEVBQWNwTyxLQUFLc1QsV0FBVyxLQUU5Q3RULEtBQUtzVCxTQUFTMWUsU0FBUyxhQUN2Qm9MLEtBQUt1OEIsd0JBRTJCLFNBQTVCdjhCLEtBQUtzSixRQUFRaUYsWUFDZnZPLEtBQUs4OEIsd0JBSTRCLElBQS9COThCLEtBQUtzSixRQUFRNnlCLGdCQUNmbm9DLElBQUUsUUFBUUksWUFBWSxzQkFBc0JvbEIsSUFBSSxZQUFheFosS0FBS2c5QixnQkFDbEVoOUIsS0FBS3NULFNBQVNrRyxJQUFJLGFBQWN4WixLQUFLaTlCLG1CQUNyQ2o5QixLQUFLc1QsU0FBU2tHLElBQUksWUFBYXhaLEtBQUtvOUIsd0JBQ3BDcDlCLEtBQUtzVCxTQUFTa0csSUFBSSxhQUFjLDhCQUErQnhaLEtBQUtpOUIsbUJBQ3BFajlCLEtBQUtzVCxTQUFTa0csSUFBSSxZQUFhLDhCQUErQnhaLEtBQUt1OUIsd0JBR3RDLElBQTNCdjlCLEtBQUtzSixRQUFRbVMsWUFDZnpiLEtBQUtzcUIsU0FBUzlXLFdBQVcsWUFDekI4RyxFQUFTd0IsYUFBYTliLEtBQUtzVCxXQU83QnRULEtBQUtzVCxTQUFTYixRQUFRLHNCQUFzQixJQUVoRCxDQVFBeGMsT0FBT3FJLEVBQU9tVSxHQUNSelMsS0FBS3NULFNBQVMzZSxTQUFTLFdBQ3pCcUwsS0FBSzR0QixNQUFNdHZCLEVBQU9tVSxHQUdsQnpTLEtBQUsydEIsS0FBS3J2QixFQUFPbVUsRUFFckIsQ0FPQStwQixnQkFBZ0Job0MsR0FDZDhsQixFQUFTSyxVQUFVbm1CLEVBQUcsWUFBYSxDQUNqQ281QixNQUFPQSxLQUNMNXRCLEtBQUs0dEIsUUFDTDV0QixLQUFLazdCLGFBQWFqbUMsU0FDWCxHQUVUbW1CLFFBQVNBLEtBQ1A1bUIsRUFBRUMsZ0JBQWdCLEdBR3hCLENBTUEydkIsV0FDRXBrQixLQUFLNHRCLFFBQ0w1dEIsS0FBS3NULFNBQVNrRyxJQUFJLDZCQUNsQnhaLEtBQUsyN0IsU0FBU25pQixJQUFJLGlCQUNkeFosS0FBS2s2QixnQkFBZ0JsbUMsSUFBRTZGLFFBQVEyZixJQUFJeFosS0FBS2s2QixlQUM5QyxFQUdGWSxHQUFVeFcsU0FBVyxDQU9uQnFMLGNBQWMsRUFRZDZMLGdCQUFnQixFQVFoQkQsVUFBVyxLQVFYSCxPQUFRLEtBUVJlLGVBQWUsRUFRZkQsZUFBZ0IsS0FRaEIzdEIsV0FBWSxPQVFabXZCLFFBQVMsS0FRVDNCLFlBQVksRUFRWkMsU0FBVSxLQVFWSyxXQUFZLEtBUVp2TCxXQUFXLEVBU1hnTCxZQUFhLGNBUWJyZ0IsV0FBVyxHQzVxQmIsTUFBTW9pQixXQUFjN1osRUFRbEJDLE9BQU85c0IsRUFBU21TLEdBQ2R0SixLQUFLc1QsU0FBV25jLEVBQ2hCNkksS0FBS3NKLFFBQVV0VixJQUFBQSxPQUFTLENBQUMsRUFBRzZwQyxHQUFNdlosU0FBVXRrQixLQUFLc1QsU0FBU3pYLE9BQVF5TixHQUNsRXRKLEtBQUt4QyxVQUFZLFFBRWpCa2hCLEVBQU1jLEtBQUt4ckIsS0FFWGdNLEtBQUtzUSxRQUVMZ0ssRUFBU2dCLFNBQVMsUUFBUyxDQUN6QixJQUFPLENBQ0wsWUFBZSxPQUNmLFdBQWMsWUFFaEIsSUFBTyxDQUNMLFdBQWMsT0FDZCxZQUFlLGFBR3JCLENBT0FoTCxRQUVFdFEsS0FBSzg5QixTQUVMOTlCLEtBQUtxdkIsU0FBV3J2QixLQUFLc1QsU0FBUzljLEtBQU0sSUFBR3dKLEtBQUtzSixRQUFReTBCLGtCQUNwRC85QixLQUFLZytCLFFBQVVoK0IsS0FBS3NULFNBQVM5YyxLQUFNLElBQUd3SixLQUFLc0osUUFBUTIwQixjQUVuRCxJQUFJQyxFQUFVbCtCLEtBQUtzVCxTQUFTOWMsS0FBSyxPQUM3QjJuQyxFQUFhbitCLEtBQUtnK0IsUUFBUW5zQixPQUFPLGNBQ2pDck4sRUFBS3hFLEtBQUtzVCxTQUFTLEdBQUc5TyxJQUFNc0osRUFBWSxFQUFHLFNBRS9DOU4sS0FBS3NULFNBQVNqZixLQUFLLENBQ2pCLGNBQWVtUSxFQUNmLEdBQU1BLElBR0gyNUIsRUFBVzdwQyxRQUNkMEwsS0FBS2crQixRQUFRcGlCLEdBQUcsR0FBR2huQixTQUFTLGFBR3pCb0wsS0FBS3NKLFFBQVE4MEIsUUFDaEJwK0IsS0FBS2crQixRQUFRcHBDLFNBQVMsZUFHcEJzcEMsRUFBUTVwQyxPQUNWd2tCLEVBQWVvbEIsRUFBU2wrQixLQUFLcStCLGlCQUFpQmp2QixLQUFLcFAsT0FFbkRBLEtBQUtxK0IsbUJBR0hyK0IsS0FBS3NKLFFBQVFnMUIsU0FDZnQrQixLQUFLdStCLGVBR1B2K0IsS0FBSytrQixVQUVEL2tCLEtBQUtzSixRQUFRazFCLFVBQVl4K0IsS0FBS2crQixRQUFRMXBDLE9BQVMsR0FDakQwTCxLQUFLeStCLFVBR0h6K0IsS0FBS3NKLFFBQVFvMUIsWUFDZjErQixLQUFLcXZCLFNBQVNoN0IsS0FBSyxXQUFZLEVBRW5DLENBT0FrcUMsZUFDRXYrQixLQUFLMitCLFNBQVczK0IsS0FBS3NULFNBQVM5YyxLQUFNLElBQUd3SixLQUFLc0osUUFBUXMxQixnQkFBZ0Jwb0MsS0FBSyxTQUMzRSxDQU1BaW9DLFVBQ0UsSUFBSTNxQixFQUFROVQsS0FDWkEsS0FBS3dWLE1BQVEsSUFBSXVJLEVBQ2YvZCxLQUFLc1QsU0FDTCxDQUNFaUosU0FBVXZjLEtBQUtzSixRQUFRdTFCLFdBQ3ZCemdCLFVBQVUsSUFFWixXQUNFdEssRUFBTWdyQixhQUFZLEVBQ3BCLElBQ0Y5K0IsS0FBS3dWLE1BQU0xVyxPQUNiLENBT0F1L0IsbUJBQ0VyK0IsS0FBSysrQixtQkFDUCxDQVFBQSxrQkFBa0Jud0IsR0FDaEIsSUFBYXRTLEVBQVR5RCxFQUFNLEVBQVNpL0IsRUFBVSxFQUFHbHJCLEVBQVE5VCxLQUV4Q0EsS0FBS2crQixRQUFRbnFCLE1BQUssV0FDaEJ2WCxFQUFPMEQsS0FBS3VZLHdCQUF3Qi9ZLE9BQ3BDeEwsSUFBRWdNLE1BQU0zTCxLQUFLLGFBQWMycUMsR0FHdEIsT0FBT2xwQixLQUFLOWhCLElBQUVnTSxNQUFNLEdBQUd4QyxZQUFjc1csRUFBTWtxQixRQUFRbnNCLE9BQU8sY0FBYyxLQUFPaUMsRUFBTWtxQixRQUFRcGlCLEdBQUdvakIsR0FBUyxJQUM1R2hyQyxJQUFFZ00sTUFBTTJCLElBQUksQ0FBQyxRQUFXLFNBRTFCNUIsRUFBTXpELEVBQU95RCxFQUFNekQsRUFBT3lELEVBQzFCaS9CLEdBQ0YsSUFFSUEsSUFBWWgvQixLQUFLZytCLFFBQVExcEMsU0FDM0IwTCxLQUFLcXZCLFNBQVMxdEIsSUFBSSxDQUFDLE9BQVU1QixJQUMxQjZPLEdBQUtBLEVBQUc3TyxHQUVmLENBT0FrL0IsZ0JBQWdCei9CLEdBQ2RRLEtBQUtnK0IsUUFBUW5xQixNQUFLLFdBQ2hCN2YsSUFBRWdNLE1BQU0yQixJQUFJLGFBQWNuQyxFQUM1QixHQUNGLENBT0F1bEIsVUFDRSxJQUFJalIsRUFBUTlULEtBT1pBLEtBQUtzVCxTQUFTa0csSUFBSSx3QkFBd0JqbEIsR0FBRyxDQUMzQyxzQkFBdUJ5TCxLQUFLcStCLGlCQUFpQmp2QixLQUFLcFAsUUFFaERBLEtBQUtnK0IsUUFBUTFwQyxPQUFTLElBRXBCMEwsS0FBS3NKLFFBQVFzVyxPQUNmNWYsS0FBS2crQixRQUFReGtCLElBQUksMENBQ2hCamxCLEdBQUcsc0JBQXNCLFNBQVNDLEdBQ2pDQSxFQUFFQyxpQkFDRnFmLEVBQU1nckIsYUFBWSxFQUNwQixJQUFHdnFDLEdBQUcsdUJBQXVCLFNBQVNDLEdBQ3BDQSxFQUFFQyxpQkFDRnFmLEVBQU1nckIsYUFBWSxFQUNwQixJQUlFOStCLEtBQUtzSixRQUFRazFCLFdBQ2Z4K0IsS0FBS2crQixRQUFRenBDLEdBQUcsa0JBQWtCLFdBQ2hDdWYsRUFBTVIsU0FBU3pYLEtBQUssYUFBYWlZLEVBQU1SLFNBQVN6WCxLQUFLLGNBQ3JEaVksRUFBTTBCLE1BQU0xQixFQUFNUixTQUFTelgsS0FBSyxhQUFlLFFBQVUsVUFDM0QsSUFFSW1FLEtBQUtzSixRQUFRNDFCLGNBQ2ZsL0IsS0FBS3NULFNBQVMvZSxHQUFHLHVCQUF1QixXQUN0Q3VmLEVBQU0wQixNQUFNNkksT0FDZCxJQUFHOXBCLEdBQUcsdUJBQXVCLFdBQ3RCdWYsRUFBTVIsU0FBU3pYLEtBQUssY0FDdkJpWSxFQUFNMEIsTUFBTTFXLE9BRWhCLEtBSUFrQixLQUFLc0osUUFBUTYxQixZQUNDbi9CLEtBQUtzVCxTQUFTOWMsS0FBTSxJQUFHd0osS0FBS3NKLFFBQVE4MUIsZUFBZXAvQixLQUFLc0osUUFBUSsxQixhQUN0RWhyQyxLQUFLLFdBQVksR0FFMUJFLEdBQUcsb0NBQW9DLFNBQVNDLEdBQ3REQSxFQUFFQyxpQkFDS3FmLEVBQU1nckIsWUFBWTlxQyxJQUFFZ00sTUFBTXJMLFNBQVNtZixFQUFNeEssUUFBUTgxQixXQUNuRCxJQUdFcC9CLEtBQUtzSixRQUFRZzFCLFNBQ2Z0K0IsS0FBSzIrQixTQUFTcHFDLEdBQUcsb0NBQW9DLFdBQ25ELEdBQUksYUFBYXVoQixLQUFLOVYsS0FBS3hDLFdBQWMsT0FBTyxFQUNoRCxJQUFJNnNCLEVBQU1yMkIsSUFBRWdNLE1BQU1uRSxLQUFLLFNBQ3ZCb2YsRUFBTW9QLEVBQU12VyxFQUFNa3FCLFFBQVFuc0IsT0FBTyxjQUFjaFcsS0FBSyxTQUNwRHlqQyxFQUFTeHJCLEVBQU1rcUIsUUFBUXBpQixHQUFHeU8sR0FFMUJ2VyxFQUFNZ3JCLFlBQVk3akIsRUFBS3FrQixFQUFRalYsRUFDakMsSUFHRXJxQixLQUFLc0osUUFBUW8xQixZQUNmMStCLEtBQUtxdkIsU0FBUzExQixJQUFJcUcsS0FBSzIrQixVQUFVcHFDLEdBQUcsb0JBQW9CLFNBQVNDLEdBRS9EOGxCLEVBQVNLLFVBQVVubUIsRUFBRyxRQUFTLENBQzdCbWQsS0FBTSxXQUNKbUMsRUFBTWdyQixhQUFZLEVBQ3BCLEVBQ0F0VCxTQUFVLFdBQ1IxWCxFQUFNZ3JCLGFBQVksRUFDcEIsRUFDQTFqQixRQUFTLFdBQ0hwbkIsSUFBRVEsRUFBRU0sUUFBUThjLEdBQUdrQyxFQUFNNnFCLFdBQ3ZCN3FCLEVBQU02cUIsU0FBUzlzQixPQUFPLGNBQWM1YyxPQUV4QyxHQUVKLElBR04sQ0FLQTZvQyxjQUU4QixJQUFqQjk5QixLQUFLZytCLFNBSVpoK0IsS0FBS2crQixRQUFRMXBDLE9BQVMsSUFFeEIwTCxLQUFLc1QsU0FBU2tHLElBQUksYUFBYWhqQixLQUFLLEtBQUtnakIsSUFBSSxhQUd6Q3haLEtBQUtzSixRQUFRazFCLFVBQ2Z4K0IsS0FBS3dWLE1BQU0ySSxVQUlibmUsS0FBS2crQixRQUFRbnFCLE1BQUssU0FBU3JSLEdBQ3pCeE8sSUFBRXdPLEdBQUlwTyxZQUFZLDZCQUNmb2YsV0FBVyxhQUNYMEosTUFDTCxJQUdBbGQsS0FBS2crQixRQUFRNWQsUUFBUXhyQixTQUFTLGFBQWFvb0IsT0FHM0NoZCxLQUFLc1QsU0FBU2IsUUFBUSx1QkFBd0IsQ0FBQ3pTLEtBQUtnK0IsUUFBUTVkLFVBR3hEcGdCLEtBQUtzSixRQUFRZzFCLFNBQ2Z0K0IsS0FBS3UvQixlQUFlLEdBRzFCLENBVUFULFlBQVlVLEVBQU9DLEVBQWFwVixHQUM5QixHQUFLcnFCLEtBQUtnK0IsUUFBVixDQUNBLElBQUkwQixFQUFZMS9CLEtBQUtnK0IsUUFBUW5zQixPQUFPLGNBQWMrSixHQUFHLEdBRXJELEdBQUksT0FBTzlGLEtBQUs0cEIsRUFBVSxHQUFHbGlDLFdBQWMsT0FBTyxFQUVsRCxJQUtBbWlDLEVBTElDLEVBQWM1L0IsS0FBS2crQixRQUFRNWQsUUFDL0J5ZixFQUFhNy9CLEtBQUtnK0IsUUFBUXZTLE9BQzFCcVUsRUFBUU4sRUFBUSxRQUFVLE9BQzFCTyxFQUFTUCxFQUFRLE9BQVMsUUFDMUIxckIsRUFBUTlULE1BU04yL0IsRUFOR0YsSUFDU0QsRUFDWHgvQixLQUFLc0osUUFBUTAyQixhQUFlTixFQUFVL3RCLEtBQU0sSUFBRzNSLEtBQUtzSixRQUFRMjBCLGNBQWMzcEMsT0FBU29yQyxFQUFVL3RCLEtBQU0sSUFBRzNSLEtBQUtzSixRQUFRMjBCLGNBQWdCMkIsRUFBY0YsRUFBVS90QixLQUFNLElBQUczUixLQUFLc0osUUFBUTIwQixjQUVqTGorQixLQUFLc0osUUFBUTAyQixhQUFlTixFQUFVaFYsS0FBTSxJQUFHMXFCLEtBQUtzSixRQUFRMjBCLGNBQWMzcEMsT0FBU29yQyxFQUFVaFYsS0FBTSxJQUFHMXFCLEtBQUtzSixRQUFRMjBCLGNBQWdCNEIsRUFBYUgsRUFBVWhWLEtBQU0sSUFBRzFxQixLQUFLc0osUUFBUTIwQixnQkFLckszcEMsU0FLWjBMLEtBQUtzVCxTQUFTYixRQUFRLDZCQUE4QixDQUFDaXRCLEVBQVdDLElBRTVEMy9CLEtBQUtzSixRQUFRZzFCLFVBQ2ZqVSxFQUFNQSxHQUFPcnFCLEtBQUtnK0IsUUFBUWpOLE1BQU00TyxHQUNoQzMvQixLQUFLdS9CLGVBQWVsVixJQUdsQnJxQixLQUFLc0osUUFBUTgwQixTQUFXcCtCLEtBQUtzVCxTQUFTMUIsR0FBRyxZQUMzQ3FLLEVBQU9DLFVBQ0x5akIsRUFBVS9xQyxTQUFTLGFBQ25Cb0wsS0FBS3NKLFFBQVMsYUFBWXcyQixNQUMxQixXQUNFSCxFQUFVaCtCLElBQUksQ0FBQyxRQUFXLFVBQVV0TixLQUFLLFlBQWEsU0FDMUQsSUFFQTRuQixFQUFPSSxXQUNMcWpCLEVBQVV0ckMsWUFBWSxhQUN0QjRMLEtBQUtzSixRQUFTLFlBQVd5MkIsTUFDekIsV0FDRUwsRUFBVWxzQixXQUFXLGFBQ2xCTSxFQUFNeEssUUFBUWsxQixXQUFhMXFCLEVBQU0wQixNQUFNMEksVUFDeENwSyxFQUFNMEIsTUFBTTJJLFNBR2hCLE1BRUZ1aEIsRUFBVXRyQyxZQUFZLG1CQUFtQm9mLFdBQVcsYUFBYTBKLE9BQ2pFeWlCLEVBQVUvcUMsU0FBUyxtQkFBbUJQLEtBQUssWUFBYSxVQUFVMm9CLE9BQzlEaGQsS0FBS3NKLFFBQVFrMUIsV0FBYXgrQixLQUFLd1YsTUFBTTBJLFVBQ3ZDbGUsS0FBS3dWLE1BQU0ySSxXQU9mbmUsS0FBS3NULFNBQVNiLFFBQVEsdUJBQXdCLENBQUNrdEIsSUE5RHJCLENBZ0U5QixDQVdBSixlQUFlbFYsR0FDYixJQUFJNFYsRUFBYWpnQyxLQUFLMitCLFNBQVM5c0IsT0FBTyxjQUNsQ3F1QixFQUFpQmxnQyxLQUFLMitCLFNBQVNuYyxJQUFJLGNBQ25DMmQsRUFBYW5nQyxLQUFLMitCLFNBQVMvaUIsR0FBR3lPLEdBRWxDNFYsRUFBVzdyQyxZQUFZLGFBQWFtSyxPQUNwQzRoQyxFQUFXdnJDLFNBQVMsYUFHcEIsSUFBSXdyQyxFQUF3QkgsRUFBVzkrQixTQUFTLDZCQUE2QnNxQixPQUc3RSxJQUFLMlUsRUFBc0I5ckMsT0FBUSxDQUNqQyxJQUFJK3JDLEVBQVFKLEVBQVc5K0IsU0FBUyxRQUNEKytCLEVBQWVJLFVBQVU5ckIsS0FBSXFGLEdBQUs3bEIsSUFBRTZsQixHQUFHMVksU0FBUyxRQUFRN00sU0FHMURpc0MsT0FBTTNnQyxHQUFTQSxFQUFReWdDLEVBQU0vckMsV0FDeEQ4ckMsRUFBd0JDLEVBQU01VSxRQUNScDNCLEtBQUssMEJBQTJCLEdBRTFELENBR0krckMsRUFBc0I5ckMsU0FDeEI4ckMsRUFBc0IvUixTQUN0QjhSLEVBQVduUixPQUFPb1IsR0FFdEIsQ0FNQWhjLFdBQ0Vwa0IsS0FBS3NULFNBQVNrRyxJQUFJLGFBQWFoakIsS0FBSyxLQUFLZ2pCLElBQUksYUFBYXhhLE1BQU1rZSxNQUNsRSxFQUdGMmdCLEdBQU12WixTQUFXLENBT2ZnYSxTQUFTLEVBT1RhLFlBQVksRUFPWnFCLGdCQUFpQixpQkFPakJDLGVBQWdCLGtCQVFoQkMsZUFBZ0IsZ0JBT2hCQyxjQUFlLGlCQU9mbkMsVUFBVSxFQU9WSyxXQUFZLElBT1ptQixjQUFjLEVBT2RwZ0IsT0FBTyxFQU9Qc2YsY0FBYyxFQU9kUixZQUFZLEVBT1pYLGVBQWdCLGtCQU9oQkUsV0FBWSxjQU9aVyxhQUFjLGdCQU9kUSxVQUFXLGFBT1hDLFVBQVcsaUJBT1hqQixRQUFRLEdDNWhCVixJQUFJd0MsR0FBYyxDQUNoQkMsU0FBVSxDQUNSQyxTQUFVLFdBQ1ZodUIsT0FBUW9oQixJQUVYNk0sVUFBVyxDQUNSRCxTQUFVLFlBQ1ZodUIsT0FBUXdiLEdBRVYwUyxVQUFXLENBQ1RGLFNBQVUsaUJBQ1ZodUIsT0FBUTZaLElBY1osTUFBTXNVLFdBQXVCamQsRUFTM0JDLE9BQU85c0IsR0FDTDZJLEtBQUtzVCxTQUFXdGYsSUFBRW1ELEdBQ2xCNkksS0FBSyszQixNQUFRLzNCLEtBQUtzVCxTQUFTelgsS0FBSyxtQkFDaENtRSxLQUFLa2hDLFVBQVksS0FDakJsaEMsS0FBS21oQyxjQUFnQixLQUNyQm5oQyxLQUFLeEMsVUFBWSxpQkFFakJ3QyxLQUFLc1EsUUFDTHRRLEtBQUsra0IsU0FDUCxDQU9BelUsUUFJRSxHQUZBRixFQUFXRSxRQUVlLGlCQUFmdFEsS0FBSyszQixNQUFvQixDQUNsQyxJQUFJcUosRUFBWSxDQUFDLEVBR2JySixFQUFRLzNCLEtBQUsrM0IsTUFBTWxuQixNQUFNLEtBRzdCLElBQUssSUFBSTNGLEVBQUksRUFBR0EsRUFBSTZzQixFQUFNempDLE9BQVE0VyxJQUFLLENBQ3JDLElBQUlrdEIsRUFBT0wsRUFBTTdzQixHQUFHMkYsTUFBTSxLQUN0Qnd3QixFQUFXakosRUFBSzlqQyxPQUFTLEVBQUk4akMsRUFBSyxHQUFLLFFBQ3ZDa0osRUFBYWxKLEVBQUs5akMsT0FBUyxFQUFJOGpDLEVBQUssR0FBS0EsRUFBSyxHQUVsQixPQUE1QndJLEdBQVlVLEtBQ2RGLEVBQVVDLEdBQVlULEdBQVlVLEdBRXRDLENBRUF0aEMsS0FBSyszQixNQUFRcUosQ0FDZixDQUVLcHRDLElBQUFBLGNBQWdCZ00sS0FBSyszQixRQUN4Qi8zQixLQUFLdWhDLHFCQUdQdmhDLEtBQUtzVCxTQUFTamYsS0FBSyxjQUFnQjJMLEtBQUtzVCxTQUFTamYsS0FBSyxnQkFBa0J5WixFQUFZLEVBQUcsbUJBQ3pGLENBT0FpWCxVQUNFLElBQUlqUixFQUFROVQsS0FFWmhNLElBQUU2RixRQUFRdEYsR0FBRyx5QkFBeUIsV0FDcEN1ZixFQUFNeXRCLG9CQUNSLEdBSUYsQ0FPQUEscUJBQ0UsSUFBSUMsRUFBVzF0QixFQUFROVQsS0FFdkJoTSxJQUFBQSxLQUFPZ00sS0FBSyszQixPQUFPLFNBQVMvaUMsR0FDdEJvYixFQUFXa0IsUUFBUXRjLEtBQ3JCd3NDLEVBQVl4c0MsRUFFaEIsSUFHS3dzQyxJQUdEeGhDLEtBQUttaEMseUJBQXlCbmhDLEtBQUsrM0IsTUFBTXlKLEdBQVcxdUIsU0FHeEQ5ZSxJQUFBQSxLQUFPNHNDLElBQWEsU0FBUzVyQyxFQUFLK0IsR0FDaEMrYyxFQUFNUixTQUFTbGYsWUFBWTJDLEVBQU0rcEMsU0FDbkMsSUFHQTlnQyxLQUFLc1QsU0FBUzFlLFNBQVNvTCxLQUFLKzNCLE1BQU15SixHQUFXVixVQUd6QzlnQyxLQUFLbWhDLGVBQWVuaEMsS0FBS21oQyxjQUFjaGQsVUFDM0Nua0IsS0FBS21oQyxjQUFnQixJQUFJbmhDLEtBQUsrM0IsTUFBTXlKLEdBQVcxdUIsT0FBTzlTLEtBQUtzVCxTQUFVLENBQUMsSUFDeEUsQ0FNQThRLFdBQ0Vwa0IsS0FBS21oQyxjQUFjaGQsVUFDbkJud0IsSUFBRTZGLFFBQVEyZixJQUFJLHFCQUNoQixFQUdGeW5CLEdBQWUzYyxTQUFXLENBQUMsRUN6STNCLE1BQU1tZCxXQUF5QnpkLEVBUzdCQyxPQUFPOXNCLEVBQVNtUyxHQUNkdEosS0FBS3NULFNBQVd0ZixJQUFFbUQsR0FDbEI2SSxLQUFLc0osUUFBVXRWLElBQUFBLE9BQVMsQ0FBQyxFQUFHeXRDLEdBQWlCbmQsU0FBVXRrQixLQUFLc1QsU0FBU3pYLE9BQVF5TixHQUM3RXRKLEtBQUt4QyxVQUFZLG1CQUVqQndDLEtBQUtzUSxRQUNMdFEsS0FBSytrQixTQUNQLENBT0F6VSxRQUNFRixFQUFXRSxRQUNYLElBQUlveEIsRUFBVzFoQyxLQUFLc1QsU0FBU3pYLEtBQUsscUJBYWxDLEdBWks2bEMsR0FDSHZ0QixRQUFRalcsTUFBTSxvRUFHaEI4QixLQUFLMmhDLFlBQWMzdEMsSUFBRyxJQUFHMHRDLEtBQ3pCMWhDLEtBQUs0aEMsU0FBVzVoQyxLQUFLc1QsU0FBUzljLEtBQUssaUJBQWlCcWIsUUFBTyxXQUN6RCxJQUFJL2MsRUFBU2QsSUFBRWdNLE1BQU1uRSxLQUFLLFVBQzFCLE9BQVEvRyxJQUFXNHNDLEdBQXVCLEtBQVg1c0MsQ0FDakMsSUFDQWtMLEtBQUtzSixRQUFVdFYsSUFBQUEsT0FBUyxDQUFDLEVBQUdnTSxLQUFLc0osUUFBU3RKLEtBQUsyaEMsWUFBWTlsQyxRQUd4RG1FLEtBQUtzSixRQUFROFMsUUFBUyxDQUN2QixJQUFJamlCLEVBQVE2RixLQUFLc0osUUFBUThTLFFBQVF2TCxNQUFNLEtBRXZDN1EsS0FBSzZoQyxZQUFjMW5DLEVBQU0sR0FDekI2RixLQUFLOGhDLGFBQWUzbkMsRUFBTSxJQUFNLElBQ2xDLENBRUE2RixLQUFLK2hDLFNBQ1AsQ0FPQWhkLFVBQ0Uva0IsS0FBS2dpQyxpQkFBbUJoaUMsS0FBSytoQyxRQUFRM3lCLEtBQUtwUCxNQUUxQ2hNLElBQUU2RixRQUFRdEYsR0FBRyx3QkFBeUJ5TCxLQUFLZ2lDLGtCQUUzQ2hpQyxLQUFLNGhDLFNBQVNydEMsR0FBRyw0QkFBNkJ5TCxLQUFLd0IsV0FBVzROLEtBQUtwUCxNQUNyRSxDQU9BK2hDLFVBRU8zeEIsRUFBV2tCLFFBQVF0UixLQUFLc0osUUFBUTI0QixVQU9uQ2ppQyxLQUFLc1QsU0FBUzRKLE9BQ2RsZCxLQUFLMmhDLFlBQVkza0IsU0FQakJoZCxLQUFLc1QsU0FBUzBKLE9BQ2RoZCxLQUFLMmhDLFlBQVl6a0IsT0FRckIsQ0FPQTFiLGFBQ080TyxFQUFXa0IsUUFBUXRSLEtBQUtzSixRQUFRMjRCLFdBS2hDamlDLEtBQUtzSixRQUFROFMsUUFDVnBjLEtBQUsyaEMsWUFBWS92QixHQUFHLFdBQ3RCcUssRUFBT0MsVUFBVWxjLEtBQUsyaEMsWUFBYTNoQyxLQUFLNmhDLGFBQWEsS0FDbkQ3aEMsS0FBS3NULFNBQVNiLFFBQVEsK0JBQ3RCelMsS0FBSzJoQyxZQUFZbnJDLEtBQUssaUJBQWlCZ1ksZUFBZSxzQkFBc0IsSUFJOUV5TixFQUFPSSxXQUFXcmMsS0FBSzJoQyxZQUFhM2hDLEtBQUs4aEMsY0FBYyxLQUNyRDloQyxLQUFLc1QsU0FBU2IsUUFBUSw4QkFBOEIsS0FLeER6UyxLQUFLMmhDLFlBQVkxckMsT0FBTyxHQUN4QitKLEtBQUsyaEMsWUFBWW5yQyxLQUFLLGlCQUFpQmljLFFBQVEsdUJBQy9DelMsS0FBS3NULFNBQVNiLFFBQVEsZ0NBRzVCLENBRUEyUixXQUNFcGtCLEtBQUtzVCxTQUFTa0csSUFBSSx3QkFDbEJ4WixLQUFLNGhDLFNBQVNwb0IsSUFBSSx3QkFFbEJ4bEIsSUFBRTZGLFFBQVEyZixJQUFJLHdCQUF5QnhaLEtBQUtnaUMsaUJBQzlDLEVBR0ZQLEdBQWlCbmQsU0FBVyxDQU8xQjJkLFFBQVMsU0FRVDdsQixTQUFTLEdDaklYLE1BQU04bEIsV0FBZWxlLEVBUW5CQyxPQUFPOXNCLEVBQVNtUyxHQUNkdEosS0FBS3NULFNBQVduYyxFQUNoQjZJLEtBQUtzSixRQUFVdFYsSUFBQUEsT0FBUyxDQUFDLEVBQUdrdUMsR0FBTzVkLFNBQVV0a0IsS0FBS3NULFNBQVN6WCxPQUFReU4sR0FDbkV0SixLQUFLeEMsVUFBWSxTQUNqQndDLEtBQUtzUSxRQUdMb08sRUFBTWMsS0FBS3hyQixLQUNYZ3RCLEVBQVN4QixLQUFLeHJCLEtBRWRzbUIsRUFBU2dCLFNBQVMsU0FBVSxDQUMxQixPQUFVLFNBRWQsQ0FNQWhMLFFBQ0VGLEVBQVdFLFFBQ1h0USxLQUFLd0UsR0FBS3hFLEtBQUtzVCxTQUFTamYsS0FBSyxNQUM3QjJMLEtBQUtuSyxVQUFXLEVBQ2hCbUssS0FBS21pQyxPQUFTLENBQUNDLEdBQUloeUIsRUFBVzlPLFNBRTlCdEIsS0FBSzZxQixRQUFVNzJCLElBQUcsZUFBY2dNLEtBQUt3RSxRQUFRbFEsT0FBU04sSUFBRyxlQUFjZ00sS0FBS3dFLFFBQVV4USxJQUFHLGlCQUFnQmdNLEtBQUt3RSxRQUM5R3hFLEtBQUs2cUIsUUFBUXgyQixLQUFLLENBQ2hCLGdCQUFpQjJMLEtBQUt3RSxHQUN0QixnQkFBaUIsU0FDakIsU0FBWSxLQUdWeEUsS0FBS3NKLFFBQVErNEIsWUFBY3JpQyxLQUFLc1QsU0FBUzNlLFNBQVMsV0FDcERxTCxLQUFLc0osUUFBUSs0QixZQUFhLEVBQzFCcmlDLEtBQUtzSixRQUFRbXlCLFNBQVUsR0FFckJ6N0IsS0FBS3NKLFFBQVFteUIsVUFBWXo3QixLQUFLMjdCLFdBQ2hDMzdCLEtBQUsyN0IsU0FBVzM3QixLQUFLc2lDLGFBQWF0aUMsS0FBS3dFLEtBR3pDeEUsS0FBS3NULFNBQVNqZixLQUFLLENBQ2YsS0FBUSxTQUNSLGVBQWUsRUFDZixnQkFBaUIyTCxLQUFLd0UsR0FDdEIsY0FBZXhFLEtBQUt3RSxLQUdyQnhFLEtBQUsyN0IsU0FDTjM3QixLQUFLc1QsU0FBUythLFNBQVM3ZCxTQUFTeFEsS0FBSzI3QixXQUVyQzM3QixLQUFLc1QsU0FBUythLFNBQVM3ZCxTQUFTeGMsSUFBRWdNLEtBQUtzSixRQUFRa0gsV0FDL0N4USxLQUFLc1QsU0FBUzFlLFNBQVMsb0JBRXpCb0wsS0FBSytrQixVQUNEL2tCLEtBQUtzSixRQUFROGhCLFVBQVl2eEIsT0FBT3VLLFNBQVNDLE9BQVksSUFBR3JFLEtBQUt3RSxPQUMvRHhFLEtBQUtrNkIsZUFBaUJ6ckIsRUFBT3phLElBQUU2RixTQUFTLElBQU1tRyxLQUFLMnRCLFNBRXZELENBTUEyVSxlQUNFLElBQUlDLEVBQTJCLEdBTS9CLE9BSkl2aUMsS0FBS3NKLFFBQVFpNUIsMkJBQ2ZBLEVBQTJCLElBQU12aUMsS0FBS3NKLFFBQVFpNUIsMEJBR3pDdnVDLElBQUUsZUFDTlksU0FBUyxpQkFBbUIydEMsR0FDNUIveEIsU0FBU3hRLEtBQUtzSixRQUFRa0gsU0FDM0IsQ0FPQWd5QixrQkFDRSxJQUlJNXFCLEVBSkF6SCxFQUFRblEsS0FBS3NULFNBQVNtdkIsYUFDdEJBLEVBQWF6dUMsSUFBRTZGLFFBQVFzVyxRQUN2QjNRLEVBQVNRLEtBQUtzVCxTQUFTb3ZCLGNBQ3ZCQSxFQUFjMXVDLElBQUU2RixRQUFRMkYsU0FDbEJtWSxFQUFNLEtBRWRDLEVBRDJCLFNBQXpCNVgsS0FBS3NKLFFBQVE4TixRQUNSdFgsVUFBVTJpQyxFQUFhdHlCLEdBQVMsRUFBRyxJQUVuQ3JRLFNBQVNFLEtBQUtzSixRQUFROE4sUUFBUyxJQUVYLFNBQXpCcFgsS0FBS3NKLFFBQVE2TixRQUViUSxFQURFblksRUFBU2tqQyxFQUNMNWlDLFNBQVMxRyxLQUFLZ2YsSUFBSSxJQUFLc3FCLEVBQWMsSUFBSyxJQUUxQzVpQyxVQUFVNGlDLEVBQWNsakMsR0FBVSxFQUFHLElBRVgsT0FBekJRLEtBQUtzSixRQUFRNk4sVUFDdEJRLEVBQU03WCxTQUFTRSxLQUFLc0osUUFBUTZOLFFBQVMsS0FHM0IsT0FBUlEsR0FDRjNYLEtBQUtzVCxTQUFTM1IsSUFBSSxDQUFDZ1csSUFBS0EsRUFBTSxPQUszQjNYLEtBQUsyN0IsVUFBc0MsU0FBekIzN0IsS0FBS3NKLFFBQVE4TixVQUNsQ3BYLEtBQUtzVCxTQUFTM1IsSUFBSSxDQUFDaVcsS0FBTUEsRUFBTyxPQUNoQzVYLEtBQUtzVCxTQUFTM1IsSUFBSSxDQUFDZ2hDLE9BQVEsUUFHL0IsQ0FNQTVkLFVBQ0UsSUFBSWpSLEVBQVE5VCxLQUVaQSxLQUFLc1QsU0FBUy9lLEdBQUcsQ0FDZixrQkFBbUJ5TCxLQUFLMnRCLEtBQUt2ZSxLQUFLcFAsTUFDbEMsbUJBQW9CNGlDLENBQUN0a0MsRUFBT2dWLEtBQzFCLEdBQUtoVixFQUFNeEosU0FBV2dmLEVBQU1SLFNBQVMsSUFDaEN0ZixJQUFFc0ssRUFBTXhKLFFBQVE0NEIsUUFBUSxtQkFBbUIsS0FBT3BhLEVBQ3JELE9BQU90VCxLQUFLNHRCLE1BQU0zWSxNQUFNalYsS0FDMUIsRUFFRixvQkFBcUJBLEtBQUsvSixPQUFPbVosS0FBS3BQLE1BQ3RDLHNCQUF1QixXQUNyQjhULEVBQU0wdUIsaUJBQ1IsSUFHRXhpQyxLQUFLc0osUUFBUXFtQixjQUFnQjN2QixLQUFLc0osUUFBUW15QixTQUM1Q3o3QixLQUFLMjdCLFNBQVNuaUIsSUFBSSxjQUFjamxCLEdBQUcscUNBQXFDLFNBQVNDLEdBQzNFQSxFQUFFTSxTQUFXZ2YsRUFBTVIsU0FBUyxLQUM5QnRmLElBQUFBLFNBQVc4ZixFQUFNUixTQUFTLEdBQUk5ZSxFQUFFTSxTQUM3QmQsSUFBQUEsU0FBV2EsU0FBVUwsRUFBRU0sU0FHNUJnZixFQUFNOFosT0FDUixJQUVFNXRCLEtBQUtzSixRQUFROGhCLFVBQ2ZwM0IsSUFBRTZGLFFBQVF0RixHQUFJLHdCQUF1QnlMLEtBQUt3RSxLQUFNeEUsS0FBSzZpQyxhQUFhenpCLEtBQUtwUCxNQUUzRSxDQU1BNmlDLGVBQ0tocEMsT0FBT3VLLFNBQVNDLE9BQVcsSUFBTXJFLEtBQUt3RSxJQUFReEUsS0FBS25LLFNBQ2hEbUssS0FBSzR0QixRQURzRDV0QixLQUFLMnRCLE1BRXhFLENBTUFtVixlQUFlN1gsR0FDYkEsRUFBWUEsR0FBYWozQixJQUFFNkYsUUFBUW94QixZQUMvQmozQixJQUFFYSxVQUFVMkssU0FBV3hMLElBQUU2RixRQUFRMkYsVUFDbkN4TCxJQUFFLFFBQ0MyTixJQUFJLE9BQVFzcEIsRUFFbkIsQ0FNQThYLGNBQWM5WCxHQUNaQSxFQUFZQSxHQUFhbnJCLFNBQVM5TCxJQUFFLFFBQVEyTixJQUFJLE9BQVEsSUFDcEQzTixJQUFFYSxVQUFVMkssU0FBV3hMLElBQUU2RixRQUFRMkYsV0FDbkN4TCxJQUFFLFFBQ0MyTixJQUFJLE1BQU8sSUFDZDNOLElBQUU2RixRQUFRb3hCLFdBQVdBLEdBRXpCLENBU0EwQyxPQUVFLE1BQU10cEIsRUFBUSxJQUFHckUsS0FBS3dFLEtBQ2xCeEUsS0FBS3NKLFFBQVE4aEIsVUFBWXZ4QixPQUFPdUssU0FBU0MsT0FBU0EsSUFFaER4SyxPQUFPcUssUUFBUTJuQixVQUNiN3JCLEtBQUtzSixRQUFRc2lCLGNBQ2YveEIsT0FBT3FLLFFBQVEybkIsVUFBVSxDQUFDLEVBQUcsR0FBSXhuQixHQUVqQ3hLLE9BQU9xSyxRQUFRQyxhQUFhLENBQUMsRUFBRyxHQUFJRSxHQUd0Q3hLLE9BQU91SyxTQUFTQyxLQUFPQSxHQUszQnJFLEtBQUtnakMsY0FBZ0JodkMsSUFBRWEsU0FBUzJMLGVBQWVvUixHQUFHNVIsS0FBSzZxQixTQUFXNzJCLElBQUVhLFNBQVMyTCxlQUFpQlIsS0FBSzZxQixRQUVuRzdxQixLQUFLbkssVUFBVyxFQUdoQm1LLEtBQUtzVCxTQUNBM1IsSUFBSSxDQUFFLFdBQWMsV0FDcEJxYixPQUNBaU8sVUFBVSxHQUNYanJCLEtBQUtzSixRQUFRbXlCLFNBQ2Z6N0IsS0FBSzI3QixTQUFTaDZCLElBQUksQ0FBQyxXQUFjLFdBQVdxYixPQUc5Q2hkLEtBQUt3aUMsa0JBRUx4aUMsS0FBS3NULFNBQ0Y0SixPQUNBdmIsSUFBSSxDQUFFLFdBQWMsS0FFcEIzQixLQUFLMjdCLFdBQ04zN0IsS0FBSzI3QixTQUFTaDZCLElBQUksQ0FBQyxXQUFjLEtBQUt1YixPQUNuQ2xkLEtBQUtzVCxTQUFTM2UsU0FBUyxRQUN4QnFMLEtBQUsyN0IsU0FBUy9tQyxTQUFTLFFBQ2RvTCxLQUFLc1QsU0FBUzNlLFNBQVMsU0FDaENxTCxLQUFLMjdCLFNBQVMvbUMsU0FBUyxTQUt0Qm9MLEtBQUtzSixRQUFRMjVCLGdCQU1oQmpqQyxLQUFLc1QsU0FBU2IsUUFBUSxvQkFBcUJ6UyxLQUFLd0UsSUFHZCxJQUFoQ3hRLElBQUUsbUJBQW1CTSxRQUN2QjBMLEtBQUs4aUMsaUJBR1AsSUFBSWh2QixFQUFROVQsS0FHUkEsS0FBS3NKLFFBQVF1NEIsYUFXWDdoQyxLQUFLc0osUUFBUW15QixTQUNmeGYsRUFBT0MsVUFBVWxjLEtBQUsyN0IsU0FBVSxXQUVsQzFmLEVBQU9DLFVBQVVsYyxLQUFLc1QsU0FBVXRULEtBQUtzSixRQUFRdTRCLGFBQWEsS0FDckQ3aEMsS0FBS3NULFdBQ050VCxLQUFLa2pDLGtCQUFvQjVvQixFQUFTWCxjQUFjM1osS0FBS3NULFVBZHZEUSxFQUFNUixTQUNIamYsS0FBSyxDQUNKLGVBQWUsRUFDZixVQUFhLElBRWRZLFFBQ0g2ZSxFQUFNcXZCLG9CQUNON29CLEVBQVNtQixVQUFVM0gsRUFBTVIsVUFTekIsTUFLRXRULEtBQUtzSixRQUFRbXlCLFNBQ2Z6N0IsS0FBSzI3QixTQUFTM2UsS0FBSyxHQUVyQmhkLEtBQUtzVCxTQUFTMEosS0FBS2hkLEtBQUtzSixRQUFRODVCLFlBSWxDcGpDLEtBQUtzVCxTQUNGamYsS0FBSyxDQUNKLGVBQWUsRUFDZixVQUFhLElBRWRZLFFBQ0hxbEIsRUFBU21CLFVBQVV6YixLQUFLc1QsVUFFeEJ0VCxLQUFLbWpDLG9CQUVMbmpDLEtBQUtxakMsc0JBTUxyakMsS0FBS3NULFNBQVNiLFFBQVEsaUJBQ3hCLENBYUEwd0Isb0JBQ0UsTUFBTUcsRUFBdUJBLEtBQzNCdHZDLElBQUUsUUFBUXlOLFlBQVksbUJBQW9Cek4sSUFBRWEsVUFBVTJLLFNBQVd4TCxJQUFFNkYsUUFBUTJGLFVBQVUsRUFHdkZRLEtBQUtzVCxTQUFTL2UsR0FBRywrQ0FBK0MsSUFBTSt1QyxNQUN0RUEsSUFDQXR2QyxJQUFFLFFBQVFZLFNBQVMsaUJBQ3JCLENBTUEydUMsdUJBQ0V2akMsS0FBS3NULFNBQVNrRyxJQUFJLCtDQUNsQnhsQixJQUFFLFFBQVFJLFlBQVksa0JBQ3RCSixJQUFFLFFBQVFJLFlBQVksZ0JBQ3hCLENBTUFpdkMsc0JBQ0UsSUFBSXZ2QixFQUFROVQsS0FDUkEsS0FBS3NULFdBQ1R0VCxLQUFLa2pDLGtCQUFvQjVvQixFQUFTWCxjQUFjM1osS0FBS3NULFVBRWhEdFQsS0FBS3NKLFFBQVFteUIsVUFBV3o3QixLQUFLc0osUUFBUXFtQixjQUFpQjN2QixLQUFLc0osUUFBUSs0QixZQUN0RXJ1QyxJQUFFLFFBQVFPLEdBQUcscUNBQXFDLFNBQVNDLEdBQ3JEQSxFQUFFTSxTQUFXZ2YsRUFBTVIsU0FBUyxLQUM5QnRmLElBQUFBLFNBQVc4ZixFQUFNUixTQUFTLEdBQUk5ZSxFQUFFTSxTQUM3QmQsSUFBQUEsU0FBV2EsU0FBVUwsRUFBRU0sU0FDNUJnZixFQUFNOFosT0FDUixJQUdFNXRCLEtBQUtzSixRQUFRazZCLFlBQ2Z4dkMsSUFBRTZGLFFBQVF0RixHQUFHLHFCQUFxQixTQUFTQyxHQUN6QzhsQixFQUFTSyxVQUFVbm1CLEVBQUcsU0FBVSxDQUM5Qm81QixNQUFPLFdBQ0Q5WixFQUFNeEssUUFBUWs2QixZQUNoQjF2QixFQUFNOFosT0FFVixHQUVKLElBRUosQ0FPQUEsUUFDRSxJQUFLNXRCLEtBQUtuSyxXQUFhbUssS0FBS3NULFNBQVMxQixHQUFHLFlBQ3RDLE9BQU8sRUFFVCxJQUFJa0MsRUFBUTlULEtBaUNaLFNBQVN5akMsSUFLUCxJQUFJeFksRUFBWW5yQixTQUFTOUwsSUFBRSxRQUFRMk4sSUFBSSxPQUFRLElBRVYsSUFBakMzTixJQUFFLG1CQUFtQk0sUUFDdkJ3ZixFQUFNeXZCLHVCQUdSanBCLEVBQVN3QixhQUFhaEksRUFBTVIsVUFFNUJRLEVBQU1SLFNBQVNqZixLQUFLLGVBQWUsR0FFRSxJQUFqQ0wsSUFBRSxtQkFBbUJNLFFBQ3ZCd2YsRUFBTWl2QixjQUFjOVgsR0FPdEJuWCxFQUFNUixTQUFTYixRQUFRLG1CQUN6QixDQVlBLEdBbEVJelMsS0FBS3NKLFFBQVF3NEIsY0FDWDloQyxLQUFLc0osUUFBUW15QixTQUNmeGYsRUFBT0ksV0FBV3JjLEtBQUsyN0IsU0FBVSxZQUduQzFmLEVBQU9JLFdBQVdyYyxLQUFLc1QsU0FBVXRULEtBQUtzSixRQUFRdzRCLGFBQWMyQixLQUk1RHpqQyxLQUFLc1QsU0FBUzRKLEtBQUtsZCxLQUFLc0osUUFBUW82QixXQUU1QjFqQyxLQUFLc0osUUFBUW15QixRQUNmejdCLEtBQUsyN0IsU0FBU3plLEtBQUssRUFBR3VtQixHQUd0QkEsS0FLQXpqQyxLQUFLc0osUUFBUWs2QixZQUNmeHZDLElBQUU2RixRQUFRMmYsSUFBSSxzQkFHWHhaLEtBQUtzSixRQUFRbXlCLFNBQVd6N0IsS0FBS3NKLFFBQVFxbUIsY0FDeEMzN0IsSUFBRSxRQUFRd2xCLElBQUkscUNBR2hCeFosS0FBS3NULFNBQVNrRyxJQUFJLHFCQWdDZHhaLEtBQUtzSixRQUFRcTZCLGNBQ2YzakMsS0FBS3NULFNBQVNqWCxLQUFLMkQsS0FBS3NULFNBQVNqWCxRQUduQzJELEtBQUtuSyxVQUFXLEVBRVppZSxFQUFNeEssUUFBUThoQixVQUFZdnhCLE9BQU91SyxTQUFTQyxPQUFVLElBQUdyRSxLQUFLd0UsS0FFOUQsR0FBSTNLLE9BQU9xSyxRQUFRQyxhQUFjLENBQy9CLE1BQU15L0IsRUFBaUIvcEMsT0FBT3VLLFNBQVN3MkIsU0FBVy9nQyxPQUFPdUssU0FBU3kyQixPQUM5RDc2QixLQUFLc0osUUFBUXNpQixjQUNmL3hCLE9BQU9xSyxRQUFRMm5CLFVBQVUsQ0FBQyxFQUFHLEdBQUkrWCxHQUVqQy9wQyxPQUFPcUssUUFBUUMsYUFBYSxHQUFJdFAsU0FBUzJILE1BQU9vbkMsRUFFcEQsTUFDRS9wQyxPQUFPdUssU0FBU0MsS0FBTyxHQUkzQnJFLEtBQUtnakMsY0FBYy90QyxPQUNyQixDQU1BZ0IsU0FDTStKLEtBQUtuSyxTQUNQbUssS0FBSzR0QixRQUVMNXRCLEtBQUsydEIsTUFFVCxDQU1BdkosV0FDTXBrQixLQUFLc0osUUFBUW15QixVQUNmejdCLEtBQUtzVCxTQUFTOUMsU0FBU3hjLElBQUVnTSxLQUFLc0osUUFBUWtILFdBQ3RDeFEsS0FBSzI3QixTQUFTemUsT0FBTzFELE1BQU03ZSxVQUU3QnFGLEtBQUtzVCxTQUFTNEosT0FBTzFELE1BQ3JCeFosS0FBSzZxQixRQUFRclIsSUFBSSxPQUNqQnhsQixJQUFFNkYsUUFBUTJmLElBQUssY0FBYXhaLEtBQUt3RSxNQUM3QnhFLEtBQUtrNkIsZ0JBQWdCbG1DLElBQUU2RixRQUFRMmYsSUFBSXhaLEtBQUtrNkIsZ0JBRVAsSUFBakNsbUMsSUFBRSxtQkFBbUJNLFFBQ3ZCMEwsS0FBS3VqQyxzQkFFVCxFQUdGckIsR0FBTzVkLFNBQVcsQ0FPaEJ1ZCxZQUFhLEdBT2JDLGFBQWMsR0FPZHNCLFVBQVcsRUFPWE0sVUFBVyxFQU9YL1QsY0FBYyxFQU9kNlQsWUFBWSxFQU9aUCxnQkFBZ0IsRUFPaEI5ckIsUUFBUyxPQU9UQyxRQUFTLE9BT1RpckIsWUFBWSxFQU9aNUcsU0FBUyxFQU9Ua0ksY0FBYyxFQVFkdlksVUFBVSxFQU1WUSxlQUFlLEVBT2ZwYixTQUFVLE9BT1YreEIseUJBQTBCLElDbm1CNUIsTUFBTXNCLFdBQWU3ZixFQVFuQkMsT0FBTzlzQixFQUFTbVMsR0FDZHRKLEtBQUtzVCxTQUFXbmMsRUFDaEI2SSxLQUFLc0osUUFBVXRWLElBQUFBLE9BQVMsQ0FBQyxFQUFHNnZDLEdBQU92ZixTQUFVdGtCLEtBQUtzVCxTQUFTelgsT0FBUXlOLEdBQ25FdEosS0FBS3hDLFVBQVksU0FDakJ3QyxLQUFLd29CLGFBQWMsRUFHbkI5SixFQUFNYyxLQUFLeHJCLEtBQ1hndEIsRUFBU3hCLEtBQUt4ckIsS0FFZGdNLEtBQUtzUSxRQUVMZ0ssRUFBU2dCLFNBQVMsU0FBVSxDQUMxQixJQUFPLENBQ0wsWUFBZSxXQUNmLFNBQVksV0FDWixXQUFjLFdBQ2QsV0FBYyxXQUNkLGtCQUFxQixlQUNyQixlQUFrQixlQUNsQixpQkFBb0IsZUFDcEIsaUJBQW9CLGVBQ3BCLEtBQVEsTUFDUixJQUFPLE9BRVQsSUFBTyxDQUNMLFdBQWMsV0FDZCxZQUFlLFdBQ2YsaUJBQW9CLGVBQ3BCLGtCQUFxQixpQkFHM0IsQ0FPQWhMLFFBQ0V0USxLQUFLOGpDLE9BQVM5akMsS0FBS3NULFNBQVM5YyxLQUFLLFNBQ2pDd0osS0FBSytqQyxRQUFVL2pDLEtBQUtzVCxTQUFTOWMsS0FBSyx3QkFFbEN3SixLQUFLZ2tDLFFBQVVoa0MsS0FBSytqQyxRQUFRbm9CLEdBQUcsR0FDL0I1YixLQUFLaWtDLE9BQVNqa0MsS0FBSzhqQyxPQUFPeHZDLE9BQVMwTCxLQUFLOGpDLE9BQU9sb0IsR0FBRyxHQUFLNW5CLElBQUcsSUFBR2dNLEtBQUtna0MsUUFBUTN2QyxLQUFLLG9CQUMvRTJMLEtBQUtra0MsTUFBUWxrQyxLQUFLc1QsU0FBUzljLEtBQUssc0JBQXNCbUwsSUFBSTNCLEtBQUtzSixRQUFRNjZCLFNBQVcsU0FBVyxRQUFTLElBRWxHbmtDLEtBQUtzSixRQUFRbEosVUFBWUosS0FBS3NULFNBQVMzZSxTQUFTcUwsS0FBS3NKLFFBQVE4NkIsa0JBQy9EcGtDLEtBQUtzSixRQUFRbEosVUFBVyxFQUN4QkosS0FBS3NULFNBQVMxZSxTQUFTb0wsS0FBS3NKLFFBQVE4NkIsZ0JBRWpDcGtDLEtBQUs4akMsT0FBT3h2QyxTQUNmMEwsS0FBSzhqQyxPQUFTOXZDLE1BQUkyRixJQUFJcUcsS0FBS2lrQyxRQUMzQmprQyxLQUFLc0osUUFBUSs2QixTQUFVLEdBR3pCcmtDLEtBQUtza0MsYUFBYSxHQUVkdGtDLEtBQUsrakMsUUFBUSxLQUNmL2pDLEtBQUtzSixRQUFRaTdCLGFBQWMsRUFDM0J2a0MsS0FBS3drQyxTQUFXeGtDLEtBQUsrakMsUUFBUW5vQixHQUFHLEdBQ2hDNWIsS0FBS3lrQyxRQUFVemtDLEtBQUs4akMsT0FBT3h2QyxPQUFTLEVBQUkwTCxLQUFLOGpDLE9BQU9sb0IsR0FBRyxHQUFLNW5CLElBQUcsSUFBR2dNLEtBQUt3a0MsU0FBU253QyxLQUFLLG9CQUVoRjJMLEtBQUs4akMsT0FBTyxLQUNmOWpDLEtBQUs4akMsT0FBUzlqQyxLQUFLOGpDLE9BQU9ucUMsSUFBSXFHLEtBQUt5a0MsVUFJckN6a0MsS0FBS3NrQyxhQUFhLElBSXBCdGtDLEtBQUswa0MsYUFFTDFrQyxLQUFLK2tCLFVBQ0wva0IsS0FBS3dvQixhQUFjLENBQ3JCLENBRUFrYyxhQUNLMWtDLEtBQUsrakMsUUFBUSxHQUNkL2pDLEtBQUsya0MsY0FBYzNrQyxLQUFLZ2tDLFFBQVNoa0MsS0FBSzhqQyxPQUFPbG9CLEdBQUcsR0FBRzNLLE9BQU8sS0FDeERqUixLQUFLMmtDLGNBQWMza0MsS0FBS3drQyxTQUFVeGtDLEtBQUs4akMsT0FBT2xvQixHQUFHLEdBQUczSyxNQUFNLElBRzVEalIsS0FBSzJrQyxjQUFjM2tDLEtBQUtna0MsUUFBU2hrQyxLQUFLOGpDLE9BQU9sb0IsR0FBRyxHQUFHM0ssTUFFdkQsQ0FFQXNVLFVBQ0V2bEIsS0FBSzBrQyxZQUNQLENBTUFFLFVBQVU3dEMsR0FDUixJQUFJOHRDLEVBQVd6K0IsR0FBUXJQLEVBQVFpSixLQUFLc0osUUFBUXhLLE1BQU9rQixLQUFLc0osUUFBUXRLLElBQU1nQixLQUFLc0osUUFBUXhLLE9BRW5GLE9BQU9rQixLQUFLc0osUUFBUXc3Qix1QkFDcEIsSUFBSyxNQUNIRCxFQUFXN2tDLEtBQUsra0MsY0FBY0YsR0FDOUIsTUFDRixJQUFLLE1BQ0hBLEVBQVc3a0MsS0FBS2dsQyxjQUFjSCxHQUloQyxPQUFPQSxFQUFTSSxRQUFRLEVBQzFCLENBT0FDLE9BQU9MLEdBQ0wsT0FBTzdrQyxLQUFLc0osUUFBUXc3Qix1QkFDcEIsSUFBSyxNQUNIRCxFQUFXN2tDLEtBQUtnbEMsY0FBY0gsR0FDOUIsTUFDRixJQUFLLE1BQ0hBLEVBQVc3a0MsS0FBSytrQyxjQUFjRixHQWFoQyxPQVJJN2tDLEtBQUtzSixRQUFRNjZCLFNBR1AxdkIsV0FBV3pVLEtBQUtzSixRQUFRdEssS0FBTzZsQyxHQUFZN2tDLEtBQUtzSixRQUFReEssTUFBUWtCLEtBQUtzSixRQUFRdEssTUFFNUVnQixLQUFLc0osUUFBUXRLLElBQU1nQixLQUFLc0osUUFBUXhLLE9BQVMrbEMsRUFBV3B3QixXQUFXelUsS0FBS3NKLFFBQVF4SyxNQUl6RixDQU9BaW1DLGNBQWNodUMsR0FDWixPQThoQkosU0FBaUJpa0MsRUFBTWprQyxHQUNyQixPQUFPcUMsS0FBSytyQyxJQUFJcHVDLEdBQU9xQyxLQUFLK3JDLElBQUluSyxFQUNsQyxDQWhpQldvSyxDQUFRcGxDLEtBQUtzSixRQUFRKzdCLGNBQWlCdHVDLEdBQU9pSixLQUFLc0osUUFBUSs3QixjQUFjLEdBQUksRUFDckYsQ0FPQUwsY0FBY2p1QyxHQUNaLE9BQVFxQyxLQUFLa3NDLElBQUl0bEMsS0FBS3NKLFFBQVErN0IsY0FBZXR1QyxHQUFTLElBQU1pSixLQUFLc0osUUFBUSs3QixjQUFnQixFQUMzRixDQVlBVixjQUFjWSxFQUFPbmhDLEVBQVV3SyxHQUU3QixJQUFJNU8sS0FBS3NULFNBQVMzZSxTQUFTcUwsS0FBS3NKLFFBQVE4NkIsZUFBeEMsRUFJQWhnQyxFQUFXcVEsV0FBV3JRLElBR1BwRSxLQUFLc0osUUFBUXhLLE1BQVNzRixFQUFXcEUsS0FBS3NKLFFBQVF4SyxNQUNwRHNGLEVBQVdwRSxLQUFLc0osUUFBUXRLLE1BQU9vRixFQUFXcEUsS0FBS3NKLFFBQVF0SyxLQUVoRSxJQUFJd21DLEVBQVF4bEMsS0FBS3NKLFFBQVFpN0IsWUFFekIsR0FBSWlCLEVBQ0YsR0FBa0MsSUFBOUJ4bEMsS0FBSytqQyxRQUFRaFQsTUFBTXdVLEdBQWMsQ0FDbkMsSUFBSUUsRUFBUWh4QixXQUFXelUsS0FBS3drQyxTQUFTbndDLEtBQUssa0JBQzFDK1AsRUFBV0EsR0FBWXFoQyxFQUFRQSxFQUFRemxDLEtBQUtzSixRQUFRbzhCLEtBQU90aEMsQ0FDN0QsS0FBTyxDQUNMLElBQUl1aEMsRUFBUWx4QixXQUFXelUsS0FBS2drQyxRQUFRM3ZDLEtBQUssa0JBQ3pDK1AsRUFBV0EsR0FBWXVoQyxFQUFRQSxFQUFRM2xDLEtBQUtzSixRQUFRbzhCLEtBQU90aEMsQ0FDN0QsQ0FHRixJQUFJMFAsRUFBUTlULEtBQ1I0bEMsRUFBTzVsQyxLQUFLc0osUUFBUTY2QixTQUNwQjBCLEVBQU9ELEVBQU8sU0FBVyxRQUN6QkUsRUFBT0YsRUFBTyxNQUFRLE9BQ3RCRyxFQUFZUixFQUFNLEdBQUdodEIsd0JBQXdCc3RCLEdBQzdDRyxFQUFVaG1DLEtBQUtzVCxTQUFTLEdBQUdpRix3QkFBd0JzdEIsR0FFbkRoQixFQUFXN2tDLEtBQUs0a0MsVUFBVXhnQyxHQUkxQjZoQyxHQUF5QyxJQUE3QjcvQixJQUZBNC9CLEVBQVVELEdBQWFsQixFQUVMbUIsSUFBZ0JmLFFBQVFqbEMsS0FBS3NKLFFBQVE0OEIsU0FFbkU5aEMsRUFBV3FRLFdBQVdyUSxFQUFTNmdDLFFBQVFqbEMsS0FBS3NKLFFBQVE0OEIsVUFFeEQsSUFBSXZrQyxFQUFNLENBQUMsRUFLWCxHQUhBM0IsS0FBS21tQyxXQUFXWixFQUFPbmhDLEdBR25Cb2hDLEVBQU8sQ0FDVCxJQUVJWSxFQUZBQyxFQUEyQyxJQUE5QnJtQyxLQUFLK2pDLFFBQVFoVCxNQUFNd1UsR0FJaENlLEVBQWFsdEMsS0FBS0MsTUFBb0MsSUFBOUIrTSxHQUFRMi9CLEVBQVdDLElBRS9DLEdBQUlLLEVBRUYxa0MsRUFBSW1rQyxHQUFTLEdBQUVHLEtBRWZHLEVBQU0zeEIsV0FBV3pVLEtBQUt3a0MsU0FBUyxHQUFHamxDLE1BQU11bUMsSUFBU0csRUFBV0ssRUFHeEQxM0IsR0FBb0IsbUJBQVBBLEdBQXFCQSxRQUNqQyxDQUVMLElBQUkyM0IsRUFBWTl4QixXQUFXelUsS0FBS2drQyxRQUFRLEdBQUd6a0MsTUFBTXVtQyxJQUdqRE0sRUFBTUgsR0FBWTV0QyxNQUFNa3VDLElBQWN2bUMsS0FBS3NKLFFBQVFrOUIsYUFBZXhtQyxLQUFLc0osUUFBUXhLLFNBQVNrQixLQUFLc0osUUFBUXRLLElBQUlnQixLQUFLc0osUUFBUXhLLE9BQU8sS0FBT3luQyxHQUFhRCxDQUNuSixDQUVBM2tDLEVBQUssT0FBTWtrQyxLQUFXLEdBQUVPLElBQzFCLENBS0E5cEIsRUFGZXRjLEtBQUtzVCxTQUFTelgsS0FBSyxZQUFjLElBQUssR0FBS21FLEtBQUtzSixRQUFRbTlCLFNBRXhEbEIsR0FBTyxXQUloQmx0QyxNQUFNNHRDLEdBQ1JWLEVBQU01akMsSUFBSW1rQyxFQUFvQixJQUFYakIsRUFBRixLQUdqQlUsRUFBTTVqQyxJQUFJbWtDLEVBQU8sR0FBRUcsTUFHaEJueUIsRUFBTXhLLFFBQVFpN0IsWUFLakJ6d0IsRUFBTW93QixNQUFNdmlDLElBQUlBLEdBSGhCbVMsRUFBTW93QixNQUFNdmlDLElBQUlra0MsRUFBb0IsSUFBWGhCLEVBQUYsSUFLM0IsSUFFSTdrQyxLQUFLd29CLGNBQ1B4b0IsS0FBS3NULFNBQVN6RSxJQUFJLHVCQUF1QixXQUt2Q2lGLEVBQU1SLFNBQVNiLFFBQVEsa0JBQW1CLENBQUM4eUIsR0FDN0MsSUFLQW5uQyxhQUFhMFYsRUFBTWdnQixTQUNuQmhnQixFQUFNZ2dCLFFBQVV6MUIsWUFBVyxXQUN6QnlWLEVBQU1SLFNBQVNiLFFBQVEsb0JBQXFCLENBQUM4eUIsR0FDL0MsR0FBR3p4QixFQUFNeEssUUFBUW85QixjQXhHbkIsQ0EwR0YsQ0FRQXBDLGFBQWFqYSxHQUNYLElBQUlzYyxFQUFtQixJQUFSdGMsRUFBWXJxQixLQUFLc0osUUFBUWs5QixhQUFleG1DLEtBQUtzSixRQUFRczlCLFdBQ2hFcGlDLEVBQUt4RSxLQUFLOGpDLE9BQU9sb0IsR0FBR3lPLEdBQUtoMkIsS0FBSyxPQUFTeVosRUFBWSxFQUFHLFVBQzFEOU4sS0FBSzhqQyxPQUFPbG9CLEdBQUd5TyxHQUFLaDJCLEtBQUssQ0FDdkIsR0FBTW1RLEVBQ04sSUFBT3hFLEtBQUtzSixRQUFRdEssSUFDcEIsSUFBT2dCLEtBQUtzSixRQUFReEssTUFDcEIsS0FBUWtCLEtBQUtzSixRQUFRbzhCLE9BRXZCMWxDLEtBQUs4akMsT0FBT2xvQixHQUFHeU8sR0FBS3BaLElBQUkwMUIsR0FDeEIzbUMsS0FBSytqQyxRQUFRbm9CLEdBQUd5TyxHQUFLaDJCLEtBQUssQ0FDeEIsS0FBUSxTQUNSLGdCQUFpQm1RLEVBQ2pCLGdCQUFpQnhFLEtBQUtzSixRQUFRdEssSUFDOUIsZ0JBQWlCZ0IsS0FBS3NKLFFBQVF4SyxNQUM5QixnQkFBaUI2bkMsRUFDakIsbUJBQW9CM21DLEtBQUtzSixRQUFRNjZCLFNBQVcsV0FBYSxhQUN6RCxTQUFZLEdBRWhCLENBU0FnQyxXQUFXbkMsRUFBUy95QixHQUNsQixJQUFJb1osRUFBTXJxQixLQUFLc0osUUFBUWk3QixZQUFjdmtDLEtBQUsrakMsUUFBUWhULE1BQU1pVCxHQUFXLEVBQ25FaGtDLEtBQUs4akMsT0FBT2xvQixHQUFHeU8sR0FBS3BaLElBQUlBLEdBQ3hCK3lCLEVBQVEzdkMsS0FBSyxnQkFBaUI0YyxFQUNoQyxDQWFBNDFCLGFBQWFyeUMsRUFBR3d2QyxFQUFTL3lCLEdBQ3ZCLElBQUlsYSxFQUNKLEdBQUtrYSxFQXdDSGxhLEVBQVFpSixLQUFLOG1DLGFBQWEsS0FBTTcxQixPQXhDeEIsQ0FDUnpjLEVBQUVDLGlCQUNGLElBQ0kwdkMsRUFBV25rQyxLQUFLc0osUUFBUTY2QixTQUN4QnB6QixFQUFRb3pCLEVBQVcsU0FBVyxRQUM5QjRDLEVBQVk1QyxFQUFXLE1BQVEsT0FDL0I2QyxFQUFjN0MsRUFBVzN2QyxFQUFFMm9DLE1BQVEzb0MsRUFBRThPLE1BQ3JDMmpDLEVBQVNqbkMsS0FBS3NULFNBQVMsR0FBR2lGLHdCQUF3QnhILEdBQ2xEbTJCLEVBQWUvQyxFQUFXbndDLElBQUU2RixRQUFRb3hCLFlBQWNqM0IsSUFBRTZGLFFBQVE2SSxhQUU1RHlrQyxFQUFhbm5DLEtBQUtzVCxTQUFTb0UsU0FBU3F2QixHQUlwQ3Z5QyxFQUFFaXNCLFVBQVlqc0IsRUFBRTJvQyxRQUFTNkosR0FBNEJFLEdBQ3pELElBQ0lFLEVBREFDLEVBQWVMLEVBQWNHLEVBUzdCRyxFQUFZbGhDLEdBTmRnaEMsRUFERUMsRUFBZSxFQUNULEVBQ0NBLEVBQWVKLEVBQ2hCQSxFQUVBSSxFQUVxQkosR0FFL0Jsd0MsRUFBUWlKLEtBQUtrbEMsT0FBT29DLEdBR2hCcHNCLE1BQVVsYixLQUFLc0osUUFBUTY2QixXQUFXcHRDLEVBQVFpSixLQUFLc0osUUFBUXRLLElBQU1qSSxHQUVqRUEsRUE3QllpSixLQTZCRThtQyxhQUFhLEtBQU0vdkMsR0FFNUJpdEMsSUFHQ0EsRUFGZXVELEdBQVl2bkMsS0FBS2drQyxRQUFTK0MsRUFBV0ssRUFBT3IyQixJQUM1Q3cyQixHQUFZdm5DLEtBQUt3a0MsU0FBVXVDLEVBQVdLLEVBQU9yMkIsR0FDbkIvUSxLQUFLZ2tDLFFBQVVoa0MsS0FBS3drQyxTQUdyRSxDQUlBeGtDLEtBQUsya0MsY0FBY1gsRUFBU2p0QyxFQUM5QixDQVNBK3ZDLGFBQWE5QyxFQUFTanRDLEdBQ3BCLElBQUlrYSxFQUdGMkcsRUFBTTR2QixFQUZOOUIsRUFBTzFsQyxLQUFLc0osUUFBUW84QixLQUNwQitCLEVBQU1oekIsV0FBV2l4QixFQUFLLEdBZXhCLE9BQWEsS0FOWDl0QixHQU5BM0csRUFESSt5QixFQUNFdnZCLFdBQVd1dkIsRUFBUTN2QyxLQUFLLGtCQUd4QjBDLElBRUcsRUFDRmthLEVBQU15MEIsRUFFTkEsRUFBUXowQixFQUFNeTBCLEdBS2R6MEIsRUFFVEEsRUFBTUEsSUFMTnUyQixFQUFjdjJCLEVBQU0yRyxHQUtPNnZCLEVBSmpCRCxFQUFjOUIsRUFJbUI4QixDQUU3QyxDQU9BemlCLFVBQ0Uva0IsS0FBSzBuQyxpQkFBaUIxbkMsS0FBS2drQyxTQUN4QmhrQyxLQUFLK2pDLFFBQVEsSUFDZC9qQyxLQUFLMG5DLGlCQUFpQjFuQyxLQUFLd2tDLFNBRS9CLENBU0FrRCxpQkFBaUIxRCxHQUNmLElBQ0kyRCxFQURBN3pCLEVBQVE5VCxLQUdWLE1BQU00bkMsRUFBb0IsU0FBU3B6QyxHQUNqQyxNQUFNNjFCLEVBQU12VyxFQUFNZ3dCLE9BQU8vUyxNQUFNLzhCLElBQUVnTSxPQUNqQzhULEVBQU0reUIsYUFBYXJ5QyxFQUFHc2YsRUFBTWl3QixRQUFRbm9CLEdBQUd5TyxHQUFNcjJCLElBQUVnTSxNQUFNaVIsTUFDdkQsRUF5QkYsR0FwQkVqUixLQUFLOGpDLE9BQU90cUIsSUFBSSxtQkFBbUJqbEIsR0FBRyxtQkFBbUIsU0FBVUMsR0FDaEQsS0FBZEEsRUFBRXlsQixTQUFnQjJ0QixFQUFrQi9nQyxLQUFLN0csS0FBTXhMLEVBQ3BELElBRUF3TCxLQUFLOGpDLE9BQU90cUIsSUFBSSxvQkFBb0JqbEIsR0FBRyxtQkFBb0JxekMsR0FFdkQ1bkMsS0FBS3NKLFFBQVF1K0IsYUFDZjduQyxLQUFLc1QsU0FBU2tHLElBQUksbUJBQW1CamxCLEdBQUcsbUJBQW1CLFNBQVNDLEdBQ2xFLEdBQUlzZixFQUFNUixTQUFTelgsS0FBSyxZQUFlLE9BQU8sRUFFekM3SCxJQUFFUSxFQUFFTSxRQUFROGMsR0FBRywwQkFDZGtDLEVBQU14SyxRQUFRaTdCLFlBQ2hCendCLEVBQU0reUIsYUFBYXJ5QyxHQUVuQnNmLEVBQU0reUIsYUFBYXJ5QyxFQUFHc2YsRUFBTWt3QixTQUdsQyxJQUdBaGtDLEtBQUtzSixRQUFRdytCLFVBQVcsQ0FDMUI5bkMsS0FBSytqQyxRQUFROWpCLFdBRWIsSUFBSTJQLEVBQVE1N0IsSUFBRSxRQUNkZ3dDLEVBQ0d4cUIsSUFBSSx1QkFDSmpsQixHQUFHLHVCQUF1QixTQUFTQyxHQUNsQ3d2QyxFQUFRcHZDLFNBQVMsZUFDakJrZixFQUFNb3dCLE1BQU10dkMsU0FBUyxlQUNyQmtmLEVBQU1SLFNBQVN6WCxLQUFLLFlBQVksR0FFaEM4ckMsRUFBWTN6QyxJQUFFUSxFQUFFZ2IsZUFFaEJvZ0IsRUFBTXI3QixHQUFHLHVCQUF1QixTQUFTczdCLEdBQ3ZDQSxFQUFHcDdCLGlCQUNIcWYsRUFBTSt5QixhQUFhaFgsRUFBSThYLEVBRXpCLElBQUdwekMsR0FBRyxxQkFBcUIsU0FBU3M3QixHQUNsQy9iLEVBQU0reUIsYUFBYWhYLEVBQUk4WCxHQUV2QjNELEVBQVE1dkMsWUFBWSxlQUNwQjBmLEVBQU1vd0IsTUFBTTl2QyxZQUFZLGVBQ3hCMGYsRUFBTVIsU0FBU3pYLEtBQUssWUFBWSxHQUVoQyt6QixFQUFNcFcsSUFBSSx3Q0FDWixHQUNKLElBRUNqbEIsR0FBRyw2Q0FBNkMsU0FBU0MsR0FDeERBLEVBQUVDLGdCQUNKLEdBQ0YsQ0FFQXV2QyxFQUFReHFCLElBQUkscUJBQXFCamxCLEdBQUcscUJBQXFCLFNBQVNDLEdBQ2hFLElBR0l1ekMsRUFIQUMsRUFBV2gwQyxJQUFFZ00sTUFFYmlvQyxHQURNbjBCLEVBQU14SyxRQUFRaTdCLGFBQWN6d0IsRUFBTWl3QixRQUFRaFQsTUFBTWlYLEdBQzNDdnpCLFdBQVd1dkIsRUFBUTN2QyxLQUFLLG1CQUl2Q2ltQixFQUFTSyxVQUFVbm1CLEVBQUcsU0FBVSxDQUM5QjB6QyxTQUFVLFdBQ1JILEVBQVdFLEVBQVduMEIsRUFBTXhLLFFBQVFvOEIsSUFDdEMsRUFDQXlDLFNBQVUsV0FDUkosRUFBV0UsRUFBV24wQixFQUFNeEssUUFBUW84QixJQUN0QyxFQUNBMEMsYUFBYyxXQUNaTCxFQUFXRSxFQUFnQyxHQUFyQm4wQixFQUFNeEssUUFBUW84QixJQUN0QyxFQUNBMkMsYUFBYyxXQUNaTixFQUFXRSxFQUFnQyxHQUFyQm4wQixFQUFNeEssUUFBUW84QixJQUN0QyxFQUNBdHRCLElBQUssV0FDSDJ2QixFQUFXajBCLEVBQU14SyxRQUFReEssS0FDM0IsRUFDQWlCLElBQUssV0FDSGdvQyxFQUFXajBCLEVBQU14SyxRQUFRdEssR0FDM0IsRUFDQW9jLFFBQVMsV0FDUDVtQixFQUFFQyxpQkFDRnFmLEVBQU02d0IsY0FBY3FELEVBQVVELEVBQ2hDLEdBTUosR0FDRixDQUtBM2pCLFdBQ0Vwa0IsS0FBSytqQyxRQUFRdnFCLElBQUksY0FDakJ4WixLQUFLOGpDLE9BQU90cUIsSUFBSSxjQUNoQnhaLEtBQUtzVCxTQUFTa0csSUFBSSxjQUVsQnBiLGFBQWE0QixLQUFLOHpCLFFBQ3BCLEVBNElGLFNBQVMxdEIsR0FBUWtpQyxFQUFNQyxHQUNyQixPQUFRRCxFQUFPQyxDQUNqQixDQUNBLFNBQVNoQixHQUFZdkQsRUFBUy9rQixFQUFLdXBCLEVBQVV6M0IsR0FDM0MsT0FBTzNYLEtBQUtxSyxJQUFLdWdDLEVBQVF4M0IsV0FBV3lTLEdBQVEra0IsRUFBUWp6QixLQUFXLEVBQU15M0IsRUFDdkUsQ0E5SUEzRSxHQUFPdmYsU0FBVyxDQU9oQnhsQixNQUFPLEVBT1BFLElBQUssSUFPTDBtQyxLQUFNLEVBT05jLGFBQWMsRUFPZEksV0FBWSxJQU9adkMsU0FBUyxFQU9Ud0QsYUFBYSxFQU9iMUQsVUFBVSxFQU9WMkQsV0FBVyxFQU9YMW5DLFVBQVUsRUFPVm1rQyxhQUFhLEVBV2IyQixRQUFTLEVBV1RPLFNBQVUsSUFPVnJDLGNBQWUsV0FPZnFFLGdCQUFnQixFQU9oQi9CLGFBQWMsSUFPZHJCLGNBQWUsRUFPZlAsc0JBQXVCLFVDbnJCekIsTUFBTTRELFdBQWUxa0IsRUFRbkJDLE9BQU85c0IsRUFBU21TLEdBQ2R0SixLQUFLc1QsU0FBV25jLEVBQ2hCNkksS0FBS3NKLFFBQVV0VixJQUFBQSxPQUFTLENBQUMsRUFBRzAwQyxHQUFPcGtCLFNBQVV0a0IsS0FBS3NULFNBQVN6WCxPQUFReU4sR0FDbkV0SixLQUFLeEMsVUFBWSxTQUdqQndqQixFQUFTeEIsS0FBS3hyQixLQUVkZ00sS0FBS3NRLE9BQ1AsQ0FPQUEsUUFDRUYsRUFBV0UsUUFFWCxJQUFJb2lCLEVBQVUxeUIsS0FBS3NULFNBQVNxRCxPQUFPLDJCQUMvQm5TLEVBQUt4RSxLQUFLc1QsU0FBUyxHQUFHOU8sSUFBTXNKLEVBQVksRUFBRyxVQUMzQ2dHLEVBQVE5VCxLQUVUMHlCLEVBQVFwK0IsT0FDVDBMLEtBQUsyb0MsV0FBYWpXLEdBRWxCMXlCLEtBQUs0b0MsWUFBYSxFQUNsQjVvQyxLQUFLc1QsU0FBUzRaLEtBQUtsdEIsS0FBS3NKLFFBQVFqVSxXQUNoQzJLLEtBQUsyb0MsV0FBYTNvQyxLQUFLc1QsU0FBU3FELFVBRWxDM1csS0FBSzJvQyxXQUFXL3pDLFNBQVNvTCxLQUFLc0osUUFBUXkwQixnQkFFdEMvOUIsS0FBS3NULFNBQVMxZSxTQUFTb0wsS0FBS3NKLFFBQVF1L0IsYUFBYXgwQyxLQUFLLENBQUUsY0FBZW1RLEVBQUksY0FBZUEsSUFDOUQsS0FBeEJ4RSxLQUFLc0osUUFBUS9FLFFBQ2J2USxJQUFFLElBQU04ZixFQUFNeEssUUFBUS9FLFFBQVFsUSxLQUFLLENBQUUsY0FBZW1RLElBR3hEeEUsS0FBSzhvQyxZQUFjOW9DLEtBQUtzSixRQUFReS9CLFdBQ2hDL29DLEtBQUtncEMsU0FBVSxFQUNmaHBDLEtBQUtrNkIsZUFBaUJ6ckIsRUFBT3phLElBQUU2RixTQUFTLFdBRXRDaWEsRUFBTW0xQixnQkFBb0QsU0FBbENuMUIsRUFBTVIsU0FBUzNSLElBQUksV0FBd0IsRUFBSW1TLEVBQU1SLFNBQVMsR0FBR2lGLHdCQUF3Qi9ZLE9BQ2pIc1UsRUFBTTYwQixXQUFXaG5DLElBQUksU0FBVW1TLEVBQU1tMUIsaUJBQ3JDbjFCLEVBQU1vMUIsV0FBYXAxQixFQUFNbTFCLGdCQUNJLEtBQXpCbjFCLEVBQU14SyxRQUFRL0UsT0FDaEJ1UCxFQUFNK1csUUFBVTcyQixJQUFFLElBQU04ZixFQUFNeEssUUFBUS9FLFFBRXRDdVAsRUFBTXExQixlQUdScjFCLEVBQU1zMUIsV0FBVSxXQUNkLElBQUlDLEVBQVN4dkMsT0FBT3lJLFlBQ3BCd1IsRUFBTXcxQixPQUFNLEVBQU9ELEdBRWR2MUIsRUFBTWsxQixTQUNUbDFCLEVBQU15MUIsZ0JBQWVGLEdBQVV2MUIsRUFBTTAxQixVQUV6QyxJQUNBMTFCLEVBQU1pUixRQUFRdmdCLEVBQUdxTSxNQUFNLEtBQUs0NEIsVUFBVTVtQixLQUFLLEtBQzdDLEdBQ0YsQ0FPQXNtQixlQUtFLElBSkEsSUFFSU8sRUFBTSxDQUYyQixLQUEzQjFwQyxLQUFLc0osUUFBUXFnQyxVQUFtQixFQUFJM3BDLEtBQUtzSixRQUFRcWdDLFVBQ3RCLEtBQTNCM3BDLEtBQUtzSixRQUFRc2dDLFVBQW1CLzBDLFNBQVMwUyxnQkFBZ0I5SCxhQUFlTyxLQUFLc0osUUFBUXNnQyxXQUUzRkMsRUFBUyxDQUFDLEVBQ0wzK0IsRUFBSSxFQUFHQyxFQUFNdStCLEVBQUlwMUMsT0FBUTRXLEVBQUlDLEdBQU91K0IsRUFBSXgrQixHQUFJQSxJQUFLLENBQ3hELElBQUk0dUIsRUFDSixHQUFzQixpQkFBWDRQLEVBQUl4K0IsR0FDYjR1QixFQUFLNFAsRUFBSXgrQixPQUNKLENBQ0wsSUFBSTQrQixFQUFRSixFQUFJeCtCLEdBQUcyRixNQUFNLEtBQ3JCdE0sRUFBU3ZRLElBQUcsSUFBRzgxQyxFQUFNLE1BRXpCaFEsRUFBS3YxQixFQUFPbVQsU0FBU0MsSUFDakJteUIsRUFBTSxJQUFpQyxXQUEzQkEsRUFBTSxHQUFHeC9CLGdCQUN2Qnd2QixHQUFNdjFCLEVBQU8sR0FBR2dVLHdCQUF3Qi9ZLE9BRTVDLENBQ0FxcUMsRUFBTzMrQixHQUFLNHVCLENBQ2QsQ0FHQTk1QixLQUFLdzVCLE9BQVNxUSxDQUVoQixDQU9BOWtCLFFBQVF2Z0IsR0FDTixJQUFJc1AsRUFBUTlULEtBQ1JxaUIsRUFBaUJyaUIsS0FBS3FpQixlQUFrQixhQUFZN2QsSUFDcER4RSxLQUFLbTJCLE9BQ0xuMkIsS0FBSytwQyxXQUNQL3BDLEtBQUttMkIsTUFBTyxFQUNabmlDLElBQUU2RixRQUFRMmYsSUFBSTZJLEdBQ0o5dEIsR0FBRzh0QixHQUFnQixXQUNRLElBQXRCdk8sRUFBTWcxQixhQUNSaDFCLEVBQU1nMUIsWUFBY2gxQixFQUFNeEssUUFBUXkvQixXQUNsQ2oxQixFQUFNczFCLFdBQVUsV0FDZHQxQixFQUFNdzFCLE9BQU0sRUFBT3p2QyxPQUFPeUksWUFDNUIsTUFFQXdSLEVBQU1nMUIsY0FDTmgxQixFQUFNdzFCLE9BQU0sRUFBT3p2QyxPQUFPeUksYUFFL0IsS0FHVnRDLEtBQUtzVCxTQUFTa0csSUFBSSx1QkFDSmpsQixHQUFHLHVCQUF1QixXQUN4QnVmLEVBQU1rMkIsZUFBZXhsQyxFQUNyQyxJQUVBeEUsS0FBS3NULFNBQVMvZSxHQUFHLHVCQUF1QixXQUNwQ3VmLEVBQU1rMkIsZUFBZXhsQyxFQUN6QixJQUVHeEUsS0FBSzZxQixTQUNON3FCLEtBQUs2cUIsUUFBUXQyQixHQUFHLHVCQUF1QixXQUNuQ3VmLEVBQU1rMkIsZUFBZXhsQyxFQUN6QixJQUVKLENBT0F3bEMsZUFBZXhsQyxHQUNWLElBQUlzUCxFQUFROVQsS0FDWHFpQixFQUFpQnJpQixLQUFLcWlCLGVBQWtCLGFBQVk3ZCxJQUVyRHNQLEVBQU1zMUIsV0FBVSxXQUNoQnQxQixFQUFNdzFCLE9BQU0sR0FDUngxQixFQUFNaTJCLFNBQ0hqMkIsRUFBTXFpQixNQUNUcmlCLEVBQU1pUixRQUFRdmdCLEdBRVBzUCxFQUFNcWlCLE1BQ2ZyaUIsRUFBTW0yQixnQkFBZ0I1bkIsRUFFMUIsR0FDSCxDQU9BNG5CLGdCQUFnQjVuQixHQUNkcmlCLEtBQUttMkIsTUFBTyxFQUNabmlDLElBQUU2RixRQUFRMmYsSUFBSTZJLEdBT2JyaUIsS0FBS3NULFNBQVNiLFFBQVEsa0JBQ3pCLENBUUE2MkIsTUFBTVksRUFBWWIsR0FHaEIsR0FGSWEsR0FBY2xxQyxLQUFLb3BDLGFBRWxCcHBDLEtBQUsrcEMsU0FJUixPQUhJL3BDLEtBQUtncEMsU0FDUGhwQyxLQUFLdXBDLGVBQWMsSUFFZCxFQUdKRixJQUFVQSxFQUFTeHZDLE9BQU95SSxhQUUzQittQyxHQUFVcnBDLEtBQUt3cEMsU0FDYkgsR0FBVXJwQyxLQUFLbXFDLFlBQ1pucUMsS0FBS2dwQyxTQUNSaHBDLEtBQUtvcUMsYUFHSHBxQyxLQUFLZ3BDLFNBQ1BocEMsS0FBS3VwQyxlQUFjLEdBSW5CdnBDLEtBQUtncEMsU0FDUGhwQyxLQUFLdXBDLGVBQWMsRUFHekIsQ0FTQWEsYUFDRSxJQUFJdDJCLEVBQVE5VCxLQUNScXFDLEVBQVVycUMsS0FBS3NKLFFBQVErZ0MsUUFDdkJDLEVBQW1CLFFBQVpELEVBQW9CLFlBQWMsZUFDekNFLEVBQXlCLFFBQVpGLEVBQW9CLFNBQVcsTUFDNUMxb0MsRUFBTSxDQUFDLEVBRVhBLEVBQUkyb0MsR0FBUyxHQUFFdHFDLEtBQUtzSixRQUFRZ2hDLE9BQzVCM29DLEVBQUkwb0MsR0FBVyxFQUNmMW9DLEVBQUk0b0MsR0FBYyxPQUNsQnZxQyxLQUFLZ3BDLFNBQVUsRUFDZmhwQyxLQUFLc1QsU0FBU2xmLFlBQWEscUJBQW9CbTJDLEtBQ2pDMzFDLFNBQVUsa0JBQWlCeTFDLEtBQzNCMW9DLElBQUlBLEdBTUo4USxRQUFTLHFCQUFvQjQzQixLQUMzQ3JxQyxLQUFLc1QsU0FBUy9lLEdBQUcsbUZBQW1GLFdBQ2xHdWYsRUFBTXMxQixXQUNSLEdBQ0YsQ0FVQUcsY0FBY2lCLEdBQ1osSUFBSUgsRUFBVXJxQyxLQUFLc0osUUFBUStnQyxRQUN2QkksRUFBeUIsUUFBWkosRUFDYjFvQyxFQUFNLENBQUMsRUFDUCtvQyxHQUFZMXFDLEtBQUt3NUIsT0FBU3g1QixLQUFLdzVCLE9BQU8sR0FBS3g1QixLQUFLdzVCLE9BQU8sR0FBS3g1QixLQUFLMnFDLGNBQWdCM3FDLEtBQUtrcEMsV0FFdEYwQixFQUFjSixFQUFRLE1BQVEsU0FFbEM3b0MsRUFIVzhvQyxFQUFhLFlBQWMsZ0JBRzFCLEVBRVo5b0MsRUFBSWtwQyxPQUFTLE9BRVhscEMsRUFBSWdXLElBREg2eUIsRUFDUyxFQUVBRSxFQUdaMXFDLEtBQUtncEMsU0FBVSxFQUNmaHBDLEtBQUtzVCxTQUFTbGYsWUFBYSxrQkFBaUJpMkMsS0FDOUJ6MUMsU0FBVSxxQkFBb0JnMkMsS0FDOUJqcEMsSUFBSUEsR0FNSjhRLFFBQVMseUJBQXdCbTRCLElBQ2pELENBUUF4QixVQUFVeDZCLEdBQ1I1TyxLQUFLK3BDLFNBQVczNUIsRUFBV3dCLEdBQUc1UixLQUFLc0osUUFBUXdoQyxVQUN0QzlxQyxLQUFLK3BDLFVBQ0puN0IsR0FBb0IsbUJBQVBBLEdBQXFCQSxJQUd4QyxJQUFJbThCLEVBQWUvcUMsS0FBSzJvQyxXQUFXLEdBQUdwd0Isd0JBQXdCcEksTUFDNUQ2NkIsRUFBT254QyxPQUFPaVcsaUJBQWlCOVAsS0FBSzJvQyxXQUFXLElBQy9Dc0MsRUFBUW5yQyxTQUFTa3JDLEVBQUssZ0JBQWlCLElBQ3ZDRSxFQUFRcHJDLFNBQVNrckMsRUFBSyxpQkFBa0IsSUFhMUMsR0FYSWhyQyxLQUFLNnFCLFNBQVc3cUIsS0FBSzZxQixRQUFRdjJCLE9BQy9CMEwsS0FBSzJxQyxhQUFlM3FDLEtBQUs2cUIsUUFBUSxHQUFHdFMsd0JBQXdCL1ksT0FFNURRLEtBQUttcEMsZUFHUG5wQyxLQUFLc1QsU0FBUzNSLElBQUksQ0FDaEIsWUFBZ0JvcEMsRUFBZUUsRUFBUUMsRUFBekIsT0FJWmxyQyxLQUFLc0osUUFBUTZoQyxnQkFBa0JuckMsS0FBS2lwQyxnQkFBaUIsQ0FFdkQsSUFBSW1DLEVBQXFCcHJDLEtBQUtzVCxTQUFTLEdBQUdpRix3QkFBd0IvWSxRQUFVUSxLQUFLaXBDLGdCQUNqRm1DLEVBQXNELFNBQWpDcHJDLEtBQUtzVCxTQUFTM1IsSUFBSSxXQUF3QixFQUFJeXBDLEVBQ25FcHJDLEtBQUsyb0MsV0FBV2huQyxJQUFJLFNBQVV5cEMsR0FDOUJwckMsS0FBS2lwQyxnQkFBa0JtQyxDQUN6QixDQUdBLEdBRkFwckMsS0FBS2twQyxXQUFhbHBDLEtBQUtpcEMsaUJBRWxCanBDLEtBQUtncEMsU0FDSmhwQyxLQUFLc1QsU0FBUzNlLFNBQVMsZ0JBQWlCLENBQzFDLElBQUkrMUMsR0FBWTFxQyxLQUFLdzVCLE9BQVN4NUIsS0FBS3c1QixPQUFPLEdBQUt4NUIsS0FBSzJvQyxXQUFXanhCLFNBQVNDLElBQU0zWCxLQUFLMnFDLGNBQWdCM3FDLEtBQUtrcEMsV0FDeEdscEMsS0FBS3NULFNBQVMzUixJQUFJLE1BQU8rb0MsRUFDM0IsQ0FHRjFxQyxLQUFLcXJDLGdCQUFnQnJyQyxLQUFLaXBDLGlCQUFpQixXQUNyQ3I2QixHQUFvQixtQkFBUEEsR0FBcUJBLEdBQ3hDLEdBQ0YsQ0FRQXk4QixnQkFBZ0JuQyxFQUFZdDZCLEdBQzFCLElBQUs1TyxLQUFLK3BDLFNBQVUsQ0FDbEIsSUFBSW43QixHQUFvQixtQkFBUEEsRUFDVixPQUFPLEVBRHdCQSxHQUV4QyxDQUNBLElBQUkwOEIsRUFBT0MsR0FBT3ZyQyxLQUFLc0osUUFBUWtpQyxXQUMzQkMsRUFBT0YsR0FBT3ZyQyxLQUFLc0osUUFBUW9pQyxjQUMzQmxDLEVBQVd4cEMsS0FBS3c1QixPQUFTeDVCLEtBQUt3NUIsT0FBTyxHQUFLeDVCLEtBQUs2cUIsUUFBUW5ULFNBQVNDLElBQ2hFd3lCLEVBQWNucUMsS0FBS3c1QixPQUFTeDVCLEtBQUt3NUIsT0FBTyxHQUFLZ1EsRUFBV3hwQyxLQUFLMnFDLGFBRzdEbFIsRUFBWTUvQixPQUFPNi9CLFlBRU0sUUFBekIxNUIsS0FBS3NKLFFBQVErZ0MsU0FDZmIsR0FBWThCLEVBQ1puQixHQUFnQmpCLEVBQWFvQyxHQUNLLFdBQXpCdHJDLEtBQUtzSixRQUFRK2dDLFVBQ3RCYixHQUFhL1AsR0FBYXlQLEVBQWF1QyxHQUN2Q3RCLEdBQWdCMVEsRUFBWWdTLEdBSzlCenJDLEtBQUt3cEMsU0FBV0EsRUFDaEJ4cEMsS0FBS21xQyxZQUFjQSxFQUVmdjdCLEdBQW9CLG1CQUFQQSxHQUFxQkEsR0FDeEMsQ0FRQXdWLFdBQ0Vwa0IsS0FBS3VwQyxlQUFjLEdBRW5CdnBDLEtBQUtzVCxTQUFTbGYsWUFBYSxHQUFFNEwsS0FBS3NKLFFBQVF1L0IscUNBQzVCbG5DLElBQUksQ0FDSG5DLE9BQVEsR0FDUm1ZLElBQUssR0FDTGt6QixPQUFRLEdBQ1IsWUFBYSxLQUVkcnhCLElBQUksdUJBQ0pBLElBQUksdUJBQ2R4WixLQUFLNnFCLFNBQVc3cUIsS0FBSzZxQixRQUFRdjJCLFFBQy9CMEwsS0FBSzZxQixRQUFRclIsSUFBSSxvQkFFZnhaLEtBQUtxaUIsZ0JBQWdCcnVCLElBQUU2RixRQUFRMmYsSUFBSXhaLEtBQUtxaUIsZ0JBQ3hDcmlCLEtBQUtrNkIsZ0JBQWdCbG1DLElBQUU2RixRQUFRMmYsSUFBSXhaLEtBQUtrNkIsZ0JBRXhDbDZCLEtBQUs0b0MsV0FDUDVvQyxLQUFLc1QsU0FBUzZkLFNBRWRueEIsS0FBSzJvQyxXQUFXdjBDLFlBQVk0TCxLQUFLc0osUUFBUXkwQixnQkFDekJwOEIsSUFBSSxDQUNIbkMsT0FBUSxJQUc3QixFQThGRixTQUFTK3JDLEdBQU9JLEdBQ2QsT0FBTzdyQyxTQUFTakcsT0FBT2lXLGlCQUFpQmpiLFNBQVNvTixLQUFNLE1BQU0ycEMsU0FBVSxJQUFNRCxDQUMvRSxDQTdGQWpELEdBQU9wa0IsU0FBVyxDQU9oQmp2QixVQUFXLG9DQU9YZzFDLFFBQVMsTUFPVDlsQyxPQUFRLEdBT1JvbEMsVUFBVyxHQU9YQyxVQUFXLEdBT1g0QixVQUFXLEVBT1hFLGFBQWMsRUFPZFosU0FBVSxTQU9WakMsWUFBYSxTQU9iOUssZUFBZ0IsbUJBT2hCb04sZUFBZSxFQU9mcEMsWUFBYSxHQ3hlZixNQUFNOEMsV0FBYTduQixFQVNqQkMsT0FBTzlzQixFQUFTbVMsR0FDZHRKLEtBQUtzVCxTQUFXbmMsRUFDaEI2SSxLQUFLc0osUUFBVXRWLElBQUFBLE9BQVMsQ0FBQyxFQUFHNjNDLEdBQUt2bkIsU0FBVXRrQixLQUFLc1QsU0FBU3pYLE9BQVF5TixHQUNqRXRKLEtBQUt4QyxVQUFZLE9BRWpCd0MsS0FBS3NRLFFBQ0xnSyxFQUFTZ0IsU0FBUyxPQUFRLENBQ3hCLE1BQVMsT0FDVCxNQUFTLE9BQ1QsWUFBZSxPQUNmLFNBQVksV0FDWixXQUFjLE9BQ2QsV0FBYyxZQUlsQixDQU1BaEwsUUFDRSxJQUFJd0QsRUFBUTlULEtBZ0RaLEdBL0NBQSxLQUFLbXFCLGlCQUFrQixFQUV2Qm5xQixLQUFLc1QsU0FBU2pmLEtBQUssQ0FBQyxLQUFRLFlBQzVCMkwsS0FBSzhyQyxXQUFhOXJDLEtBQUtzVCxTQUFTOWMsS0FBTSxJQUFHd0osS0FBS3NKLFFBQVF5aUMsYUFDdEQvckMsS0FBS3FyQixZQUFjcjNCLElBQUcsdUJBQXNCZ00sS0FBS3NULFNBQVMsR0FBRzlPLFFBRTdEeEUsS0FBSzhyQyxXQUFXajRCLE1BQUssV0FDbkIsSUFBSXhGLEVBQVFyYSxJQUFFZ00sTUFDVjhxQixFQUFRemMsRUFBTTdYLEtBQUssS0FDbkJYLEVBQVd3WSxFQUFNMVosU0FBVSxHQUFFbWYsRUFBTXhLLFFBQVEwaUMsbUJBQzNDM25DLEVBQU95bUIsRUFBTXoyQixLQUFLLHFCQUF1QnkyQixFQUFNLEdBQUd6bUIsS0FBS3VNLE1BQU0sR0FDN0QyWixFQUFTTyxFQUFNLEdBQUd0bUIsR0FBS3NtQixFQUFNLEdBQUd0bUIsR0FBTSxHQUFFSCxVQUN4Q2duQixFQUFjcjNCLElBQUcsSUFBR3FRLEtBRXhCZ0ssRUFBTWhhLEtBQUssQ0FBQyxLQUFRLGlCQUVwQnkyQixFQUFNejJCLEtBQUssQ0FDVCxLQUFRLE1BQ1IsZ0JBQWlCZ1EsRUFDakIsZ0JBQWlCeE8sRUFDakIsR0FBTTAwQixFQUNOLFNBQVkxMEIsRUFBVyxJQUFNLE9BRy9CdzFCLEVBQVloM0IsS0FBSyxDQUNmLEtBQVEsV0FDUixrQkFBbUJrMkIsSUFJakIxMEIsSUFDRmllLEVBQU0yVyxlQUFrQixJQUFHcG1CLEtBR3pCeE8sR0FDRncxQixFQUFZaDNCLEtBQUssY0FBZSxRQUcvQndCLEdBQVlpZSxFQUFNeEssUUFBUXduQixZQUMzQmhkLEVBQU1vbUIsZUFBaUJ6ckIsRUFBT3phLElBQUU2RixTQUFTLFdBQ3ZDN0YsSUFBRSxjQUFjb29CLFFBQVEsQ0FBRTZPLFVBQVc1YyxFQUFNcUosU0FBU0MsS0FBTzdELEVBQU14SyxRQUFRNmhCLHFCQUFxQixLQUM1RkwsRUFBTTcxQixPQUFPLEdBRWpCLElBRUosSUFFRytLLEtBQUtzSixRQUFRMmlDLFlBQWEsQ0FDM0IsSUFBSS9OLEVBQVVsK0IsS0FBS3FyQixZQUFZNzBCLEtBQUssT0FFaEMwbkMsRUFBUTVwQyxPQUNWd2tCLEVBQWVvbEIsRUFBU2wrQixLQUFLa3NDLFdBQVc5OEIsS0FBS3BQLE9BRTdDQSxLQUFLa3NDLFlBRVQsQ0FHQWxzQyxLQUFLNHFCLGVBQWlCLEtBQ3BCLElBQUlybUIsRUFBUzFLLE9BQU91SyxTQUFTQyxLQUU3QixJQUFLRSxFQUFPalEsT0FBUSxDQUVsQixHQUFJMEwsS0FBS21xQixnQkFBaUIsT0FFdEJucUIsS0FBS3lxQixpQkFBZ0JsbUIsRUFBU3ZFLEtBQUt5cUIsZUFDekMsQ0FFQSxJQUFJMGhCLEVBQWU1bkMsRUFBT3dGLFFBQVEsTUFBUSxFQUFJeEYsRUFBT3FNLE1BQU0sR0FBS3JNLEVBQzVEc21CLEVBQVVzaEIsR0FBZ0JuNEMsSUFBRyxJQUFHbTRDLEtBQ2hDcmhCLEVBQVF2bUIsR0FBVXZFLEtBQUtzVCxTQUFTOWMsS0FBTSxXQUFVK04sMEJBQStCNG5DLE9BQWtCL3JCLFFBSXJHLEdBRnFCeUssRUFBUXYyQixRQUFVdzJCLEVBQU14MkIsT0FFNUIsQ0FXZixHQVRJdTJCLEdBQVdBLEVBQVF2MkIsUUFBVXcyQixHQUFTQSxFQUFNeDJCLE9BQzlDMEwsS0FBS29zQyxVQUFVdmhCLEdBQVMsR0FJeEI3cUIsS0FBS3FzQyxZQUlIcnNDLEtBQUtzSixRQUFRMGhCLGVBQWdCLENBQy9CLElBQUl0VCxFQUFTMVgsS0FBS3NULFNBQVNvRSxTQUMzQjFqQixJQUFFLGNBQWNvb0IsUUFBUSxDQUFFNk8sVUFBV3ZULEVBQU9DLElBQU0zWCxLQUFLc0osUUFBUTRoQixzQkFBdUJsckIsS0FBS3NKLFFBQVE2aEIsb0JBQ3JHLENBTUFuckIsS0FBS3NULFNBQVNiLFFBQVEsbUJBQW9CLENBQUNxWSxFQUFPRCxHQUNwRCxHQUlFN3FCLEtBQUtzSixRQUFROGhCLFVBQ2ZwckIsS0FBSzRxQixpQkFHUDVxQixLQUFLK2tCLFVBRUwva0IsS0FBS21xQixpQkFBa0IsQ0FDekIsQ0FNQXBGLFVBQ0Uva0IsS0FBS3NzQyxpQkFDTHRzQyxLQUFLdXNDLG1CQUNMdnNDLEtBQUt3c0Msb0JBQXNCLEtBRXZCeHNDLEtBQUtzSixRQUFRMmlDLGNBQ2Zqc0MsS0FBS3dzQyxvQkFBc0J4c0MsS0FBS2tzQyxXQUFXOThCLEtBQUtwUCxNQUVoRGhNLElBQUU2RixRQUFRdEYsR0FBRyx3QkFBeUJ5TCxLQUFLd3NDLHNCQUcxQ3hzQyxLQUFLc0osUUFBUThoQixVQUNkcDNCLElBQUU2RixRQUFRdEYsR0FBRyxhQUFjeUwsS0FBSzRxQixlQUVwQyxDQU1BMmhCLG1CQUNFLElBQUl6NEIsRUFBUTlULEtBRVpBLEtBQUtzVCxTQUNGa0csSUFBSSxpQkFDSmpsQixHQUFHLGdCQUFrQixJQUFHeUwsS0FBS3NKLFFBQVF5aUMsYUFBYSxTQUFTdjNDLEdBQzFEQSxFQUFFQyxpQkFDRnFmLEVBQU0yNEIsaUJBQWlCejRDLElBQUVnTSxNQUMzQixHQUNKLENBTUFzc0MsaUJBQ0UsSUFBSXg0QixFQUFROVQsS0FFWkEsS0FBSzhyQyxXQUFXdHlCLElBQUksbUJBQW1CamxCLEdBQUcsbUJBQW1CLFNBQVNDLEdBQ3BFLEdBQWdCLElBQVpBLEVBQUVxVixNQUFOLENBR0EsSUFFRTBqQixFQUNBQyxFQUhFbGEsRUFBV3RmLElBQUVnTSxNQUNmeXRCLEVBQVluYSxFQUFTcUQsT0FBTyxNQUFNeFYsU0FBUyxNQUk3Q3NzQixFQUFVNVosTUFBSyxTQUFTM0ksR0FDbEJsWCxJQUFFZ00sTUFBTTRSLEdBQUcwQixLQUNUUSxFQUFNeEssUUFBUW9qQyxZQUNoQm5mLEVBQXFCLElBQU5yaUIsRUFBVXVpQixFQUFVaEMsT0FBU2dDLEVBQVU3UixHQUFHMVEsRUFBRSxHQUMzRHNpQixFQUFldGlCLElBQU11aUIsRUFBVW41QixPQUFRLEVBQUltNUIsRUFBVXJOLFFBQVVxTixFQUFVN1IsR0FBRzFRLEVBQUUsS0FFOUVxaUIsRUFBZUUsRUFBVTdSLEdBQUd4aUIsS0FBSzJHLElBQUksRUFBR21MLEVBQUUsSUFDMUNzaUIsRUFBZUMsRUFBVTdSLEdBQUd4aUIsS0FBS2dmLElBQUlsTixFQUFFLEVBQUd1aUIsRUFBVW41QixPQUFPLEtBSWpFLElBR0FnbUIsRUFBU0ssVUFBVW5tQixFQUFHLE9BQVEsQ0FDNUJtNUIsS0FBTSxXQUNKcmEsRUFBUzljLEtBQUssZ0JBQWdCdkIsUUFDOUI2ZSxFQUFNMjRCLGlCQUFpQm41QixFQUN6QixFQUNBa1ksU0FBVSxXQUNSK0IsRUFBYS8yQixLQUFLLGdCQUFnQnZCLFFBQ2xDNmUsRUFBTTI0QixpQkFBaUJsZixFQUN6QixFQUNBNWIsS0FBTSxXQUNKNmIsRUFBYWgzQixLQUFLLGdCQUFnQnZCLFFBQ2xDNmUsRUFBTTI0QixpQkFBaUJqZixFQUN6QixFQUNBcFMsUUFBUyxXQUNQNW1CLEVBQUVDLGdCQUNKLEdBckN1QixDQXVDM0IsR0FDRixDQVNBZzRDLGlCQUFpQnRwQixFQUFTd3BCLEdBR3hCLEdBQUl4cEIsRUFBUXh1QixTQUFVLEdBQUVxTCxLQUFLc0osUUFBUTBpQyxtQkFDOUJoc0MsS0FBS3NKLFFBQVFzakMsZ0JBQ1o1c0MsS0FBS3FzQyxnQkFGYixDQU9BLElBQUlRLEVBQVU3c0MsS0FBS3NULFNBQ2I5YyxLQUFNLElBQUd3SixLQUFLc0osUUFBUXlpQyxhQUFhL3JDLEtBQUtzSixRQUFRMGlDLG1CQUNoRGMsRUFBVzNwQixFQUFRM3NCLEtBQUssZ0JBQ3hCMUIsRUFBU2c0QyxFQUFTejRDLEtBQUssb0JBQ3ZCa1EsRUFBU3pQLEdBQVVBLEVBQU9SLE9BQVUsSUFBR1EsSUFBV2c0QyxFQUFTLEdBQUd6b0MsS0FDOUQwb0MsRUFBaUIvc0MsS0FBS3FyQixZQUFZNzBCLEtBQUsrTixHQUc3Q3ZFLEtBQUtndEMsYUFBYUgsR0FHbEI3c0MsS0FBSzhyQixTQUFTM0ksR0FHVm5qQixLQUFLc0osUUFBUThoQixXQUFhdWhCLElBQ3hCM3NDLEtBQUtzSixRQUFRc2lCLGNBQ2YxbkIsUUFBUTJuQixVQUFVLENBQUMsRUFBRyxHQUFJdG5CLEdBRTFCTCxRQUFRQyxhQUFhLENBQUMsRUFBRyxHQUFJSSxJQVFqQ3ZFLEtBQUtzVCxTQUFTYixRQUFRLGlCQUFrQixDQUFDMFEsRUFBUzRwQixJQUdsREEsRUFBZXYyQyxLQUFLLGlCQUFpQmljLFFBQVEsc0JBL0I3QyxDQWdDRixDQU9BcVosU0FBUzNJLEdBQ0wsSUFBSTJwQixFQUFXM3BCLEVBQVEzc0IsS0FBSyxnQkFDeEI2TixFQUFPeW9DLEVBQVN6NEMsS0FBSyxxQkFBdUJ5NEMsRUFBUyxHQUFHem9DLEtBQUt1TSxNQUFNLEdBQ25FbThCLEVBQWlCL3NDLEtBQUtxckIsWUFBWTcwQixLQUFNLElBQUc2TixLQUUvQzhlLEVBQVF2dUIsU0FBVSxHQUFFb0wsS0FBS3NKLFFBQVEwaUMsbUJBRWpDYyxFQUFTejRDLEtBQUssQ0FDWixnQkFBaUIsT0FDakIsU0FBWSxNQUdkMDRDLEVBQ0duNEMsU0FBVSxHQUFFb0wsS0FBS3NKLFFBQVEyakMsb0JBQW9CejVCLFdBQVcsY0FDL0QsQ0FPQXc1QixhQUFhN3BCLEdBQ1gsSUFBSStwQixFQUFnQi9wQixFQUNqQi91QixZQUFhLEdBQUU0TCxLQUFLc0osUUFBUTBpQyxtQkFDNUJ4MUMsS0FBSyxnQkFDTG5DLEtBQUssQ0FDSixnQkFBaUIsUUFDakIsVUFBYSxJQUdqQkwsSUFBRyxJQUFHazVDLEVBQWM3NEMsS0FBSyxvQkFDdEJELFlBQWEsR0FBRTRMLEtBQUtzSixRQUFRMmpDLG9CQUM1QjU0QyxLQUFLLENBQUUsY0FBZSxRQUMzQixDQU9BZzRDLFlBQ0UsSUFBSWMsRUFBYW50QyxLQUFLc1QsU0FBUzljLEtBQU0sSUFBR3dKLEtBQUtzSixRQUFReWlDLGFBQWEvckMsS0FBS3NKLFFBQVEwaUMsbUJBRTNFbUIsRUFBVzc0QyxTQUNiMEwsS0FBS2d0QyxhQUFhRyxHQU1sQm50QyxLQUFLc1QsU0FBU2IsUUFBUSxtQkFBb0IsQ0FBQzA2QixJQUUvQyxDQVFBZixVQUFVN2dDLEVBQU1vaEMsR0FDZCxJQUFJUyxFQUFPQyxHQUdURCxFQURrQixpQkFBVDdoQyxFQUNEQSxFQUFLLEdBQUcvRyxHQUVSK0csR0FHQXhCLFFBQVEsS0FBTyxFQUN2QnNqQyxFQUFhLElBQUdELEtBRWhCQyxFQUFZRCxFQUNaQSxFQUFRQSxFQUFNeDhCLE1BQU0sSUFHdEIsSUFBSXVTLEVBQVVuakIsS0FBSzhyQyxXQUFXcjhCLElBQUssV0FBVTQ5QiwwQkFBa0NELE9BQVdodEIsUUFFMUZwZ0IsS0FBS3lzQyxpQkFBaUJ0cEIsRUFBU3dwQixFQUNqQyxDQVVBVCxhQUNFLElBQUluc0MsRUFBTSxFQUNOK1QsRUFBUTlULEtBRVBBLEtBQUtxckIsYUFJVnJyQixLQUFLcXJCLFlBQ0Y3MEIsS0FBTSxJQUFHd0osS0FBS3NKLFFBQVFna0MsY0FDdEIzckMsSUFBSSxhQUFjLElBQ2xCa1MsTUFBSyxXQUVKLElBQUl6ZCxFQUFRcEMsSUFBRWdNLE1BQ1ZuSyxFQUFXTyxFQUFNekIsU0FBVSxHQUFFbWYsRUFBTXhLLFFBQVEyakMsb0JBRTFDcDNDLEdBQ0hPLEVBQU11TCxJQUFJLENBQUMsV0FBYyxTQUFVLFFBQVcsVUFHaEQsSUFBSXJGLEVBQU8wRCxLQUFLdVksd0JBQXdCL1ksT0FFbkMzSixHQUNITyxFQUFNdUwsSUFBSSxDQUNSLFdBQWMsR0FDZCxRQUFXLEtBSWY1QixFQUFNekQsRUFBT3lELEVBQU16RCxFQUFPeUQsQ0FDNUIsSUFDQzRCLElBQUksYUFBZSxHQUFFNUIsTUFDMUIsQ0FNQXFrQixXQUNFcGtCLEtBQUtzVCxTQUNGOWMsS0FBTSxJQUFHd0osS0FBS3NKLFFBQVF5aUMsYUFDdEJ2eUIsSUFBSSxZQUFZMEQsT0FBT2xlLE1BQ3ZCeEksS0FBTSxJQUFHd0osS0FBS3NKLFFBQVFna0MsY0FDdEJwd0IsT0FFQ2xkLEtBQUtzSixRQUFRMmlDLGFBQ2lCLE1BQTVCanNDLEtBQUt3c0MscUJBQ054NEMsSUFBRTZGLFFBQVEyZixJQUFJLHdCQUF5QnhaLEtBQUt3c0MscUJBSTdDeHNDLEtBQUtzSixRQUFROGhCLFVBQ2ZwM0IsSUFBRTZGLFFBQVEyZixJQUFJLGFBQWN4WixLQUFLNHFCLGdCQUcvQjVxQixLQUFLazZCLGdCQUNQbG1DLElBQUU2RixRQUFRMmYsSUFBSXhaLEtBQUtrNkIsZUFFdkIsRUFHRjJSLEdBQUt2bkIsU0FBVyxDQVFkOEcsVUFBVSxFQVFWSixnQkFBZ0IsRUFRaEJHLG9CQUFxQixJQVFyQkQscUJBQXNCLEVBUXRCVSxlQUFlLEVBU2ZrRixXQUFXLEVBUVg0YixZQUFZLEVBUVpULGFBQWEsRUFRYlcsZ0JBQWdCLEVBUWhCYixVQUFXLGFBUVhDLGdCQUFpQixZQVFqQnNCLFdBQVksYUFRWkwsaUJBQWtCLGFDdGhCcEIsTUFBTU0sV0FBZ0J2cEIsRUFTcEJDLE9BQU85c0IsRUFBU21TLEdBQ2R0SixLQUFLc1QsU0FBV25jLEVBQ2hCNkksS0FBS3NKLFFBQVV0VixJQUFBQSxPQUFTLENBQUMsRUFBR3U1QyxHQUFRanBCLFNBQVVudEIsRUFBUTBFLE9BQVF5TixHQUM5RHRKLEtBQUt4QyxVQUFZLEdBQ2pCd0MsS0FBS3hDLFVBQVksVUFHakJ3akIsRUFBU3hCLEtBQUt4ckIsS0FFZGdNLEtBQUtzUSxRQUNMdFEsS0FBSytrQixTQUNQLENBT0F6VSxRQUVFLElBR0luVyxFQUhBcUssRUFBS3hFLEtBQUtzVCxTQUFTLEdBQUc5TyxHQUN4QjIyQixFQUFZbm5DLElBQUcsZ0JBQWV3USxzQkFBdUJBLHVCQUF3QkEsT0FJL0UsR0FBSXhFLEtBQUtzSixRQUFROFMsUUFDZmppQixFQUFRNkYsS0FBS3NKLFFBQVE4UyxRQUFRdkwsTUFBTSxLQUVuQzdRLEtBQUs2aEMsWUFBYzFuQyxFQUFNLEdBQ3pCNkYsS0FBSzhoQyxhQUFlM25DLEVBQU0sSUFBTSxLQUdoQ2doQyxFQUFVOW1DLEtBQUssaUJBQWtCMkwsS0FBS3NULFNBQVMxQixHQUFHLGdCQUcvQyxDQUVILEdBQXFCLGlCQURyQnpYLEVBQVE2RixLQUFLc0osUUFBUWtrQyxXQUNhcnpDLEVBQU03RixPQUN0QyxNQUFNLElBQUlxSCxNQUFPLHNFQUFxRXhCLE1BR3hGNkYsS0FBS3hDLFVBQXlCLE1BQWJyRCxFQUFNLEdBQWFBLEVBQU15VyxNQUFNLEdBQUt6VyxFQUdyRGdoQyxFQUFVOW1DLEtBQUssZ0JBQWlCMkwsS0FBS3NULFNBQVMzZSxTQUFTcUwsS0FBS3hDLFdBQzlELENBR0EyOUIsRUFBVXRuQixNQUFLLENBQUNrZCxFQUFPdGUsS0FDckIsTUFBTXhlLEVBQVdELElBQUV5ZSxHQUNiZzdCLEVBQVd4NUMsRUFBU0ksS0FBSyxrQkFBb0IsR0FFaEMsSUFBSXkwQixPQUFRLE1BQUszYSxFQUFhM0osU0FBVXNSLEtBQUsyM0IsSUFDL0N4NUMsRUFBU0ksS0FBSyxnQkFBaUJvNUMsRUFBWSxHQUFFQSxLQUFZanBDLElBQU9BLEVBQUcsR0FFeEYsQ0FPQXVnQixVQUNFL2tCLEtBQUtzVCxTQUFTa0csSUFBSSxxQkFBcUJqbEIsR0FBRyxvQkFBcUJ5TCxLQUFLL0osT0FBT21aLEtBQUtwUCxNQUNsRixDQVFBL0osU0FDRStKLEtBQU1BLEtBQUtzSixRQUFROFMsUUFBVSxpQkFBbUIsaUJBQ2xELENBRUFzeEIsZUFDRTF0QyxLQUFLc1QsU0FBUzdSLFlBQVl6QixLQUFLeEMsV0FFL0IsSUFBSTI0QixFQUFPbjJCLEtBQUtzVCxTQUFTM2UsU0FBU3FMLEtBQUt4QyxXQUNuQzI0QixFQUtGbjJCLEtBQUtzVCxTQUFTYixRQUFRLGlCQU90QnpTLEtBQUtzVCxTQUFTYixRQUFRLGtCQUd4QnpTLEtBQUsydEMsWUFBWXhYLEdBQ2pCbjJCLEtBQUtzVCxTQUFTOWMsS0FBSyxpQkFBaUJpYyxRQUFRLHNCQUM5QyxDQUVBbTdCLGlCQUNFLElBQUk5NUIsRUFBUTlULEtBRVJBLEtBQUtzVCxTQUFTMUIsR0FBRyxXQUNuQnFLLEVBQU9DLFVBQVVsYyxLQUFLc1QsU0FBVXRULEtBQUs2aEMsYUFBYSxXQUNoRC90QixFQUFNNjVCLGFBQVksR0FDbEIzdEMsS0FBS3lTLFFBQVEsaUJBQ2J6UyxLQUFLeEosS0FBSyxpQkFBaUJpYyxRQUFRLHNCQUNyQyxJQUdBd0osRUFBT0ksV0FBV3JjLEtBQUtzVCxTQUFVdFQsS0FBSzhoQyxjQUFjLFdBQ2xEaHVCLEVBQU02NUIsYUFBWSxHQUNsQjN0QyxLQUFLeVMsUUFBUSxrQkFDYnpTLEtBQUt4SixLQUFLLGlCQUFpQmljLFFBQVEsc0JBQ3JDLEdBRUosQ0FFQWs3QixZQUFZeFgsR0FDVixJQUFJM3hCLEVBQUt4RSxLQUFLc1QsU0FBUyxHQUFHOU8sR0FDMUJ4USxJQUFHLGVBQWN3USxxQkFBc0JBLHNCQUF1QkEsT0FDM0RuUSxLQUFLLENBQ0osa0JBQWlCOGhDLEdBRXZCLENBTUEvUixXQUNFcGtCLEtBQUtzVCxTQUFTa0csSUFBSSxjQUNwQixFQUdGK3pCLEdBQVFqcEIsU0FBVyxDQU1qQmtwQixhQUFTMXBDLEVBT1RzWSxTQUFTLEdDNUpYLE1BQU15eEIsV0FBZ0JsYyxHQVNwQjFOLE9BQU85c0IsRUFBU21TLEdBQ2R0SixLQUFLc1QsU0FBV25jLEVBQ2hCNkksS0FBS3NKLFFBQVV0VixJQUFBQSxPQUFTLENBQUMsRUFBRzY1QyxHQUFRdnBCLFNBQVV0a0IsS0FBS3NULFNBQVN6WCxPQUFReU4sR0FDcEV0SixLQUFLeEMsVUFBWSxVQUVqQndDLEtBQUtuSyxVQUFXLEVBQ2hCbUssS0FBSzh0QyxTQUFVLEVBR2Y5c0IsRUFBU3hCLEtBQUt4ckIsS0FFZGdNLEtBQUtzUSxPQUNQLENBTUFBLFFBQ0VGLEVBQVdFLFFBQ1gsSUFBSTRXLEVBQVNsbkIsS0FBS3NULFNBQVNqZixLQUFLLHFCQUF1QnlaLEVBQVksRUFBRyxXQUV0RTlOLEtBQUtzSixRQUFReWtDLFFBQVUvdEMsS0FBS3NKLFFBQVF5a0MsU0FBVy90QyxLQUFLc1QsU0FBU2pmLEtBQUssU0FDbEUyTCxLQUFLZ3VDLFNBQVdodUMsS0FBS3NKLFFBQVEwa0MsU0FBV2g2QyxJQUFFZ00sS0FBS3NKLFFBQVEwa0MsVUFBWWh1QyxLQUFLaXVDLGVBQWUvbUIsR0FFbkZsbkIsS0FBS3NKLFFBQVE0a0MsVUFDZmx1QyxLQUFLZ3VDLFNBQVN4OUIsU0FBUzNiLFNBQVNvTixNQUM3QjVGLEtBQUsyRCxLQUFLc0osUUFBUXlrQyxTQUNsQjd3QixPQUVIbGQsS0FBS2d1QyxTQUFTeDlCLFNBQVMzYixTQUFTb04sTUFDN0IvQyxLQUFLYyxLQUFLc0osUUFBUXlrQyxTQUNsQjd3QixPQUdMbGQsS0FBS3NULFNBQVNqZixLQUFLLENBQ2pCLE1BQVMsR0FDVCxtQkFBb0I2eUIsRUFDcEIsZ0JBQWlCQSxFQUNqQixjQUFlQSxFQUNmLGNBQWVBLElBQ2R0eUIsU0FBU29MLEtBQUtzSixRQUFRNmtDLGNBRXpCN2EsTUFBTWhqQixRQUNOdFEsS0FBSytrQixTQUNQLENBRUE4TSxzQkFFRSxJQUFJdWMsRUFBbUJwdUMsS0FBS3NULFNBQVMsR0FBRzlWLFVBQ3BDd0MsS0FBS3NULFNBQVMsYUFBYys2QixhQUM1QkQsRUFBbUJBLEVBQWlCRSxTQUV4QyxJQUFJOWhDLEVBQVc0aEMsRUFBaUIzaEMsTUFBTSxnQ0FDdEMsT0FBT0QsRUFBV0EsRUFBUyxHQUFLLEtBQ2xDLENBRUFzbEIsdUJBQ0UsTUFBTyxRQUNULENBRUFVLGNBQ0UsTUFBcUIsU0FBbEJ4eUIsS0FBS3dNLFVBQXlDLFVBQWxCeE0sS0FBS3dNLFNBQzNCeE0sS0FBS3NKLFFBQVE4TixRQUFVcFgsS0FBS3NKLFFBQVFpbEMsYUFFcEN2dUMsS0FBS3NKLFFBQVE4TixPQUV4QixDQUVBbWIsY0FDRSxNQUFxQixRQUFsQnZ5QixLQUFLd00sVUFBd0MsV0FBbEJ4TSxLQUFLd00sU0FDMUJ4TSxLQUFLc0osUUFBUTZOLFFBQVVuWCxLQUFLc0osUUFBUWtsQyxjQUVwQ3h1QyxLQUFLc0osUUFBUTZOLE9BRXhCLENBTUE4MkIsZUFBZXpwQyxHQUNiLElBQUlpcUMsRUFBb0IsR0FBRXp1QyxLQUFLc0osUUFBUW9sQyxnQkFBZ0IxdUMsS0FBS3NKLFFBQVFtbEMsa0JBQW1CM3lDLE9BUXZGLE9BUGlCOUgsSUFBRSxlQUFlWSxTQUFTNjVDLEdBQWlCcDZDLEtBQUssQ0FDL0QsS0FBUSxVQUNSLGVBQWUsRUFDZixrQkFBa0IsRUFDbEIsaUJBQWlCLEVBQ2pCLEdBQU1tUSxHQUdWLENBT0FpdUIsZUFDRWEsTUFBTWIsYUFBYXp5QixLQUFLc1QsU0FBVXRULEtBQUtndUMsU0FDekMsQ0FRQWh4QixPQUNFLEdBQTRCLFFBQXhCaGQsS0FBS3NKLFFBQVFxbEMsU0FBcUJ2K0IsRUFBV3dCLEdBQUc1UixLQUFLc0osUUFBUXFsQyxRQUUvRCxPQUFPLEVBSVQzdUMsS0FBS2d1QyxTQUFTcnNDLElBQUksYUFBYyxVQUFVcWIsT0FDMUNoZCxLQUFLeXlCLGVBQ0x6eUIsS0FBS2d1QyxTQUFTNTVDLFlBQVkseUJBQXlCUSxTQUFTb0wsS0FBS3dNLFVBQ2pFeE0sS0FBS2d1QyxTQUFTNTVDLFlBQVksOERBQThEUSxTQUFTLFNBQVdvTCxLQUFLa1gsV0FNakhsWCxLQUFLc1QsU0FBU2IsUUFBUSxxQkFBc0J6UyxLQUFLZ3VDLFNBQVMzNUMsS0FBSyxPQUcvRDJMLEtBQUtndUMsU0FBUzM1QyxLQUFLLENBQ2pCLGtCQUFrQixFQUNsQixlQUFlLElBZkwyTCxLQWlCTm5LLFVBQVcsRUFDakJtSyxLQUFLZ3VDLFNBQVN0aEIsT0FBT3hQLE9BQU92YixJQUFJLGFBQWMsSUFBSWl0QyxPQUFPNXVDLEtBQUtzSixRQUFRdWxDLGdCQUFnQixXQUNwRixJQU1GN3VDLEtBQUtzVCxTQUFTYixRQUFRLGtCQUN4QixDQU9BeUssT0FDRSxJQUFJcEosRUFBUTlULEtBQ1pBLEtBQUtndUMsU0FBU3RoQixPQUFPcjRCLEtBQUssQ0FDeEIsZUFBZSxFQUNmLGtCQUFrQixJQUNqQnV0QixRQUFRNWhCLEtBQUtzSixRQUFRd2xDLGlCQUFpQixXQUN2Q2g3QixFQUFNamUsVUFBVyxFQUNqQmllLEVBQU1nNkIsU0FBVSxDQUNsQixJQUtBOXRDLEtBQUtzVCxTQUFTYixRQUFRLGtCQUN4QixDQU9Bc1MsVUFDRSxNQUFNalIsRUFBUTlULEtBQ1J3ekIsRUFBVyxpQkFBa0IzNUIsYUFBMEMsSUFBeEJBLE9BQU80NUIsYUFDNUQsSUFBSXNiLEdBQVUsRUFHVnZiLEdBQVl4ekIsS0FBS3NKLFFBQVEwbEMsa0JBRXhCaHZDLEtBQUtzSixRQUFRMHJCLGNBQ2hCaDFCLEtBQUtzVCxTQUNKL2UsR0FBRyx5QkFBeUIsV0FDdEJ1ZixFQUFNamUsV0FDVGllLEVBQU1nZ0IsUUFBVXoxQixZQUFXLFdBQ3pCeVYsRUFBTWtKLE1BQ1IsR0FBR2xKLEVBQU14SyxRQUFReXFCLFlBRXJCLElBQ0N4L0IsR0FBRyx3QkFBeUJ1YSxHQUFxQixXQUNoRDFRLGFBQWEwVixFQUFNZ2dCLFdBQ2RpYixHQUFZajdCLEVBQU1nNkIsVUFBWWg2QixFQUFNeEssUUFBUW9yQixZQUMvQzVnQixFQUFNb0osTUFFVixLQUdFc1csR0FDRnh6QixLQUFLc1QsU0FDSi9lLEdBQUcsc0NBQXNDLFdBQ3hDdWYsRUFBTWplLFNBQVdpZSxFQUFNb0osT0FBU3BKLEVBQU1rSixNQUN4QyxJQUdFaGQsS0FBS3NKLFFBQVFvckIsVUFDZjEwQixLQUFLc1QsU0FBUy9lLEdBQUcsd0JBQXdCLFdBQ25DdWYsRUFBTWc2QixVQUlSaDZCLEVBQU1nNkIsU0FBVSxHQUNYaDZCLEVBQU14SyxRQUFRMHJCLGNBQWlCbGhCLEVBQU1SLFNBQVNqZixLQUFLLGFBQWlCeWYsRUFBTWplLFVBQzdFaWUsRUFBTWtKLE9BR1osSUFFQWhkLEtBQUtzVCxTQUFTL2UsR0FBRyx3QkFBd0IsV0FDdkN1ZixFQUFNZzZCLFNBQVUsQ0FDbEIsSUFHRjl0QyxLQUFLc1QsU0FBUy9lLEdBQUcsQ0FHZixtQkFBb0J5TCxLQUFLa2QsS0FBSzlOLEtBQUtwUCxRQUdyQ0EsS0FBS3NULFNBQ0YvZSxHQUFHLG9CQUFvQixXQUV0QixHQURBdzZDLEdBQVUsRUFDTmo3QixFQUFNZzZCLFFBSVIsT0FESWg2QixFQUFNeEssUUFBUW9yQixZQUFhcWEsR0FBVSxJQUNsQyxFQUVQajdCLEVBQU1rSixNQUVWLElBRUN6b0IsR0FBRyx1QkFBdUIsV0FDekJ3NkMsR0FBVSxFQUNWajdCLEVBQU1nNkIsU0FBVSxFQUNoQmg2QixFQUFNb0osTUFDUixJQUVDM29CLEdBQUcsdUJBQXVCLFdBQ3JCdWYsRUFBTWplLFVBQ1JpZSxFQUFNMmUsY0FFVixJQUNKLENBTUF4OEIsU0FDTStKLEtBQUtuSyxTQUNQbUssS0FBS2tkLE9BRUxsZCxLQUFLZ2QsTUFFVCxDQU1Bb0gsV0FDRXBrQixLQUFLc1QsU0FBU2pmLEtBQUssUUFBUzJMLEtBQUtndUMsU0FBUzl1QyxRQUM1QnNhLElBQUksMkJBQ0pwbEIsWUFBWTRMLEtBQUtzSixRQUFRNmtDLGNBQ3pCLzVDLFlBQVkseUJBQ1pvZixXQUFXLDBGQUV6QnhULEtBQUtndUMsU0FBU3J6QyxRQUNoQixFQUdGa3pDLEdBQVF2cEIsU0FBVyxDQU9qQnlQLFdBQVksSUFPWjhhLGVBQWdCLElBT2hCQyxnQkFBaUIsSUFPakI5WixjQUFjLEVBU2RnYSxpQkFBaUIsRUFPakJQLGdCQUFpQixHQU9qQkMsYUFBYyxVQU9kUCxhQUFjLFVBT2RRLE9BQVEsUUFPUlgsU0FBVSxHQU9WRCxRQUFTLEdBQ1RrQixlQUFnQixnQkFPaEJ2YSxXQUFXLEVBT1hsb0IsU0FBVSxPQU9WMEssVUFBVyxPQVFYeWIsY0FBYyxFQVVkSSxvQkFBb0IsRUFPcEI1YixRQUFTLEVBT1RDLFFBQVMsRUFPVG8zQixjQUFlLEdBT2ZELGFBQWMsR0FRZEwsV0FBVyxHQzliYixJQUFJdE4sR0FBYyxDQUNoQnRyQyxLQUFNLENBQ0p3ckMsU0FBVSxPQUNWaHVCLE9BQVUrNEIsR0FDVmxlLEtBQVVBLENBQUM3YSxFQUFRaGUsSUFBV2dlLEVBQU9zNUIsVUFBVXQzQyxHQUMvQzg0QixNQUFVLEtBQ1YzM0IsT0FBVSxNQUVaK3FDLFVBQVcsQ0FDVEYsU0FBVSxZQUNWaHVCLE9BQVVvWCxFQUNWeUQsS0FBVUEsQ0FBQzdhLEVBQVFoZSxJQUFXZ2UsRUFBTzZZLEtBQUszM0IsSUFBRWMsSUFDNUM4NEIsTUFBVUEsQ0FBQzlhLEVBQVFoZSxJQUFXZ2UsRUFBTzRZLEdBQUcxM0IsSUFBRWMsSUFDMUNtQixPQUFVQSxDQUFDNmMsRUFBUWhlLElBQVdnZSxFQUFPN2MsT0FBT2pDLElBQUVjLE1BYWxELE1BQU1vNkMsV0FBZ0NsckIsRUFDcEM1USxZQUFZamMsRUFBU21TLEdBRW5CLE9BREFncUIsTUFBTW44QixFQUFTbVMsR0FDUnRKLEtBQUtzSixRQUFROEssUUFBVXBVLEtBQUttdkMsYUFBZW52QyxJQUNwRCxDQVVBaWtCLE9BQU85c0IsRUFBU21TLEdBQ2R0SixLQUFLc1QsU0FBV3RmLElBQUVtRCxHQUNsQjZJLEtBQUtzVCxTQUFTelgsS0FBSyxlQUFnQm1FLE1BQ25DQSxLQUFLc0osUUFBVXRWLElBQUFBLE9BQVMsQ0FBQyxFQUFHazdDLEdBQXdCNXFCLFNBQVV0a0IsS0FBS3NULFNBQVN6WCxPQUFReU4sR0FFcEZ0SixLQUFLKzNCLE1BQVEvM0IsS0FBS3NULFNBQVN6WCxLQUFLLDZCQUNoQ21FLEtBQUtraEMsVUFBWSxLQUNqQmxoQyxLQUFLb3ZDLFlBQWMsS0FDbkJwdkMsS0FBS21oQyxjQUFnQixLQUNyQm5oQyxLQUFLeEMsVUFBWSwwQkFDWndDLEtBQUtzVCxTQUFTamYsS0FBSyxPQUN0QjJMLEtBQUtzVCxTQUFTamYsS0FBSyxLQUFLeVosRUFBWSxFQUFHLDRCQUd6QzlOLEtBQUtzUSxRQUNMdFEsS0FBSytrQixTQUNQLENBT0F6VSxRQUlFLEdBSEFGLEVBQVdFLFFBR2UsaUJBQWZ0USxLQUFLKzNCLE1BQW9CLENBQ2xDLElBQUlxSixFQUFZLENBQUMsRUFHYnJKLEVBQVEvM0IsS0FBSyszQixNQUFNbG5CLE1BQU0sS0FHN0IsSUFBSyxJQUFJM0YsRUFBSSxFQUFHQSxFQUFJNnNCLEVBQU16akMsT0FBUTRXLElBQUssQ0FDckMsSUFBSWt0QixFQUFPTCxFQUFNN3NCLEdBQUcyRixNQUFNLEtBQ3RCd3dCLEVBQVdqSixFQUFLOWpDLE9BQVMsRUFBSThqQyxFQUFLLEdBQUssUUFDdkNrSixFQUFhbEosRUFBSzlqQyxPQUFTLEVBQUk4akMsRUFBSyxHQUFLQSxFQUFLLEdBRWxCLE9BQTVCd0ksR0FBWVUsS0FDZEYsRUFBVUMsR0FBWVQsR0FBWVUsR0FFdEMsQ0FFQXRoQyxLQUFLKzNCLE1BQVFxSixDQUNmLENBRUFwaEMsS0FBS3F2QyxpQkFFQXI3QyxJQUFBQSxjQUFnQmdNLEtBQUsrM0IsUUFDeEIvM0IsS0FBS3VoQyxvQkFFVCxDQUVBOE4saUJBRUUsSUFBSXY3QixFQUFROVQsS0FFWixJQUFLLElBQUloTCxLQURUOGUsRUFBTXc3QixXQUFhLENBQUMsRUFDSjFPLEdBQ2QsR0FBSUEsR0FBWWh6QixlQUFlNVksR0FBTSxDQUNuQyxJQUFJMFksRUFBTWt6QixHQUFZNXJDLEdBQ3RCLElBQ0UsSUFBSXU2QyxFQUFjdjdDLElBQUUsYUFDaEJ3N0MsRUFBWSxJQUFJOWhDLEVBQUlvRixPQUFPeThCLEVBQVl6N0IsRUFBTXhLLFNBQ2pELElBQUssSUFBSW1tQyxLQUFVRCxFQUFVbG1DLFFBQzNCLEdBQUlrbUMsRUFBVWxtQyxRQUFRc0UsZUFBZTZoQyxJQUFzQixhQUFYQSxFQUF1QixDQUNyRSxJQUFJQyxFQUFTRixFQUFVbG1DLFFBQVFtbUMsR0FDL0IzN0IsRUFBTXc3QixXQUFXRyxHQUFVQyxDQUM3QixDQUVGRixFQUFVcnJCLFNBQ1osQ0FDQSxNQUFNM3ZCLEdBQ0oyZixRQUFRNEcsS0FBTSxvREFBbUR2bUIsSUFDbkUsQ0FDRixDQUVKLENBT0F1d0IsVUFDRS9rQixLQUFLMnZDLDRCQUE4QjN2QyxLQUFLdWhDLG1CQUFtQm55QixLQUFLcFAsTUFDaEVoTSxJQUFFNkYsUUFBUXRGLEdBQUcsd0JBQXlCeUwsS0FBSzJ2Qyw0QkFDN0MsQ0FPQXBPLHFCQUNFLElBQUlDLEVBQVcxdEIsRUFBUTlULEtBRXZCaE0sSUFBQUEsS0FBT2dNLEtBQUsrM0IsT0FBTyxTQUFTL2lDLEdBQ3RCb2IsRUFBV2tCLFFBQVF0YyxLQUNyQndzQyxFQUFZeHNDLEVBRWhCLElBR0t3c0MsSUFHRHhoQyxLQUFLbWhDLHlCQUF5Qm5oQyxLQUFLKzNCLE1BQU15SixHQUFXMXVCLFNBR3hEOWUsSUFBQUEsS0FBTzRzQyxJQUFhLFNBQVM1ckMsRUFBSytCLEdBQ2hDK2MsRUFBTVIsU0FBU2xmLFlBQVkyQyxFQUFNK3BDLFNBQ25DLElBR0E5Z0MsS0FBS3NULFNBQVMxZSxTQUFTb0wsS0FBSyszQixNQUFNeUosR0FBV1YsVUFHekM5Z0MsS0FBS21oQyxpQkFFRm5oQyxLQUFLbWhDLGNBQWM3dEIsU0FBU3pYLEtBQUssYUFBZW1FLEtBQUttdkMsYUFBYW52QyxLQUFLbWhDLGNBQWM3dEIsU0FBU3pYLEtBQUssV0FBV21FLEtBQUttdkMsYUFDeEhudkMsS0FBS21oQyxjQUFjaGQsV0FFckJua0IsS0FBSzR2QyxjQUFjNXZDLEtBQUsrM0IsTUFBTXlKLEdBQVdWLFVBQ3pDOWdDLEtBQUtvdkMsWUFBY3B2QyxLQUFLKzNCLE1BQU15SixHQUM5QnhoQyxLQUFLbWhDLGNBQWdCLElBQUluaEMsS0FBS292QyxZQUFZdDhCLE9BQU85UyxLQUFLc1QsU0FBVXRULEtBQUtzSixTQUNyRXRKLEtBQUttdkMsWUFBY252QyxLQUFLbWhDLGNBQWM3dEIsU0FBU3pYLEtBQUssYUFFdEQsQ0FFQSt6QyxjQUFjQyxHQUNaLElBQUkvN0IsRUFBUTlULEtBQU04dkMsRUFBYSxZQUMzQkMsRUFBVS83QyxJQUFFLHNCQUFzQmdNLEtBQUtzVCxTQUFTamYsS0FBSyxNQUFNLEtBRS9ELEdBREkwN0MsRUFBUXo3QyxTQUFRdzdDLEVBQWEsUUFDN0JBLElBQWVELEVBQW5CLENBSUEsSUFBSUcsRUFBWWw4QixFQUFNdzdCLFdBQVd2RCxVQUFVajRCLEVBQU13N0IsV0FBV3ZELFVBQVUsYUFDbEVrRSxFQUFZbjhCLEVBQU13N0IsV0FBV2hDLFdBQVd4NUIsRUFBTXc3QixXQUFXaEMsV0FBVyxhQUV4RXR0QyxLQUFLc1QsU0FBU0UsV0FBVyxRQUN6QixJQUFJMDhCLEVBQVdsd0MsS0FBS3NULFNBQVNuUyxTQUFTLElBQUk2dUMsRUFBVSwwQkFBMEI1N0MsWUFBWTQ3QyxHQUFXNTdDLFlBQVksa0JBQWtCb2YsV0FBVyx1QkFDMUkyOEIsRUFBWUQsRUFBUy91QyxTQUFTLEtBQUsvTSxZQUFZLG1CQVduRCxHQVRtQixTQUFmMDdDLEdBQ0ZDLEVBQVVBLEVBQVE1dUMsU0FBUyxJQUFJOHVDLEdBQVc3N0MsWUFBWTY3QyxHQUFXejhCLFdBQVcsUUFBUUEsV0FBVyxlQUFlQSxXQUFXLG9CQUNqSHJTLFNBQVMsS0FBS3FTLFdBQVcsUUFBUUEsV0FBVyxpQkFBaUJBLFdBQVcsaUJBRWhGdThCLEVBQVVHLEVBQVMvdUMsU0FBUyxzQkFBc0IvTSxZQUFZLHFCQUdoRTI3QyxFQUFRcHVDLElBQUksQ0FBQ04sUUFBUSxHQUFHK3VDLFdBQVcsS0FDbkNGLEVBQVN2dUMsSUFBSSxDQUFDTixRQUFRLEdBQUcrdUMsV0FBVyxLQUN0QixjQUFWUCxFQUNGRSxFQUFRbDhCLE1BQUssU0FBUzdlLEVBQUkrQixHQUN4Qi9DLElBQUUrQyxHQUFPeVosU0FBUzAvQixFQUFTN21DLElBQUlyVSxJQUFNSixTQUFTLHFCQUFxQlAsS0FBSyxtQkFBbUIsSUFBSUQsWUFBWSxhQUFhdU4sSUFBSSxDQUFDbkMsT0FBTyxLQUNwSXhMLElBQUUsc0JBQXNCOGYsRUFBTVIsU0FBU2pmLEtBQUssTUFBTSxLQUFLZ0wsTUFBTSw2QkFBNkJ5VSxFQUFNUixTQUFTamYsS0FBSyxNQUFNLFlBQVlnNkIsU0FDaEk2aEIsRUFBU3Q3QyxTQUFTLGtCQUFrQlAsS0FBSyxzQkFBc0IsSUFDL0Q4N0MsRUFBVXY3QyxTQUFTLGtCQUNyQixTQUNLLEdBQWMsU0FBVmk3QyxFQUFrQixDQUMzQixJQUFJUSxFQUFlcjhDLElBQUUsc0JBQXNCOGYsRUFBTVIsU0FBU2pmLEtBQUssTUFBTSxLQUNqRWk4QyxFQUFldDhDLElBQUUscUJBQXFCOGYsRUFBTVIsU0FBU2pmLEtBQUssT0FDMURpOEMsRUFBYWg4QyxRQUNmKzdDLEVBQWVyOEMsSUFBRSxvQ0FBb0M0bkMsWUFBWTBVLEdBQWNqOEMsS0FBSyxvQkFBb0J5ZixFQUFNUixTQUFTamYsS0FBSyxPQUM1SGk4QyxFQUFhMzFDLFVBRWIwMUMsRUFBZXI4QyxJQUFFLG9DQUFvQzRuQyxZQUFZOW5CLEVBQU1SLFVBQVVqZixLQUFLLG9CQUFvQnlmLEVBQU1SLFNBQVNqZixLQUFLLE9BRWhJMDdDLEVBQVFsOEIsTUFBSyxTQUFTN2UsRUFBSStCLEdBQ3hCLElBQUl3NUMsRUFBWXY4QyxJQUFFK0MsR0FBT3laLFNBQVM2L0IsR0FBY3o3QyxTQUFTcTdDLEdBQ3JENXJDLEVBQU84ckMsRUFBVTltQyxJQUFJclUsR0FBS3FQLEtBQUt1TSxNQUFNLEdBQ3JDcE0sRUFBS3hRLElBQUUrQyxHQUFPMUMsS0FBSyxPQUFTeVosRUFBWSxFQUFHLGFBQzNDekosSUFBU0csSUFDRSxLQUFUSCxFQUNGclEsSUFBRStDLEdBQU8xQyxLQUFLLEtBQUtnUSxJQUVuQkEsRUFBT0csRUFDUHhRLElBQUUrQyxHQUFPMUMsS0FBSyxLQUFLZ1EsR0FDbkJyUSxJQUFFbThDLEVBQVU5bUMsSUFBSXJVLElBQU1YLEtBQUssT0FBT0wsSUFBRW04QyxFQUFVOW1DLElBQUlyVSxJQUFNWCxLQUFLLFFBQVFrTixRQUFRLElBQUksSUFBSSxJQUFJOEMsS0FHOUVyUSxJQUFFazhDLEVBQVM3bUMsSUFBSXJVLElBQU1MLFNBQVMsY0FFM0M0N0MsRUFBVTM3QyxTQUFTLFlBRXZCLElBQ0FzN0MsRUFBU3Q3QyxTQUFTbzdDLEVBQ3BCLENBckRBLENBc0RGLENBU0FyaUIsT0FDRSxHQUFJM3RCLEtBQUtvdkMsYUFBZ0QsbUJBQTFCcHZDLEtBQUtvdkMsWUFBWXpoQixLQUM5QyxPQUFPM3RCLEtBQUtvdkMsWUFBWXpoQixLQUFLM3RCLEtBQUttaEMsaUJBQWtCdDlCLFVBRXhELENBUUErcEIsUUFDRSxHQUFJNXRCLEtBQUtvdkMsYUFBaUQsbUJBQTNCcHZDLEtBQUtvdkMsWUFBWXhoQixNQUM5QyxPQUFPNXRCLEtBQUtvdkMsWUFBWXhoQixNQUFNNXRCLEtBQUttaEMsaUJBQWtCdDlCLFVBRXpELENBUUE1TixTQUNFLEdBQUkrSixLQUFLb3ZDLGFBQWtELG1CQUE1QnB2QyxLQUFLb3ZDLFlBQVluNUMsT0FDOUMsT0FBTytKLEtBQUtvdkMsWUFBWW41QyxPQUFPK0osS0FBS21oQyxpQkFBa0J0OUIsVUFFMUQsQ0FNQXVnQixXQUNNcGtCLEtBQUttaEMsZUFBZW5oQyxLQUFLbWhDLGNBQWNoZCxVQUMzQ253QixJQUFFNkYsUUFBUTJmLElBQUksd0JBQXlCeFosS0FBSzJ2Qyw0QkFDOUMsRUFHRlQsR0FBd0I1cUIsU0FBVyxDQUFDLEVDN1BwQzVSLEVBQVdrQyxZQUFZNWdCLEtBSXZCMGUsRUFBVzdFLElBQU0yaUMsRUFDakI5OUIsRUFBVzVFLFlBQWMwaUMsRUFDekI5OUIsRUFBV3RFLGNBQWdCb2lDLEVBQzNCOTlCLEVBQVd2RSxhQUFlcWlDLEVBQzFCOTlCLEVBQVdqRSxPQUFTK2hDLEVBRXBCOTlCLEVBQVcrRCxJQUFNQSxFQUNqQi9ELEVBQVdvRyxlQUFpQkEsRUFDNUJwRyxFQUFXNEgsU0FBV0EsRUFDdEI1SCxFQUFXdEMsV0FBYUEsRUFDeEJzQyxFQUFXdUosT0FBU0EsRUFDcEJ2SixFQUFXNEosS0FBT0EsRUFDbEI1SixFQUFXMEssS0FBT0EsRUFDbEIxSyxFQUFXcUwsTUFBUUEsRUFJbkJXLEVBQU1jLEtBQUt4ckIsS0FDWGd0QixFQUFTeEIsS0FBS3hyQixJQUFHMGUsR0FDakJ0QyxFQUFXRSxRQUVYb0MsRUFBV0ksT0FBT3VSLEVBQU8sU0FDekIzUixFQUFXSSxPQUFPb1gsRUFBVyxhQUM3QnhYLEVBQVdJLE9BQU82WixFQUFlLGlCQUNqQ2phLEVBQVdJLE9BQU93YixFQUFXLGFBQzdCNWIsRUFBV0ksT0FBT2tnQixHQUFVLFlBQzVCdGdCLEVBQVdJLE9BQU9vaEIsR0FBYyxnQkFDaEN4aEIsRUFBV0ksT0FBT2dqQixHQUFXLGFBQzdCcGpCLEVBQVdJLE9BQU9nbEIsR0FBYSxlQUMvQnBsQixFQUFXSSxPQUFPcW1CLEdBQVUsWUFDNUJ6bUIsRUFBV0ksT0FBT2dvQixHQUFXLGFBQzdCcG9CLEVBQVdJLE9BQU8rcUIsR0FBTyxTQUN6Qm5yQixFQUFXSSxPQUFPbXVCLEdBQWdCLGtCQUNsQ3Z1QixFQUFXSSxPQUFPMnVCLEdBQWtCLG9CQUNwQy91QixFQUFXSSxPQUFPb3ZCLEdBQVEsVUFDMUJ4dkIsRUFBV0ksT0FBTyt3QixHQUFRLFVBQzFCbnhCLEVBQVdJLE9BQU8wbEIsR0FBYyxnQkFDaEM5bEIsRUFBV0ksT0FBTzQxQixHQUFRLFVBQzFCaDJCLEVBQVdJLE9BQU8rNEIsR0FBTSxRQUN4Qm41QixFQUFXSSxPQUFPeTZCLEdBQVMsV0FDM0I3NkIsRUFBV0ksT0FBTys2QixHQUFTLFdBQzNCbjdCLEVBQVdJLE9BQU9vOEIsR0FBeUIsd0dDN0UzQ3IxQyxPQUFPN0YsRUFBSUEsSUFnQlhBLElBQUVhLFVBQVVtZixhQXNEWm5mLFNBQVNLLGlCQUFpQixvQkFBb0IsV0FDNUMsSUFBTWtILEVBQU92SCxTQUFTNkQsY0FBYywyQkFDaEMwRCxJQUNGQSxFQUFLUSxZQUFjLG9CQUNuQlIsRUFBS2xHLGFBQWEsT0FBUSxhQUU5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL3NyYy9hc3NldHMvanMvbGliL2FjY291bnQtbWVudS5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9zcmMvYXNzZXRzL2pzL2xpYi9hY2NvdW50LXRhYnMuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vc3JjL2Fzc2V0cy9qcy9saWIvYmYtY291bnRkb3duLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL3NyYy9hc3NldHMvanMvbGliL2NhdGFsb2ctc2VhcmNoLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL3NyYy9hc3NldHMvanMvbGliL2NvbW1lbnRzLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL3NyYy9hc3NldHMvanMvbGliL2Zhdm9yaXRlcy1saXN0LmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL3NyYy9hc3NldHMvanMvbGliL21vYmlsZS1tZW51LmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL3NyYy9hc3NldHMvanMvbGliL3Bhc3N3b3JkLXRvZ2dsZS5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9zcmMvYXNzZXRzL2pzL2xpYi9zdGlja3ktaGVhZGVyLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL3NyYy9hc3NldHMvanMvbGliL3RhYnMuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vc3JjL2Fzc2V0cy9qcy9saWIvdmltZW8tcHJvZ3Jlc3MuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL3doYXQtaW5wdXQvZGlzdC93aGF0LWlucHV0LmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3Mvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3Mvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvZXh0ZXJuYWwgdmFyIFwialF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5jb3JlLnV0aWxzLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL25vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24udXRpbC5tZWRpYVF1ZXJ5LmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL25vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24uY29yZS5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9ub2RlX21vZHVsZXMvZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnV0aWwuYm94LmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL25vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24udXRpbC5pbWFnZUxvYWRlci5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9ub2RlX21vZHVsZXMvZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmQuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi51dGlsLm1vdGlvbi5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9ub2RlX21vZHVsZXMvZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnV0aWwubmVzdC5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9ub2RlX21vZHVsZXMvZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnV0aWwudGltZXIuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi51dGlsLnRvdWNoLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL25vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24udXRpbC50cmlnZ2Vycy5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9ub2RlX21vZHVsZXMvZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLmNvcmUucGx1Z2luLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL25vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24uYWJpZGUuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5hY2NvcmRpb24uanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5hY2NvcmRpb25NZW51LmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL25vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24uZHJpbGxkb3duLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL25vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24ucG9zaXRpb25hYmxlLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL25vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24uZHJvcGRvd24uanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5kcm9wZG93bk1lbnUuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5lcXVhbGl6ZXIuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5pbnRlcmNoYW5nZS5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9ub2RlX21vZHVsZXMvZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnNtb290aFNjcm9sbC5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9ub2RlX21vZHVsZXMvZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLm1hZ2VsbGFuLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL25vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24ub2ZmY2FudmFzLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL25vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24ub3JiaXQuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5yZXNwb25zaXZlTWVudS5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9ub2RlX21vZHVsZXMvZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnJlc3BvbnNpdmVUb2dnbGUuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5yZXZlYWwuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5zbGlkZXIuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5zdGlja3kuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi50YWJzLmpzIiwid2VicGFjazovL2ZvdW5kYXRpb25wcmVzcy8uL25vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24udG9nZ2xlci5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9ub2RlX21vZHVsZXMvZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnRvb2x0aXAuanMiLCJ3ZWJwYWNrOi8vZm91bmRhdGlvbnByZXNzLy4vbm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5yZXNwb25zaXZlQWNjb3JkaW9uVGFicy5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9zcmMvYXNzZXRzL2pzL2xpYi9mb3VuZGF0aW9uLWV4cGxpY2l0LXBpZWNlcy5qcyIsIndlYnBhY2s6Ly9mb3VuZGF0aW9ucHJlc3MvLi9zcmMvYXNzZXRzL2pzL2FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFjY291bnQgZHJvcGRvd24gbWVudSAtIGNsaWNrLWJhc2VkIHRvZ2dsZVxuICovXG5qUXVlcnkoZnVuY3Rpb24gKCQpIHtcbiAgdmFyICR0cmlnZ2VyID0gJCgnLmhlYWRlcl9fYWNjb3VudC10cmlnZ2VyJyk7XG4gIHZhciAkZHJvcGRvd24gPSAkKCcuaGVhZGVyX19hY2NvdW50LWRyb3Bkb3duJyk7XG5cbiAgaWYgKCEkdHJpZ2dlci5sZW5ndGgpIHJldHVybjtcblxuICAvLyBUb2dnbGUgZHJvcGRvd24gb24gdHJpZ2dlciBjbGlja1xuICAkdHJpZ2dlci5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgdmFyIGlzT3BlbiA9ICRkcm9wZG93bi5oYXNDbGFzcygnaXMtb3BlbicpO1xuXG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgY2xvc2VNZW51KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW5NZW51KCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBDbG9zZSBvbiBjbGljayBvdXRzaWRlXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCEkKGUudGFyZ2V0KS5jbG9zZXN0KCdbZGF0YS1hY2NvdW50LW1lbnVdJykubGVuZ3RoKSB7XG4gICAgICBjbG9zZU1lbnUoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIENsb3NlIG9uIGVzY2FwZSBrZXlcbiAgJChkb2N1bWVudCkub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGNsb3NlTWVudSgpO1xuICAgICAgJHRyaWdnZXIuZm9jdXMoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIG9wZW5NZW51KCkge1xuICAgICRkcm9wZG93bi5hZGRDbGFzcygnaXMtb3BlbicpO1xuICAgICR0cmlnZ2VyLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VNZW51KCkge1xuICAgICRkcm9wZG93bi5yZW1vdmVDbGFzcygnaXMtb3BlbicpO1xuICAgICR0cmlnZ2VyLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgfVxufSk7XG4iLCJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hY2NvdW50LXRhYnNdJykuZm9yRWFjaCgoY29udGFpbmVyKSA9PiB7XG4gICAgY29uc3QgdGFicyA9IEFycmF5LmZyb20oY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWFjY291bnQtdGFiXScpKTtcbiAgICBjb25zdCBwYW5lbHMgPSBBcnJheS5mcm9tKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hY2NvdW50LXBhbmVsXScpKTtcblxuICAgIGlmICghdGFicy5sZW5ndGggfHwgIXBhbmVscy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzZXRBY3RpdmUgPSAobmFtZSkgPT4ge1xuICAgICAgdGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWIuZGF0YXNldC5hY2NvdW50VGFiID09PSBuYW1lO1xuICAgICAgICB0YWIuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJywgaXNBY3RpdmUpO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgdGFiLnRhYkluZGV4ID0gaXNBY3RpdmUgPyAwIDogLTE7XG4gICAgICB9KTtcblxuICAgICAgcGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gcGFuZWwuZGF0YXNldC5hY2NvdW50UGFuZWwgPT09IG5hbWU7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScsIGlzQWN0aXZlKTtcbiAgICAgICAgcGFuZWwuaGlkZGVuID0gIWlzQWN0aXZlO1xuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgaXNBY3RpdmUgPyAnZmFsc2UnIDogJ3RydWUnKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBpbml0aWFsVGFiID0gdGFicy5maW5kKCh0YWIpID0+IHRhYi5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB8fCB0YWJzWzBdO1xuICAgIGlmIChpbml0aWFsVGFiKSB7XG4gICAgICBzZXRBY3RpdmUoaW5pdGlhbFRhYi5kYXRhc2V0LmFjY291bnRUYWIpO1xuICAgIH1cblxuICAgIHRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZXRBY3RpdmUodGFiLmRhdGFzZXQuYWNjb3VudFRhYikpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIiwiY29uc3QgQ09VTlRET1dOX1NFTEVDVE9SID0gJy5iZi1jb3VudGRvd25bZGF0YS1kZWFkbGluZV0nO1xuY29uc3QgVU5JVF9LRVlTID0gWydkYXlzJywgJ2hvdXJzJywgJ21pbnV0ZXMnLCAnc2Vjb25kcyddO1xuY29uc3QgU0VDT05EX0lOX01TID0gMTAwMDtcbmNvbnN0IE1JTlVURV9JTl9NUyA9IFNFQ09ORF9JTl9NUyAqIDYwO1xuY29uc3QgSE9VUl9JTl9NUyA9IE1JTlVURV9JTl9NUyAqIDYwO1xuY29uc3QgREFZX0lOX01TID0gSE9VUl9JTl9NUyAqIDI0O1xuXG5jb25zdCBmb3JtYXRWYWx1ZSA9ICh2YWx1ZSkgPT4gU3RyaW5nKHZhbHVlKS5wYWRTdGFydCgyLCAnMCcpO1xuXG5jb25zdCBlbnN1cmVUZXh0Tm9kZSA9IChlbGVtZW50KSA9PiB7XG5cdGlmICghZWxlbWVudCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Y29uc3QgZXhpc3RpbmdUZXh0Tm9kZSA9IEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKS5maW5kKFxuXHRcdChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERVxuXHQpO1xuXG5cdGlmIChleGlzdGluZ1RleHROb2RlKSB7XG5cdFx0cmV0dXJuIGV4aXN0aW5nVGV4dE5vZGU7XG5cdH1cblxuXHRjb25zdCB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcwMCcpO1xuXHRlbGVtZW50Lmluc2VydEJlZm9yZSh0ZXh0Tm9kZSwgZWxlbWVudC5maXJzdENoaWxkIHx8IG51bGwpO1xuXHRyZXR1cm4gdGV4dE5vZGU7XG59O1xuXG5jb25zdCBpbml0Q291bnRkb3duID0gKGNvdW50ZG93bikgPT4ge1xuXHRjb25zdCBkZWFkbGluZUF0dHIgPSBjb3VudGRvd24uZ2V0QXR0cmlidXRlKCdkYXRhLWRlYWRsaW5lJyk7XG5cdGNvbnN0IGRlYWRsaW5lID0gZGVhZGxpbmVBdHRyID8gbmV3IERhdGUoZGVhZGxpbmVBdHRyKSA6IG51bGw7XG5cblx0aWYgKCFkZWFkbGluZSB8fCBOdW1iZXIuaXNOYU4oZGVhZGxpbmUuZ2V0VGltZSgpKSkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IHVuaXROb2RlcyA9IFVOSVRfS0VZUy5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG5cdFx0Y29uc3QgZWxlbWVudCA9IGNvdW50ZG93bi5xdWVyeVNlbGVjdG9yKGBbZGF0YS11bml0PVwiJHtrZXl9XCJdYCk7XG5cdFx0YWNjW2tleV0gPSB7XG5cdFx0XHRlbGVtZW50LFxuXHRcdFx0dGV4dE5vZGU6IGVuc3VyZVRleHROb2RlKGVsZW1lbnQpLFxuXHRcdH07XG5cdFx0cmV0dXJuIGFjYztcblx0fSwge30pO1xuXG5cdGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcblx0XHRjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXHRcdGxldCBkaWZmID0gZGVhZGxpbmUuZ2V0VGltZSgpIC0gbm93O1xuXG5cdFx0aWYgKGRpZmYgPD0gMCkge1xuXHRcdFx0ZGlmZiA9IDA7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZGF5cyA9IE1hdGguZmxvb3IoZGlmZiAvIERBWV9JTl9NUyk7XG5cdFx0Y29uc3QgaG91cnMgPSBNYXRoLmZsb29yKChkaWZmICUgREFZX0lOX01TKSAvIEhPVVJfSU5fTVMpO1xuXHRcdGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKChkaWZmICUgSE9VUl9JTl9NUykgLyBNSU5VVEVfSU5fTVMpO1xuXHRcdGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChkaWZmICUgTUlOVVRFX0lOX01TKSAvIFNFQ09ORF9JTl9NUyk7XG5cblx0XHRpZiAodW5pdE5vZGVzLmRheXM/LnRleHROb2RlKSB7XG5cdFx0XHR1bml0Tm9kZXMuZGF5cy50ZXh0Tm9kZS5ub2RlVmFsdWUgPSBmb3JtYXRWYWx1ZShkYXlzKTtcblx0XHR9XG5cdFx0aWYgKHVuaXROb2Rlcy5ob3Vycz8udGV4dE5vZGUpIHtcblx0XHRcdHVuaXROb2Rlcy5ob3Vycy50ZXh0Tm9kZS5ub2RlVmFsdWUgPSBmb3JtYXRWYWx1ZShob3Vycyk7XG5cdFx0fVxuXHRcdGlmICh1bml0Tm9kZXMubWludXRlcz8udGV4dE5vZGUpIHtcblx0XHRcdHVuaXROb2Rlcy5taW51dGVzLnRleHROb2RlLm5vZGVWYWx1ZSA9IGZvcm1hdFZhbHVlKG1pbnV0ZXMpO1xuXHRcdH1cblx0XHRpZiAodW5pdE5vZGVzLnNlY29uZHM/LnRleHROb2RlKSB7XG5cdFx0XHR1bml0Tm9kZXMuc2Vjb25kcy50ZXh0Tm9kZS5ub2RlVmFsdWUgPSBmb3JtYXRWYWx1ZShzZWNvbmRzKTtcblx0XHR9XG5cblx0XHRpZiAoZGlmZiA9PT0gMCkge1xuXHRcdFx0Y291bnRkb3duLmNsYXNzTGlzdC5hZGQoJ2JmLWNvdW50ZG93bi0tZmluaXNoZWQnKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblxuXHR1cGRhdGUoKTtcblxuXHRjb25zdCBpbnRlcnZhbElkID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcblx0XHRjb25zdCBmaW5pc2hlZCA9IHVwZGF0ZSgpO1xuXHRcdGlmIChmaW5pc2hlZCkge1xuXHRcdFx0d2luZG93LmNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG5cdFx0fVxuXHR9LCBTRUNPTkRfSU5fTVMpO1xufTtcblxuY29uc3QgbW91bnRDb3VudGRvd25zID0gKCkgPT4ge1xuXHRjb25zdCBjb3VudGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChDT1VOVERPV05fU0VMRUNUT1IpO1xuXHRjb3VudGRvd25zLmZvckVhY2goaW5pdENvdW50ZG93bik7XG59O1xuXG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtb3VudENvdW50ZG93bnMpO1xufSBlbHNlIHtcblx0bW91bnRDb3VudGRvd25zKCk7XG59XG4iLCJjb25zdCBpbml0Q2F0YWxvZ1NlYXJjaCA9ICgpID0+IHtcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nLXRhYnNfX3NlYXJjaFtkYXRhLXNlYXJjaC1lbmRwb2ludF0nKTtcbiAgaWYgKCFmb3JtKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgaW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nLXRhYnNfX3NlYXJjaC1pbnB1dCcpO1xuICBjb25zdCByZXN1bHRzID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZy10YWJzX19zZWFyY2gtcmVzdWx0cycpO1xuICBjb25zdCBlbmRwb2ludCA9IGZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLXNlYXJjaC1lbmRwb2ludCcpO1xuICBjb25zdCBwbGFjZWhvbGRlckltYWdlID0gZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2VhcmNoLXBsYWNlaG9sZGVyJykgfHwgJyc7XG5cbiAgaWYgKCFpbnB1dCB8fCAhcmVzdWx0cyB8fCAhZW5kcG9pbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgYWJvcnRDb250cm9sbGVyID0gbnVsbDtcbiAgbGV0IGRlYm91bmNlSWQgPSBudWxsO1xuICBsZXQgbGFzdFF1ZXJ5ID0gJyc7XG5cbiAgY29uc3QgY2xvc2VSZXN1bHRzID0gKCkgPT4ge1xuICAgIHJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgIHJlc3VsdHMuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgcmVzdWx0cy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtYnVzeScpO1xuICAgIHJlc3VsdHMuaW5uZXJIVE1MID0gJyc7XG4gIH07XG5cbiAgY29uc3Qgb3BlblJlc3VsdHMgPSAoKSA9PiB7XG4gICAgcmVzdWx0cy5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgcmVzdWx0cy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyRW1wdHkgPSAoKSA9PiB7XG4gICAgcmVzdWx0cy5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImNhdGFsb2ctdGFic19fc2VhcmNoLWVtcHR5XCI+TmVtYSByZXp1bHRhdGEuPC9kaXY+JztcbiAgICBvcGVuUmVzdWx0cygpO1xuICB9O1xuXG4gIGNvbnN0IGdldFBsYWluVGV4dCA9IChodG1sKSA9PiB7XG4gICAgY29uc3QgdGVtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRlbXAuaW5uZXJIVE1MID0gaHRtbCB8fCAnJztcbiAgICByZXR1cm4gdGVtcC50ZXh0Q29udGVudCB8fCB0ZW1wLmlubmVyVGV4dCB8fCAnJztcbiAgfTtcblxuICBjb25zdCBnZXRJbWFnZVVybCA9IChpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5fZW1iZWRkZWQgJiYgaXRlbS5fZW1iZWRkZWRbJ3dwOmZlYXR1cmVkbWVkaWEnXSkge1xuICAgICAgY29uc3QgbWVkaWEgPSBpdGVtLl9lbWJlZGRlZFsnd3A6ZmVhdHVyZWRtZWRpYSddWzBdO1xuICAgICAgY29uc3Qgc2l6ZXMgPSBtZWRpYSAmJiBtZWRpYS5tZWRpYV9kZXRhaWxzID8gbWVkaWEubWVkaWFfZGV0YWlscy5zaXplcyA6IG51bGw7XG4gICAgICBpZiAoc2l6ZXMpIHtcbiAgICAgICAgY29uc3QgcHJlZmVycmVkID1cbiAgICAgICAgICBzaXplc1snZnAtc21hbGwnXSB8fFxuICAgICAgICAgIHNpemVzLm1lZGl1bSB8fFxuICAgICAgICAgIHNpemVzLnRodW1ibmFpbDtcbiAgICAgICAgaWYgKHByZWZlcnJlZCAmJiBwcmVmZXJyZWQuc291cmNlX3VybCkge1xuICAgICAgICAgIHJldHVybiBwcmVmZXJyZWQuc291cmNlX3VybDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhICYmIG1lZGlhLnNvdXJjZV91cmwpIHtcbiAgICAgICAgcmV0dXJuIG1lZGlhLnNvdXJjZV91cmw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwbGFjZWhvbGRlckltYWdlO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckl0ZW1zID0gKGl0ZW1zKSA9PiB7XG4gICAgcmVzdWx0cy5pbm5lckhUTUwgPSAnJztcbiAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGlmICghaXRlbSB8fCAhaXRlbS5saW5rKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGl0bGVIdG1sID0gaXRlbS50aXRsZSAmJiBpdGVtLnRpdGxlLnJlbmRlcmVkID8gaXRlbS50aXRsZS5yZW5kZXJlZCA6ICcnO1xuICAgICAgY29uc3QgdGl0bGVUZXh0ID0gZ2V0UGxhaW5UZXh0KHRpdGxlSHRtbCk7XG4gICAgICBjb25zdCBpbWFnZVVybCA9IGdldEltYWdlVXJsKGl0ZW0pO1xuXG4gICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgbGluay5jbGFzc05hbWUgPSAnY2F0YWxvZy10YWJzX19zZWFyY2gtcmVzdWx0JztcbiAgICAgIGxpbmsuaHJlZiA9IGl0ZW0ubGluaztcbiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuXG4gICAgICBpZiAoaW1hZ2VVcmwpIHtcbiAgICAgICAgY29uc3QgdGh1bWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHRodW1iLmNsYXNzTmFtZSA9ICdjYXRhbG9nLXRhYnNfX3NlYXJjaC10aHVtYic7XG5cbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGltZy5zcmMgPSBpbWFnZVVybDtcbiAgICAgICAgaW1nLmFsdCA9IHRpdGxlVGV4dDtcbiAgICAgICAgaW1nLmxvYWRpbmcgPSAnbGF6eSc7XG5cbiAgICAgICAgdGh1bWIuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgbGluay5hcHBlbmRDaGlsZCh0aHVtYik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdGl0bGUuY2xhc3NOYW1lID0gJ2NhdGFsb2ctdGFic19fc2VhcmNoLXRpdGxlJztcbiAgICAgIHRpdGxlLmlubmVySFRNTCA9IHRpdGxlSHRtbDtcblxuICAgICAgbGluay5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICB9KTtcblxuICAgIHJlc3VsdHMuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICAgIG9wZW5SZXN1bHRzKCk7XG4gIH07XG5cbiAgY29uc3QgZmV0Y2hSZXN1bHRzID0gKHF1ZXJ5KSA9PiB7XG4gICAgaWYgKGFib3J0Q29udHJvbGxlcikge1xuICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIHJlc3VsdHMuc2V0QXR0cmlidXRlKCdhcmlhLWJ1c3knLCAndHJ1ZScpO1xuXG4gICAgY29uc3QgdXJsID0gYCR7ZW5kcG9pbnR9P3NlYXJjaD0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9JnBlcl9wYWdlPTYmX2VtYmVkPTEmX2ZpZWxkcz10aXRsZSxsaW5rLF9lbWJlZGRlZGA7XG5cbiAgICBmZXRjaCh1cmwsIHsgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLCBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyB9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlYXJjaCByZXF1ZXN0IGZhaWxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKHF1ZXJ5ICE9PSBpbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRzLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1idXN5Jyk7XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpIHx8IGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmVuZGVyRW1wdHkoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJJdGVtcyhkYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGlmIChlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VSZXN1bHRzKCk7XG4gICAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzY2hlZHVsZUZldGNoID0gKCkgPT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gaW5wdXQudmFsdWUudHJpbSgpO1xuICAgIGlmIChxdWVyeS5sZW5ndGggPCAyKSB7XG4gICAgICBsYXN0UXVlcnkgPSBxdWVyeTtcbiAgICAgIGNsb3NlUmVzdWx0cygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChxdWVyeSA9PT0gbGFzdFF1ZXJ5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGFzdFF1ZXJ5ID0gcXVlcnk7XG4gICAgd2luZG93LmNsZWFyVGltZW91dChkZWJvdW5jZUlkKTtcbiAgICBkZWJvdW5jZUlkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gZmV0Y2hSZXN1bHRzKHF1ZXJ5KSwgMjAwKTtcbiAgfTtcblxuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHNjaGVkdWxlRmV0Y2gpO1xuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHNjaGVkdWxlRmV0Y2gpO1xuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGNsb3NlUmVzdWx0cygpO1xuICAgICAgaW5wdXQuYmx1cigpO1xuICAgIH1cbiAgfSk7XG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKCkgPT4ge1xuICAgIGNsb3NlUmVzdWx0cygpO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoIWZvcm0uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgY2xvc2VSZXN1bHRzKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBpbml0Q2F0YWxvZ1NlYXJjaCk7XG4iLCIvLyBHbG9iYWwgdmFyaWFibGVzIHRvIGF2b2lkIHJlZmVyZW5jZSBlcnJvcnNcbmxldCBlbW9qaVBpY2tlckluaXRpYWxpemVkID0gZmFsc2U7XG5cbi8vIEVtb2ppIFBpY2tlciBGdW5jdGlvbnNcbmZ1bmN0aW9uIHRvZ2dsZUVtb2ppUGlja2VyKCkge1xuICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbW9qaVBhbmVsJyk7XG4gIGlmIChwYW5lbCkge1xuICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRFbW9qaShlbW9qaSkge1xuICBjb25zdCB0ZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21tZW50LXRleHRhcmVhJyk7XG4gIGlmICghdGV4dGFyZWEpIHJldHVybjtcblxuICBjb25zdCBzdGFydCA9IHRleHRhcmVhLnNlbGVjdGlvblN0YXJ0O1xuICBjb25zdCBlbmQgPSB0ZXh0YXJlYS5zZWxlY3Rpb25FbmQ7XG4gIGNvbnN0IHRleHQgPSB0ZXh0YXJlYS52YWx1ZTtcblxuICAvLyBJbnNlcnQgZW1vamkgYXQgY3Vyc29yIHBvc2l0aW9uXG4gIGNvbnN0IGJlZm9yZSA9IHRleHQuc3Vic3RyaW5nKDAsIHN0YXJ0KTtcbiAgY29uc3QgYWZ0ZXIgPSB0ZXh0LnN1YnN0cmluZyhlbmQsIHRleHQubGVuZ3RoKTtcbiAgdGV4dGFyZWEudmFsdWUgPSBiZWZvcmUgKyBlbW9qaSArIGFmdGVyO1xuXG4gIC8vIFNldCBjdXJzb3IgcG9zaXRpb24gYWZ0ZXIgZW1vamlcbiAgdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQgPSB0ZXh0YXJlYS5zZWxlY3Rpb25FbmQgPSBzdGFydCArIGVtb2ppLmxlbmd0aDtcbiAgdGV4dGFyZWEuZm9jdXMoKTtcblxuICAvLyBUcmlnZ2VyIGF1dG8tcmVzaXplXG4gIGF1dG9SZXNpemVUZXh0YXJlYSh0ZXh0YXJlYSk7XG5cbiAgLy8gQ2xvc2UgZW1vamkgcGFuZWxcbiAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1vamlQYW5lbCcpO1xuICBpZiAocGFuZWwpIHtcbiAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXV0b1Jlc2l6ZVRleHRhcmVhKHRleHRhcmVhKSB7XG4gIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gKHRleHRhcmVhLnNjcm9sbEhlaWdodCkgKyAncHgnO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVMaWtlKGJ1dHRvbikge1xuICBjb25zdCBjb3VudCA9IGJ1dHRvbi5xdWVyeVNlbGVjdG9yKCcubGlrZS1jb3VudCcpO1xuICBpZiAoIWNvdW50KSByZXR1cm47XG5cbiAgY29uc3QgY3VycmVudExpa2VzID0gcGFyc2VJbnQoY291bnQudGV4dENvbnRlbnQpIHx8IDA7XG4gIGNvbnN0IGlzTGlrZWQgPSBidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaWtlZCcpO1xuXG4gIGlmIChpc0xpa2VkKSB7XG4gICAgY291bnQudGV4dENvbnRlbnQgPSBNYXRoLm1heCgwLCBjdXJyZW50TGlrZXMgLSAxKTtcbiAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbGlrZWQnKTtcbiAgfSBlbHNlIHtcbiAgICBjb3VudC50ZXh0Q29udGVudCA9IGN1cnJlbnRMaWtlcyArIDE7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2xpa2VkJyk7XG4gIH1cbn1cblxuLy8gSW5pdGlhbGl6ZSBldmVyeXRoaW5nIHdoZW4gRE9NIGlzIHJlYWR5XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gIGlmIChlbW9qaVBpY2tlckluaXRpYWxpemVkKSByZXR1cm47XG4gIGVtb2ppUGlja2VySW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gIC8vIEF1dG8tZXhwYW5kIHRleHRhcmVhXG4gIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbW1lbnQtdGV4dGFyZWEnKTtcbiAgaWYgKHRleHRhcmVhKSB7XG4gICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGF1dG9SZXNpemVUZXh0YXJlYSh0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENsb3NlIGVtb2ppIHBpY2tlciB3aGVuIGNsaWNraW5nIG91dHNpZGVcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgIGNvbnN0IGVtb2ppUGlja2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVtb2ppLXBpY2tlcicpO1xuICAgIGNvbnN0IGVtb2ppUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1vamlQYW5lbCcpO1xuXG4gICAgaWYgKGVtb2ppUGlja2VyICYmIGVtb2ppUGFuZWwgJiYgIWVtb2ppUGlja2VyLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIGVtb2ppUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gRm9ybSBzdWJtaXNzaW9uIGZlZWRiYWNrXG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tbWVudC1mb3JtLXY1Jyk7XG4gIGlmIChmb3JtKSB7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbihlKSB7XG4gICAgICBjb25zdCBidXR0b24gPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5jb21tZW50LXN1Ym1pdC1idG4nKTtcbiAgICAgIGlmICghYnV0dG9uKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IG9yaWdpbmFsID0gYnV0dG9uLnRleHRDb250ZW50O1xuXG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnSHZhbGEgdmFtISDinKgnO1xuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgLy8gUmVzZXQgYnV0dG9uIGFmdGVyIGZvcm0gcHJvY2Vzc2VzIChvciB0aW1lb3V0KVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChidXR0b24udGV4dENvbnRlbnQgPT09ICdIdmFsYSB2YW0hIOKcqCcpIHtcbiAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBvcmlnaW5hbDtcbiAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwMCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBJbml0aWFsaXplIGxpa2UgYnV0dG9uc1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGlrZS1idXR0b24nKS5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgaWYgKCFidXR0b24uaGFzQXR0cmlidXRlKCdkYXRhLWluaXRpYWxpemVkJykpIHtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5pdGlhbGl6ZWQnLCAndHJ1ZScpO1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRvZ2dsZUxpa2UodGhpcyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbi8vIEtleWJvYXJkIHNob3J0Y3V0c1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgLy8gQ3RybC9DbWQgKyBFIHRvIHRvZ2dsZSBlbW9qaSBwaWNrZXJcbiAgaWYgKChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiBlLmtleSA9PT0gJ2UnKSB7XG4gICAgY29uc3QgdGV4dGFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tbWVudC10ZXh0YXJlYScpO1xuICAgIGlmICh0ZXh0YXJlYSAmJiB0ZXh0YXJlYSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdG9nZ2xlRW1vamlQaWNrZXIoKTtcbiAgICB9XG4gIH1cblxuICAvLyBFc2NhcGUgdG8gY2xvc2UgZW1vamkgcGlja2VyXG4gIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbW9qaVBhbmVsJyk7XG4gICAgaWYgKHBhbmVsKSB7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgfVxuICB9XG59KTtcblxuLy8gSGFuZGxlIGR5bmFtaWMgY29udGVudCAoaWYgY29tbWVudHMgYXJlIGxvYWRlZCB2aWEgQUpBWClcbmZ1bmN0aW9uIGluaXRpYWxpemVOZXdDb21tZW50cygpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxpa2UtYnV0dG9uOm5vdChbZGF0YS1pbml0aWFsaXplZF0pJykuZm9yRWFjaChidXR0b24gPT4ge1xuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5pdGlhbGl6ZWQnLCAndHJ1ZScpO1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgdG9nZ2xlTGlrZSh0aGlzKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8vIFB1YmxpYyBBUEkgZm9yIFdvcmRQcmVzcyBpbnRlZ3JhdGlvblxud2luZG93LlBpbGF0ZXNDb21tZW50cyA9IHtcbiAgdG9nZ2xlRW1vamlQaWNrZXI6IHRvZ2dsZUVtb2ppUGlja2VyLFxuICBhZGRFbW9qaTogYWRkRW1vamksXG4gIHRvZ2dsZUxpa2U6IHRvZ2dsZUxpa2UsXG4gIGluaXRpYWxpemVOZXdDb21tZW50czogaW5pdGlhbGl6ZU5ld0NvbW1lbnRzXG59O1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW1vamktdG9nZ2xlJyk7XG4gIGlmICh0b2dnbGVCdG4pIHRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZUVtb2ppUGlja2VyKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZW1vamktYnRuJykuZm9yRWFjaChidG4gPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEVtb2ppKGJ0bi50ZXh0Q29udGVudC50cmltKCkpKTtcbiAgfSk7XG59KTtcbiIsImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGlmICghd2luZG93LmpRdWVyeSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0ICQgPSB3aW5kb3cualF1ZXJ5O1xuXG4gICQoZG9jdW1lbnQpLm9uKCdmYXZvcml0ZXMtdXBkYXRlZC1zaW5nbGUnLCAoZXZlbnQsIGZhdm9yaXRlcywgcG9zdElkLCBzaXRlSWQsIHN0YXR1cykgPT4ge1xuICAgIGlmIChzdGF0dXMgIT09ICdpbmFjdGl2ZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI21vamktZmF2b3JpdGkgLmNhcmRzX19pdGVtW2RhdGEtZmF2b3JpdGUtcG9zdC1pZD1cIiR7cG9zdElkfVwiXWApO1xuICAgIGlmICghY2FyZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhcmQucmVtb3ZlKCk7XG5cbiAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vamktZmF2b3JpdGkgLmNhcmRzJyk7XG4gICAgaWYgKGxpc3QgJiYgbGlzdC5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vamktZmF2b3JpdGkgLmZhdm9yaXRlcy1lbXB0eS0taW5saW5lJyk7XG4gICAgICBpZiAoZW1wdHkpIHtcbiAgICAgICAgZW1wdHkuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhdGFsb2ctdGFiLWZhdm9yaXRlcyAudGFiX19jb3VudCcpO1xuICAgIGlmIChjb3VudCkge1xuICAgICAgY29uc3QgY3VycmVudCA9IHBhcnNlSW50KGNvdW50LnRleHRDb250ZW50LnJlcGxhY2UoL1xcRC9nLCAnJyksIDEwKTtcbiAgICAgIGlmICghTnVtYmVyLmlzTmFOKGN1cnJlbnQpKSB7XG4gICAgICAgIGNvdW50LnRleHRDb250ZW50ID0gYCgke01hdGgubWF4KDAsIGN1cnJlbnQgLSAxKX0pYDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSk7XG4iLCJqUXVlcnkoZnVuY3Rpb24gKCQpIHtcbiAgZnVuY3Rpb24gdG9nZ2xlTWVudSgpIHtcbiAgICAgIC8vIFRvZ2dsZSAnaGVhZGVyLS1tZW51LW9wZW4nIGNsYXNzIG9uIGJvZHlcbiAgICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcygnaGVhZGVyLS1tZW51LW9wZW4nKTtcblxuICAgICAgLy8gVG9nZ2xlIGJ1cmdlciBhY3RpdmUgc3RhdGVcbiAgICAgICQoJy5idXJnZXInKS50b2dnbGVDbGFzcygnYnVyZ2VyLS1hY3RpdmUnKTtcblxuICAgICAgLy8gVXBkYXRlIGJvdHRvbSBuYXYgbWVudSB0b2dnbGUgYXJpYS1leHBhbmRlZFxuICAgICAgdmFyIGlzT3BlbiA9ICQoJ2JvZHknKS5oYXNDbGFzcygnaGVhZGVyLS1tZW51LW9wZW4nKTtcbiAgICAgICQoJy5ib3R0b20tbmF2X19tZW51LXRvZ2dsZScpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pO1xuXG4gICAgICAvLyBTZXQgdmlzaWJpbGl0eSBhbmQgb3BhY2l0eSBvZiB0aGUgaGVhZGVyLW1lbnVcbiAgICAgIGlmIChpc09wZW4pIHtcbiAgICAgICAgICAkKCcuaGVhZGVyLW1lbnUnKS5jc3Moe1xuICAgICAgICAgICAgICAndmlzaWJpbGl0eSc6ICd2aXNpYmxlJyxcbiAgICAgICAgICAgICAgJ29wYWNpdHknOiAnMSdcbiAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnLmhlYWRlci1tZW51JykuY3NzKHtcbiAgICAgICAgICAgICAgJ3Zpc2liaWxpdHknOiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgJ29wYWNpdHknOiAnMCdcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgfVxuXG4gIC8vIEJ1cmdlciBtZW51IGNsaWNrXG4gICQoJy5idXJnZXInKS5jbGljayh0b2dnbGVNZW51KTtcblxuICAvLyBCb3R0b20gbmF2IG1lbnUgdG9nZ2xlIGNsaWNrXG4gICQoJy5ib3R0b20tbmF2X19tZW51LXRvZ2dsZScpLmNsaWNrKHRvZ2dsZU1lbnUpO1xufSk7XG4iLCJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICBjb25zdCB0b2dnbGUgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcGFzc3dvcmQtdG9nZ2xlXScpO1xuICBpZiAoIXRvZ2dsZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGdyb3VwID0gdG9nZ2xlLmNsb3Nlc3QoJy5hY2NvdW50LXBhZ2VfX2lucHV0LWdyb3VwJyk7XG4gIGNvbnN0IGlucHV0ID0gZ3JvdXAgPyBncm91cC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpIDogbnVsbDtcbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGlzVmlzaWJsZSA9IGlucHV0LnR5cGUgPT09ICd0ZXh0JztcbiAgaW5wdXQudHlwZSA9IGlzVmlzaWJsZSA/ICdwYXNzd29yZCcgOiAndGV4dCc7XG4gIHRvZ2dsZS5jbGFzc0xpc3QudG9nZ2xlKCdpcy12aXNpYmxlJywgIWlzVmlzaWJsZSk7XG4gIHRvZ2dsZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsICghaXNWaXNpYmxlKS50b1N0cmluZygpKTtcbiAgdG9nZ2xlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGlzVmlzaWJsZSA/ICdQcmlrYcW+aSBsb3ppbmt1JyA6ICdTYWtyaWogbG96aW5rdScpO1xufSk7XG4iLCJjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG5cbmlmICggYm9keSAhPT0gbnVsbCkge1xuICBjb25zdCB0cmlnZ2VyTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyXCIpO1xuICBjb25zdCBzY3JvbGxVcCA9IFwic2Nyb2xsLXVwXCI7XG4gIGNvbnN0IHNjcm9sbERvd24gPSBcInNjcm9sbC1kb3duXCI7XG4gIGxldCBsYXN0U2Nyb2xsID0gMDtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudFNjcm9sbCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICBpZiAoY3VycmVudFNjcm9sbCA8PSAxNTApIHtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShzY3JvbGxVcCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRTY3JvbGwgPiBsYXN0U2Nyb2xsICYmICFib2R5LmNsYXNzTGlzdC5jb250YWlucyhzY3JvbGxEb3duKSkge1xuICAgICAgLy8gZG93blxuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKHNjcm9sbFVwKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChzY3JvbGxEb3duKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgY3VycmVudFNjcm9sbCA8IGxhc3RTY3JvbGwgJiZcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKHNjcm9sbERvd24pXG4gICAgKSB7XG4gICAgICAvLyB1cFxuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKHNjcm9sbERvd24pO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKHNjcm9sbFVwKTtcbiAgICB9XG4gICAgbGFzdFNjcm9sbCA9IGN1cnJlbnRTY3JvbGw7XG4gIH0pO1xufVxuIiwiY29uc3QgaW5pdERyYWdTY3JvbGwgPSAoZWwpID0+IHtcbiAgbGV0IGlzRG93biA9IGZhbHNlO1xuICBsZXQgc3RhcnRYO1xuICBsZXQgc2Nyb2xsTGVmdDtcbiAgbGV0IGhhc0RyYWdnZWQgPSBmYWxzZTtcblxuICBjb25zdCBvblBvaW50ZXJEb3duID0gKGUpID0+IHtcbiAgICAvLyBPbmx5IGhhbmRsZSBwcmltYXJ5IGJ1dHRvbiAobGVmdCBjbGljayAvIHRvdWNoKVxuICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIGUuYnV0dG9uICE9PSAwKSByZXR1cm47XG5cbiAgICBpc0Rvd24gPSB0cnVlO1xuICAgIGhhc0RyYWdnZWQgPSBmYWxzZTtcbiAgICBzdGFydFggPSBlLnBhZ2VYIC0gZWwub2Zmc2V0TGVmdDtcbiAgICBzY3JvbGxMZWZ0ID0gZWwuc2Nyb2xsTGVmdDtcbiAgfTtcblxuICBjb25zdCBvblBvaW50ZXJNb3ZlID0gKGUpID0+IHtcbiAgICBpZiAoIWlzRG93bikgcmV0dXJuO1xuICAgIGNvbnN0IHggPSBlLnBhZ2VYIC0gZWwub2Zmc2V0TGVmdDtcbiAgICBjb25zdCB3YWxrID0gKHggLSBzdGFydFgpICogMS41O1xuXG4gICAgaWYgKE1hdGguYWJzKHdhbGspID4gOCkge1xuICAgICAgaWYgKCFoYXNEcmFnZ2VkKSB7XG4gICAgICAgIGhhc0RyYWdnZWQgPSB0cnVlO1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdpcy1kcmFnZ2luZycpO1xuICAgICAgICBlbC5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG4gICAgICB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlbC5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdCAtIHdhbGs7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uUG9pbnRlclVwID0gKGUpID0+IHtcbiAgICBpZiAoIWlzRG93bikgcmV0dXJuO1xuICAgIGlzRG93biA9IGZhbHNlO1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWRyYWdnaW5nJyk7XG5cbiAgICBpZiAoaGFzRHJhZ2dlZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZWwucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBJZ25vcmUgaWYgbm90IGNhcHR1cmVkXG4gICAgICB9XG4gICAgICAvLyBQcmV2ZW50IGNsaWNrIGlmIHVzZXIgZHJhZ2dlZFxuICAgICAgY29uc3QgcHJldmVudENsaWNrID0gKGV2dCkgPT4ge1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfTtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcHJldmVudENsaWNrLCB7IGNhcHR1cmU6IHRydWUsIG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICB9O1xuXG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Qb2ludGVyRG93bik7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSk7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIG9uUG9pbnRlclVwKTtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIG9uUG9pbnRlclVwKTtcbn07XG5cbmNvbnN0IGluaXRUYWJzID0gKGdyb3VwKSA9PiB7XG4gIGNvbnN0IHRhYnMgPSBBcnJheS5mcm9tKGdyb3VwLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJbZGF0YS10YWItdGFyZ2V0XScpKTtcblxuICBpZiAoIXRhYnMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSW5pdCBkcmFnIHNjcm9sbCBvbiB0YWJzIGJhciBmb3IgbW9iaWxlXG4gIGNvbnN0IHRhYnNCYXIgPSBncm91cC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZy10YWJzX19iYXInKTtcbiAgaWYgKHRhYnNCYXIpIHtcbiAgICBpbml0RHJhZ1Njcm9sbCh0YWJzQmFyKTtcbiAgfVxuXG4gIGNvbnN0IHNldEFjdGl2ZVRhYiA9ICh0YWIsIHsgdXBkYXRlSGFzaCA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuICAgIHRhYnMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtID09PSB0YWI7XG4gICAgICBpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGlzQWN0aXZlKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIGl0ZW0udGFiSW5kZXggPSBpc0FjdGl2ZSA/IDAgOiAtMTtcblxuICAgICAgY29uc3QgdGFyZ2V0ID0gZ3JvdXAucXVlcnlTZWxlY3RvcihpdGVtLmRhdGFzZXQudGFiVGFyZ2V0KTtcbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGlzQWN0aXZlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh1cGRhdGVIYXNoICYmIHRhYi5kYXRhc2V0LnRhYlRhcmdldCkge1xuICAgICAgY29uc3QgdGFyZ2V0SGFzaCA9IHRhYi5kYXRhc2V0LnRhYlRhcmdldDtcbiAgICAgIGlmIChoaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggIT09IHRhcmdldEhhc2gpIHtcbiAgICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBkb2N1bWVudC50aXRsZSwgdGFyZ2V0SGFzaCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gdGFyZ2V0SGFzaDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgYWN0aXZhdGVGcm9tSGFzaCA9ICgpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYW5jaG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih3aW5kb3cubG9jYXRpb24uaGFzaCk7XG4gICAgaWYgKCFhbmNob3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYW5lbCA9IGFuY2hvci5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbnRlbnQtY29udGFpbmVyJylcbiAgICAgID8gYW5jaG9yXG4gICAgICA6IGFuY2hvci5jbG9zZXN0KCcuY29udGVudC1jb250YWluZXInKTtcblxuICAgIGlmICghcGFuZWwgfHwgIWdyb3VwLmNvbnRhaW5zKHBhbmVsKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRhYiA9IHRhYnMuZmluZCgoaXRlbSkgPT4gaXRlbS5kYXRhc2V0LnRhYlRhcmdldCA9PT0gYCMke3BhbmVsLmlkfWApO1xuICAgIGlmICh0YWIpIHtcbiAgICAgIHNldEFjdGl2ZVRhYih0YWIpO1xuICAgIH1cbiAgfTtcblxuICB0YWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNldEFjdGl2ZVRhYih0YWIsIHsgdXBkYXRlSGFzaDogdHJ1ZSB9KSk7XG4gIH0pO1xuXG4gIGlmICghdGFicy5zb21lKCh0YWIpID0+IHRhYi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSkge1xuICAgIHNldEFjdGl2ZVRhYih0YWJzWzBdKTtcbiAgfVxuXG4gIGFjdGl2YXRlRnJvbUhhc2goKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBhY3RpdmF0ZUZyb21IYXNoKTtcbn07XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRhYnNdJykuZm9yRWFjaChpbml0VGFicyk7XG59KTtcbiIsImNvbnN0IGxvYWRWaW1lb0FwaSA9ICgpID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAod2luZG93LlZpbWVvICYmIHdpbmRvdy5WaW1lby5QbGF5ZXIpIHtcbiAgICAgIHJlc29sdmUod2luZG93LlZpbWVvKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBleGlzdGluZ1NjcmlwdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtkYXRhLXZpbWVvLXBsYXllcl0nKTtcbiAgICBpZiAoZXhpc3RpbmdTY3JpcHQpIHtcbiAgICAgIGV4aXN0aW5nU2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiByZXNvbHZlKHdpbmRvdy5WaW1lbykpO1xuICAgICAgZXhpc3RpbmdTY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCByZWplY3QpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNjcmlwdC5zcmMgPSAnaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL2FwaS9wbGF5ZXIuanMnO1xuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgc2NyaXB0LmRlZmVyID0gdHJ1ZTtcbiAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCdkYXRhLXZpbWVvLXBsYXllcicsICd0cnVlJyk7XG4gICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiByZXNvbHZlKHdpbmRvdy5WaW1lbykpO1xuICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHJlamVjdCk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICB9KTtcblxuY29uc3QgaW5pdFZpbWVvUHJvZ3Jlc3NQbGF5ZXIgPSAoY29udGFpbmVyLCBWaW1lbykgPT4ge1xuICBjb25zdCBpZnJhbWUgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG4gIGNvbnN0IGVuZHBvaW50ID0gY29udGFpbmVyLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9ncmVzcy1lbmRwb2ludCcpO1xuICBjb25zdCBub25jZSA9IGNvbnRhaW5lci5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZ3Jlc3Mtbm9uY2UnKTtcbiAgY29uc3QgcHJvZ3JhbUlkID0gcGFyc2VJbnQoY29udGFpbmVyLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9ncmFtLWlkJyksIDEwKTtcblxuICBpZiAoIWlmcmFtZSB8fCAhZW5kcG9pbnQgfHwgIW5vbmNlIHx8ICFwcm9ncmFtSWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBwbGF5ZXIgPSBuZXcgVmltZW8uUGxheWVyKGlmcmFtZSk7XG4gIGxldCBoYXNTdGFydGVkID0gZmFsc2U7XG4gIGxldCBsYXN0U2VudEF0ID0gMDtcbiAgbGV0IGxhc3RTZW50UHJvZ3Jlc3MgPSAwO1xuXG4gIGNvbnN0IHNlbmRQcm9ncmVzcyA9IChwcm9ncmVzcywgY29tcGxldGVkID0gZmFsc2UsIGZvcmNlID0gZmFsc2UpID0+IHtcbiAgICBpZiAoIWZvcmNlKSB7XG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgcHJvZ3Jlc3NEZWx0YSA9IHByb2dyZXNzIC0gbGFzdFNlbnRQcm9ncmVzcztcbiAgICAgIGlmIChub3cgLSBsYXN0U2VudEF0IDwgMTUwMDAgJiYgcHJvZ3Jlc3NEZWx0YSA8IDAuMDUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RTZW50QXQgPSBEYXRlLm5vdygpO1xuICAgIGxhc3RTZW50UHJvZ3Jlc3MgPSBwcm9ncmVzcztcblxuICAgIGZldGNoKGVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ1gtV1AtTm9uY2UnOiBub25jZSxcbiAgICAgIH0sXG4gICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcHJvZ3JhbV9pZDogcHJvZ3JhbUlkLFxuICAgICAgICBwcm9ncmVzcyxcbiAgICAgICAgY29tcGxldGVkLFxuICAgICAgfSksXG4gICAgfSkuY2F0Y2goKCkgPT4ge30pO1xuICB9O1xuXG4gIHBsYXllci5vbigncGxheScsIChkYXRhKSA9PiB7XG4gICAgaGFzU3RhcnRlZCA9IHRydWU7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBkYXRhICYmIHR5cGVvZiBkYXRhLnBlcmNlbnQgPT09ICdudW1iZXInID8gZGF0YS5wZXJjZW50IDogMDtcbiAgICBzZW5kUHJvZ3Jlc3MocHJvZ3Jlc3MsIGZhbHNlLCB0cnVlKTtcbiAgfSk7XG5cbiAgcGxheWVyLm9uKCd0aW1ldXBkYXRlJywgKGRhdGEpID0+IHtcbiAgICBpZiAoIWhhc1N0YXJ0ZWQgfHwgIWRhdGEgfHwgdHlwZW9mIGRhdGEucGVyY2VudCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBkYXRhLnBlcmNlbnQ7XG4gICAgY29uc3QgY29tcGxldGVkID0gcHJvZ3Jlc3MgPj0gMC45ODtcbiAgICBzZW5kUHJvZ3Jlc3MocHJvZ3Jlc3MsIGNvbXBsZXRlZCwgY29tcGxldGVkKTtcbiAgfSk7XG5cbiAgcGxheWVyLm9uKCdlbmRlZCcsICgpID0+IHtcbiAgICBzZW5kUHJvZ3Jlc3MoMSwgdHJ1ZSwgdHJ1ZSk7XG4gIH0pO1xufTtcblxuY29uc3QgaW5pdFZpbWVvUHJvZ3Jlc3NUcmFja2luZyA9ICgpID0+IHtcbiAgY29uc3QgY29udGFpbmVycyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZpZGVvX19wbGF5ZXJbZGF0YS1wcm9ncmFtLWlkXScpKTtcbiAgaWYgKCFjb250YWluZXJzLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxvYWRWaW1lb0FwaSgpXG4gICAgLnRoZW4oKFZpbWVvKSA9PiB7XG4gICAgICBjb250YWluZXJzLmZvckVhY2goKGNvbnRhaW5lcikgPT4gaW5pdFZpbWVvUHJvZ3Jlc3NQbGF5ZXIoY29udGFpbmVyLCBWaW1lbykpO1xuICAgIH0pXG4gICAgLmNhdGNoKCgpID0+IHt9KTtcbn07XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBpbml0VmltZW9Qcm9ncmVzc1RyYWNraW5nKTtcbiIsIi8qKlxuICogd2hhdC1pbnB1dCAtIEEgZ2xvYmFsIHV0aWxpdHkgZm9yIHRyYWNraW5nIHRoZSBjdXJyZW50IGlucHV0IG1ldGhvZCAobW91c2UsIGtleWJvYXJkIG9yIHRvdWNoKS5cbiAqIEB2ZXJzaW9uIHY1LjIuMTJcbiAqIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS90ZW4xc2V2ZW4vd2hhdC1pbnB1dFxuICogQGxpY2Vuc2UgTUlUXG4gKi9cbihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwid2hhdElucHV0XCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIndoYXRJbnB1dFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ3aGF0SW5wdXRcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAvKlxuXHQgICAqIGJhaWwgb3V0IGlmIHRoZXJlIGlzIG5vIGRvY3VtZW50IG9yIHdpbmRvd1xuXHQgICAqIChpLmUuIGluIGEgbm9kZS9ub24tRE9NIGVudmlyb25tZW50KVxuXHQgICAqXG5cdCAgICogUmV0dXJuIGEgc3R1YmJlZCBBUEkgaW5zdGVhZFxuXHQgICAqL1xuXHQgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAvLyBhbHdheXMgcmV0dXJuIFwiaW5pdGlhbFwiIGJlY2F1c2Ugbm8gaW50ZXJhY3Rpb24gd2lsbCBldmVyIGJlIGRldGVjdGVkXG5cdCAgICAgIGFzazogZnVuY3Rpb24gYXNrKCkge1xuXHQgICAgICAgIHJldHVybiAnaW5pdGlhbCc7XG5cdCAgICAgIH0sXG5cblx0ICAgICAgLy8gYWx3YXlzIHJldHVybiBudWxsXG5cdCAgICAgIGVsZW1lbnQ6IGZ1bmN0aW9uIGVsZW1lbnQoKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH0sXG5cblx0ICAgICAgLy8gbm8tb3Bcblx0ICAgICAgaWdub3JlS2V5czogZnVuY3Rpb24gaWdub3JlS2V5cygpIHt9LFxuXG5cdCAgICAgIC8vIG5vLW9wXG5cdCAgICAgIHNwZWNpZmljS2V5czogZnVuY3Rpb24gc3BlY2lmaWNLZXlzKCkge30sXG5cblx0ICAgICAgLy8gbm8tb3Bcblx0ICAgICAgcmVnaXN0ZXJPbkNoYW5nZTogZnVuY3Rpb24gcmVnaXN0ZXJPbkNoYW5nZSgpIHt9LFxuXG5cdCAgICAgIC8vIG5vLW9wXG5cdCAgICAgIHVuUmVnaXN0ZXJPbkNoYW5nZTogZnVuY3Rpb24gdW5SZWdpc3Rlck9uQ2hhbmdlKCkge31cblx0ICAgIH07XG5cdCAgfVxuXG5cdCAgLypcblx0ICAgKiB2YXJpYWJsZXNcblx0ICAgKi9cblxuXHQgIC8vIGNhY2hlIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuXHQgIHZhciBkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cdCAgLy8gY3VycmVudGx5IGZvY3VzZWQgZG9tIGVsZW1lbnRcblx0ICB2YXIgY3VycmVudEVsZW1lbnQgPSBudWxsO1xuXG5cdCAgLy8gbGFzdCB1c2VkIGlucHV0IHR5cGVcblx0ICB2YXIgY3VycmVudElucHV0ID0gJ2luaXRpYWwnO1xuXG5cdCAgLy8gbGFzdCB1c2VkIGlucHV0IGludGVudFxuXHQgIHZhciBjdXJyZW50SW50ZW50ID0gY3VycmVudElucHV0O1xuXG5cdCAgLy8gVU5JWCB0aW1lc3RhbXAgb2YgY3VycmVudCBldmVudFxuXHQgIHZhciBjdXJyZW50VGltZXN0YW1wID0gRGF0ZS5ub3coKTtcblxuXHQgIC8vIGNoZWNrIGZvciBhIGBkYXRhLXdoYXRwZXJzaXN0YCBhdHRyaWJ1dGUgb24gZWl0aGVyIHRoZSBgaHRtbGAgb3IgYGJvZHlgIGVsZW1lbnRzLCBkZWZhdWx0cyB0byBgdHJ1ZWBcblx0ICB2YXIgc2hvdWxkUGVyc2lzdCA9IGZhbHNlO1xuXG5cdCAgLy8gZm9ybSBpbnB1dCB0eXBlc1xuXHQgIHZhciBmb3JtSW5wdXRzID0gWydidXR0b24nLCAnaW5wdXQnLCAnc2VsZWN0JywgJ3RleHRhcmVhJ107XG5cblx0ICAvLyBlbXB0eSBhcnJheSBmb3IgaG9sZGluZyBjYWxsYmFjayBmdW5jdGlvbnNcblx0ICB2YXIgZnVuY3Rpb25MaXN0ID0gW107XG5cblx0ICAvLyBsaXN0IG9mIG1vZGlmaWVyIGtleXMgY29tbW9ubHkgdXNlZCB3aXRoIHRoZSBtb3VzZSBhbmRcblx0ICAvLyBjYW4gYmUgc2FmZWx5IGlnbm9yZWQgdG8gcHJldmVudCBmYWxzZSBrZXlib2FyZCBkZXRlY3Rpb25cblx0ICB2YXIgaWdub3JlTWFwID0gWzE2LCAvLyBzaGlmdFxuXHQgIDE3LCAvLyBjb250cm9sXG5cdCAgMTgsIC8vIGFsdFxuXHQgIDkxLCAvLyBXaW5kb3dzIGtleSAvIGxlZnQgQXBwbGUgY21kXG5cdCAgOTMgLy8gV2luZG93cyBtZW51IC8gcmlnaHQgQXBwbGUgY21kXG5cdCAgXTtcblxuXHQgIHZhciBzcGVjaWZpY01hcCA9IFtdO1xuXG5cdCAgLy8gbWFwcGluZyBvZiBldmVudHMgdG8gaW5wdXQgdHlwZXNcblx0ICB2YXIgaW5wdXRNYXAgPSB7XG5cdCAgICBrZXlkb3duOiAna2V5Ym9hcmQnLFxuXHQgICAga2V5dXA6ICdrZXlib2FyZCcsXG5cdCAgICBtb3VzZWRvd246ICdtb3VzZScsXG5cdCAgICBtb3VzZW1vdmU6ICdtb3VzZScsXG5cdCAgICBNU1BvaW50ZXJEb3duOiAncG9pbnRlcicsXG5cdCAgICBNU1BvaW50ZXJNb3ZlOiAncG9pbnRlcicsXG5cdCAgICBwb2ludGVyZG93bjogJ3BvaW50ZXInLFxuXHQgICAgcG9pbnRlcm1vdmU6ICdwb2ludGVyJyxcblx0ICAgIHRvdWNoc3RhcnQ6ICd0b3VjaCcsXG5cdCAgICB0b3VjaGVuZDogJ3RvdWNoJ1xuXG5cdCAgICAvLyBib29sZWFuOiB0cnVlIGlmIHRoZSBwYWdlIGlzIGJlaW5nIHNjcm9sbGVkXG5cdCAgfTt2YXIgaXNTY3JvbGxpbmcgPSBmYWxzZTtcblxuXHQgIC8vIHN0b3JlIGN1cnJlbnQgbW91c2UgcG9zaXRpb25cblx0ICB2YXIgbW91c2VQb3MgPSB7XG5cdCAgICB4OiBudWxsLFxuXHQgICAgeTogbnVsbFxuXG5cdCAgICAvLyBtYXAgb2YgSUUgMTAgcG9pbnRlciBldmVudHNcblx0ICB9O3ZhciBwb2ludGVyTWFwID0ge1xuXHQgICAgMjogJ3RvdWNoJyxcblx0ICAgIDM6ICd0b3VjaCcsIC8vIHRyZWF0IHBlbiBsaWtlIHRvdWNoXG5cdCAgICA0OiAnbW91c2UnXG5cblx0ICAgIC8vIGNoZWNrIHN1cHBvcnQgZm9yIHBhc3NpdmUgZXZlbnQgbGlzdGVuZXJzXG5cdCAgfTt2YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG5cblx0ICB0cnkge1xuXHQgICAgdmFyIG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRzKTtcblx0ICB9IGNhdGNoIChlKSB7fVxuXHQgIC8vIGZhaWwgc2lsZW50bHlcblxuXG5cdCAgLypcblx0ICAgKiBzZXQgdXBcblx0ICAgKi9cblxuXHQgIHZhciBzZXRVcCA9IGZ1bmN0aW9uIHNldFVwKCkge1xuXHQgICAgLy8gYWRkIGNvcnJlY3QgbW91c2Ugd2hlZWwgZXZlbnQgbWFwcGluZyB0byBgaW5wdXRNYXBgXG5cdCAgICBpbnB1dE1hcFtkZXRlY3RXaGVlbCgpXSA9ICdtb3VzZSc7XG5cblx0ICAgIGFkZExpc3RlbmVycygpO1xuXHQgIH07XG5cblx0ICAvKlxuXHQgICAqIGV2ZW50c1xuXHQgICAqL1xuXG5cdCAgdmFyIGFkZExpc3RlbmVycyA9IGZ1bmN0aW9uIGFkZExpc3RlbmVycygpIHtcblx0ICAgIC8vIGBwb2ludGVybW92ZWAsIGBNU1BvaW50ZXJNb3ZlYCwgYG1vdXNlbW92ZWAgYW5kIG1vdXNlIHdoZWVsIGV2ZW50IGJpbmRpbmdcblx0ICAgIC8vIGNhbiBvbmx5IGRlbW9uc3RyYXRlIHBvdGVudGlhbCwgYnV0IG5vdCBhY3R1YWwsIGludGVyYWN0aW9uXG5cdCAgICAvLyBhbmQgYXJlIHRyZWF0ZWQgc2VwYXJhdGVseVxuXHQgICAgdmFyIG9wdGlvbnMgPSBzdXBwb3J0c1Bhc3NpdmUgPyB7IHBhc3NpdmU6IHRydWUsIGNhcHR1cmU6IHRydWUgfSA6IHRydWU7XG5cblx0ICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBzZXRQZXJzaXN0LCB0cnVlKTtcblxuXHQgICAgLy8gcG9pbnRlciBldmVudHMgKG1vdXNlLCBwZW4sIHRvdWNoKVxuXHQgICAgaWYgKHdpbmRvdy5Qb2ludGVyRXZlbnQpIHtcblx0ICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgc2V0SW5wdXQsIHRydWUpO1xuXHQgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBzZXRJbnRlbnQsIHRydWUpO1xuXHQgICAgfSBlbHNlIGlmICh3aW5kb3cuTVNQb2ludGVyRXZlbnQpIHtcblx0ICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ01TUG9pbnRlckRvd24nLCBzZXRJbnB1dCwgdHJ1ZSk7XG5cdCAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdNU1BvaW50ZXJNb3ZlJywgc2V0SW50ZW50LCB0cnVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIG1vdXNlIGV2ZW50c1xuXHQgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc2V0SW5wdXQsIHRydWUpO1xuXHQgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgc2V0SW50ZW50LCB0cnVlKTtcblxuXHQgICAgICAvLyB0b3VjaCBldmVudHNcblx0ICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykge1xuXHQgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2V0SW5wdXQsIG9wdGlvbnMpO1xuXHQgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHNldElucHV0LCB0cnVlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICAvLyBtb3VzZSB3aGVlbFxuXHQgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZGV0ZWN0V2hlZWwoKSwgc2V0SW50ZW50LCBvcHRpb25zKTtcblxuXHQgICAgLy8ga2V5Ym9hcmQgZXZlbnRzXG5cdCAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHNldElucHV0LCB0cnVlKTtcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHNldElucHV0LCB0cnVlKTtcblxuXHQgICAgLy8gZm9jdXMgZXZlbnRzXG5cdCAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHNldEVsZW1lbnQsIHRydWUpO1xuXHQgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgY2xlYXJFbGVtZW50LCB0cnVlKTtcblx0ICB9O1xuXG5cdCAgLy8gY2hlY2tzIGlmIGlucHV0IHBlcnNpc3RlbmNlIHNob3VsZCBoYXBwZW4gYW5kXG5cdCAgLy8gZ2V0IHNhdmVkIHN0YXRlIGZyb20gc2Vzc2lvbiBzdG9yYWdlIGlmIHRydWUgKGRlZmF1bHRzIHRvIGBmYWxzZWApXG5cdCAgdmFyIHNldFBlcnNpc3QgPSBmdW5jdGlvbiBzZXRQZXJzaXN0KCkge1xuXHQgICAgc2hvdWxkUGVyc2lzdCA9ICEoZG9jRWxlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtd2hhdHBlcnNpc3QnKSA9PT0gJ2ZhbHNlJyB8fCBkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZSgnZGF0YS13aGF0cGVyc2lzdCcpID09PSAnZmFsc2UnKTtcblxuXHQgICAgaWYgKHNob3VsZFBlcnNpc3QpIHtcblx0ICAgICAgLy8gY2hlY2sgZm9yIHNlc3Npb24gdmFyaWFibGVzIGFuZCB1c2UgaWYgYXZhaWxhYmxlXG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd3aGF0LWlucHV0JykpIHtcblx0ICAgICAgICAgIGN1cnJlbnRJbnB1dCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd3aGF0LWlucHV0Jyk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd3aGF0LWludGVudCcpKSB7XG5cdCAgICAgICAgICBjdXJyZW50SW50ZW50ID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3doYXQtaW50ZW50Jyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgLy8gZmFpbCBzaWxlbnRseVxuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIC8vIGFsd2F5cyBydW4gdGhlc2Ugc28gYXQgbGVhc3QgYGluaXRpYWxgIHN0YXRlIGlzIHNldFxuXHQgICAgZG9VcGRhdGUoJ2lucHV0Jyk7XG5cdCAgICBkb1VwZGF0ZSgnaW50ZW50Jyk7XG5cdCAgfTtcblxuXHQgIC8vIGNoZWNrcyBjb25kaXRpb25zIGJlZm9yZSB1cGRhdGluZyBuZXcgaW5wdXRcblx0ICB2YXIgc2V0SW5wdXQgPSBmdW5jdGlvbiBzZXRJbnB1dChldmVudCkge1xuXHQgICAgdmFyIGV2ZW50S2V5ID0gZXZlbnQud2hpY2g7XG5cdCAgICB2YXIgdmFsdWUgPSBpbnB1dE1hcFtldmVudC50eXBlXTtcblxuXHQgICAgaWYgKHZhbHVlID09PSAncG9pbnRlcicpIHtcblx0ICAgICAgdmFsdWUgPSBwb2ludGVyVHlwZShldmVudCk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBpZ25vcmVNYXRjaCA9ICFzcGVjaWZpY01hcC5sZW5ndGggJiYgaWdub3JlTWFwLmluZGV4T2YoZXZlbnRLZXkpID09PSAtMTtcblxuXHQgICAgdmFyIHNwZWNpZmljTWF0Y2ggPSBzcGVjaWZpY01hcC5sZW5ndGggJiYgc3BlY2lmaWNNYXAuaW5kZXhPZihldmVudEtleSkgIT09IC0xO1xuXG5cdCAgICB2YXIgc2hvdWxkVXBkYXRlID0gdmFsdWUgPT09ICdrZXlib2FyZCcgJiYgZXZlbnRLZXkgJiYgKGlnbm9yZU1hdGNoIHx8IHNwZWNpZmljTWF0Y2gpIHx8IHZhbHVlID09PSAnbW91c2UnIHx8IHZhbHVlID09PSAndG91Y2gnO1xuXG5cdCAgICAvLyBwcmV2ZW50IHRvdWNoIGRldGVjdGlvbiBmcm9tIGJlaW5nIG92ZXJyaWRkZW4gYnkgZXZlbnQgZXhlY3V0aW9uIG9yZGVyXG5cdCAgICBpZiAodmFsaWRhdGVUb3VjaCh2YWx1ZSkpIHtcblx0ICAgICAgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGlmIChzaG91bGRVcGRhdGUgJiYgY3VycmVudElucHV0ICE9PSB2YWx1ZSkge1xuXHQgICAgICBjdXJyZW50SW5wdXQgPSB2YWx1ZTtcblxuXHQgICAgICBwZXJzaXN0SW5wdXQoJ2lucHV0JywgY3VycmVudElucHV0KTtcblx0ICAgICAgZG9VcGRhdGUoJ2lucHV0Jyk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChzaG91bGRVcGRhdGUgJiYgY3VycmVudEludGVudCAhPT0gdmFsdWUpIHtcblx0ICAgICAgLy8gcHJlc2VydmUgaW50ZW50IGZvciBrZXlib2FyZCBpbnRlcmFjdGlvbiB3aXRoIGZvcm0gZmllbGRzXG5cdCAgICAgIHZhciBhY3RpdmVFbGVtID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0ICAgICAgdmFyIG5vdEZvcm1JbnB1dCA9IGFjdGl2ZUVsZW0gJiYgYWN0aXZlRWxlbS5ub2RlTmFtZSAmJiAoZm9ybUlucHV0cy5pbmRleE9mKGFjdGl2ZUVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkgPT09IC0xIHx8IGFjdGl2ZUVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2J1dHRvbicgJiYgIWNoZWNrQ2xvc2VzdChhY3RpdmVFbGVtLCAnZm9ybScpKTtcblxuXHQgICAgICBpZiAobm90Rm9ybUlucHV0KSB7XG5cdCAgICAgICAgY3VycmVudEludGVudCA9IHZhbHVlO1xuXG5cdCAgICAgICAgcGVyc2lzdElucHV0KCdpbnRlbnQnLCBjdXJyZW50SW50ZW50KTtcblx0ICAgICAgICBkb1VwZGF0ZSgnaW50ZW50Jyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXG5cdCAgLy8gdXBkYXRlcyB0aGUgZG9jIGFuZCBgaW5wdXRUeXBlc2AgYXJyYXkgd2l0aCBuZXcgaW5wdXRcblx0ICB2YXIgZG9VcGRhdGUgPSBmdW5jdGlvbiBkb1VwZGF0ZSh3aGljaCkge1xuXHQgICAgZG9jRWxlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtd2hhdCcgKyB3aGljaCwgd2hpY2ggPT09ICdpbnB1dCcgPyBjdXJyZW50SW5wdXQgOiBjdXJyZW50SW50ZW50KTtcblxuXHQgICAgZmlyZUZ1bmN0aW9ucyh3aGljaCk7XG5cdCAgfTtcblxuXHQgIC8vIHVwZGF0ZXMgaW5wdXQgaW50ZW50IGZvciBgbW91c2Vtb3ZlYCBhbmQgYHBvaW50ZXJtb3ZlYFxuXHQgIHZhciBzZXRJbnRlbnQgPSBmdW5jdGlvbiBzZXRJbnRlbnQoZXZlbnQpIHtcblx0ICAgIHZhciB2YWx1ZSA9IGlucHV0TWFwW2V2ZW50LnR5cGVdO1xuXG5cdCAgICBpZiAodmFsdWUgPT09ICdwb2ludGVyJykge1xuXHQgICAgICB2YWx1ZSA9IHBvaW50ZXJUeXBlKGV2ZW50KTtcblx0ICAgIH1cblxuXHQgICAgLy8gdGVzdCB0byBzZWUgaWYgYG1vdXNlbW92ZWAgaGFwcGVuZWQgcmVsYXRpdmUgdG8gdGhlIHNjcmVlbiB0byBkZXRlY3Qgc2Nyb2xsaW5nIHZlcnN1cyBtb3VzZW1vdmVcblx0ICAgIGRldGVjdFNjcm9sbGluZyhldmVudCk7XG5cblx0ICAgIC8vIG9ubHkgZXhlY3V0ZSBpZiBzY3JvbGxpbmcgaXNuJ3QgaGFwcGVuaW5nXG5cdCAgICBpZiAoKCFpc1Njcm9sbGluZyAmJiAhdmFsaWRhdGVUb3VjaCh2YWx1ZSkgfHwgaXNTY3JvbGxpbmcgJiYgZXZlbnQudHlwZSA9PT0gJ3doZWVsJyB8fCBldmVudC50eXBlID09PSAnbW91c2V3aGVlbCcgfHwgZXZlbnQudHlwZSA9PT0gJ0RPTU1vdXNlU2Nyb2xsJykgJiYgY3VycmVudEludGVudCAhPT0gdmFsdWUpIHtcblx0ICAgICAgY3VycmVudEludGVudCA9IHZhbHVlO1xuXG5cdCAgICAgIHBlcnNpc3RJbnB1dCgnaW50ZW50JywgY3VycmVudEludGVudCk7XG5cdCAgICAgIGRvVXBkYXRlKCdpbnRlbnQnKTtcblx0ICAgIH1cblx0ICB9O1xuXG5cdCAgdmFyIHNldEVsZW1lbnQgPSBmdW5jdGlvbiBzZXRFbGVtZW50KGV2ZW50KSB7XG5cdCAgICBpZiAoIWV2ZW50LnRhcmdldC5ub2RlTmFtZSkge1xuXHQgICAgICAvLyBJZiBub2RlTmFtZSBpcyB1bmRlZmluZWQsIGNsZWFyIHRoZSBlbGVtZW50XG5cdCAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBjbGljayBpbnNpZGUgYW4gPHN2Zz4gZWxlbWVudC5cblx0ICAgICAgY2xlYXJFbGVtZW50KCk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgY3VycmVudEVsZW1lbnQgPSBldmVudC50YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgIGRvY0VsZW0uc2V0QXR0cmlidXRlKCdkYXRhLXdoYXRlbGVtZW50JywgY3VycmVudEVsZW1lbnQpO1xuXG5cdCAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdCAmJiBldmVudC50YXJnZXQuY2xhc3NMaXN0Lmxlbmd0aCkge1xuXHQgICAgICBkb2NFbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS13aGF0Y2xhc3NlcycsIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudG9TdHJpbmcoKS5yZXBsYWNlKCcgJywgJywnKSk7XG5cdCAgICB9XG5cdCAgfTtcblxuXHQgIHZhciBjbGVhckVsZW1lbnQgPSBmdW5jdGlvbiBjbGVhckVsZW1lbnQoKSB7XG5cdCAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XG5cblx0ICAgIGRvY0VsZW0ucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXdoYXRlbGVtZW50Jyk7XG5cdCAgICBkb2NFbGVtLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS13aGF0Y2xhc3NlcycpO1xuXHQgIH07XG5cblx0ICB2YXIgcGVyc2lzdElucHV0ID0gZnVuY3Rpb24gcGVyc2lzdElucHV0KHdoaWNoLCB2YWx1ZSkge1xuXHQgICAgaWYgKHNob3VsZFBlcnNpc3QpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnd2hhdC0nICsgd2hpY2gsIHZhbHVlKTtcblx0ICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIC8vIGZhaWwgc2lsZW50bHlcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cblx0ICAvKlxuXHQgICAqIHV0aWxpdGllc1xuXHQgICAqL1xuXG5cdCAgdmFyIHBvaW50ZXJUeXBlID0gZnVuY3Rpb24gcG9pbnRlclR5cGUoZXZlbnQpIHtcblx0ICAgIGlmICh0eXBlb2YgZXZlbnQucG9pbnRlclR5cGUgPT09ICdudW1iZXInKSB7XG5cdCAgICAgIHJldHVybiBwb2ludGVyTWFwW2V2ZW50LnBvaW50ZXJUeXBlXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIHRyZWF0IHBlbiBsaWtlIHRvdWNoXG5cdCAgICAgIHJldHVybiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicgPyAndG91Y2gnIDogZXZlbnQucG9pbnRlclR5cGU7XG5cdCAgICB9XG5cdCAgfTtcblxuXHQgIC8vIHByZXZlbnQgdG91Y2ggZGV0ZWN0aW9uIGZyb20gYmVpbmcgb3ZlcnJpZGRlbiBieSBldmVudCBleGVjdXRpb24gb3JkZXJcblx0ICB2YXIgdmFsaWRhdGVUb3VjaCA9IGZ1bmN0aW9uIHZhbGlkYXRlVG91Y2godmFsdWUpIHtcblx0ICAgIHZhciB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuXG5cdCAgICB2YXIgdG91Y2hJc1ZhbGlkID0gdmFsdWUgPT09ICdtb3VzZScgJiYgY3VycmVudElucHV0ID09PSAndG91Y2gnICYmIHRpbWVzdGFtcCAtIGN1cnJlbnRUaW1lc3RhbXAgPCAyMDA7XG5cblx0ICAgIGN1cnJlbnRUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XG5cblx0ICAgIHJldHVybiB0b3VjaElzVmFsaWQ7XG5cdCAgfTtcblxuXHQgIC8vIGRldGVjdCB2ZXJzaW9uIG9mIG1vdXNlIHdoZWVsIGV2ZW50IHRvIHVzZVxuXHQgIC8vIHZpYSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC93aGVlbF9ldmVudFxuXHQgIHZhciBkZXRlY3RXaGVlbCA9IGZ1bmN0aW9uIGRldGVjdFdoZWVsKCkge1xuXHQgICAgdmFyIHdoZWVsVHlwZSA9IG51bGw7XG5cblx0ICAgIC8vIE1vZGVybiBicm93c2VycyBzdXBwb3J0IFwid2hlZWxcIlxuXHQgICAgaWYgKCdvbndoZWVsJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSkge1xuXHQgICAgICB3aGVlbFR5cGUgPSAnd2hlZWwnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8gV2Via2l0IGFuZCBJRSBzdXBwb3J0IGF0IGxlYXN0IFwibW91c2V3aGVlbFwiXG5cdCAgICAgIC8vIG9yIGFzc3VtZSB0aGF0IHJlbWFpbmluZyBicm93c2VycyBhcmUgb2xkZXIgRmlyZWZveFxuXHQgICAgICB3aGVlbFR5cGUgPSBkb2N1bWVudC5vbm1vdXNld2hlZWwgIT09IHVuZGVmaW5lZCA/ICdtb3VzZXdoZWVsJyA6ICdET01Nb3VzZVNjcm9sbCc7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB3aGVlbFR5cGU7XG5cdCAgfTtcblxuXHQgIC8vIHJ1bnMgY2FsbGJhY2sgZnVuY3Rpb25zXG5cdCAgdmFyIGZpcmVGdW5jdGlvbnMgPSBmdW5jdGlvbiBmaXJlRnVuY3Rpb25zKHR5cGUpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmdW5jdGlvbkxpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgaWYgKGZ1bmN0aW9uTGlzdFtpXS50eXBlID09PSB0eXBlKSB7XG5cdCAgICAgICAgZnVuY3Rpb25MaXN0W2ldLmZuLmNhbGwodW5kZWZpbmVkLCB0eXBlID09PSAnaW5wdXQnID8gY3VycmVudElucHV0IDogY3VycmVudEludGVudCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXG5cdCAgLy8gZmluZHMgbWF0Y2hpbmcgZWxlbWVudCBpbiBhbiBvYmplY3Rcblx0ICB2YXIgb2JqUG9zID0gZnVuY3Rpb24gb2JqUG9zKG1hdGNoKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZnVuY3Rpb25MaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgIGlmIChmdW5jdGlvbkxpc3RbaV0uZm4gPT09IG1hdGNoKSB7XG5cdCAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXG5cdCAgdmFyIGRldGVjdFNjcm9sbGluZyA9IGZ1bmN0aW9uIGRldGVjdFNjcm9sbGluZyhldmVudCkge1xuXHQgICAgaWYgKG1vdXNlUG9zLnggIT09IGV2ZW50LnNjcmVlblggfHwgbW91c2VQb3MueSAhPT0gZXZlbnQuc2NyZWVuWSkge1xuXHQgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xuXG5cdCAgICAgIG1vdXNlUG9zLnggPSBldmVudC5zY3JlZW5YO1xuXHQgICAgICBtb3VzZVBvcy55ID0gZXZlbnQuc2NyZWVuWTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXG5cdCAgLy8gbWFudWFsIHZlcnNpb24gb2YgYGNsb3Nlc3QoKWBcblx0ICB2YXIgY2hlY2tDbG9zZXN0ID0gZnVuY3Rpb24gY2hlY2tDbG9zZXN0KGVsZW0sIHRhZykge1xuXHQgICAgdmFyIEVsZW1lbnRQcm90b3R5cGUgPSB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGU7XG5cblx0ICAgIGlmICghRWxlbWVudFByb3RvdHlwZS5tYXRjaGVzKSB7XG5cdCAgICAgIEVsZW1lbnRQcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnRQcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudFByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG5cdCAgICB9XG5cblx0ICAgIGlmICghRWxlbWVudFByb3RvdHlwZS5jbG9zZXN0KSB7XG5cdCAgICAgIGRvIHtcblx0ICAgICAgICBpZiAoZWxlbS5tYXRjaGVzKHRhZykpIHtcblx0ICAgICAgICAgIHJldHVybiBlbGVtO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGVsZW0gPSBlbGVtLnBhcmVudEVsZW1lbnQgfHwgZWxlbS5wYXJlbnROb2RlO1xuXHQgICAgICB9IHdoaWxlIChlbGVtICE9PSBudWxsICYmIGVsZW0ubm9kZVR5cGUgPT09IDEpO1xuXG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGVsZW0uY2xvc2VzdCh0YWcpO1xuXHQgICAgfVxuXHQgIH07XG5cblx0ICAvKlxuXHQgICAqIGluaXRcblx0ICAgKi9cblxuXHQgIC8vIGRvbid0IHN0YXJ0IHNjcmlwdCB1bmxlc3MgYnJvd3NlciBjdXRzIHRoZSBtdXN0YXJkXG5cdCAgLy8gKGFsc28gcGFzc2VzIGlmIHBvbHlmaWxscyBhcmUgdXNlZClcblx0ICBpZiAoJ2FkZEV2ZW50TGlzdGVuZXInIGluIHdpbmRvdyAmJiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuXHQgICAgc2V0VXAoKTtcblx0ICB9XG5cblx0ICAvKlxuXHQgICAqIGFwaVxuXHQgICAqL1xuXG5cdCAgcmV0dXJuIHtcblx0ICAgIC8vIHJldHVybnMgc3RyaW5nOiB0aGUgY3VycmVudCBpbnB1dCB0eXBlXG5cdCAgICAvLyBvcHQ6ICdpbnRlbnQnfCdpbnB1dCdcblx0ICAgIC8vICdpbnB1dCcgKGRlZmF1bHQpOiByZXR1cm5zIHRoZSBzYW1lIHZhbHVlIGFzIHRoZSBgZGF0YS13aGF0aW5wdXRgIGF0dHJpYnV0ZVxuXHQgICAgLy8gJ2ludGVudCc6IGluY2x1ZGVzIGBkYXRhLXdoYXRpbnRlbnRgIHZhbHVlIGlmIGl0J3MgZGlmZmVyZW50IHRoYW4gYGRhdGEtd2hhdGlucHV0YFxuXHQgICAgYXNrOiBmdW5jdGlvbiBhc2sob3B0KSB7XG5cdCAgICAgIHJldHVybiBvcHQgPT09ICdpbnRlbnQnID8gY3VycmVudEludGVudCA6IGN1cnJlbnRJbnB1dDtcblx0ICAgIH0sXG5cblx0ICAgIC8vIHJldHVybnMgc3RyaW5nOiB0aGUgY3VycmVudGx5IGZvY3VzZWQgZWxlbWVudCBvciBudWxsXG5cdCAgICBlbGVtZW50OiBmdW5jdGlvbiBlbGVtZW50KCkge1xuXHQgICAgICByZXR1cm4gY3VycmVudEVsZW1lbnQ7XG5cdCAgICB9LFxuXG5cdCAgICAvLyBvdmVyd3JpdGVzIGlnbm9yZWQga2V5cyB3aXRoIHByb3ZpZGVkIGFycmF5XG5cdCAgICBpZ25vcmVLZXlzOiBmdW5jdGlvbiBpZ25vcmVLZXlzKGFycikge1xuXHQgICAgICBpZ25vcmVNYXAgPSBhcnI7XG5cdCAgICB9LFxuXG5cdCAgICAvLyBvdmVyd3JpdGVzIHNwZWNpZmljIGNoYXIga2V5cyB0byB1cGRhdGUgb25cblx0ICAgIHNwZWNpZmljS2V5czogZnVuY3Rpb24gc3BlY2lmaWNLZXlzKGFycikge1xuXHQgICAgICBzcGVjaWZpY01hcCA9IGFycjtcblx0ICAgIH0sXG5cblx0ICAgIC8vIGF0dGFjaCBmdW5jdGlvbnMgdG8gaW5wdXQgYW5kIGludGVudCBcImV2ZW50c1wiXG5cdCAgICAvLyBmdW5jdDogZnVuY3Rpb24gdG8gZmlyZSBvbiBjaGFuZ2Vcblx0ICAgIC8vIGV2ZW50VHlwZTogJ2lucHV0J3wnaW50ZW50J1xuXHQgICAgcmVnaXN0ZXJPbkNoYW5nZTogZnVuY3Rpb24gcmVnaXN0ZXJPbkNoYW5nZShmbiwgZXZlbnRUeXBlKSB7XG5cdCAgICAgIGZ1bmN0aW9uTGlzdC5wdXNoKHtcblx0ICAgICAgICBmbjogZm4sXG5cdCAgICAgICAgdHlwZTogZXZlbnRUeXBlIHx8ICdpbnB1dCdcblx0ICAgICAgfSk7XG5cdCAgICB9LFxuXG5cdCAgICB1blJlZ2lzdGVyT25DaGFuZ2U6IGZ1bmN0aW9uIHVuUmVnaXN0ZXJPbkNoYW5nZShmbikge1xuXHQgICAgICB2YXIgcG9zaXRpb24gPSBvYmpQb3MoZm4pO1xuXG5cdCAgICAgIGlmIChwb3NpdGlvbiB8fCBwb3NpdGlvbiA9PT0gMCkge1xuXHQgICAgICAgIGZ1bmN0aW9uTGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICBjbGVhclN0b3JhZ2U6IGZ1bmN0aW9uIGNsZWFyU3RvcmFnZSgpIHtcblx0ICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0fSgpO1xuXG4vKioqLyB9KVxuLyoqKioqKi8gXSlcbn0pO1xuOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwidmFyIF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBqUXVlcnk7IiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuLy8gQ29yZSBGb3VuZGF0aW9uIFV0aWxpdGllcywgdXRpbGl6ZWQgaW4gYSBudW1iZXIgb2YgcGxhY2VzLlxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBmb3IgUlRMIHN1cHBvcnRcbiAgICovXG5mdW5jdGlvbiBydGwoKSB7XG4gIHJldHVybiAkKCdodG1sJykuYXR0cignZGlyJykgPT09ICdydGwnO1xufVxuXG4vKipcbiAqIHJldHVybnMgYSByYW5kb20gYmFzZS0zNiB1aWQgd2l0aCBuYW1lc3BhY2luZ1xuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gbGVuZ3RoIC0gbnVtYmVyIG9mIHJhbmRvbSBiYXNlLTM2IGRpZ2l0cyBkZXNpcmVkLiBJbmNyZWFzZSBmb3IgbW9yZSByYW5kb20gc3RyaW5ncy5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgLSBuYW1lIG9mIHBsdWdpbiB0byBiZSBpbmNvcnBvcmF0ZWQgaW4gdWlkLCBvcHRpb25hbC5cbiAqIEBkZWZhdWx0IHtTdHJpbmd9ICcnIC0gaWYgbm8gcGx1Z2luIG5hbWUgaXMgcHJvdmlkZWQsIG5vdGhpbmcgaXMgYXBwZW5kZWQgdG8gdGhlIHVpZC5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IC0gdW5pcXVlIGlkXG4gKi9cbmZ1bmN0aW9uIEdldFlvRGlnaXRzKGxlbmd0aCA9IDYsIG5hbWVzcGFjZSl7XG4gIGxldCBzdHIgPSAnJztcbiAgY29uc3QgY2hhcnMgPSAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JztcbiAgY29uc3QgY2hhcnNMZW5ndGggPSBjaGFycy5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBzdHIgKz0gY2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnNMZW5ndGgpXTtcbiAgfVxuICByZXR1cm4gbmFtZXNwYWNlID8gYCR7c3RyfS0ke25hbWVzcGFjZX1gIDogc3RyO1xufVxuXG4vKipcbiAqIEVzY2FwZSBhIHN0cmluZyBzbyBpdCBjYW4gYmUgdXNlZCBhcyBhIHJlZ2V4cCBwYXR0ZXJuXG4gKiBAZnVuY3Rpb25cbiAqIEBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzkzMTA3NTIvNDMxNzM4NFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgLSBzdHJpbmcgdG8gZXNjYXBlLlxuICogQHJldHVybnMge1N0cmluZ30gLSBlc2NhcGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBSZWdFeHBFc2NhcGUoc3RyKXtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLVtcXF17fSgpKis/LixcXFxcXiR8I1xcc10vZywgJ1xcXFwkJicpO1xufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uZW5kKCRlbGVtKXtcbiAgdmFyIHRyYW5zaXRpb25zID0ge1xuICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnLFxuICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICdNb3pUcmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnLFxuICAgICdPVHJhbnNpdGlvbic6ICdvdHJhbnNpdGlvbmVuZCdcbiAgfTtcbiAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIGVuZDtcblxuICBmb3IgKGxldCB0cmFuc2l0aW9uIGluIHRyYW5zaXRpb25zKXtcbiAgICBpZiAodHlwZW9mIGVsZW0uc3R5bGVbdHJhbnNpdGlvbl0gIT09ICd1bmRlZmluZWQnKXtcbiAgICAgIGVuZCA9IHRyYW5zaXRpb25zW3RyYW5zaXRpb25dO1xuICAgIH1cbiAgfVxuICBpZiAoZW5kKSB7XG4gICAgcmV0dXJuIGVuZDtcbiAgfSBlbHNlIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAkZWxlbS50cmlnZ2VySGFuZGxlcigndHJhbnNpdGlvbmVuZCcsIFskZWxlbV0pO1xuICAgIH0sIDEpO1xuICAgIHJldHVybiAndHJhbnNpdGlvbmVuZCc7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yIHdpbmRvdyBsb2FkLlxuICpcbiAqIElmIGAkZWxlbWAgaXMgcGFzc2VkLCBhbiBldmVudCB3aWxsIGJlIHRyaWdnZXJlZCBvbiBgJGVsZW1gLiBJZiB3aW5kb3cgaXMgYWxyZWFkeSBsb2FkZWQsIHRoZSBldmVudCB3aWxsIHN0aWxsIGJlIHRyaWdnZXJlZC5cbiAqIElmIGBoYW5kbGVyYCBpcyBwYXNzZWQsIGF0dGFjaCBpdCB0byB0aGUgZXZlbnQgb24gYCRlbGVtYC5cbiAqIENhbGxpbmcgYG9uTG9hZGAgd2l0aG91dCBoYW5kbGVyIGFsbG93cyB5b3UgdG8gZ2V0IHRoZSBldmVudCB0eXBlIHRoYXQgd2lsbCBiZSB0cmlnZ2VyZWQgYmVmb3JlIGF0dGFjaGluZyB0aGUgaGFuZGxlciBieSB5b3Vyc2VsZi5cbiAqIEBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbXSAkZWxlbSAtIGpRdWVyeSBlbGVtZW50IG9uIHdoaWNoIHRoZSBldmVudCB3aWxsIGJlIHRyaWdnZXJlZCBpZiBwYXNzZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbXSBoYW5kbGVyIC0gZnVuY3Rpb24gdG8gYXR0YWNoIHRvIHRoZSBldmVudC5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IC0gZXZlbnQgdHlwZSB0aGF0IHNob3VsZCBvciB3aWxsIGJlIHRyaWdnZXJlZC5cbiAqL1xuZnVuY3Rpb24gb25Mb2FkKCRlbGVtLCBoYW5kbGVyKSB7XG4gIGNvbnN0IGRpZExvYWQgPSBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnO1xuICBjb25zdCBldmVudFR5cGUgPSAoZGlkTG9hZCA/ICdfZGlkTG9hZCcgOiAnbG9hZCcpICsgJy56Zi51dGlsLm9uTG9hZCc7XG4gIGNvbnN0IGNiID0gKCkgPT4gJGVsZW0udHJpZ2dlckhhbmRsZXIoZXZlbnRUeXBlKTtcblxuICBpZiAoJGVsZW0pIHtcbiAgICBpZiAoaGFuZGxlcikgJGVsZW0ub25lKGV2ZW50VHlwZSwgaGFuZGxlcik7XG5cbiAgICBpZiAoZGlkTG9hZClcbiAgICAgIHNldFRpbWVvdXQoY2IpO1xuICAgIGVsc2VcbiAgICAgICQod2luZG93KS5vbmUoJ2xvYWQnLCBjYik7XG4gIH1cblxuICByZXR1cm4gZXZlbnRUeXBlO1xufVxuXG4vKipcbiAqIFJldHVucyBhbiBoYW5kbGVyIGZvciB0aGUgYG1vdXNlbGVhdmVgIHRoYXQgaWdub3JlIGRpc2FwcGVhcmVkIG1vdXNlcy5cbiAqXG4gKiBJZiB0aGUgbW91c2UgXCJkaXNhcHBlYXJlZFwiIGZyb20gdGhlIGRvY3VtZW50IChsaWtlIHdoZW4gZ29pbmcgb24gYSBicm93c2VyIFVJIGVsZW1lbnQsIFNlZSBodHRwczovL2dpdC5pby96Zi0xMTQxMCksXG4gKiB0aGUgZXZlbnQgaXMgaWdub3JlZC5cbiAqIC0gSWYgdGhlIGBpZ25vcmVMZWF2ZVdpbmRvd2AgaXMgYHRydWVgLCB0aGUgZXZlbnQgaXMgaWdub3JlZCB3aGVuIHRoZSB1c2VyIGFjdHVhbGx5IGxlZnQgdGhlIHdpbmRvd1xuICogICAobGlrZSBieSBzd2l0Y2hpbmcgdG8gYW4gb3RoZXIgd2luZG93IHdpdGggW0FsdF0rW1RhYl0pLlxuICogLSBJZiB0aGUgYGlnbm9yZVJlYXBwZWFyYCBpcyBgdHJ1ZWAsIHRoZSBldmVudCB3aWxsIGJlIGlnbm9yZWQgd2hlbiB0aGUgbW91c2Ugd2lsbCByZWFwcGVhciBsYXRlciBvbiB0aGUgZG9jdW1lbnRcbiAqICAgb3V0c2lkZSBvZiB0aGUgZWxlbWVudCBpdCBsZWZ0LlxuICpcbiAqIEBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtdIGhhbmRsZXIgLSBoYW5kbGVyIGZvciB0aGUgZmlsdGVyZWQgYG1vdXNlbGVhdmVgIGV2ZW50IHRvIHdhdGNoLlxuICogQHBhcmFtIHtPYmplY3R9IFtdIG9wdGlvbnMgLSBvYmplY3Qgb2Ygb3B0aW9uczpcbiAqIC0ge0Jvb2xlYW59IFtmYWxzZV0gaWdub3JlTGVhdmVXaW5kb3cgLSBhbHNvIGlnbm9yZSB3aGVuIHRoZSB1c2VyIHN3aXRjaGVkIHdpbmRvd3MuXG4gKiAtIHtCb29sZWFufSBbZmFsc2VdIGlnbm9yZVJlYXBwZWFyIC0gYWxzbyBpZ25vcmUgd2hlbiB0aGUgbW91c2UgcmVhcHBlYXJlZCBvdXRzaWRlIG9mIHRoZSBlbGVtZW50IGl0IGxlZnQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IC0gZmlsdGVyZWQgaGFuZGxlciB0byB1c2UgdG8gbGlzdGVuIG9uIHRoZSBgbW91c2VsZWF2ZWAgZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGlnbm9yZU1vdXNlZGlzYXBwZWFyKGhhbmRsZXIsIHsgaWdub3JlTGVhdmVXaW5kb3cgPSBmYWxzZSwgaWdub3JlUmVhcHBlYXIgPSBmYWxzZSB9ID0ge30pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGxlYXZlRXZlbnRIYW5kbGVyKGVMZWF2ZSwgLi4ucmVzdCkge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gaGFuZGxlci5iaW5kKHRoaXMsIGVMZWF2ZSwgLi4ucmVzdCk7XG5cbiAgICAvLyBUaGUgbW91c2UgbGVmdDogY2FsbCB0aGUgZ2l2ZW4gY2FsbGJhY2sgaWYgdGhlIG1vdXNlIGVudGVyZWQgZWxzZXdoZXJlXG4gICAgaWYgKGVMZWF2ZS5yZWxhdGVkVGFyZ2V0ICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvLyBPdGhlcndpc2UsIGNoZWNrIGlmIHRoZSBtb3VzZSBhY3R1YWxseSBsZWZ0IHRoZSB3aW5kb3cuXG4gICAgLy8gSW4gZmlyZWZveCBpZiB0aGUgdXNlciBzd2l0Y2hlZCBiZXR3ZWVuIHdpbmRvd3MsIHRoZSB3aW5kb3cgc2lsbCBoYXZlIHRoZSBmb2N1cyBieSB0aGUgdGltZVxuICAgIC8vIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuIFdlIGhhdmUgdG8gZGVib3VuY2UgdGhlIGV2ZW50IHRvIHRlc3QgdGhpcyBjYXNlLlxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gbGVhdmVFdmVudERlYm91bmNlcigpIHtcbiAgICAgIGlmICghaWdub3JlTGVhdmVXaW5kb3cgJiYgZG9jdW1lbnQuaGFzRm9jdXMgJiYgIWRvY3VtZW50Lmhhc0ZvY3VzKCkpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSwgd2FpdCBmb3IgdGhlIG1vdXNlIHRvIHJlZWFwZWFyIG91dHNpZGUgb2YgdGhlIGVsZW1lbnQsXG4gICAgICBpZiAoIWlnbm9yZVJlYXBwZWFyKSB7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uZSgnbW91c2VlbnRlcicsIGZ1bmN0aW9uIHJlZW50ZXJFdmVudEhhbmRsZXIoZVJlZW50ZXIpIHtcbiAgICAgICAgICBpZiAoISQoZUxlYXZlLmN1cnJlbnRUYXJnZXQpLmhhcyhlUmVlbnRlci50YXJnZXQpLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gRmlsbCB3aGVyZSB0aGUgbW91c2UgZmluYWxseSBlbnRlcmVkLlxuICAgICAgICAgICAgZUxlYXZlLnJlbGF0ZWRUYXJnZXQgPSBlUmVlbnRlci50YXJnZXQ7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9LCAwKTtcbiAgfTtcbn1cblxuXG5leHBvcnQgeyBydGwsIEdldFlvRGlnaXRzLCBSZWdFeHBFc2NhcGUsIHRyYW5zaXRpb25lbmQsIG9uTG9hZCwgaWdub3JlTW91c2VkaXNhcHBlYXIgfTtcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbi8vIERlZmF1bHQgc2V0IG9mIG1lZGlhIHF1ZXJpZXNcbi8vIGNvbnN0IGRlZmF1bHRRdWVyaWVzID0ge1xuLy8gICAnZGVmYXVsdCcgOiAnb25seSBzY3JlZW4nLFxuLy8gICBsYW5kc2NhcGUgOiAnb25seSBzY3JlZW4gYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKScsXG4vLyAgIHBvcnRyYWl0IDogJ29ubHkgc2NyZWVuIGFuZCAob3JpZW50YXRpb246IHBvcnRyYWl0KScsXG4vLyAgIHJldGluYSA6ICdvbmx5IHNjcmVlbiBhbmQgKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMiksJyArXG4vLyAgICAgJ29ubHkgc2NyZWVuIGFuZCAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiAyKSwnICtcbi8vICAgICAnb25seSBzY3JlZW4gYW5kICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyLzEpLCcgK1xuLy8gICAgICdvbmx5IHNjcmVlbiBhbmQgKG1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLCcgK1xuLy8gICAgICdvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAxOTJkcGkpLCcgK1xuLy8gICAgICdvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAyZHBweCknXG4vLyAgIH07XG5cblxuLy8gbWF0Y2hNZWRpYSgpIHBvbHlmaWxsIC0gVGVzdCBhIENTUyBtZWRpYSB0eXBlL3F1ZXJ5IGluIEpTLlxuLy8gQXV0aG9ycyAmIGNvcHlyaWdodCDCqSAyMDEyOiBTY290dCBKZWhsLCBQYXVsIElyaXNoLCBOaWNob2xhcyBaYWthcywgRGF2aWQgS25pZ2h0LiBNSVQgbGljZW5zZVxuLyogZXNsaW50LWRpc2FibGUgKi9cbndpbmRvdy5tYXRjaE1lZGlhIHx8ICh3aW5kb3cubWF0Y2hNZWRpYSA9IChmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8vIEZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgbWF0Y2hNZWRpdW0gYXBpIHN1Y2ggYXMgSUUgOSBhbmQgd2Via2l0XG4gIHZhciBzdHlsZU1lZGlhID0gKHdpbmRvdy5zdHlsZU1lZGlhIHx8IHdpbmRvdy5tZWRpYSk7XG5cbiAgLy8gRm9yIHRob3NlIHRoYXQgZG9uJ3Qgc3VwcG9ydCBtYXRjaE1lZGl1bVxuICBpZiAoIXN0eWxlTWVkaWEpIHtcbiAgICB2YXIgc3R5bGUgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyksXG4gICAgc2NyaXB0ICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF0sXG4gICAgaW5mbyAgICAgICAgPSBudWxsO1xuXG4gICAgc3R5bGUudHlwZSAgPSAndGV4dC9jc3MnO1xuICAgIHN0eWxlLmlkICAgID0gJ21hdGNobWVkaWFqcy10ZXN0JztcblxuICAgIGlmICghc2NyaXB0KSB7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NyaXB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHN0eWxlLCBzY3JpcHQpO1xuICAgIH1cblxuICAgIC8vICdzdHlsZS5jdXJyZW50U3R5bGUnIGlzIHVzZWQgYnkgSUUgPD0gOCBhbmQgJ3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlJyBmb3IgYWxsIG90aGVyIGJyb3dzZXJzXG4gICAgaW5mbyA9ICgnZ2V0Q29tcHV0ZWRTdHlsZScgaW4gd2luZG93KSAmJiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShzdHlsZSwgbnVsbCkgfHwgc3R5bGUuY3VycmVudFN0eWxlO1xuXG4gICAgc3R5bGVNZWRpYSA9IHtcbiAgICAgIG1hdGNoTWVkaXVtOiBmdW5jdGlvbiAobWVkaWEpIHtcbiAgICAgICAgdmFyIHRleHQgPSAnQG1lZGlhICcgKyBtZWRpYSArICd7ICNtYXRjaG1lZGlhanMtdGVzdCB7IHdpZHRoOiAxcHg7IH0gfSc7XG5cbiAgICAgICAgLy8gJ3N0eWxlLnN0eWxlU2hlZXQnIGlzIHVzZWQgYnkgSUUgPD0gOCBhbmQgJ3N0eWxlLnRleHRDb250ZW50JyBmb3IgYWxsIG90aGVyIGJyb3dzZXJzXG4gICAgICAgIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gdGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUZXN0IGlmIG1lZGlhIHF1ZXJ5IGlzIHRydWUgb3IgZmFsc2VcbiAgICAgICAgcmV0dXJuIGluZm8ud2lkdGggPT09ICcxcHgnO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24obWVkaWEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlczogc3R5bGVNZWRpYS5tYXRjaE1lZGl1bShtZWRpYSB8fCAnYWxsJyksXG4gICAgICBtZWRpYTogbWVkaWEgfHwgJ2FsbCdcbiAgICB9O1xuICB9O1xufSkoKSk7XG4vKiBlc2xpbnQtZW5hYmxlICovXG5cbnZhciBNZWRpYVF1ZXJ5ID0ge1xuICBxdWVyaWVzOiBbXSxcblxuICBjdXJyZW50OiAnJyxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIG1lZGlhIHF1ZXJ5IGhlbHBlciwgYnkgZXh0cmFjdGluZyB0aGUgYnJlYWtwb2ludCBsaXN0IGZyb20gdGhlIENTUyBhbmQgYWN0aXZhdGluZyB0aGUgYnJlYWtwb2ludCB3YXRjaGVyLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0KCkge1xuXG4gICAgLy8gbWFrZSBzdXJlIHRoZSBpbml0aWFsaXphdGlvbiBpcyBvbmx5IGRvbmUgb25jZSB3aGVuIGNhbGxpbmcgX2luaXQoKSBzZXZlcmFsIHRpbWVzXG4gICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciAkbWV0YSA9ICQoJ21ldGEuZm91bmRhdGlvbi1tcScpO1xuICAgIGlmKCEkbWV0YS5sZW5ndGgpe1xuICAgICAgJCgnPG1ldGEgY2xhc3M9XCJmb3VuZGF0aW9uLW1xXCIgbmFtZT1cImZvdW5kYXRpb24tbXFcIiBjb250ZW50PicpLmFwcGVuZFRvKGRvY3VtZW50LmhlYWQpO1xuICAgIH1cblxuICAgIHZhciBleHRyYWN0ZWRTdHlsZXMgPSAkKCcuZm91bmRhdGlvbi1tcScpLmNzcygnZm9udC1mYW1pbHknKTtcbiAgICB2YXIgbmFtZWRRdWVyaWVzO1xuXG4gICAgbmFtZWRRdWVyaWVzID0gcGFyc2VTdHlsZVRvT2JqZWN0KGV4dHJhY3RlZFN0eWxlcyk7XG5cbiAgICBzZWxmLnF1ZXJpZXMgPSBbXTsgLy8gcmVzZXRcblxuICAgIGZvciAodmFyIGtleSBpbiBuYW1lZFF1ZXJpZXMpIHtcbiAgICAgIGlmKG5hbWVkUXVlcmllcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHNlbGYucXVlcmllcy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgdmFsdWU6IGBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogJHtuYW1lZFF1ZXJpZXNba2V5XX0pYFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLl9nZXRDdXJyZW50U2l6ZSgpO1xuXG4gICAgdGhpcy5fd2F0Y2hlcigpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZWluaXRpYWxpemVzIHRoZSBtZWRpYSBxdWVyeSBoZWxwZXIuXG4gICAqIFVzZWZ1bCBpZiB5b3VyIENTUyBicmVha3BvaW50IGNvbmZpZ3VyYXRpb24gaGFzIGp1c3QgYmVlbiBsb2FkZWQgb3IgaGFzIGNoYW5nZWQgc2luY2UgdGhlIGluaXRpYWxpemF0aW9uLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZUluaXQoKSB7XG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgdGhpcy5faW5pdCgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHNjcmVlbiBpcyBhdCBsZWFzdCBhcyB3aWRlIGFzIGEgYnJlYWtwb2ludC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzaXplIC0gTmFtZSBvZiB0aGUgYnJlYWtwb2ludCB0byBjaGVjay5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgYnJlYWtwb2ludCBtYXRjaGVzLCBgZmFsc2VgIGlmIGl0J3Mgc21hbGxlci5cbiAgICovXG4gIGF0TGVhc3Qoc2l6ZSkge1xuICAgIHZhciBxdWVyeSA9IHRoaXMuZ2V0KHNpemUpO1xuXG4gICAgaWYgKHF1ZXJ5KSB7XG4gICAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEocXVlcnkpLm1hdGNoZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHNjcmVlbiBpcyB3aXRoaW4gdGhlIGdpdmVuIGJyZWFrcG9pbnQuXG4gICAqIElmIHNtYWxsZXIgdGhhbiB0aGUgYnJlYWtwb2ludCBvZiBsYXJnZXIgdGhhbiBpdHMgdXBwZXIgbGltaXQgaXQgcmV0dXJucyBmYWxzZS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzaXplIC0gTmFtZSBvZiB0aGUgYnJlYWtwb2ludCB0byBjaGVjay5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgYnJlYWtwb2ludCBtYXRjaGVzLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICovXG4gIG9ubHkoc2l6ZSkge1xuICAgIHJldHVybiBzaXplID09PSB0aGlzLl9nZXRDdXJyZW50U2l6ZSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHNjcmVlbiBpcyB3aXRoaW4gYSBicmVha3BvaW50IG9yIHNtYWxsZXIuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2l6ZSAtIE5hbWUgb2YgdGhlIGJyZWFrcG9pbnQgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGJyZWFrcG9pbnQgbWF0Y2hlcywgYGZhbHNlYCBpZiBpdCdzIGxhcmdlci5cbiAgICovXG4gIHVwVG8oc2l6ZSkge1xuICAgIGNvbnN0IG5leHRTaXplID0gdGhpcy5uZXh0KHNpemUpO1xuXG4gICAgLy8gSWYgdGhlIG5leHQgYnJlYWtwb2ludCBkb2VzIG5vdCBtYXRjaCwgdGhlIHNjcmVlbiBpcyBzbWFsbGVyIHRoYW5cbiAgICAvLyB0aGUgdXBwZXIgbGltaXQgb2YgdGhpcyBicmVha3BvaW50LlxuICAgIGlmIChuZXh0U2l6ZSkge1xuICAgICAgcmV0dXJuICF0aGlzLmF0TGVhc3QobmV4dFNpemUpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGlzIG5vIG5leHQgYnJlYWtwb2ludCwgdGhlIFwic2l6ZVwiIGJyZWFrcG9pbnQgZG9lcyBub3QgaGF2ZVxuICAgIC8vIGFuIHVwcGVyIGxpbWl0IGFuZCB0aGUgc2NyZWVuIHdpbGwgYWx3YXlzIGJlIHdpdGhpbiBpdCBvciBzbWFsbGVyLlxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHNjcmVlbiBtYXRjaGVzIHRvIGEgYnJlYWtwb2ludC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzaXplIC0gTmFtZSBvZiB0aGUgYnJlYWtwb2ludCB0byBjaGVjaywgZWl0aGVyICdzbWFsbCBvbmx5JyBvciAnc21hbGwnLiBPbWl0dGluZyAnb25seScgZmFsbHMgYmFjayB0byB1c2luZyBhdExlYXN0KCkgbWV0aG9kLlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBicmVha3BvaW50IG1hdGNoZXMsIGBmYWxzZWAgaWYgaXQgZG9lcyBub3QuXG4gICAqL1xuICBpcyhzaXplKSB7XG4gICAgY29uc3QgcGFydHMgPSBzaXplLnRyaW0oKS5zcGxpdCgnICcpLmZpbHRlcihwID0+ICEhcC5sZW5ndGgpO1xuICAgIGNvbnN0IFticFNpemUsIGJwTW9kaWZpZXIgPSAnJ10gPSBwYXJ0cztcblxuICAgIC8vIE9ubHkgdGhlIGJyZWFrcG9udFxuICAgIGlmIChicE1vZGlmaWVyID09PSAnb25seScpIHtcbiAgICAgIHJldHVybiB0aGlzLm9ubHkoYnBTaXplKTtcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgdGhlIGJyZWFrcG9pbnQgKGluY2x1ZGVkKVxuICAgIGlmICghYnBNb2RpZmllciB8fCBicE1vZGlmaWVyID09PSAndXAnKSB7XG4gICAgICByZXR1cm4gdGhpcy5hdExlYXN0KGJwU2l6ZSk7XG4gICAgfVxuICAgIC8vIFVwIHRvIHRoZSBicmVha3BvaW50IChpbmNsdWRlZClcbiAgICBpZiAoYnBNb2RpZmllciA9PT0gJ2Rvd24nKSB7XG4gICAgICByZXR1cm4gdGhpcy51cFRvKGJwU2l6ZSk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGBcbiAgICAgIEludmFsaWQgYnJlYWtwb2ludCBwYXNzZWQgdG8gTWVkaWFRdWVyeS5pcygpLlxuICAgICAgRXhwZWN0ZWQgYSBicmVha3BvaW50IG5hbWUgZm9ybWF0dGVkIGxpa2UgXCI8c2l6ZT4gPG1vZGlmaWVyPlwiLCBnb3QgXCIke3NpemV9XCIuXG4gICAgYCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1lZGlhIHF1ZXJ5IG9mIGEgYnJlYWtwb2ludC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzaXplIC0gTmFtZSBvZiB0aGUgYnJlYWtwb2ludCB0byBnZXQuXG4gICAqIEByZXR1cm5zIHtTdHJpbmd8bnVsbH0gLSBUaGUgbWVkaWEgcXVlcnkgb2YgdGhlIGJyZWFrcG9pbnQsIG9yIGBudWxsYCBpZiB0aGUgYnJlYWtwb2ludCBkb2Vzbid0IGV4aXN0LlxuICAgKi9cbiAgZ2V0KHNpemUpIHtcbiAgICBmb3IgKHZhciBpIGluIHRoaXMucXVlcmllcykge1xuICAgICAgaWYodGhpcy5xdWVyaWVzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIHZhciBxdWVyeSA9IHRoaXMucXVlcmllc1tpXTtcbiAgICAgICAgaWYgKHNpemUgPT09IHF1ZXJ5Lm5hbWUpIHJldHVybiBxdWVyeS52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBicmVha3BvaW50IGZvbGxvd2luZyB0aGUgZ2l2ZW4gYnJlYWtwb2ludC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzaXplIC0gTmFtZSBvZiB0aGUgYnJlYWtwb2ludC5cbiAgICogQHJldHVybnMge1N0cmluZ3xudWxsfSAtIFRoZSBuYW1lIG9mIHRoZSBmb2xsb3dpbmcgYnJlYWtwb2ludCwgb3IgYG51bGxgIGlmIHRoZSBwYXNzZWQgYnJlYWtwb2ludCB3YXMgdGhlIGxhc3Qgb25lLlxuICAgKi9cbiAgbmV4dChzaXplKSB7XG4gICAgY29uc3QgcXVlcnlJbmRleCA9IHRoaXMucXVlcmllcy5maW5kSW5kZXgoKHEpID0+IHRoaXMuX2dldFF1ZXJ5TmFtZShxKSA9PT0gc2l6ZSk7XG4gICAgaWYgKHF1ZXJ5SW5kZXggPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFxuICAgICAgICBVbmtub3duIGJyZWFrcG9pbnQgXCIke3NpemV9XCIgcGFzc2VkIHRvIE1lZGlhUXVlcnkubmV4dCgpLlxuICAgICAgICBFbnN1cmUgaXQgaXMgcHJlc2VudCBpbiB5b3VyIFNhc3MgXCIkYnJlYWtwb2ludHNcIiBzZXR0aW5nLlxuICAgICAgYCk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV4dFF1ZXJ5ID0gdGhpcy5xdWVyaWVzW3F1ZXJ5SW5kZXggKyAxXTtcbiAgICByZXR1cm4gbmV4dFF1ZXJ5ID8gbmV4dFF1ZXJ5Lm5hbWUgOiBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBicmVha3BvaW50IHJlbGF0ZWQgdG8gdGhlIGdpdmVuIHZhbHVlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSB2YWx1ZSAtIEJyZWFrcG9pbnQgbmFtZSBvciBxdWVyeSBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IE5hbWUgb2YgdGhlIGJyZWFrcG9pbnQuXG4gICAqL1xuICBfZ2V0UXVlcnlOYW1lKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpXG4gICAgICByZXR1cm4gdmFsdWUubmFtZTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBcbiAgICAgIEludmFsaWQgdmFsdWUgcGFzc2VkIHRvIE1lZGlhUXVlcnkuX2dldFF1ZXJ5TmFtZSgpLlxuICAgICAgRXhwZWN0ZWQgYSBicmVha3BvaW50IG5hbWUgKFN0cmluZykgb3IgYSBicmVha3BvaW50IHF1ZXJ5IChPYmplY3QpLCBnb3QgXCIke3ZhbHVlfVwiICgke3R5cGVvZiB2YWx1ZX0pXG4gICAgYCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgYnJlYWtwb2ludCBuYW1lIGJ5IHRlc3RpbmcgZXZlcnkgYnJlYWtwb2ludCBhbmQgcmV0dXJuaW5nIHRoZSBsYXN0IG9uZSB0byBtYXRjaCAodGhlIGJpZ2dlc3Qgb25lKS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IE5hbWUgb2YgdGhlIGN1cnJlbnQgYnJlYWtwb2ludC5cbiAgICovXG4gIF9nZXRDdXJyZW50U2l6ZSgpIHtcbiAgICB2YXIgbWF0Y2hlZDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5xdWVyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJpZXNbaV07XG5cbiAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShxdWVyeS52YWx1ZSkubWF0Y2hlcykge1xuICAgICAgICBtYXRjaGVkID0gcXVlcnk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoZWQgJiYgdGhpcy5fZ2V0UXVlcnlOYW1lKG1hdGNoZWQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgdGhlIGJyZWFrcG9pbnQgd2F0Y2hlciwgd2hpY2ggZmlyZXMgYW4gZXZlbnQgb24gdGhlIHdpbmRvdyB3aGVuZXZlciB0aGUgYnJlYWtwb2ludCBjaGFuZ2VzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF93YXRjaGVyKCkge1xuICAgICQod2luZG93KS5vbigncmVzaXplLnpmLnRyaWdnZXInLCAoKSA9PiB7XG4gICAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuX2dldEN1cnJlbnRTaXplKCksIGN1cnJlbnRTaXplID0gdGhpcy5jdXJyZW50O1xuXG4gICAgICBpZiAobmV3U2l6ZSAhPT0gY3VycmVudFNpemUpIHtcbiAgICAgICAgLy8gQ2hhbmdlIHRoZSBjdXJyZW50IG1lZGlhIHF1ZXJ5XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG5ld1NpemU7XG5cbiAgICAgICAgLy8gQnJvYWRjYXN0IHRoZSBtZWRpYSBxdWVyeSBjaGFuZ2Ugb24gdGhlIHdpbmRvd1xuICAgICAgICAkKHdpbmRvdykudHJpZ2dlcignY2hhbmdlZC56Zi5tZWRpYXF1ZXJ5JywgW25ld1NpemUsIGN1cnJlbnRTaXplXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cblxuXG4vLyBUaGFuayB5b3U6IGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvcXVlcnktc3RyaW5nXG5mdW5jdGlvbiBwYXJzZVN0eWxlVG9PYmplY3Qoc3RyKSB7XG4gIHZhciBzdHlsZU9iamVjdCA9IHt9O1xuXG4gIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzdHlsZU9iamVjdDtcbiAgfVxuXG4gIHN0ciA9IHN0ci50cmltKCkuc2xpY2UoMSwgLTEpOyAvLyBicm93c2VycyByZS1xdW90ZSBzdHJpbmcgc3R5bGUgdmFsdWVzXG5cbiAgaWYgKCFzdHIpIHtcbiAgICByZXR1cm4gc3R5bGVPYmplY3Q7XG4gIH1cblxuICBzdHlsZU9iamVjdCA9IHN0ci5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbihyZXQsIHBhcmFtKSB7XG4gICAgdmFyIHBhcnRzID0gcGFyYW0ucmVwbGFjZSgvXFwrL2csICcgJykuc3BsaXQoJz0nKTtcbiAgICB2YXIga2V5ID0gcGFydHNbMF07XG4gICAgdmFyIHZhbCA9IHBhcnRzWzFdO1xuICAgIGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChrZXkpO1xuXG4gICAgLy8gbWlzc2luZyBgPWAgc2hvdWxkIGJlIGBudWxsYDpcbiAgICAvLyBodHRwOi8vdzMub3JnL1RSLzIwMTIvV0QtdXJsLTIwMTIwNTI0LyNjb2xsZWN0LXVybC1wYXJhbWV0ZXJzXG4gICAgdmFsID0gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogZGVjb2RlVVJJQ29tcG9uZW50KHZhbCk7XG5cbiAgICBpZiAoIXJldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXRba2V5XSA9IHZhbDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmV0W2tleV0pKSB7XG4gICAgICByZXRba2V5XS5wdXNoKHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldFtrZXldID0gW3JldFtrZXldLCB2YWxdO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9LCB7fSk7XG5cbiAgcmV0dXJuIHN0eWxlT2JqZWN0O1xufVxuXG5leHBvcnQge01lZGlhUXVlcnl9O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IEdldFlvRGlnaXRzIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUudXRpbHMnO1xuaW1wb3J0IHsgTWVkaWFRdWVyeSB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLm1lZGlhUXVlcnknO1xuXG52YXIgRk9VTkRBVElPTl9WRVJTSU9OID0gJzYuNy41JztcblxuLy8gR2xvYmFsIEZvdW5kYXRpb24gb2JqZWN0XG4vLyBUaGlzIGlzIGF0dGFjaGVkIHRvIHRoZSB3aW5kb3csIG9yIHVzZWQgYXMgYSBtb2R1bGUgZm9yIEFNRC9Ccm93c2VyaWZ5XG52YXIgRm91bmRhdGlvbiA9IHtcbiAgdmVyc2lvbjogRk9VTkRBVElPTl9WRVJTSU9OLFxuXG4gIC8qKlxuICAgKiBTdG9yZXMgaW5pdGlhbGl6ZWQgcGx1Z2lucy5cbiAgICovXG4gIF9wbHVnaW5zOiB7fSxcblxuICAvKipcbiAgICogU3RvcmVzIGdlbmVyYXRlZCB1bmlxdWUgaWRzIGZvciBwbHVnaW4gaW5zdGFuY2VzXG4gICAqL1xuICBfdXVpZHM6IFtdLFxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGEgRm91bmRhdGlvbiBwbHVnaW4sIGFkZGluZyBpdCB0byB0aGUgYEZvdW5kYXRpb25gIG5hbWVzcGFjZSBhbmQgdGhlIGxpc3Qgb2YgcGx1Z2lucyB0byBpbml0aWFsaXplIHdoZW4gcmVmbG93aW5nLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGx1Z2luIC0gVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBwbHVnaW4uXG4gICAqL1xuICBwbHVnaW46IGZ1bmN0aW9uKHBsdWdpbiwgbmFtZSkge1xuICAgIC8vIE9iamVjdCBrZXkgdG8gdXNlIHdoZW4gYWRkaW5nIHRvIGdsb2JhbCBGb3VuZGF0aW9uIG9iamVjdFxuICAgIC8vIEV4YW1wbGVzOiBGb3VuZGF0aW9uLlJldmVhbCwgRm91bmRhdGlvbi5PZmZDYW52YXNcbiAgICB2YXIgY2xhc3NOYW1lID0gKG5hbWUgfHwgZnVuY3Rpb25OYW1lKHBsdWdpbikpO1xuICAgIC8vIE9iamVjdCBrZXkgdG8gdXNlIHdoZW4gc3RvcmluZyB0aGUgcGx1Z2luLCBhbHNvIHVzZWQgdG8gY3JlYXRlIHRoZSBpZGVudGlmeWluZyBkYXRhIGF0dHJpYnV0ZSBmb3IgdGhlIHBsdWdpblxuICAgIC8vIEV4YW1wbGVzOiBkYXRhLXJldmVhbCwgZGF0YS1vZmYtY2FudmFzXG4gICAgdmFyIGF0dHJOYW1lICA9IGh5cGhlbmF0ZShjbGFzc05hbWUpO1xuXG4gICAgLy8gQWRkIHRvIHRoZSBGb3VuZGF0aW9uIG9iamVjdCBhbmQgdGhlIHBsdWdpbnMgbGlzdCAoZm9yIHJlZmxvd2luZylcbiAgICB0aGlzLl9wbHVnaW5zW2F0dHJOYW1lXSA9IHRoaXNbY2xhc3NOYW1lXSA9IHBsdWdpbjtcbiAgfSxcbiAgLyoqXG4gICAqIEBmdW5jdGlvblxuICAgKiBQb3B1bGF0ZXMgdGhlIF91dWlkcyBhcnJheSB3aXRoIHBvaW50ZXJzIHRvIGVhY2ggaW5kaXZpZHVhbCBwbHVnaW4gaW5zdGFuY2UuXG4gICAqIEFkZHMgdGhlIGB6ZlBsdWdpbmAgZGF0YS1hdHRyaWJ1dGUgdG8gcHJvZ3JhbW1hdGljYWxseSBjcmVhdGVkIHBsdWdpbnMgdG8gYWxsb3cgdXNlIG9mICQoc2VsZWN0b3IpLmZvdW5kYXRpb24obWV0aG9kKSBjYWxscy5cbiAgICogQWxzbyBmaXJlcyB0aGUgaW5pdGlhbGl6YXRpb24gZXZlbnQgZm9yIGVhY2ggcGx1Z2luLCBjb25zb2xpZGF0aW5nIHJlcGV0aXRpdmUgY29kZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IHBsdWdpbiAtIGFuIGluc3RhbmNlIG9mIGEgcGx1Z2luLCB1c3VhbGx5IGB0aGlzYCBpbiBjb250ZXh0LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBwbHVnaW4sIHBhc3NlZCBhcyBhIGNhbWVsQ2FzZWQgc3RyaW5nLlxuICAgKiBAZmlyZXMgUGx1Z2luI2luaXRcbiAgICovXG4gIHJlZ2lzdGVyUGx1Z2luOiBmdW5jdGlvbihwbHVnaW4sIG5hbWUpe1xuICAgIHZhciBwbHVnaW5OYW1lID0gbmFtZSA/IGh5cGhlbmF0ZShuYW1lKSA6IGZ1bmN0aW9uTmFtZShwbHVnaW4uY29uc3RydWN0b3IpLnRvTG93ZXJDYXNlKCk7XG4gICAgcGx1Z2luLnV1aWQgPSBHZXRZb0RpZ2l0cyg2LCBwbHVnaW5OYW1lKTtcblxuICAgIGlmKCFwbHVnaW4uJGVsZW1lbnQuYXR0cihgZGF0YS0ke3BsdWdpbk5hbWV9YCkpeyBwbHVnaW4uJGVsZW1lbnQuYXR0cihgZGF0YS0ke3BsdWdpbk5hbWV9YCwgcGx1Z2luLnV1aWQpOyB9XG4gICAgaWYoIXBsdWdpbi4kZWxlbWVudC5kYXRhKCd6ZlBsdWdpbicpKXsgcGx1Z2luLiRlbGVtZW50LmRhdGEoJ3pmUGx1Z2luJywgcGx1Z2luKTsgfVxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIHBsdWdpbiBoYXMgaW5pdGlhbGl6ZWQuXG4gICAgICAgICAgICogQGV2ZW50IFBsdWdpbiNpbml0XG4gICAgICAgICAgICovXG4gICAgcGx1Z2luLiRlbGVtZW50LnRyaWdnZXIoYGluaXQuemYuJHtwbHVnaW5OYW1lfWApO1xuXG4gICAgdGhpcy5fdXVpZHMucHVzaChwbHVnaW4udXVpZCk7XG5cbiAgICByZXR1cm47XG4gIH0sXG4gIC8qKlxuICAgKiBAZnVuY3Rpb25cbiAgICogUmVtb3ZlcyB0aGUgcGx1Z2lucyB1dWlkIGZyb20gdGhlIF91dWlkcyBhcnJheS5cbiAgICogUmVtb3ZlcyB0aGUgemZQbHVnaW4gZGF0YSBhdHRyaWJ1dGUsIGFzIHdlbGwgYXMgdGhlIGRhdGEtcGx1Z2luLW5hbWUgYXR0cmlidXRlLlxuICAgKiBBbHNvIGZpcmVzIHRoZSBkZXN0cm95ZWQgZXZlbnQgZm9yIHRoZSBwbHVnaW4sIGNvbnNvbGlkYXRpbmcgcmVwZXRpdGl2ZSBjb2RlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGx1Z2luIC0gYW4gaW5zdGFuY2Ugb2YgYSBwbHVnaW4sIHVzdWFsbHkgYHRoaXNgIGluIGNvbnRleHQuXG4gICAqIEBmaXJlcyBQbHVnaW4jZGVzdHJveWVkXG4gICAqL1xuICB1bnJlZ2lzdGVyUGx1Z2luOiBmdW5jdGlvbihwbHVnaW4pe1xuICAgIHZhciBwbHVnaW5OYW1lID0gaHlwaGVuYXRlKGZ1bmN0aW9uTmFtZShwbHVnaW4uJGVsZW1lbnQuZGF0YSgnemZQbHVnaW4nKS5jb25zdHJ1Y3RvcikpO1xuXG4gICAgdGhpcy5fdXVpZHMuc3BsaWNlKHRoaXMuX3V1aWRzLmluZGV4T2YocGx1Z2luLnV1aWQpLCAxKTtcbiAgICBwbHVnaW4uJGVsZW1lbnQucmVtb3ZlQXR0cihgZGF0YS0ke3BsdWdpbk5hbWV9YCkucmVtb3ZlRGF0YSgnemZQbHVnaW4nKVxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIHBsdWdpbiBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICAgICAgICogQGV2ZW50IFBsdWdpbiNkZXN0cm95ZWRcbiAgICAgICAgICAgKi9cbiAgICAgICAgICAudHJpZ2dlcihgZGVzdHJveWVkLnpmLiR7cGx1Z2luTmFtZX1gKTtcbiAgICBmb3IodmFyIHByb3AgaW4gcGx1Z2luKXtcbiAgICAgIGlmKHR5cGVvZiBwbHVnaW5bcHJvcF0gPT09ICdmdW5jdGlvbicpe1xuICAgICAgICBwbHVnaW5bcHJvcF0gPSBudWxsOyAvL2NsZWFuIHVwIHNjcmlwdCB0byBwcmVwIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfSxcblxuICAvKipcbiAgICogQGZ1bmN0aW9uXG4gICAqIENhdXNlcyBvbmUgb3IgbW9yZSBhY3RpdmUgcGx1Z2lucyB0byByZS1pbml0aWFsaXplLCByZXNldHRpbmcgZXZlbnQgbGlzdGVuZXJzLCByZWNhbGN1bGF0aW5nIHBvc2l0aW9ucywgZXRjLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGx1Z2lucyAtIG9wdGlvbmFsIHN0cmluZyBvZiBhbiBpbmRpdmlkdWFsIHBsdWdpbiBrZXksIGF0dGFpbmVkIGJ5IGNhbGxpbmcgYCQoZWxlbWVudCkuZGF0YSgncGx1Z2luTmFtZScpYCwgb3Igc3RyaW5nIG9mIGEgcGx1Z2luIGNsYXNzIGkuZS4gYCdkcm9wZG93bidgXG4gICAqIEBkZWZhdWx0IElmIG5vIGFyZ3VtZW50IGlzIHBhc3NlZCwgcmVmbG93IGFsbCBjdXJyZW50bHkgYWN0aXZlIHBsdWdpbnMuXG4gICAqL1xuICAgcmVJbml0OiBmdW5jdGlvbihwbHVnaW5zKXtcbiAgICAgdmFyIGlzSlEgPSBwbHVnaW5zIGluc3RhbmNlb2YgJDtcbiAgICAgdHJ5e1xuICAgICAgIGlmKGlzSlEpe1xuICAgICAgICAgcGx1Z2lucy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICQodGhpcykuZGF0YSgnemZQbHVnaW4nKS5faW5pdCgpO1xuICAgICAgICAgfSk7XG4gICAgICAgfWVsc2V7XG4gICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBwbHVnaW5zLFxuICAgICAgICAgX3RoaXMgPSB0aGlzLFxuICAgICAgICAgZm5zID0ge1xuICAgICAgICAgICAnb2JqZWN0JzogZnVuY3Rpb24ocGxncyl7XG4gICAgICAgICAgICAgcGxncy5mb3JFYWNoKGZ1bmN0aW9uKHApe1xuICAgICAgICAgICAgICAgcCA9IGh5cGhlbmF0ZShwKTtcbiAgICAgICAgICAgICAgICQoJ1tkYXRhLScrIHAgKyddJykuZm91bmRhdGlvbignX2luaXQnKTtcbiAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgfSxcbiAgICAgICAgICAgJ3N0cmluZyc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgcGx1Z2lucyA9IGh5cGhlbmF0ZShwbHVnaW5zKTtcbiAgICAgICAgICAgICAkKCdbZGF0YS0nKyBwbHVnaW5zICsnXScpLmZvdW5kYXRpb24oJ19pbml0Jyk7XG4gICAgICAgICAgIH0sXG4gICAgICAgICAgICd1bmRlZmluZWQnOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgIHRoaXMub2JqZWN0KE9iamVjdC5rZXlzKF90aGlzLl9wbHVnaW5zKSk7XG4gICAgICAgICAgIH1cbiAgICAgICAgIH07XG4gICAgICAgICBmbnNbdHlwZV0ocGx1Z2lucyk7XG4gICAgICAgfVxuICAgICB9Y2F0Y2goZXJyKXtcbiAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgIH1maW5hbGx5e1xuICAgICAgIHJldHVybiBwbHVnaW5zO1xuICAgICB9XG4gICB9LFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHBsdWdpbnMgb24gYW55IGVsZW1lbnRzIHdpdGhpbiBgZWxlbWAgKGFuZCBgZWxlbWAgaXRzZWxmKSB0aGF0IGFyZW4ndCBhbHJlYWR5IGluaXRpYWxpemVkLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbSAtIGpRdWVyeSBvYmplY3QgY29udGFpbmluZyB0aGUgZWxlbWVudCB0byBjaGVjayBpbnNpZGUuIEFsc28gY2hlY2tzIHRoZSBlbGVtZW50IGl0c2VsZiwgdW5sZXNzIGl0J3MgdGhlIGBkb2N1bWVudGAgb2JqZWN0LlxuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gcGx1Z2lucyAtIEEgbGlzdCBvZiBwbHVnaW5zIHRvIGluaXRpYWxpemUuIExlYXZlIHRoaXMgb3V0IHRvIGluaXRpYWxpemUgZXZlcnl0aGluZy5cbiAgICovXG4gIHJlZmxvdzogZnVuY3Rpb24oZWxlbSwgcGx1Z2lucykge1xuXG4gICAgLy8gSWYgcGx1Z2lucyBpcyB1bmRlZmluZWQsIGp1c3QgZ3JhYiBldmVyeXRoaW5nXG4gICAgaWYgKHR5cGVvZiBwbHVnaW5zID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcGx1Z2lucyA9IE9iamVjdC5rZXlzKHRoaXMuX3BsdWdpbnMpO1xuICAgIH1cbiAgICAvLyBJZiBwbHVnaW5zIGlzIGEgc3RyaW5nLCBjb252ZXJ0IGl0IHRvIGFuIGFycmF5IHdpdGggb25lIGl0ZW1cbiAgICBlbHNlIGlmICh0eXBlb2YgcGx1Z2lucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBsdWdpbnMgPSBbcGx1Z2luc107XG4gICAgfVxuXG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBlYWNoIHBsdWdpblxuICAgICQuZWFjaChwbHVnaW5zLCBmdW5jdGlvbihpLCBuYW1lKSB7XG4gICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgcGx1Z2luXG4gICAgICB2YXIgcGx1Z2luID0gX3RoaXMuX3BsdWdpbnNbbmFtZV07XG5cbiAgICAgIC8vIExvY2FsaXplIHRoZSBzZWFyY2ggdG8gYWxsIGVsZW1lbnRzIGluc2lkZSBlbGVtLCBhcyB3ZWxsIGFzIGVsZW0gaXRzZWxmLCB1bmxlc3MgZWxlbSA9PT0gZG9jdW1lbnRcbiAgICAgIHZhciAkZWxlbSA9ICQoZWxlbSkuZmluZCgnW2RhdGEtJytuYW1lKyddJykuYWRkQmFjaygnW2RhdGEtJytuYW1lKyddJykuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiAkKHRoaXMpLmRhdGEoXCJ6ZlBsdWdpblwiKSA9PT0gJ3VuZGVmaW5lZCc7XG4gICAgICB9KTtcblxuICAgICAgLy8gRm9yIGVhY2ggcGx1Z2luIGZvdW5kLCBpbml0aWFsaXplIGl0XG4gICAgICAkZWxlbS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJGVsID0gJCh0aGlzKSxcbiAgICAgICAgICAgIG9wdHMgPSB7IHJlZmxvdzogdHJ1ZSB9O1xuXG4gICAgICAgIGlmKCRlbC5hdHRyKCdkYXRhLW9wdGlvbnMnKSl7XG4gICAgICAgICAgJGVsLmF0dHIoJ2RhdGEtb3B0aW9ucycpLnNwbGl0KCc7JykuZm9yRWFjaChmdW5jdGlvbihvcHRpb24pe1xuICAgICAgICAgICAgdmFyIG9wdCA9IG9wdGlvbi5zcGxpdCgnOicpLm1hcChmdW5jdGlvbihlbCl7IHJldHVybiBlbC50cmltKCk7IH0pO1xuICAgICAgICAgICAgaWYob3B0WzBdKSBvcHRzW29wdFswXV0gPSBwYXJzZVZhbHVlKG9wdFsxXSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5e1xuICAgICAgICAgICRlbC5kYXRhKCd6ZlBsdWdpbicsIG5ldyBwbHVnaW4oJCh0aGlzKSwgb3B0cykpO1xuICAgICAgICB9Y2F0Y2goZXIpe1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXIpO1xuICAgICAgICB9ZmluYWxseXtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuICBnZXRGbk5hbWU6IGZ1bmN0aW9uTmFtZSxcblxuICBhZGRUb0pxdWVyeTogZnVuY3Rpb24oKSB7XG4gICAgLy8gVE9ETzogY29uc2lkZXIgbm90IG1ha2luZyB0aGlzIGEgalF1ZXJ5IGZ1bmN0aW9uXG4gICAgLy8gVE9ETzogbmVlZCB3YXkgdG8gcmVmbG93IHZzLiByZS1pbml0aWFsaXplXG4gICAgLyoqXG4gICAgICogVGhlIEZvdW5kYXRpb24galF1ZXJ5IG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gbWV0aG9kIC0gQW4gYWN0aW9uIHRvIHBlcmZvcm0gb24gdGhlIGN1cnJlbnQgalF1ZXJ5IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgZm91bmRhdGlvbiA9IGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgbWV0aG9kLFxuICAgICAgICAgICRub0pTID0gJCgnLm5vLWpzJyk7XG5cbiAgICAgIGlmKCRub0pTLmxlbmd0aCl7XG4gICAgICAgICRub0pTLnJlbW92ZUNsYXNzKCduby1qcycpO1xuICAgICAgfVxuXG4gICAgICBpZih0eXBlID09PSAndW5kZWZpbmVkJyl7Ly9uZWVkcyB0byBpbml0aWFsaXplIHRoZSBGb3VuZGF0aW9uIG9iamVjdCwgb3IgYW4gaW5kaXZpZHVhbCBwbHVnaW4uXG4gICAgICAgIE1lZGlhUXVlcnkuX2luaXQoKTtcbiAgICAgICAgRm91bmRhdGlvbi5yZWZsb3codGhpcyk7XG4gICAgICB9ZWxzZSBpZih0eXBlID09PSAnc3RyaW5nJyl7Ly9hbiBpbmRpdmlkdWFsIG1ldGhvZCB0byBpbnZva2Ugb24gYSBwbHVnaW4gb3IgZ3JvdXAgb2YgcGx1Z2luc1xuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7Ly9jb2xsZWN0IGFsbCB0aGUgYXJndW1lbnRzLCBpZiBuZWNlc3NhcnlcbiAgICAgICAgdmFyIHBsdWdDbGFzcyA9IHRoaXMuZGF0YSgnemZQbHVnaW4nKTsvL2RldGVybWluZSB0aGUgY2xhc3Mgb2YgcGx1Z2luXG5cbiAgICAgICAgaWYodHlwZW9mIHBsdWdDbGFzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHBsdWdDbGFzc1ttZXRob2RdICE9PSAndW5kZWZpbmVkJyl7Ly9tYWtlIHN1cmUgYm90aCB0aGUgY2xhc3MgYW5kIG1ldGhvZCBleGlzdFxuICAgICAgICAgIGlmKHRoaXMubGVuZ3RoID09PSAxKXsvL2lmIHRoZXJlJ3Mgb25seSBvbmUsIGNhbGwgaXQgZGlyZWN0bHkuXG4gICAgICAgICAgICAgIHBsdWdDbGFzc1ttZXRob2RdLmFwcGx5KHBsdWdDbGFzcywgYXJncyk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oaSwgZWwpey8vb3RoZXJ3aXNlIGxvb3AgdGhyb3VnaCB0aGUgalF1ZXJ5IGNvbGxlY3Rpb24gYW5kIGludm9rZSB0aGUgbWV0aG9kIG9uIGVhY2hcbiAgICAgICAgICAgICAgcGx1Z0NsYXNzW21ldGhvZF0uYXBwbHkoJChlbCkuZGF0YSgnemZQbHVnaW4nKSwgYXJncyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNley8vZXJyb3IgZm9yIG5vIGNsYXNzIG9yIG5vIG1ldGhvZFxuICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIldlJ3JlIHNvcnJ5LCAnXCIgKyBtZXRob2QgKyBcIicgaXMgbm90IGFuIGF2YWlsYWJsZSBtZXRob2QgZm9yIFwiICsgKHBsdWdDbGFzcyA/IGZ1bmN0aW9uTmFtZShwbHVnQ2xhc3MpIDogJ3RoaXMgZWxlbWVudCcpICsgJy4nKTtcbiAgICAgICAgfVxuICAgICAgfWVsc2V7Ly9lcnJvciBmb3IgaW52YWxpZCBhcmd1bWVudCB0eXBlXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFdlJ3JlIHNvcnJ5LCAke3R5cGV9IGlzIG5vdCBhIHZhbGlkIHBhcmFtZXRlci4gWW91IG11c3QgdXNlIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgbWV0aG9kIHlvdSB3aXNoIHRvIGludm9rZS5gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgJC5mbi5mb3VuZGF0aW9uID0gZm91bmRhdGlvbjtcbiAgICByZXR1cm4gJDtcbiAgfVxufTtcblxuRm91bmRhdGlvbi51dGlsID0ge1xuICAvKipcbiAgICogRnVuY3Rpb24gZm9yIGFwcGx5aW5nIGEgZGVib3VuY2UgZWZmZWN0IHRvIGEgZnVuY3Rpb24gY2FsbC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSBGdW5jdGlvbiB0byBiZSBjYWxsZWQgYXQgZW5kIG9mIHRpbWVvdXQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWxheSAtIFRpbWUgaW4gbXMgdG8gZGVsYXkgdGhlIGNhbGwgb2YgYGZ1bmNgLlxuICAgKiBAcmV0dXJucyBmdW5jdGlvblxuICAgKi9cbiAgdGhyb3R0bGU6IGZ1bmN0aW9uIChmdW5jLCBkZWxheSkge1xuICAgIHZhciB0aW1lciA9IG51bGw7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgICBpZiAodGltZXIgPT09IG51bGwpIHtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG5cbndpbmRvdy5Gb3VuZGF0aW9uID0gRm91bmRhdGlvbjtcblxuLy8gUG9seWZpbGwgZm9yIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuKGZ1bmN0aW9uKCkge1xuICBpZiAoIURhdGUubm93IHx8ICF3aW5kb3cuRGF0ZS5ub3cpXG4gICAgd2luZG93LkRhdGUubm93ID0gRGF0ZS5ub3cgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpOyB9O1xuXG4gIHZhciB2ZW5kb3JzID0gWyd3ZWJraXQnLCAnbW96J107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsraSkge1xuICAgICAgdmFyIHZwID0gdmVuZG9yc1tpXTtcbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdnArJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gKHdpbmRvd1t2cCsnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgd2luZG93W3ZwKydDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXSk7XG4gIH1cbiAgaWYgKC9pUChhZHxob25lfG9kKS4qT1MgNi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgICB8fCAhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAhd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgdmFyIGxhc3RUaW1lID0gMDtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBuZXh0VGltZSA9IE1hdGgubWF4KGxhc3RUaW1lICsgMTYsIG5vdyk7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjYWxsYmFjayhsYXN0VGltZSA9IG5leHRUaW1lKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRpbWUgLSBub3cpO1xuICAgIH07XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gY2xlYXJUaW1lb3V0O1xuICB9XG4gIC8qKlxuICAgKiBQb2x5ZmlsbCBmb3IgcGVyZm9ybWFuY2Uubm93LCByZXF1aXJlZCBieSByQUZcbiAgICovXG4gIGlmKCF3aW5kb3cucGVyZm9ybWFuY2UgfHwgIXdpbmRvdy5wZXJmb3JtYW5jZS5ub3cpe1xuICAgIHdpbmRvdy5wZXJmb3JtYW5jZSA9IHtcbiAgICAgIHN0YXJ0OiBEYXRlLm5vdygpLFxuICAgICAgbm93OiBmdW5jdGlvbigpeyByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnQ7IH1cbiAgICB9O1xuICB9XG59KSgpO1xuaWYgKCFGdW5jdGlvbi5wcm90b3R5cGUuYmluZCkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1leHRlbmQtbmF0aXZlICovXG4gIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24ob1RoaXMpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIGNsb3Nlc3QgdGhpbmcgcG9zc2libGUgdG8gdGhlIEVDTUFTY3JpcHQgNVxuICAgICAgLy8gaW50ZXJuYWwgSXNDYWxsYWJsZSBmdW5jdGlvblxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgLSB3aGF0IGlzIHRyeWluZyB0byBiZSBib3VuZCBpcyBub3QgY2FsbGFibGUnKTtcbiAgICB9XG5cbiAgICB2YXIgYUFyZ3MgICA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksXG4gICAgICAgIGZUb0JpbmQgPSB0aGlzLFxuICAgICAgICBmTk9QICAgID0gZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgZkJvdW5kICA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBmVG9CaW5kLmFwcGx5KHRoaXMgaW5zdGFuY2VvZiBmTk9QXG4gICAgICAgICAgICAgICAgID8gdGhpc1xuICAgICAgICAgICAgICAgICA6IG9UaGlzLFxuICAgICAgICAgICAgICAgICBhQXJncy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgICAgICB9O1xuXG4gICAgaWYgKHRoaXMucHJvdG90eXBlKSB7XG4gICAgICAvLyBuYXRpdmUgZnVuY3Rpb25zIGRvbid0IGhhdmUgYSBwcm90b3R5cGVcbiAgICAgIGZOT1AucHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG4gICAgfVxuICAgIGZCb3VuZC5wcm90b3R5cGUgPSBuZXcgZk5PUCgpO1xuXG4gICAgcmV0dXJuIGZCb3VuZDtcbiAgfTtcbn1cbi8vIFBvbHlmaWxsIHRvIGdldCB0aGUgbmFtZSBvZiBhIGZ1bmN0aW9uIGluIElFOVxuZnVuY3Rpb24gZnVuY3Rpb25OYW1lKGZuKSB7XG4gIGlmICh0eXBlb2YgRnVuY3Rpb24ucHJvdG90eXBlLm5hbWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIGZ1bmNOYW1lUmVnZXggPSAvZnVuY3Rpb25cXHMoW14oXXsxLH0pXFwoLztcbiAgICB2YXIgcmVzdWx0cyA9IChmdW5jTmFtZVJlZ2V4KS5leGVjKChmbikudG9TdHJpbmcoKSk7XG4gICAgcmV0dXJuIChyZXN1bHRzICYmIHJlc3VsdHMubGVuZ3RoID4gMSkgPyByZXN1bHRzWzFdLnRyaW0oKSA6IFwiXCI7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGZuLnByb3RvdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZm4uY29uc3RydWN0b3IubmFtZTtcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gZm4ucHJvdG90eXBlLmNvbnN0cnVjdG9yLm5hbWU7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhcnNlVmFsdWUoc3RyKXtcbiAgaWYgKCd0cnVlJyA9PT0gc3RyKSByZXR1cm4gdHJ1ZTtcbiAgZWxzZSBpZiAoJ2ZhbHNlJyA9PT0gc3RyKSByZXR1cm4gZmFsc2U7XG4gIGVsc2UgaWYgKCFpc05hTihzdHIgKiAxKSkgcmV0dXJuIHBhcnNlRmxvYXQoc3RyKTtcbiAgcmV0dXJuIHN0cjtcbn1cbi8vIENvbnZlcnQgUGFzY2FsQ2FzZSB0byBrZWJhYi1jYXNlXG4vLyBUaGFuayB5b3U6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg5NTU1ODBcbmZ1bmN0aW9uIGh5cGhlbmF0ZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5leHBvcnQge0ZvdW5kYXRpb259O1xuIiwidmFyIEJveCA9IHtcbiAgSW1Ob3RUb3VjaGluZ1lvdTogSW1Ob3RUb3VjaGluZ1lvdSxcbiAgT3ZlcmxhcEFyZWE6IE92ZXJsYXBBcmVhLFxuICBHZXREaW1lbnNpb25zOiBHZXREaW1lbnNpb25zLFxuICBHZXRFeHBsaWNpdE9mZnNldHM6IEdldEV4cGxpY2l0T2Zmc2V0c1xufVxuXG4vKipcbiAqIENvbXBhcmVzIHRoZSBkaW1lbnNpb25zIG9mIGFuIGVsZW1lbnQgdG8gYSBjb250YWluZXIgYW5kIGRldGVybWluZXMgY29sbGlzaW9uIGV2ZW50cyB3aXRoIGNvbnRhaW5lci5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIHRlc3QgZm9yIGNvbGxpc2lvbnMuXG4gKiBAcGFyYW0ge2pRdWVyeX0gcGFyZW50IC0galF1ZXJ5IG9iamVjdCB0byB1c2UgYXMgYm91bmRpbmcgY29udGFpbmVyLlxuICogQHBhcmFtIHtCb29sZWFufSBsck9ubHkgLSBzZXQgdG8gdHJ1ZSB0byBjaGVjayBsZWZ0IGFuZCByaWdodCB2YWx1ZXMgb25seS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdGJPbmx5IC0gc2V0IHRvIHRydWUgdG8gY2hlY2sgdG9wIGFuZCBib3R0b20gdmFsdWVzIG9ubHkuXG4gKiBAZGVmYXVsdCBpZiBubyBwYXJlbnQgb2JqZWN0IHBhc3NlZCwgZGV0ZWN0cyBjb2xsaXNpb25zIHdpdGggYHdpbmRvd2AuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSB0cnVlIGlmIGNvbGxpc2lvbiBmcmVlLCBmYWxzZSBpZiBhIGNvbGxpc2lvbiBpbiBhbnkgZGlyZWN0aW9uLlxuICovXG5mdW5jdGlvbiBJbU5vdFRvdWNoaW5nWW91KGVsZW1lbnQsIHBhcmVudCwgbHJPbmx5LCB0Yk9ubHksIGlnbm9yZUJvdHRvbSkge1xuICByZXR1cm4gT3ZlcmxhcEFyZWEoZWxlbWVudCwgcGFyZW50LCBsck9ubHksIHRiT25seSwgaWdub3JlQm90dG9tKSA9PT0gMDtcbn1cblxuZnVuY3Rpb24gT3ZlcmxhcEFyZWEoZWxlbWVudCwgcGFyZW50LCBsck9ubHksIHRiT25seSwgaWdub3JlQm90dG9tKSB7XG4gIHZhciBlbGVEaW1zID0gR2V0RGltZW5zaW9ucyhlbGVtZW50KSxcbiAgdG9wT3ZlciwgYm90dG9tT3ZlciwgbGVmdE92ZXIsIHJpZ2h0T3ZlcjtcbiAgaWYgKHBhcmVudCkge1xuICAgIHZhciBwYXJEaW1zID0gR2V0RGltZW5zaW9ucyhwYXJlbnQpO1xuXG4gICAgYm90dG9tT3ZlciA9IChwYXJEaW1zLmhlaWdodCArIHBhckRpbXMub2Zmc2V0LnRvcCkgLSAoZWxlRGltcy5vZmZzZXQudG9wICsgZWxlRGltcy5oZWlnaHQpO1xuICAgIHRvcE92ZXIgICAgPSBlbGVEaW1zLm9mZnNldC50b3AgLSBwYXJEaW1zLm9mZnNldC50b3A7XG4gICAgbGVmdE92ZXIgICA9IGVsZURpbXMub2Zmc2V0LmxlZnQgLSBwYXJEaW1zLm9mZnNldC5sZWZ0O1xuICAgIHJpZ2h0T3ZlciAgPSAocGFyRGltcy53aWR0aCArIHBhckRpbXMub2Zmc2V0LmxlZnQpIC0gKGVsZURpbXMub2Zmc2V0LmxlZnQgKyBlbGVEaW1zLndpZHRoKTtcbiAgfVxuICBlbHNlIHtcbiAgICBib3R0b21PdmVyID0gKGVsZURpbXMud2luZG93RGltcy5oZWlnaHQgKyBlbGVEaW1zLndpbmRvd0RpbXMub2Zmc2V0LnRvcCkgLSAoZWxlRGltcy5vZmZzZXQudG9wICsgZWxlRGltcy5oZWlnaHQpO1xuICAgIHRvcE92ZXIgICAgPSBlbGVEaW1zLm9mZnNldC50b3AgLSBlbGVEaW1zLndpbmRvd0RpbXMub2Zmc2V0LnRvcDtcbiAgICBsZWZ0T3ZlciAgID0gZWxlRGltcy5vZmZzZXQubGVmdCAtIGVsZURpbXMud2luZG93RGltcy5vZmZzZXQubGVmdDtcbiAgICByaWdodE92ZXIgID0gZWxlRGltcy53aW5kb3dEaW1zLndpZHRoIC0gKGVsZURpbXMub2Zmc2V0LmxlZnQgKyBlbGVEaW1zLndpZHRoKTtcbiAgfVxuXG4gIGJvdHRvbU92ZXIgPSBpZ25vcmVCb3R0b20gPyAwIDogTWF0aC5taW4oYm90dG9tT3ZlciwgMCk7XG4gIHRvcE92ZXIgICAgPSBNYXRoLm1pbih0b3BPdmVyLCAwKTtcbiAgbGVmdE92ZXIgICA9IE1hdGgubWluKGxlZnRPdmVyLCAwKTtcbiAgcmlnaHRPdmVyICA9IE1hdGgubWluKHJpZ2h0T3ZlciwgMCk7XG5cbiAgaWYgKGxyT25seSkge1xuICAgIHJldHVybiBsZWZ0T3ZlciArIHJpZ2h0T3ZlcjtcbiAgfVxuICBpZiAodGJPbmx5KSB7XG4gICAgcmV0dXJuIHRvcE92ZXIgKyBib3R0b21PdmVyO1xuICB9XG5cbiAgLy8gdXNlIHN1bSBvZiBzcXVhcmVzIGIvYyB3ZSBjYXJlIGFib3V0IG92ZXJsYXAgYXJlYS5cbiAgcmV0dXJuIE1hdGguc3FydCgodG9wT3ZlciAqIHRvcE92ZXIpICsgKGJvdHRvbU92ZXIgKiBib3R0b21PdmVyKSArIChsZWZ0T3ZlciAqIGxlZnRPdmVyKSArIChyaWdodE92ZXIgKiByaWdodE92ZXIpKTtcbn1cblxuLyoqXG4gKiBVc2VzIG5hdGl2ZSBtZXRob2RzIHRvIHJldHVybiBhbiBvYmplY3Qgb2YgZGltZW5zaW9uIHZhbHVlcy5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtqUXVlcnkgfHwgSFRNTH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3Qgb3IgRE9NIGVsZW1lbnQgZm9yIHdoaWNoIHRvIGdldCB0aGUgZGltZW5zaW9ucy4gQ2FuIGJlIGFueSBlbGVtZW50IG90aGVyIHRoYXQgZG9jdW1lbnQgb3Igd2luZG93LlxuICogQHJldHVybnMge09iamVjdH0gLSBuZXN0ZWQgb2JqZWN0IG9mIGludGVnZXIgcGl4ZWwgdmFsdWVzXG4gKiBUT0RPIC0gaWYgZWxlbWVudCBpcyB3aW5kb3csIHJldHVybiBvbmx5IHRob3NlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gR2V0RGltZW5zaW9ucyhlbGVtKXtcbiAgZWxlbSA9IGVsZW0ubGVuZ3RoID8gZWxlbVswXSA6IGVsZW07XG5cbiAgaWYgKGVsZW0gPT09IHdpbmRvdyB8fCBlbGVtID09PSBkb2N1bWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkknbSBzb3JyeSwgRGF2ZS4gSSdtIGFmcmFpZCBJIGNhbid0IGRvIHRoYXQuXCIpO1xuICB9XG5cbiAgdmFyIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgcGFyUmVjdCA9IGVsZW0ucGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIHdpblJlY3QgPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgd2luWSA9IHdpbmRvdy5wYWdlWU9mZnNldCxcbiAgICAgIHdpblggPSB3aW5kb3cucGFnZVhPZmZzZXQ7XG5cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuICAgIG9mZnNldDoge1xuICAgICAgdG9wOiByZWN0LnRvcCArIHdpblksXG4gICAgICBsZWZ0OiByZWN0LmxlZnQgKyB3aW5YXG4gICAgfSxcbiAgICBwYXJlbnREaW1zOiB7XG4gICAgICB3aWR0aDogcGFyUmVjdC53aWR0aCxcbiAgICAgIGhlaWdodDogcGFyUmVjdC5oZWlnaHQsXG4gICAgICBvZmZzZXQ6IHtcbiAgICAgICAgdG9wOiBwYXJSZWN0LnRvcCArIHdpblksXG4gICAgICAgIGxlZnQ6IHBhclJlY3QubGVmdCArIHdpblhcbiAgICAgIH1cbiAgICB9LFxuICAgIHdpbmRvd0RpbXM6IHtcbiAgICAgIHdpZHRoOiB3aW5SZWN0LndpZHRoLFxuICAgICAgaGVpZ2h0OiB3aW5SZWN0LmhlaWdodCxcbiAgICAgIG9mZnNldDoge1xuICAgICAgICB0b3A6IHdpblksXG4gICAgICAgIGxlZnQ6IHdpblhcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCBvZiB0b3AgYW5kIGxlZnQgaW50ZWdlciBwaXhlbCB2YWx1ZXMgZm9yIGR5bmFtaWNhbGx5IHJlbmRlcmVkIGVsZW1lbnRzLFxuICogc3VjaCBhczogVG9vbHRpcCwgUmV2ZWFsLCBhbmQgRHJvcGRvd24uIE1haW50YWluZWQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCBhbmQgd2hlcmVcbiAqIHlvdSBkb24ndCBrbm93IGFsaWdubWVudCwgYnV0IGdlbmVyYWxseSBmcm9tXG4gKiA2LjQgZm9yd2FyZCB5b3Ugc2hvdWxkIHVzZSBHZXRFeHBsaWNpdE9mZnNldHMsIGFzIEdldE9mZnNldHMgY29uZmxhdGVzIHBvc2l0aW9uIGFuZCBhbGlnbm1lbnQuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7alF1ZXJ5fSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCBmb3IgdGhlIGVsZW1lbnQgYmVpbmcgcG9zaXRpb25lZC5cbiAqIEBwYXJhbSB7alF1ZXJ5fSBhbmNob3IgLSBqUXVlcnkgb2JqZWN0IGZvciB0aGUgZWxlbWVudCdzIGFuY2hvciBwb2ludC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBwb3NpdGlvbiAtIGEgc3RyaW5nIHJlbGF0aW5nIHRvIHRoZSBkZXNpcmVkIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50LCByZWxhdGl2ZSB0byBpdCdzIGFuY2hvclxuICogQHBhcmFtIHtOdW1iZXJ9IHZPZmZzZXQgLSBpbnRlZ2VyIHBpeGVsIHZhbHVlIG9mIGRlc2lyZWQgdmVydGljYWwgc2VwYXJhdGlvbiBiZXR3ZWVuIGFuY2hvciBhbmQgZWxlbWVudC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBoT2Zmc2V0IC0gaW50ZWdlciBwaXhlbCB2YWx1ZSBvZiBkZXNpcmVkIGhvcml6b250YWwgc2VwYXJhdGlvbiBiZXR3ZWVuIGFuY2hvciBhbmQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNPdmVyZmxvdyAtIGlmIGEgY29sbGlzaW9uIGV2ZW50IGlzIGRldGVjdGVkLCBzZXRzIHRvIHRydWUgdG8gZGVmYXVsdCB0aGUgZWxlbWVudCB0byBmdWxsIHdpZHRoIC0gYW55IGRlc2lyZWQgb2Zmc2V0LlxuICogVE9ETyBhbHRlci9yZXdyaXRlIHRvIHdvcmsgd2l0aCBgZW1gIHZhbHVlcyBhcyB3ZWxsL2luc3RlYWQgb2YgcGl4ZWxzXG4gKi9cbmZ1bmN0aW9uIEdldEV4cGxpY2l0T2Zmc2V0cyhlbGVtZW50LCBhbmNob3IsIHBvc2l0aW9uLCBhbGlnbm1lbnQsIHZPZmZzZXQsIGhPZmZzZXQsIGlzT3ZlcmZsb3cpIHtcbiAgdmFyICRlbGVEaW1zID0gR2V0RGltZW5zaW9ucyhlbGVtZW50KSxcbiAgICAgICRhbmNob3JEaW1zID0gYW5jaG9yID8gR2V0RGltZW5zaW9ucyhhbmNob3IpIDogbnVsbDtcblxuICAgICAgdmFyIHRvcFZhbCwgbGVmdFZhbDtcblxuICBpZiAoJGFuY2hvckRpbXMgIT09IG51bGwpIHtcbiAgLy8gc2V0IHBvc2l0aW9uIHJlbGF0ZWQgYXR0cmlidXRlXG4gIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgdG9wVmFsID0gJGFuY2hvckRpbXMub2Zmc2V0LnRvcCAtICgkZWxlRGltcy5oZWlnaHQgKyB2T2Zmc2V0KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICB0b3BWYWwgPSAkYW5jaG9yRGltcy5vZmZzZXQudG9wICsgJGFuY2hvckRpbXMuaGVpZ2h0ICsgdk9mZnNldDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgbGVmdFZhbCA9ICRhbmNob3JEaW1zLm9mZnNldC5sZWZ0IC0gKCRlbGVEaW1zLndpZHRoICsgaE9mZnNldCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICBsZWZ0VmFsID0gJGFuY2hvckRpbXMub2Zmc2V0LmxlZnQgKyAkYW5jaG9yRGltcy53aWR0aCArIGhPZmZzZXQ7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIC8vIHNldCBhbGlnbm1lbnQgcmVsYXRlZCBhdHRyaWJ1dGVcbiAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICAgIHN3aXRjaCAoYWxpZ25tZW50KSB7XG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgIGxlZnRWYWwgPSAkYW5jaG9yRGltcy5vZmZzZXQubGVmdCArIGhPZmZzZXQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICBsZWZ0VmFsID0gJGFuY2hvckRpbXMub2Zmc2V0LmxlZnQgLSAkZWxlRGltcy53aWR0aCArICRhbmNob3JEaW1zLndpZHRoIC0gaE9mZnNldDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICBsZWZ0VmFsID0gaXNPdmVyZmxvdyA/IGhPZmZzZXQgOiAoKCRhbmNob3JEaW1zLm9mZnNldC5sZWZ0ICsgKCRhbmNob3JEaW1zLndpZHRoIC8gMikpIC0gKCRlbGVEaW1zLndpZHRoIC8gMikpICsgaE9mZnNldDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIHN3aXRjaCAoYWxpZ25tZW50KSB7XG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgdG9wVmFsID0gJGFuY2hvckRpbXMub2Zmc2V0LnRvcCAtIHZPZmZzZXQgKyAkYW5jaG9yRGltcy5oZWlnaHQgLSAkZWxlRGltcy5oZWlnaHQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgdG9wVmFsID0gJGFuY2hvckRpbXMub2Zmc2V0LnRvcCArIHZPZmZzZXRcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICB0b3BWYWwgPSAoJGFuY2hvckRpbXMub2Zmc2V0LnRvcCArIHZPZmZzZXQgKyAoJGFuY2hvckRpbXMuaGVpZ2h0IC8gMikpIC0gKCRlbGVEaW1zLmhlaWdodCAvIDIpXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuICB9XG5cbiAgcmV0dXJuIHt0b3A6IHRvcFZhbCwgbGVmdDogbGVmdFZhbH07XG59XG5cbmV4cG9ydCB7Qm94fTtcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbi8qKlxuICogUnVucyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gaW1hZ2VzIGFyZSBmdWxseSBsb2FkZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VzIC0gSW1hZ2UocykgdG8gY2hlY2sgaWYgbG9hZGVkLlxuICogQHBhcmFtIHtGdW5jfSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiBpbWFnZSBpcyBmdWxseSBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIG9uSW1hZ2VzTG9hZGVkKGltYWdlcywgY2FsbGJhY2spe1xuICB2YXIgdW5sb2FkZWQgPSBpbWFnZXMubGVuZ3RoO1xuXG4gIGlmICh1bmxvYWRlZCA9PT0gMCkge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cblxuICBpbWFnZXMuZWFjaChmdW5jdGlvbigpe1xuICAgIC8vIENoZWNrIGlmIGltYWdlIGlzIGxvYWRlZFxuICAgIGlmICh0aGlzLmNvbXBsZXRlICYmIHR5cGVvZiB0aGlzLm5hdHVyYWxXaWR0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHNpbmdsZUltYWdlTG9hZGVkKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gSWYgdGhlIGFib3ZlIGNoZWNrIGZhaWxlZCwgc2ltdWxhdGUgbG9hZGluZyBvbiBkZXRhY2hlZCBlbGVtZW50LlxuICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAvLyBTdGlsbCBjb3VudCBpbWFnZSBhcyBsb2FkZWQgaWYgaXQgZmluYWxpemVzIHdpdGggYW4gZXJyb3IuXG4gICAgICB2YXIgZXZlbnRzID0gXCJsb2FkLnpmLmltYWdlcyBlcnJvci56Zi5pbWFnZXNcIjtcbiAgICAgICQoaW1hZ2UpLm9uZShldmVudHMsIGZ1bmN0aW9uIG1lKCl7XG4gICAgICAgIC8vIFVuYmluZCB0aGUgZXZlbnQgbGlzdGVuZXJzLiBXZSdyZSB1c2luZyAnb25lJyBidXQgb25seSBvbmUgb2YgdGhlIHR3byBldmVudHMgd2lsbCBoYXZlIGZpcmVkLlxuICAgICAgICAkKHRoaXMpLm9mZihldmVudHMsIG1lKTtcbiAgICAgICAgc2luZ2xlSW1hZ2VMb2FkZWQoKTtcbiAgICAgIH0pO1xuICAgICAgaW1hZ2Uuc3JjID0gJCh0aGlzKS5hdHRyKCdzcmMnKTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHNpbmdsZUltYWdlTG9hZGVkKCkge1xuICAgIHVubG9hZGVkLS07XG4gICAgaWYgKHVubG9hZGVkID09PSAwKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBvbkltYWdlc0xvYWRlZCB9O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiBUaGlzIHV0aWwgd2FzIGNyZWF0ZWQgYnkgTWFyaXVzIE9sYmVydHogKlxuICogUGxlYXNlIHRoYW5rIE1hcml1cyBvbiBHaXRIdWIgL293bGJlcnR6ICpcbiAqIG9yIHRoZSB3ZWIgaHR0cDovL3d3dy5tYXJpdXNvbGJlcnR6LmRlLyAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IHJ0bCBhcyBSdGwgfSBmcm9tICcuL2ZvdW5kYXRpb24uY29yZS51dGlscyc7XG5cbmNvbnN0IGtleUNvZGVzID0ge1xuICA5OiAnVEFCJyxcbiAgMTM6ICdFTlRFUicsXG4gIDI3OiAnRVNDQVBFJyxcbiAgMzI6ICdTUEFDRScsXG4gIDM1OiAnRU5EJyxcbiAgMzY6ICdIT01FJyxcbiAgMzc6ICdBUlJPV19MRUZUJyxcbiAgMzg6ICdBUlJPV19VUCcsXG4gIDM5OiAnQVJST1dfUklHSFQnLFxuICA0MDogJ0FSUk9XX0RPV04nXG59XG5cbnZhciBjb21tYW5kcyA9IHt9XG5cbi8vIEZ1bmN0aW9ucyBwdWxsZWQgb3V0IHRvIGJlIHJlZmVyZW5jZWFibGUgZnJvbSBpbnRlcm5hbHNcbmZ1bmN0aW9uIGZpbmRGb2N1c2FibGUoJGVsZW1lbnQpIHtcbiAgaWYoISRlbGVtZW50KSB7cmV0dXJuIGZhbHNlOyB9XG4gIHJldHVybiAkZWxlbWVudC5maW5kKCdhW2hyZWZdLCBhcmVhW2hyZWZdLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgaWZyYW1lLCBvYmplY3QsIGVtYmVkLCAqW3RhYmluZGV4XSwgKltjb250ZW50ZWRpdGFibGVdJykuZmlsdGVyKGZ1bmN0aW9uKCkge1xuICAgIGlmICghJCh0aGlzKS5pcygnOnZpc2libGUnKSB8fCAkKHRoaXMpLmF0dHIoJ3RhYmluZGV4JykgPCAwKSB7IHJldHVybiBmYWxzZTsgfSAvL29ubHkgaGF2ZSB2aXNpYmxlIGVsZW1lbnRzIGFuZCB0aG9zZSB0aGF0IGhhdmUgYSB0YWJpbmRleCBncmVhdGVyIG9yIGVxdWFsIDBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSlcbiAgLnNvcnQoIGZ1bmN0aW9uKCBhLCBiICkge1xuICAgIGlmICgkKGEpLmF0dHIoJ3RhYmluZGV4JykgPT09ICQoYikuYXR0cigndGFiaW5kZXgnKSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGxldCBhVGFiSW5kZXggPSBwYXJzZUludCgkKGEpLmF0dHIoJ3RhYmluZGV4JyksIDEwKSxcbiAgICAgIGJUYWJJbmRleCA9IHBhcnNlSW50KCQoYikuYXR0cigndGFiaW5kZXgnKSwgMTApO1xuICAgIC8vIFVuZGVmaW5lZCBpcyB0cmVhdGVkIHRoZSBzYW1lIGFzIDBcbiAgICBpZiAodHlwZW9mICQoYSkuYXR0cigndGFiaW5kZXgnKSA9PT0gJ3VuZGVmaW5lZCcgJiYgYlRhYkluZGV4ID4gMCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgJChiKS5hdHRyKCd0YWJpbmRleCcpID09PSAndW5kZWZpbmVkJyAmJiBhVGFiSW5kZXggPiAwKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChhVGFiSW5kZXggPT09IDAgJiYgYlRhYkluZGV4ID4gMCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGlmIChiVGFiSW5kZXggPT09IDAgJiYgYVRhYkluZGV4ID4gMCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAoYVRhYkluZGV4IDwgYlRhYkluZGV4KSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChhVGFiSW5kZXggPiBiVGFiSW5kZXgpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlS2V5KGV2ZW50KSB7XG4gIHZhciBrZXkgPSBrZXlDb2Rlc1tldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlXSB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LndoaWNoKS50b1VwcGVyQ2FzZSgpO1xuXG4gIC8vIFJlbW92ZSB1bi1wcmludGFibGUgY2hhcmFjdGVycywgZS5nLiBmb3IgYGZyb21DaGFyQ29kZWAgY2FsbHMgZm9yIENUUkwgb25seSBldmVudHNcbiAga2V5ID0ga2V5LnJlcGxhY2UoL1xcVysvLCAnJyk7XG5cbiAgaWYgKGV2ZW50LnNoaWZ0S2V5KSBrZXkgPSBgU0hJRlRfJHtrZXl9YDtcbiAgaWYgKGV2ZW50LmN0cmxLZXkpIGtleSA9IGBDVFJMXyR7a2V5fWA7XG4gIGlmIChldmVudC5hbHRLZXkpIGtleSA9IGBBTFRfJHtrZXl9YDtcblxuICAvLyBSZW1vdmUgdHJhaWxpbmcgdW5kZXJzY29yZSwgaW4gY2FzZSBvbmx5IG1vZGlmaWVycyB3ZXJlIHVzZWQgKGUuZy4gb25seSBgQ1RSTF9BTFRgKVxuICBrZXkgPSBrZXkucmVwbGFjZSgvXyQvLCAnJyk7XG5cbiAgcmV0dXJuIGtleTtcbn1cblxudmFyIEtleWJvYXJkID0ge1xuICBrZXlzOiBnZXRLZXlDb2RlcyhrZXlDb2RlcyksXG5cbiAgLyoqXG4gICAqIFBhcnNlcyB0aGUgKGtleWJvYXJkKSBldmVudCBhbmQgcmV0dXJucyBhIFN0cmluZyB0aGF0IHJlcHJlc2VudHMgaXRzIGtleVxuICAgKiBDYW4gYmUgdXNlZCBsaWtlIEZvdW5kYXRpb24ucGFyc2VLZXkoZXZlbnQpID09PSBGb3VuZGF0aW9uLmtleXMuU1BBQ0VcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSB0aGUgZXZlbnQgZ2VuZXJhdGVkIGJ5IHRoZSBldmVudCBoYW5kbGVyXG4gICAqIEByZXR1cm4gU3RyaW5nIGtleSAtIFN0cmluZyB0aGF0IHJlcHJlc2VudHMgdGhlIGtleSBwcmVzc2VkXG4gICAqL1xuICBwYXJzZUtleTogcGFyc2VLZXksXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGdpdmVuIChrZXlib2FyZCkgZXZlbnRcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSB0aGUgZXZlbnQgZ2VuZXJhdGVkIGJ5IHRoZSBldmVudCBoYW5kbGVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb21wb25lbnQgLSBGb3VuZGF0aW9uIGNvbXBvbmVudCdzIG5hbWUsIGUuZy4gU2xpZGVyIG9yIFJldmVhbFxuICAgKiBAcGFyYW0ge09iamVjdHN9IGZ1bmN0aW9ucyAtIGNvbGxlY3Rpb24gb2YgZnVuY3Rpb25zIHRoYXQgYXJlIHRvIGJlIGV4ZWN1dGVkXG4gICAqL1xuICBoYW5kbGVLZXkoZXZlbnQsIGNvbXBvbmVudCwgZnVuY3Rpb25zKSB7XG4gICAgdmFyIGNvbW1hbmRMaXN0ID0gY29tbWFuZHNbY29tcG9uZW50XSxcbiAgICAgIGtleUNvZGUgPSB0aGlzLnBhcnNlS2V5KGV2ZW50KSxcbiAgICAgIGNtZHMsXG4gICAgICBjb21tYW5kLFxuICAgICAgZm47XG5cbiAgICBpZiAoIWNvbW1hbmRMaXN0KSByZXR1cm4gY29uc29sZS53YXJuKCdDb21wb25lbnQgbm90IGRlZmluZWQhJyk7XG5cbiAgICAvLyBJZ25vcmUgdGhlIGV2ZW50IGlmIGl0IHdhcyBhbHJlYWR5IGhhbmRsZWRcbiAgICBpZiAoZXZlbnQuemZJc0tleUhhbmRsZWQgPT09IHRydWUpIHJldHVybjtcblxuICAgIC8vIFRoaXMgY29tcG9uZW50IGRvZXMgbm90IGRpZmZlcmVudGlhdGUgYmV0d2VlbiBsdHIgYW5kIHJ0bFxuICAgIGlmICh0eXBlb2YgY29tbWFuZExpc3QubHRyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjbWRzID0gY29tbWFuZExpc3Q7IC8vIHVzZSBwbGFpbiBsaXN0XG4gICAgfSBlbHNlIHsgLy8gbWVyZ2UgbHRyIGFuZCBydGw6IGlmIGRvY3VtZW50IGlzIHJ0bCwgcnRsIG92ZXJ3cml0ZXMgbHRyIGFuZCB2aWNlIHZlcnNhXG4gICAgICAgIGlmIChSdGwoKSkgY21kcyA9ICQuZXh0ZW5kKHt9LCBjb21tYW5kTGlzdC5sdHIsIGNvbW1hbmRMaXN0LnJ0bCk7XG5cbiAgICAgICAgZWxzZSBjbWRzID0gJC5leHRlbmQoe30sIGNvbW1hbmRMaXN0LnJ0bCwgY29tbWFuZExpc3QubHRyKTtcbiAgICB9XG4gICAgY29tbWFuZCA9IGNtZHNba2V5Q29kZV07XG5cbiAgICBmbiA9IGZ1bmN0aW9uc1tjb21tYW5kXTtcbiAgICAgLy8gRXhlY3V0ZSB0aGUgaGFuZGxlciBpZiBmb3VuZFxuICAgIGlmIChmbiAmJiB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciByZXR1cm5WYWx1ZSA9IGZuLmFwcGx5KCk7XG5cbiAgICAgIC8vIE1hcmsgdGhlIGV2ZW50IGFzIFwiaGFuZGxlZFwiIHRvIHByZXZlbnQgZnV0dXJlIGhhbmRsaW5nc1xuICAgICAgZXZlbnQuemZJc0tleUhhbmRsZWQgPSB0cnVlO1xuXG4gICAgICAvLyBFeGVjdXRlIGZ1bmN0aW9uIHdoZW4gZXZlbnQgd2FzIGhhbmRsZWRcbiAgICAgIGlmIChmdW5jdGlvbnMuaGFuZGxlZCB8fCB0eXBlb2YgZnVuY3Rpb25zLmhhbmRsZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBmdW5jdGlvbnMuaGFuZGxlZChyZXR1cm5WYWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAvLyBFeGVjdXRlIGZ1bmN0aW9uIHdoZW4gZXZlbnQgd2FzIG5vdCBoYW5kbGVkXG4gICAgICBpZiAoZnVuY3Rpb25zLnVuaGFuZGxlZCB8fCB0eXBlb2YgZnVuY3Rpb25zLnVuaGFuZGxlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGZ1bmN0aW9ucy51bmhhbmRsZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmRzIGFsbCBmb2N1c2FibGUgZWxlbWVudHMgd2l0aGluIHRoZSBnaXZlbiBgJGVsZW1lbnRgXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gc2VhcmNoIHdpdGhpblxuICAgKiBAcmV0dXJuIHtqUXVlcnl9ICRmb2N1c2FibGUgLSBhbGwgZm9jdXNhYmxlIGVsZW1lbnRzIHdpdGhpbiBgJGVsZW1lbnRgXG4gICAqL1xuXG4gIGZpbmRGb2N1c2FibGU6IGZpbmRGb2N1c2FibGUsXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNvbXBvbmVudCBuYW1lIG5hbWVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbXBvbmVudCAtIEZvdW5kYXRpb24gY29tcG9uZW50LCBlLmcuIFNsaWRlciBvciBSZXZlYWxcbiAgICogQHJldHVybiBTdHJpbmcgY29tcG9uZW50TmFtZVxuICAgKi9cblxuICByZWdpc3Rlcihjb21wb25lbnROYW1lLCBjbWRzKSB7XG4gICAgY29tbWFuZHNbY29tcG9uZW50TmFtZV0gPSBjbWRzO1xuICB9LFxuXG5cbiAgLy8gVE9ETzk0Mzg6IFRoZXNlIHJlZmVyZW5jZXMgdG8gS2V5Ym9hcmQgbmVlZCB0byBub3QgcmVxdWlyZSBnbG9iYWwuIFdpbGwgJ3RoaXMnIHdvcmsgaW4gdGhpcyBjb250ZXh0P1xuICAvL1xuICAvKipcbiAgICogVHJhcHMgdGhlIGZvY3VzIGluIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKiBAcGFyYW0gIHtqUXVlcnl9ICRlbGVtZW50ICBqUXVlcnkgb2JqZWN0IHRvIHRyYXAgdGhlIGZvdWNzIGludG8uXG4gICAqL1xuICB0cmFwRm9jdXMoJGVsZW1lbnQpIHtcbiAgICB2YXIgJGZvY3VzYWJsZSA9IGZpbmRGb2N1c2FibGUoJGVsZW1lbnQpLFxuICAgICAgICAkZmlyc3RGb2N1c2FibGUgPSAkZm9jdXNhYmxlLmVxKDApLFxuICAgICAgICAkbGFzdEZvY3VzYWJsZSA9ICRmb2N1c2FibGUuZXEoLTEpO1xuXG4gICAgJGVsZW1lbnQub24oJ2tleWRvd24uemYudHJhcGZvY3VzJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09ICRsYXN0Rm9jdXNhYmxlWzBdICYmIHBhcnNlS2V5KGV2ZW50KSA9PT0gJ1RBQicpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJGZpcnN0Rm9jdXNhYmxlLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChldmVudC50YXJnZXQgPT09ICRmaXJzdEZvY3VzYWJsZVswXSAmJiBwYXJzZUtleShldmVudCkgPT09ICdTSElGVF9UQUInKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRsYXN0Rm9jdXNhYmxlLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBSZWxlYXNlcyB0aGUgdHJhcHBlZCBmb2N1cyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKiBAcGFyYW0gIHtqUXVlcnl9ICRlbGVtZW50ICBqUXVlcnkgb2JqZWN0IHRvIHJlbGVhc2UgdGhlIGZvY3VzIGZvci5cbiAgICovXG4gIHJlbGVhc2VGb2N1cygkZWxlbWVudCkge1xuICAgICRlbGVtZW50Lm9mZigna2V5ZG93bi56Zi50cmFwZm9jdXMnKTtcbiAgfVxufVxuXG4vKlxuICogQ29uc3RhbnRzIGZvciBlYXNpZXIgY29tcGFyaW5nLlxuICogQ2FuIGJlIHVzZWQgbGlrZSBGb3VuZGF0aW9uLnBhcnNlS2V5KGV2ZW50KSA9PT0gRm91bmRhdGlvbi5rZXlzLlNQQUNFXG4gKi9cbmZ1bmN0aW9uIGdldEtleUNvZGVzKGtjcykge1xuICB2YXIgayA9IHt9O1xuICBmb3IgKHZhciBrYyBpbiBrY3MpIHtcbiAgICBpZiAoa2NzLmhhc093blByb3BlcnR5KGtjKSkga1trY3Nba2NdXSA9IGtjc1trY107XG4gIH1cbiAgcmV0dXJuIGs7XG59XG5cbmV4cG9ydCB7S2V5Ym9hcmR9O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IHRyYW5zaXRpb25lbmQgfSBmcm9tICcuL2ZvdW5kYXRpb24uY29yZS51dGlscyc7XG5cbi8qKlxuICogTW90aW9uIG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi5tb3Rpb25cbiAqL1xuXG5jb25zdCBpbml0Q2xhc3NlcyAgID0gWydtdWktZW50ZXInLCAnbXVpLWxlYXZlJ107XG5jb25zdCBhY3RpdmVDbGFzc2VzID0gWydtdWktZW50ZXItYWN0aXZlJywgJ211aS1sZWF2ZS1hY3RpdmUnXTtcblxuY29uc3QgTW90aW9uID0ge1xuICBhbmltYXRlSW46IGZ1bmN0aW9uKGVsZW1lbnQsIGFuaW1hdGlvbiwgY2IpIHtcbiAgICBhbmltYXRlKHRydWUsIGVsZW1lbnQsIGFuaW1hdGlvbiwgY2IpO1xuICB9LFxuXG4gIGFuaW1hdGVPdXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIGFuaW1hdGlvbiwgY2IpIHtcbiAgICBhbmltYXRlKGZhbHNlLCBlbGVtZW50LCBhbmltYXRpb24sIGNiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBNb3ZlKGR1cmF0aW9uLCBlbGVtLCBmbil7XG4gIHZhciBhbmltLCBwcm9nLCBzdGFydCA9IG51bGw7XG5cbiAgaWYgKGR1cmF0aW9uID09PSAwKSB7XG4gICAgZm4uYXBwbHkoZWxlbSk7XG4gICAgZWxlbS50cmlnZ2VyKCdmaW5pc2hlZC56Zi5hbmltYXRlJywgW2VsZW1dKS50cmlnZ2VySGFuZGxlcignZmluaXNoZWQuemYuYW5pbWF0ZScsIFtlbGVtXSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZnVuY3Rpb24gbW92ZSh0cyl7XG4gICAgaWYoIXN0YXJ0KSBzdGFydCA9IHRzO1xuICAgIHByb2cgPSB0cyAtIHN0YXJ0O1xuICAgIGZuLmFwcGx5KGVsZW0pO1xuXG4gICAgaWYocHJvZyA8IGR1cmF0aW9uKXsgYW5pbSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobW92ZSwgZWxlbSk7IH1cbiAgICBlbHNle1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW0pO1xuICAgICAgZWxlbS50cmlnZ2VyKCdmaW5pc2hlZC56Zi5hbmltYXRlJywgW2VsZW1dKS50cmlnZ2VySGFuZGxlcignZmluaXNoZWQuemYuYW5pbWF0ZScsIFtlbGVtXSk7XG4gICAgfVxuICB9XG4gIGFuaW0gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1vdmUpO1xufVxuXG4vKipcbiAqIEFuaW1hdGVzIGFuIGVsZW1lbnQgaW4gb3Igb3V0IHVzaW5nIGEgQ1NTIHRyYW5zaXRpb24gY2xhc3MuXG4gKiBAZnVuY3Rpb25cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzSW4gLSBEZWZpbmVzIGlmIHRoZSBhbmltYXRpb24gaXMgaW4gb3Igb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgLSBqUXVlcnkgb3IgSFRNTCBvYmplY3QgdG8gYW5pbWF0ZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSBhbmltYXRpb24gLSBDU1MgY2xhc3MgdG8gdXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBDYWxsYmFjayB0byBydW4gd2hlbiBhbmltYXRpb24gaXMgZmluaXNoZWQuXG4gKi9cbmZ1bmN0aW9uIGFuaW1hdGUoaXNJbiwgZWxlbWVudCwgYW5pbWF0aW9uLCBjYikge1xuICBlbGVtZW50ID0gJChlbGVtZW50KS5lcSgwKTtcblxuICBpZiAoIWVsZW1lbnQubGVuZ3RoKSByZXR1cm47XG5cbiAgdmFyIGluaXRDbGFzcyA9IGlzSW4gPyBpbml0Q2xhc3Nlc1swXSA6IGluaXRDbGFzc2VzWzFdO1xuICB2YXIgYWN0aXZlQ2xhc3MgPSBpc0luID8gYWN0aXZlQ2xhc3Nlc1swXSA6IGFjdGl2ZUNsYXNzZXNbMV07XG5cbiAgLy8gU2V0IHVwIHRoZSBhbmltYXRpb25cbiAgcmVzZXQoKTtcblxuICBlbGVtZW50XG4gICAgLmFkZENsYXNzKGFuaW1hdGlvbilcbiAgICAuY3NzKCd0cmFuc2l0aW9uJywgJ25vbmUnKTtcblxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIGVsZW1lbnQuYWRkQ2xhc3MoaW5pdENsYXNzKTtcbiAgICBpZiAoaXNJbikgZWxlbWVudC5zaG93KCk7XG4gIH0pO1xuXG4gIC8vIFN0YXJ0IHRoZSBhbmltYXRpb25cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAvLyB3aWxsIHRyaWdnZXIgdGhlIGJyb3dzZXIgdG8gc3luY2hyb25vdXNseSBjYWxjdWxhdGUgdGhlIHN0eWxlIGFuZCBsYXlvdXRcbiAgICAvLyBhbHNvIGNhbGxlZCByZWZsb3cgb3IgbGF5b3V0IHRocmFzaGluZ1xuICAgIC8vIHNlZSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9wYXVsaXJpc2gvNWQ1MmZiMDgxYjM1NzBjODFlM2FcbiAgICBlbGVtZW50WzBdLm9mZnNldFdpZHRoO1xuICAgIGVsZW1lbnRcbiAgICAgIC5jc3MoJ3RyYW5zaXRpb24nLCAnJylcbiAgICAgIC5hZGRDbGFzcyhhY3RpdmVDbGFzcyk7XG4gIH0pO1xuXG4gIC8vIENsZWFuIHVwIHRoZSBhbmltYXRpb24gd2hlbiBpdCBmaW5pc2hlc1xuICBlbGVtZW50Lm9uZSh0cmFuc2l0aW9uZW5kKGVsZW1lbnQpLCBmaW5pc2gpO1xuXG4gIC8vIEhpZGVzIHRoZSBlbGVtZW50IChmb3Igb3V0IGFuaW1hdGlvbnMpLCByZXNldHMgdGhlIGVsZW1lbnQsIGFuZCBydW5zIGEgY2FsbGJhY2tcbiAgZnVuY3Rpb24gZmluaXNoKCkge1xuICAgIGlmICghaXNJbikgZWxlbWVudC5oaWRlKCk7XG4gICAgcmVzZXQoKTtcbiAgICBpZiAoY2IpIGNiLmFwcGx5KGVsZW1lbnQpO1xuICB9XG5cbiAgLy8gUmVzZXRzIHRyYW5zaXRpb25zIGFuZCByZW1vdmVzIG1vdGlvbi1zcGVjaWZpYyBjbGFzc2VzXG4gIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGVsZW1lbnRbMF0uc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gMDtcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGAke2luaXRDbGFzc30gJHthY3RpdmVDbGFzc30gJHthbmltYXRpb259YCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgTW92ZSwgTW90aW9uIH07XG5cbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbmNvbnN0IE5lc3QgPSB7XG4gIEZlYXRoZXIobWVudSwgdHlwZSA9ICd6ZicpIHtcbiAgICBtZW51LmF0dHIoJ3JvbGUnLCAnbWVudWJhcicpO1xuICAgIG1lbnUuZmluZCgnYScpLmF0dHIoeydyb2xlJzogJ21lbnVpdGVtJ30pO1xuXG4gICAgdmFyIGl0ZW1zID0gbWVudS5maW5kKCdsaScpLmF0dHIoeydyb2xlJzogJ25vbmUnfSksXG4gICAgICAgIHN1Yk1lbnVDbGFzcyA9IGBpcy0ke3R5cGV9LXN1Ym1lbnVgLFxuICAgICAgICBzdWJJdGVtQ2xhc3MgPSBgJHtzdWJNZW51Q2xhc3N9LWl0ZW1gLFxuICAgICAgICBoYXNTdWJDbGFzcyA9IGBpcy0ke3R5cGV9LXN1Ym1lbnUtcGFyZW50YCxcbiAgICAgICAgYXBwbHlBcmlhID0gKHR5cGUgIT09ICdhY2NvcmRpb24nKTsgLy8gQWNjb3JkaW9ucyBoYW5kbGUgdGhlaXIgb3duIEFSSUEgYXR0cml1dGVzLlxuXG4gICAgaXRlbXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHZhciAkaXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgJHN1YiA9ICRpdGVtLmNoaWxkcmVuKCd1bCcpO1xuXG4gICAgICBpZiAoJHN1Yi5sZW5ndGgpIHtcbiAgICAgICAgJGl0ZW0uYWRkQ2xhc3MoaGFzU3ViQ2xhc3MpO1xuICAgICAgICBpZihhcHBseUFyaWEpIHtcbiAgICAgICAgICBjb25zdCBmaXJzdEl0ZW0gPSAkaXRlbS5jaGlsZHJlbignYTpmaXJzdCcpO1xuICAgICAgICAgIGZpcnN0SXRlbS5hdHRyKHtcbiAgICAgICAgICAgICdhcmlhLWhhc3BvcHVwJzogdHJ1ZSxcbiAgICAgICAgICAgICdhcmlhLWxhYmVsJzogZmlyc3RJdGVtLmF0dHIoJ2FyaWEtbGFiZWwnKSB8fCBmaXJzdEl0ZW0udGV4dCgpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gTm90ZTogIERyaWxsZG93bnMgYmVoYXZlIGRpZmZlcmVudGx5IGluIGhvdyB0aGV5IGhpZGUsIGFuZCBzbyBuZWVkXG4gICAgICAgICAgLy8gYWRkaXRpb25hbCBhdHRyaWJ1dGVzLiAgV2Ugc2hvdWxkIGxvb2sgaWYgdGhpcyBwb3NzaWJseSBvdmVyLWdlbmVyYWxpemVkXG4gICAgICAgICAgLy8gdXRpbGl0eSAoTmVzdCkgaXMgYXBwcm9wcmlhdGUgd2hlbiB3ZSByZXdvcmsgbWVudXMgaW4gNi40XG4gICAgICAgICAgaWYodHlwZSA9PT0gJ2RyaWxsZG93bicpIHtcbiAgICAgICAgICAgICRpdGVtLmF0dHIoeydhcmlhLWV4cGFuZGVkJzogZmFsc2V9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJHN1YlxuICAgICAgICAgIC5hZGRDbGFzcyhgc3VibWVudSAke3N1Yk1lbnVDbGFzc31gKVxuICAgICAgICAgIC5hdHRyKHtcbiAgICAgICAgICAgICdkYXRhLXN1Ym1lbnUnOiAnJyxcbiAgICAgICAgICAgICdyb2xlJzogJ21lbnViYXInXG4gICAgICAgICAgfSk7XG4gICAgICAgIGlmKHR5cGUgPT09ICdkcmlsbGRvd24nKSB7XG4gICAgICAgICAgJHN1Yi5hdHRyKHsnYXJpYS1oaWRkZW4nOiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCRpdGVtLnBhcmVudCgnW2RhdGEtc3VibWVudV0nKS5sZW5ndGgpIHtcbiAgICAgICAgJGl0ZW0uYWRkQ2xhc3MoYGlzLXN1Ym1lbnUtaXRlbSAke3N1Ykl0ZW1DbGFzc31gKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybjtcbiAgfSxcblxuICBCdXJuKG1lbnUsIHR5cGUpIHtcbiAgICB2YXIgLy9pdGVtcyA9IG1lbnUuZmluZCgnbGknKSxcbiAgICAgICAgc3ViTWVudUNsYXNzID0gYGlzLSR7dHlwZX0tc3VibWVudWAsXG4gICAgICAgIHN1Ykl0ZW1DbGFzcyA9IGAke3N1Yk1lbnVDbGFzc30taXRlbWAsXG4gICAgICAgIGhhc1N1YkNsYXNzID0gYGlzLSR7dHlwZX0tc3VibWVudS1wYXJlbnRgO1xuXG4gICAgbWVudVxuICAgICAgLmZpbmQoJz5saSwgPiBsaSA+IHVsLCAubWVudSwgLm1lbnUgPiBsaSwgW2RhdGEtc3VibWVudV0gPiBsaScpXG4gICAgICAucmVtb3ZlQ2xhc3MoYCR7c3ViTWVudUNsYXNzfSAke3N1Ykl0ZW1DbGFzc30gJHtoYXNTdWJDbGFzc30gaXMtc3VibWVudS1pdGVtIHN1Ym1lbnUgaXMtYWN0aXZlYClcbiAgICAgIC5yZW1vdmVBdHRyKCdkYXRhLXN1Ym1lbnUnKS5jc3MoJ2Rpc3BsYXknLCAnJyk7XG5cbiAgfVxufVxuXG5leHBvcnQge05lc3R9O1xuIiwiZnVuY3Rpb24gVGltZXIoZWxlbSwgb3B0aW9ucywgY2IpIHtcbiAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiwvL29wdGlvbnMgaXMgYW4gb2JqZWN0IGZvciBlYXNpbHkgYWRkaW5nIGZlYXR1cmVzIGxhdGVyLlxuICAgICAgbmFtZVNwYWNlID0gT2JqZWN0LmtleXMoZWxlbS5kYXRhKCkpWzBdIHx8ICd0aW1lcicsXG4gICAgICByZW1haW4gPSAtMSxcbiAgICAgIHN0YXJ0LFxuICAgICAgdGltZXI7XG5cbiAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuXG4gIHRoaXMucmVzdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIHJlbWFpbiA9IC0xO1xuICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgdGhpcy5zdGFydCgpO1xuICB9XG5cbiAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcbiAgICAvLyBpZighZWxlbS5kYXRhKCdwYXVzZWQnKSl7IHJldHVybiBmYWxzZTsgfS8vbWF5YmUgaW1wbGVtZW50IHRoaXMgc2FuaXR5IGNoZWNrIGlmIHVzZWQgZm9yIG90aGVyIHRoaW5ncy5cbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIHJlbWFpbiA9IHJlbWFpbiA8PSAwID8gZHVyYXRpb24gOiByZW1haW47XG4gICAgZWxlbS5kYXRhKCdwYXVzZWQnLCBmYWxzZSk7XG4gICAgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgaWYob3B0aW9ucy5pbmZpbml0ZSl7XG4gICAgICAgIF90aGlzLnJlc3RhcnQoKTsvL3JlcnVuIHRoZSB0aW1lci5cbiAgICAgIH1cbiAgICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHsgY2IoKTsgfVxuICAgIH0sIHJlbWFpbik7XG4gICAgZWxlbS50cmlnZ2VyKGB0aW1lcnN0YXJ0LnpmLiR7bmFtZVNwYWNlfWApO1xuICB9XG5cbiAgdGhpcy5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaXNQYXVzZWQgPSB0cnVlO1xuICAgIC8vaWYoZWxlbS5kYXRhKCdwYXVzZWQnKSl7IHJldHVybiBmYWxzZTsgfS8vbWF5YmUgaW1wbGVtZW50IHRoaXMgc2FuaXR5IGNoZWNrIGlmIHVzZWQgZm9yIG90aGVyIHRoaW5ncy5cbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIGVsZW0uZGF0YSgncGF1c2VkJywgdHJ1ZSk7XG4gICAgdmFyIGVuZCA9IERhdGUubm93KCk7XG4gICAgcmVtYWluID0gcmVtYWluIC0gKGVuZCAtIHN0YXJ0KTtcbiAgICBlbGVtLnRyaWdnZXIoYHRpbWVycGF1c2VkLnpmLiR7bmFtZVNwYWNlfWApO1xuICB9XG59XG5cbmV4cG9ydCB7VGltZXJ9O1xuIiwiLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLy8qKldvcmsgaW5zcGlyZWQgYnkgbXVsdGlwbGUganF1ZXJ5IHN3aXBlIHBsdWdpbnMqKlxuLy8qKkRvbmUgYnkgWW9oYWkgQXJhcmF0ICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG52YXIgVG91Y2ggPSB7fTtcblxudmFyIHN0YXJ0UG9zWCxcbiAgICBzdGFydFRpbWUsXG4gICAgZWxhcHNlZFRpbWUsXG4gICAgc3RhcnRFdmVudCxcbiAgICBpc01vdmluZyA9IGZhbHNlLFxuICAgIGRpZE1vdmVkID0gZmFsc2U7XG5cbmZ1bmN0aW9uIG9uVG91Y2hFbmQoZSkge1xuICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlKTtcbiAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQpO1xuXG4gIC8vIElmIHRoZSB0b3VjaCBkaWQgbm90IG1vdmUsIGNvbnNpZGVyIGl0IGFzIGEgXCJ0YXBcIlxuICBpZiAoIWRpZE1vdmVkKSB7XG4gICAgdmFyIHRhcEV2ZW50ID0gJC5FdmVudCgndGFwJywgc3RhcnRFdmVudCB8fCBlKTtcbiAgICAkKHRoaXMpLnRyaWdnZXIodGFwRXZlbnQpO1xuICB9XG5cbiAgc3RhcnRFdmVudCA9IG51bGw7XG4gIGlzTW92aW5nID0gZmFsc2U7XG4gIGRpZE1vdmVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGUpIHtcbiAgaWYgKHRydWUgPT09ICQuc3BvdFN3aXBlLnByZXZlbnREZWZhdWx0KSB7IGUucHJldmVudERlZmF1bHQoKTsgfVxuXG4gIGlmKGlzTW92aW5nKSB7XG4gICAgdmFyIHggPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgLy8gdmFyIHkgPSBlLnRvdWNoZXNbMF0ucGFnZVk7XG4gICAgdmFyIGR4ID0gc3RhcnRQb3NYIC0geDtcbiAgICAvLyB2YXIgZHkgPSBzdGFydFBvc1kgLSB5O1xuICAgIHZhciBkaXI7XG4gICAgZGlkTW92ZWQgPSB0cnVlO1xuICAgIGVsYXBzZWRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGFydFRpbWU7XG4gICAgaWYoTWF0aC5hYnMoZHgpID49ICQuc3BvdFN3aXBlLm1vdmVUaHJlc2hvbGQgJiYgZWxhcHNlZFRpbWUgPD0gJC5zcG90U3dpcGUudGltZVRocmVzaG9sZCkge1xuICAgICAgZGlyID0gZHggPiAwID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICB9XG4gICAgLy8gZWxzZSBpZihNYXRoLmFicyhkeSkgPj0gJC5zcG90U3dpcGUubW92ZVRocmVzaG9sZCAmJiBlbGFwc2VkVGltZSA8PSAkLnNwb3RTd2lwZS50aW1lVGhyZXNob2xkKSB7XG4gICAgLy8gICBkaXIgPSBkeSA+IDAgPyAnZG93bicgOiAndXAnO1xuICAgIC8vIH1cbiAgICBpZihkaXIpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9uVG91Y2hFbmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICQodGhpcylcbiAgICAgICAgLnRyaWdnZXIoJC5FdmVudCgnc3dpcGUnLCBPYmplY3QuYXNzaWduKHt9LCBlKSksIGRpcilcbiAgICAgICAgLnRyaWdnZXIoJC5FdmVudChgc3dpcGUke2Rpcn1gLCBPYmplY3QuYXNzaWduKHt9LCBlKSkpO1xuICAgIH1cbiAgfVxuXG59XG5cbmZ1bmN0aW9uIG9uVG91Y2hTdGFydChlKSB7XG5cbiAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICBzdGFydFBvc1ggPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgc3RhcnRFdmVudCA9IGU7XG4gICAgaXNNb3ZpbmcgPSB0cnVlO1xuICAgIGRpZE1vdmVkID0gZmFsc2U7XG4gICAgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgeyBwYXNzaXZlIDogdHJ1ZSA9PT0gJC5zcG90U3dpcGUucHJldmVudERlZmF1bHQgfSk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQsIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgJiYgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCB7IHBhc3NpdmUgOiB0cnVlIH0pO1xufVxuXG4vLyBmdW5jdGlvbiB0ZWFyZG93bigpIHtcbi8vICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0KTtcbi8vIH1cblxuY2xhc3MgU3BvdFN3aXBlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy52ZXJzaW9uID0gJzEuMC4wJztcbiAgICB0aGlzLmVuYWJsZWQgPSAnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdGhpcy5wcmV2ZW50RGVmYXVsdCA9IGZhbHNlO1xuICAgIHRoaXMubW92ZVRocmVzaG9sZCA9IDc1O1xuICAgIHRoaXMudGltZVRocmVzaG9sZCA9IDIwMDtcbiAgICB0aGlzLl9pbml0KCk7XG4gIH1cblxuICBfaW5pdCgpIHtcbiAgICAkLmV2ZW50LnNwZWNpYWwuc3dpcGUgPSB7IHNldHVwOiBpbml0IH07XG4gICAgJC5ldmVudC5zcGVjaWFsLnRhcCA9IHsgc2V0dXA6IGluaXQgfTtcblxuICAgICQuZWFjaChbJ2xlZnQnLCAndXAnLCAnZG93bicsICdyaWdodCddLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkLmV2ZW50LnNwZWNpYWxbYHN3aXBlJHt0aGlzfWBdID0geyBzZXR1cDogZnVuY3Rpb24oKXtcbiAgICAgICAgJCh0aGlzKS5vbignc3dpcGUnLCAkLm5vb3ApO1xuICAgICAgfSB9O1xuICAgIH0pO1xuICB9XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBBcyBmYXIgYXMgSSBjYW4gdGVsbCwgYm90aCBzZXR1cFNwb3RTd2lwZSBhbmQgICAgKlxuICogc2V0dXBUb3VjaEhhbmRsZXIgc2hvdWxkIGJlIGlkZW1wb3RlbnQsICAgICAgICAgICpcbiAqIGJlY2F1c2UgdGhleSBkaXJlY3RseSByZXBsYWNlIGZ1bmN0aW9ucyAmICAgICAgICAqXG4gKiB2YWx1ZXMsIGFuZCBkbyBub3QgYWRkIGV2ZW50IGhhbmRsZXJzIGRpcmVjdGx5LiAgKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblRvdWNoLnNldHVwU3BvdFN3aXBlID0gZnVuY3Rpb24oKSB7XG4gICQuc3BvdFN3aXBlID0gbmV3IFNwb3RTd2lwZSgkKTtcbn07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBNZXRob2QgZm9yIGFkZGluZyBwc2V1ZG8gZHJhZyBldmVudHMgdG8gZWxlbWVudHMgKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblRvdWNoLnNldHVwVG91Y2hIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICQuZm4uYWRkVG91Y2ggPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuZWFjaChmdW5jdGlvbihpLCBlbCl7XG4gICAgICAkKGVsKS5iaW5kKCd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIGZ1bmN0aW9uKGV2ZW50KSAge1xuICAgICAgICAvL3dlIHBhc3MgdGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdCBiZWNhdXNlIHRoZSBqUXVlcnkgZXZlbnRcbiAgICAgICAgLy9vYmplY3QgaXMgbm9ybWFsaXplZCB0byB3M2Mgc3BlY3MgYW5kIGRvZXMgbm90IHByb3ZpZGUgdGhlIFRvdWNoTGlzdFxuICAgICAgICBoYW5kbGVUb3VjaChldmVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZhciBoYW5kbGVUb3VjaCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLFxuICAgICAgICAgIGZpcnN0ID0gdG91Y2hlc1swXSxcbiAgICAgICAgICBldmVudFR5cGVzID0ge1xuICAgICAgICAgICAgdG91Y2hzdGFydDogJ21vdXNlZG93bicsXG4gICAgICAgICAgICB0b3VjaG1vdmU6ICdtb3VzZW1vdmUnLFxuICAgICAgICAgICAgdG91Y2hlbmQ6ICdtb3VzZXVwJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdHlwZSA9IGV2ZW50VHlwZXNbZXZlbnQudHlwZV0sXG4gICAgICAgICAgc2ltdWxhdGVkRXZlbnRcbiAgICAgICAgO1xuXG4gICAgICBpZignTW91c2VFdmVudCcgaW4gd2luZG93ICYmIHR5cGVvZiB3aW5kb3cuTW91c2VFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzaW11bGF0ZWRFdmVudCA9IG5ldyB3aW5kb3cuTW91c2VFdmVudCh0eXBlLCB7XG4gICAgICAgICAgJ2J1YmJsZXMnOiB0cnVlLFxuICAgICAgICAgICdjYW5jZWxhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAnc2NyZWVuWCc6IGZpcnN0LnNjcmVlblgsXG4gICAgICAgICAgJ3NjcmVlblknOiBmaXJzdC5zY3JlZW5ZLFxuICAgICAgICAgICdjbGllbnRYJzogZmlyc3QuY2xpZW50WCxcbiAgICAgICAgICAnY2xpZW50WSc6IGZpcnN0LmNsaWVudFlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaW11bGF0ZWRFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50Jyk7XG4gICAgICAgIHNpbXVsYXRlZEV2ZW50LmluaXRNb3VzZUV2ZW50KHR5cGUsIHRydWUsIHRydWUsIHdpbmRvdywgMSwgZmlyc3Quc2NyZWVuWCwgZmlyc3Quc2NyZWVuWSwgZmlyc3QuY2xpZW50WCwgZmlyc3QuY2xpZW50WSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAvKmxlZnQqLywgbnVsbCk7XG4gICAgICB9XG4gICAgICBmaXJzdC50YXJnZXQuZGlzcGF0Y2hFdmVudChzaW11bGF0ZWRFdmVudCk7XG4gICAgfTtcbiAgfTtcbn07XG5cblRvdWNoLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmKHR5cGVvZigkLnNwb3RTd2lwZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgVG91Y2guc2V0dXBTcG90U3dpcGUoJCk7XG4gICAgVG91Y2guc2V0dXBUb3VjaEhhbmRsZXIoJCk7XG4gIH1cbn07XG5cbmV4cG9ydCB7VG91Y2h9O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IG9uTG9hZCB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnV0aWxzJztcbmltcG9ydCB7IE1vdGlvbiB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLm1vdGlvbic7XG5cbmNvbnN0IE11dGF0aW9uT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgcHJlZml4ZXMgPSBbJ1dlYktpdCcsICdNb3onLCAnTycsICdNcycsICcnXTtcbiAgZm9yICh2YXIgaT0wOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYCR7cHJlZml4ZXNbaV19TXV0YXRpb25PYnNlcnZlcmAgaW4gd2luZG93KSB7XG4gICAgICByZXR1cm4gd2luZG93W2Ake3ByZWZpeGVzW2ldfU11dGF0aW9uT2JzZXJ2ZXJgXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSkoKTtcblxuY29uc3QgdHJpZ2dlcnMgPSAoZWwsIHR5cGUpID0+IHtcbiAgZWwuZGF0YSh0eXBlKS5zcGxpdCgnICcpLmZvckVhY2goaWQgPT4ge1xuICAgICQoYCMke2lkfWApWyB0eXBlID09PSAnY2xvc2UnID8gJ3RyaWdnZXInIDogJ3RyaWdnZXJIYW5kbGVyJ10oYCR7dHlwZX0uemYudHJpZ2dlcmAsIFtlbF0pO1xuICB9KTtcbn07XG5cbnZhciBUcmlnZ2VycyA9IHtcbiAgTGlzdGVuZXJzOiB7XG4gICAgQmFzaWM6IHt9LFxuICAgIEdsb2JhbDoge31cbiAgfSxcbiAgSW5pdGlhbGl6ZXJzOiB7fVxufVxuXG5UcmlnZ2Vycy5MaXN0ZW5lcnMuQmFzaWMgID0ge1xuICBvcGVuTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRyaWdnZXJzKCQodGhpcyksICdvcGVuJyk7XG4gIH0sXG4gIGNsb3NlTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgIGxldCBpZCA9ICQodGhpcykuZGF0YSgnY2xvc2UnKTtcbiAgICBpZiAoaWQpIHtcbiAgICAgIHRyaWdnZXJzKCQodGhpcyksICdjbG9zZScpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICQodGhpcykudHJpZ2dlcignY2xvc2UuemYudHJpZ2dlcicpO1xuICAgIH1cbiAgfSxcbiAgdG9nZ2xlTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgIGxldCBpZCA9ICQodGhpcykuZGF0YSgndG9nZ2xlJyk7XG4gICAgaWYgKGlkKSB7XG4gICAgICB0cmlnZ2VycygkKHRoaXMpLCAndG9nZ2xlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQodGhpcykudHJpZ2dlcigndG9nZ2xlLnpmLnRyaWdnZXInKTtcbiAgICB9XG4gIH0sXG4gIGNsb3NlYWJsZUxpc3RlbmVyOiBmdW5jdGlvbihlKSB7XG4gICAgbGV0IGFuaW1hdGlvbiA9ICQodGhpcykuZGF0YSgnY2xvc2FibGUnKTtcblxuICAgIC8vIE9ubHkgY2xvc2UgdGhlIGZpcnN0IGNsb3NhYmxlIGVsZW1lbnQuIFNlZSBodHRwczovL2dpdC5pby96Zi03ODMzXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGlmKGFuaW1hdGlvbiAhPT0gJycpe1xuICAgICAgTW90aW9uLmFuaW1hdGVPdXQoJCh0aGlzKSwgYW5pbWF0aW9uLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdjbG9zZWQuemYnKTtcbiAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgJCh0aGlzKS5mYWRlT3V0KCkudHJpZ2dlcignY2xvc2VkLnpmJyk7XG4gICAgfVxuICB9LFxuICB0b2dnbGVGb2N1c0xpc3RlbmVyOiBmdW5jdGlvbigpIHtcbiAgICBsZXQgaWQgPSAkKHRoaXMpLmRhdGEoJ3RvZ2dsZS1mb2N1cycpO1xuICAgICQoYCMke2lkfWApLnRyaWdnZXJIYW5kbGVyKCd0b2dnbGUuemYudHJpZ2dlcicsIFskKHRoaXMpXSk7XG4gIH1cbn07XG5cbi8vIEVsZW1lbnRzIHdpdGggW2RhdGEtb3Blbl0gd2lsbCByZXZlYWwgYSBwbHVnaW4gdGhhdCBzdXBwb3J0cyBpdCB3aGVuIGNsaWNrZWQuXG5UcmlnZ2Vycy5Jbml0aWFsaXplcnMuYWRkT3Blbkxpc3RlbmVyID0gKCRlbGVtKSA9PiB7XG4gICRlbGVtLm9mZignY2xpY2suemYudHJpZ2dlcicsIFRyaWdnZXJzLkxpc3RlbmVycy5CYXNpYy5vcGVuTGlzdGVuZXIpO1xuICAkZWxlbS5vbignY2xpY2suemYudHJpZ2dlcicsICdbZGF0YS1vcGVuXScsIFRyaWdnZXJzLkxpc3RlbmVycy5CYXNpYy5vcGVuTGlzdGVuZXIpO1xufVxuXG4vLyBFbGVtZW50cyB3aXRoIFtkYXRhLWNsb3NlXSB3aWxsIGNsb3NlIGEgcGx1Z2luIHRoYXQgc3VwcG9ydHMgaXQgd2hlbiBjbGlja2VkLlxuLy8gSWYgdXNlZCB3aXRob3V0IGEgdmFsdWUgb24gW2RhdGEtY2xvc2VdLCB0aGUgZXZlbnQgd2lsbCBidWJibGUsIGFsbG93aW5nIGl0IHRvIGNsb3NlIGEgcGFyZW50IGNvbXBvbmVudC5cblRyaWdnZXJzLkluaXRpYWxpemVycy5hZGRDbG9zZUxpc3RlbmVyID0gKCRlbGVtKSA9PiB7XG4gICRlbGVtLm9mZignY2xpY2suemYudHJpZ2dlcicsIFRyaWdnZXJzLkxpc3RlbmVycy5CYXNpYy5jbG9zZUxpc3RlbmVyKTtcbiAgJGVsZW0ub24oJ2NsaWNrLnpmLnRyaWdnZXInLCAnW2RhdGEtY2xvc2VdJywgVHJpZ2dlcnMuTGlzdGVuZXJzLkJhc2ljLmNsb3NlTGlzdGVuZXIpO1xufVxuXG4vLyBFbGVtZW50cyB3aXRoIFtkYXRhLXRvZ2dsZV0gd2lsbCB0b2dnbGUgYSBwbHVnaW4gdGhhdCBzdXBwb3J0cyBpdCB3aGVuIGNsaWNrZWQuXG5UcmlnZ2Vycy5Jbml0aWFsaXplcnMuYWRkVG9nZ2xlTGlzdGVuZXIgPSAoJGVsZW0pID0+IHtcbiAgJGVsZW0ub2ZmKCdjbGljay56Zi50cmlnZ2VyJywgVHJpZ2dlcnMuTGlzdGVuZXJzLkJhc2ljLnRvZ2dsZUxpc3RlbmVyKTtcbiAgJGVsZW0ub24oJ2NsaWNrLnpmLnRyaWdnZXInLCAnW2RhdGEtdG9nZ2xlXScsIFRyaWdnZXJzLkxpc3RlbmVycy5CYXNpYy50b2dnbGVMaXN0ZW5lcik7XG59XG5cbi8vIEVsZW1lbnRzIHdpdGggW2RhdGEtY2xvc2FibGVdIHdpbGwgcmVzcG9uZCB0byBjbG9zZS56Zi50cmlnZ2VyIGV2ZW50cy5cblRyaWdnZXJzLkluaXRpYWxpemVycy5hZGRDbG9zZWFibGVMaXN0ZW5lciA9ICgkZWxlbSkgPT4ge1xuICAkZWxlbS5vZmYoJ2Nsb3NlLnpmLnRyaWdnZXInLCBUcmlnZ2Vycy5MaXN0ZW5lcnMuQmFzaWMuY2xvc2VhYmxlTGlzdGVuZXIpO1xuICAkZWxlbS5vbignY2xvc2UuemYudHJpZ2dlcicsICdbZGF0YS1jbG9zZWFibGVdLCBbZGF0YS1jbG9zYWJsZV0nLCBUcmlnZ2Vycy5MaXN0ZW5lcnMuQmFzaWMuY2xvc2VhYmxlTGlzdGVuZXIpO1xufVxuXG4vLyBFbGVtZW50cyB3aXRoIFtkYXRhLXRvZ2dsZS1mb2N1c10gd2lsbCByZXNwb25kIHRvIGNvbWluZyBpbiBhbmQgb3V0IG9mIGZvY3VzXG5UcmlnZ2Vycy5Jbml0aWFsaXplcnMuYWRkVG9nZ2xlRm9jdXNMaXN0ZW5lciA9ICgkZWxlbSkgPT4ge1xuICAkZWxlbS5vZmYoJ2ZvY3VzLnpmLnRyaWdnZXIgYmx1ci56Zi50cmlnZ2VyJywgVHJpZ2dlcnMuTGlzdGVuZXJzLkJhc2ljLnRvZ2dsZUZvY3VzTGlzdGVuZXIpO1xuICAkZWxlbS5vbignZm9jdXMuemYudHJpZ2dlciBibHVyLnpmLnRyaWdnZXInLCAnW2RhdGEtdG9nZ2xlLWZvY3VzXScsIFRyaWdnZXJzLkxpc3RlbmVycy5CYXNpYy50b2dnbGVGb2N1c0xpc3RlbmVyKTtcbn1cblxuXG5cbi8vIE1vcmUgR2xvYmFsL2NvbXBsZXggbGlzdGVuZXJzIGFuZCB0cmlnZ2Vyc1xuVHJpZ2dlcnMuTGlzdGVuZXJzLkdsb2JhbCAgPSB7XG4gIHJlc2l6ZUxpc3RlbmVyOiBmdW5jdGlvbigkbm9kZXMpIHtcbiAgICBpZighTXV0YXRpb25PYnNlcnZlcil7Ly9mYWxsYmFjayBmb3IgSUUgOVxuICAgICAgJG5vZGVzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgJCh0aGlzKS50cmlnZ2VySGFuZGxlcigncmVzaXplbWUuemYudHJpZ2dlcicpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vdHJpZ2dlciBhbGwgbGlzdGVuaW5nIGVsZW1lbnRzIGFuZCBzaWduYWwgYSByZXNpemUgZXZlbnRcbiAgICAkbm9kZXMuYXR0cignZGF0YS1ldmVudHMnLCBcInJlc2l6ZVwiKTtcbiAgfSxcbiAgc2Nyb2xsTGlzdGVuZXI6IGZ1bmN0aW9uKCRub2Rlcykge1xuICAgIGlmKCFNdXRhdGlvbk9ic2VydmVyKXsvL2ZhbGxiYWNrIGZvciBJRSA5XG4gICAgICAkbm9kZXMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAkKHRoaXMpLnRyaWdnZXJIYW5kbGVyKCdzY3JvbGxtZS56Zi50cmlnZ2VyJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy90cmlnZ2VyIGFsbCBsaXN0ZW5pbmcgZWxlbWVudHMgYW5kIHNpZ25hbCBhIHNjcm9sbCBldmVudFxuICAgICRub2Rlcy5hdHRyKCdkYXRhLWV2ZW50cycsIFwic2Nyb2xsXCIpO1xuICB9LFxuICBjbG9zZU1lTGlzdGVuZXI6IGZ1bmN0aW9uKGUsIHBsdWdpbklkKXtcbiAgICBsZXQgcGx1Z2luID0gZS5uYW1lc3BhY2Uuc3BsaXQoJy4nKVswXTtcbiAgICBsZXQgcGx1Z2lucyA9ICQoYFtkYXRhLSR7cGx1Z2lufV1gKS5ub3QoYFtkYXRhLXlldGktYm94PVwiJHtwbHVnaW5JZH1cIl1gKTtcblxuICAgIHBsdWdpbnMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgbGV0IF90aGlzID0gJCh0aGlzKTtcbiAgICAgIF90aGlzLnRyaWdnZXJIYW5kbGVyKCdjbG9zZS56Zi50cmlnZ2VyJywgW190aGlzXSk7XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gR2xvYmFsLCBwYXJzZXMgd2hvbGUgZG9jdW1lbnQuXG5UcmlnZ2Vycy5Jbml0aWFsaXplcnMuYWRkQ2xvc2VtZUxpc3RlbmVyID0gZnVuY3Rpb24ocGx1Z2luTmFtZSkge1xuICB2YXIgeWV0aUJveGVzID0gJCgnW2RhdGEteWV0aS1ib3hdJyksXG4gICAgICBwbHVnTmFtZXMgPSBbJ2Ryb3Bkb3duJywgJ3Rvb2x0aXAnLCAncmV2ZWFsJ107XG5cbiAgaWYocGx1Z2luTmFtZSl7XG4gICAgaWYodHlwZW9mIHBsdWdpbk5hbWUgPT09ICdzdHJpbmcnKXtcbiAgICAgIHBsdWdOYW1lcy5wdXNoKHBsdWdpbk5hbWUpO1xuICAgIH1lbHNlIGlmKHR5cGVvZiBwbHVnaW5OYW1lID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgcGx1Z2luTmFtZVswXSA9PT0gJ3N0cmluZycpe1xuICAgICAgcGx1Z05hbWVzID0gcGx1Z05hbWVzLmNvbmNhdChwbHVnaW5OYW1lKTtcbiAgICB9ZWxzZXtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1BsdWdpbiBuYW1lcyBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9XG4gIH1cbiAgaWYoeWV0aUJveGVzLmxlbmd0aCl7XG4gICAgbGV0IGxpc3RlbmVycyA9IHBsdWdOYW1lcy5tYXAoKG5hbWUpID0+IHtcbiAgICAgIHJldHVybiBgY2xvc2VtZS56Zi4ke25hbWV9YDtcbiAgICB9KS5qb2luKCcgJyk7XG5cbiAgICAkKHdpbmRvdykub2ZmKGxpc3RlbmVycykub24obGlzdGVuZXJzLCBUcmlnZ2Vycy5MaXN0ZW5lcnMuR2xvYmFsLmNsb3NlTWVMaXN0ZW5lcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVib3VuY2VHbG9iYWxMaXN0ZW5lcihkZWJvdW5jZSwgdHJpZ2dlciwgbGlzdGVuZXIpIHtcbiAgbGV0IHRpbWVyLCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKTtcbiAgJCh3aW5kb3cpLm9uKHRyaWdnZXIsIGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aW1lcikgeyBjbGVhclRpbWVvdXQodGltZXIpOyB9XG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICBsaXN0ZW5lci5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9LCBkZWJvdW5jZSB8fCAxMCk7IC8vZGVmYXVsdCB0aW1lIHRvIGVtaXQgc2Nyb2xsIGV2ZW50XG4gIH0pO1xufVxuXG5UcmlnZ2Vycy5Jbml0aWFsaXplcnMuYWRkUmVzaXplTGlzdGVuZXIgPSBmdW5jdGlvbihkZWJvdW5jZSl7XG4gIGxldCAkbm9kZXMgPSAkKCdbZGF0YS1yZXNpemVdJyk7XG4gIGlmKCRub2Rlcy5sZW5ndGgpe1xuICAgIGRlYm91bmNlR2xvYmFsTGlzdGVuZXIoZGVib3VuY2UsICdyZXNpemUuemYudHJpZ2dlcicsIFRyaWdnZXJzLkxpc3RlbmVycy5HbG9iYWwucmVzaXplTGlzdGVuZXIsICRub2Rlcyk7XG4gIH1cbn1cblxuVHJpZ2dlcnMuSW5pdGlhbGl6ZXJzLmFkZFNjcm9sbExpc3RlbmVyID0gZnVuY3Rpb24oZGVib3VuY2Upe1xuICBsZXQgJG5vZGVzID0gJCgnW2RhdGEtc2Nyb2xsXScpO1xuICBpZigkbm9kZXMubGVuZ3RoKXtcbiAgICBkZWJvdW5jZUdsb2JhbExpc3RlbmVyKGRlYm91bmNlLCAnc2Nyb2xsLnpmLnRyaWdnZXInLCBUcmlnZ2Vycy5MaXN0ZW5lcnMuR2xvYmFsLnNjcm9sbExpc3RlbmVyLCAkbm9kZXMpO1xuICB9XG59XG5cblRyaWdnZXJzLkluaXRpYWxpemVycy5hZGRNdXRhdGlvbkV2ZW50c0xpc3RlbmVyID0gZnVuY3Rpb24oJGVsZW0pIHtcbiAgaWYoIU11dGF0aW9uT2JzZXJ2ZXIpeyByZXR1cm4gZmFsc2U7IH1cbiAgbGV0ICRub2RlcyA9ICRlbGVtLmZpbmQoJ1tkYXRhLXJlc2l6ZV0sIFtkYXRhLXNjcm9sbF0sIFtkYXRhLW11dGF0ZV0nKTtcblxuICAvL2VsZW1lbnQgY2FsbGJhY2tcbiAgdmFyIGxpc3RlbmluZ0VsZW1lbnRzTXV0YXRpb24gPSBmdW5jdGlvbiAobXV0YXRpb25SZWNvcmRzTGlzdCkge1xuICAgIHZhciAkdGFyZ2V0ID0gJChtdXRhdGlvblJlY29yZHNMaXN0WzBdLnRhcmdldCk7XG5cbiAgICAvL3RyaWdnZXIgdGhlIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBlbGVtZW50IGRlcGVuZGluZyBvbiB0eXBlXG4gICAgc3dpdGNoIChtdXRhdGlvblJlY29yZHNMaXN0WzBdLnR5cGUpIHtcbiAgICAgIGNhc2UgXCJhdHRyaWJ1dGVzXCI6XG4gICAgICAgIGlmICgkdGFyZ2V0LmF0dHIoXCJkYXRhLWV2ZW50c1wiKSA9PT0gXCJzY3JvbGxcIiAmJiBtdXRhdGlvblJlY29yZHNMaXN0WzBdLmF0dHJpYnV0ZU5hbWUgPT09IFwiZGF0YS1ldmVudHNcIikge1xuICAgICAgICAgICR0YXJnZXQudHJpZ2dlckhhbmRsZXIoJ3Njcm9sbG1lLnpmLnRyaWdnZXInLCBbJHRhcmdldCwgd2luZG93LnBhZ2VZT2Zmc2V0XSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCR0YXJnZXQuYXR0cihcImRhdGEtZXZlbnRzXCIpID09PSBcInJlc2l6ZVwiICYmIG11dGF0aW9uUmVjb3Jkc0xpc3RbMF0uYXR0cmlidXRlTmFtZSA9PT0gXCJkYXRhLWV2ZW50c1wiKSB7XG4gICAgICAgICAgJHRhcmdldC50cmlnZ2VySGFuZGxlcigncmVzaXplbWUuemYudHJpZ2dlcicsIFskdGFyZ2V0XSk7XG4gICAgICAgICB9XG4gICAgICAgIGlmIChtdXRhdGlvblJlY29yZHNMaXN0WzBdLmF0dHJpYnV0ZU5hbWUgPT09IFwic3R5bGVcIikge1xuICAgICAgICAgICR0YXJnZXQuY2xvc2VzdChcIltkYXRhLW11dGF0ZV1cIikuYXR0cihcImRhdGEtZXZlbnRzXCIsXCJtdXRhdGVcIik7XG4gICAgICAgICAgJHRhcmdldC5jbG9zZXN0KFwiW2RhdGEtbXV0YXRlXVwiKS50cmlnZ2VySGFuZGxlcignbXV0YXRlbWUuemYudHJpZ2dlcicsIFskdGFyZ2V0LmNsb3Nlc3QoXCJbZGF0YS1tdXRhdGVdXCIpXSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJjaGlsZExpc3RcIjpcbiAgICAgICAgJHRhcmdldC5jbG9zZXN0KFwiW2RhdGEtbXV0YXRlXVwiKS5hdHRyKFwiZGF0YS1ldmVudHNcIixcIm11dGF0ZVwiKTtcbiAgICAgICAgJHRhcmdldC5jbG9zZXN0KFwiW2RhdGEtbXV0YXRlXVwiKS50cmlnZ2VySGFuZGxlcignbXV0YXRlbWUuemYudHJpZ2dlcicsIFskdGFyZ2V0LmNsb3Nlc3QoXCJbZGF0YS1tdXRhdGVdXCIpXSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAvL25vdGhpbmdcbiAgICB9XG4gIH07XG5cbiAgaWYgKCRub2Rlcy5sZW5ndGgpIHtcbiAgICAvL2ZvciBlYWNoIGVsZW1lbnQgdGhhdCBuZWVkcyB0byBsaXN0ZW4gZm9yIHJlc2l6aW5nLCBzY3JvbGxpbmcsIG9yIG11dGF0aW9uIGFkZCBhIHNpbmdsZSBvYnNlcnZlclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9ICRub2Rlcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIHZhciBlbGVtZW50T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihsaXN0ZW5pbmdFbGVtZW50c011dGF0aW9uKTtcbiAgICAgIGVsZW1lbnRPYnNlcnZlci5vYnNlcnZlKCRub2Rlc1tpXSwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIGNoYXJhY3RlckRhdGE6IGZhbHNlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVGaWx0ZXI6IFtcImRhdGEtZXZlbnRzXCIsIFwic3R5bGVcIl0gfSk7XG4gICAgfVxuICB9XG59XG5cblRyaWdnZXJzLkluaXRpYWxpemVycy5hZGRTaW1wbGVMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcbiAgbGV0ICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpO1xuXG4gIFRyaWdnZXJzLkluaXRpYWxpemVycy5hZGRPcGVuTGlzdGVuZXIoJGRvY3VtZW50KTtcbiAgVHJpZ2dlcnMuSW5pdGlhbGl6ZXJzLmFkZENsb3NlTGlzdGVuZXIoJGRvY3VtZW50KTtcbiAgVHJpZ2dlcnMuSW5pdGlhbGl6ZXJzLmFkZFRvZ2dsZUxpc3RlbmVyKCRkb2N1bWVudCk7XG4gIFRyaWdnZXJzLkluaXRpYWxpemVycy5hZGRDbG9zZWFibGVMaXN0ZW5lcigkZG9jdW1lbnQpO1xuICBUcmlnZ2Vycy5Jbml0aWFsaXplcnMuYWRkVG9nZ2xlRm9jdXNMaXN0ZW5lcigkZG9jdW1lbnQpO1xuXG59XG5cblRyaWdnZXJzLkluaXRpYWxpemVycy5hZGRHbG9iYWxMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcbiAgbGV0ICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpO1xuICBUcmlnZ2Vycy5Jbml0aWFsaXplcnMuYWRkTXV0YXRpb25FdmVudHNMaXN0ZW5lcigkZG9jdW1lbnQpO1xuICBUcmlnZ2Vycy5Jbml0aWFsaXplcnMuYWRkUmVzaXplTGlzdGVuZXIoMjUwKTtcbiAgVHJpZ2dlcnMuSW5pdGlhbGl6ZXJzLmFkZFNjcm9sbExpc3RlbmVyKCk7XG4gIFRyaWdnZXJzLkluaXRpYWxpemVycy5hZGRDbG9zZW1lTGlzdGVuZXIoKTtcbn1cblxuXG5UcmlnZ2Vycy5pbml0ID0gZnVuY3Rpb24gKF9fLCBGb3VuZGF0aW9uKSB7XG4gIG9uTG9hZCgkKHdpbmRvdyksIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJC50cmlnZ2Vyc0luaXRpYWxpemVkICE9PSB0cnVlKSB7XG4gICAgICBUcmlnZ2Vycy5Jbml0aWFsaXplcnMuYWRkU2ltcGxlTGlzdGVuZXJzKCk7XG4gICAgICBUcmlnZ2Vycy5Jbml0aWFsaXplcnMuYWRkR2xvYmFsTGlzdGVuZXJzKCk7XG4gICAgICAkLnRyaWdnZXJzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYoRm91bmRhdGlvbikge1xuICAgIEZvdW5kYXRpb24uVHJpZ2dlcnMgPSBUcmlnZ2VycztcbiAgICAvLyBMZWdhY3kgaW5jbHVkZWQgdG8gYmUgYmFja3dhcmRzIGNvbXBhdGlibGUgZm9yIG5vdy5cbiAgICBGb3VuZGF0aW9uLklIZWFyWW91ID0gVHJpZ2dlcnMuSW5pdGlhbGl6ZXJzLmFkZEdsb2JhbExpc3RlbmVyc1xuICB9XG59XG5cbmV4cG9ydCB7VHJpZ2dlcnN9O1xuIiwiaW1wb3J0IHsgR2V0WW9EaWdpdHMgfSBmcm9tICcuL2ZvdW5kYXRpb24uY29yZS51dGlscyc7XG5cbi8vIEFic3RyYWN0IGNsYXNzIGZvciBwcm92aWRpbmcgbGlmZWN5Y2xlIGhvb2tzLiBFeHBlY3QgcGx1Z2lucyB0byBkZWZpbmUgQVQgTEVBU1Rcbi8vIHtmdW5jdGlvbn0gX3NldHVwIChyZXBsYWNlcyBwcmV2aW91cyBjb25zdHJ1Y3RvciksXG4vLyB7ZnVuY3Rpb259IF9kZXN0cm95IChyZXBsYWNlcyBwcmV2aW91cyBkZXN0cm95KVxuY2xhc3MgUGx1Z2luIHtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5fc2V0dXAoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgdmFyIHBsdWdpbk5hbWUgPSBnZXRQbHVnaW5OYW1lKHRoaXMpO1xuICAgIHRoaXMudXVpZCA9IEdldFlvRGlnaXRzKDYsIHBsdWdpbk5hbWUpO1xuXG4gICAgaWYoIXRoaXMuJGVsZW1lbnQuYXR0cihgZGF0YS0ke3BsdWdpbk5hbWV9YCkpeyB0aGlzLiRlbGVtZW50LmF0dHIoYGRhdGEtJHtwbHVnaW5OYW1lfWAsIHRoaXMudXVpZCk7IH1cbiAgICBpZighdGhpcy4kZWxlbWVudC5kYXRhKCd6ZlBsdWdpbicpKXsgdGhpcy4kZWxlbWVudC5kYXRhKCd6ZlBsdWdpbicsIHRoaXMpOyB9XG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgcGx1Z2luIGhhcyBpbml0aWFsaXplZC5cbiAgICAgKiBAZXZlbnQgUGx1Z2luI2luaXRcbiAgICAgKi9cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoYGluaXQuemYuJHtwbHVnaW5OYW1lfWApO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9kZXN0cm95KCk7XG4gICAgdmFyIHBsdWdpbk5hbWUgPSBnZXRQbHVnaW5OYW1lKHRoaXMpO1xuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cihgZGF0YS0ke3BsdWdpbk5hbWV9YCkucmVtb3ZlRGF0YSgnemZQbHVnaW4nKVxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgcGx1Z2luIGhhcyBiZWVuIGRlc3Ryb3llZC5cbiAgICAgICAgICogQGV2ZW50IFBsdWdpbiNkZXN0cm95ZWRcbiAgICAgICAgICovXG4gICAgICAgIC50cmlnZ2VyKGBkZXN0cm95ZWQuemYuJHtwbHVnaW5OYW1lfWApO1xuICAgIGZvcih2YXIgcHJvcCBpbiB0aGlzKXtcbiAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIHRoaXNbcHJvcF0gPSBudWxsOyAvL2NsZWFuIHVwIHNjcmlwdCB0byBwcmVwIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIENvbnZlcnQgUGFzY2FsQ2FzZSB0byBrZWJhYi1jYXNlXG4vLyBUaGFuayB5b3U6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg5NTU1ODBcbmZ1bmN0aW9uIGh5cGhlbmF0ZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBnZXRQbHVnaW5OYW1lKG9iaikge1xuICByZXR1cm4gaHlwaGVuYXRlKG9iai5jbGFzc05hbWUpO1xufVxuXG5leHBvcnQge1BsdWdpbn07XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcbmltcG9ydCB7IEdldFlvRGlnaXRzIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUudXRpbHMnO1xuXG4vKipcbiAqIEFiaWRlIG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi5hYmlkZVxuICovXG5cbmNsYXNzIEFiaWRlIGV4dGVuZHMgUGx1Z2luIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgQWJpZGUuXG4gICAqIEBjbGFzc1xuICAgKiBAbmFtZSBBYmlkZVxuICAgKiBAZmlyZXMgQWJpZGUjaW5pdFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gYWRkIHRoZSB0cmlnZ2VyIHRvLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlcyB0byB0aGUgZGVmYXVsdCBwbHVnaW4gc2V0dGluZ3MuXG4gICAqL1xuICBfc2V0dXAoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5vcHRpb25zICA9ICQuZXh0ZW5kKHRydWUsIHt9LCBBYmlkZS5kZWZhdWx0cywgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuICAgIHRoaXMuaXNFbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLmZvcm1ub3ZhbGlkYXRlID0gbnVsbDtcblxuICAgIHRoaXMuY2xhc3NOYW1lID0gJ0FiaWRlJzsgLy8gaWU5IGJhY2sgY29tcGF0XG4gICAgdGhpcy5faW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBBYmlkZSBwbHVnaW4gYW5kIGNhbGxzIGZ1bmN0aW9ucyB0byBnZXQgQWJpZGUgZnVuY3Rpb25pbmcgb24gbG9hZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0KCkge1xuICAgIHRoaXMuJGlucHV0cyA9ICQubWVyZ2UoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnNpZGVyIGFzIGlucHV0IHRvIHZhbGlkYXRlOlxuICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCdpbnB1dCcpLm5vdCgnW3R5cGU9XCJzdWJtaXRcIl0nKSwgLy8gKiBhbGwgaW5wdXQgZmllbGRzIGV4cGVjdCBzdWJtaXRcbiAgICAgIHRoaXMuJGVsZW1lbnQuZmluZCgndGV4dGFyZWEsIHNlbGVjdCcpICAgICAgICAgICAgICAvLyAqIGFsbCB0ZXh0YXJlYXMgYW5kIHNlbGVjdCBmaWVsZHNcbiAgICApO1xuICAgIHRoaXMuJHN1Ym1pdHMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgY29uc3QgJGdsb2JhbEVycm9ycyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtYWJpZGUtZXJyb3JdJyk7XG5cbiAgICAvLyBBZGQgYTExeSBhdHRyaWJ1dGVzIHRvIGFsbCBmaWVsZHNcbiAgICBpZiAodGhpcy5vcHRpb25zLmExMXlBdHRyaWJ1dGVzKSB7XG4gICAgICB0aGlzLiRpbnB1dHMuZWFjaCgoaSwgaW5wdXQpID0+IHRoaXMuYWRkQTExeUF0dHJpYnV0ZXMoJChpbnB1dCkpKTtcbiAgICAgICRnbG9iYWxFcnJvcnMuZWFjaCgoaSwgZXJyb3IpID0+IHRoaXMuYWRkR2xvYmFsRXJyb3JBMTF5QXR0cmlidXRlcygkKGVycm9yKSkpO1xuICAgIH1cblxuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGV2ZW50cyBmb3IgQWJpZGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZXZlbnRzKCkge1xuICAgIHRoaXMuJGVsZW1lbnQub2ZmKCcuYWJpZGUnKVxuICAgICAgLm9uKCdyZXNldC56Zi5hYmlkZScsICgpID0+IHtcbiAgICAgICAgdGhpcy5yZXNldEZvcm0oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3N1Ym1pdC56Zi5hYmlkZScsICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVGb3JtKCk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuJHN1Ym1pdHNcbiAgICAgIC5vZmYoJ2NsaWNrLnpmLmFiaWRlIGtleWRvd24uemYuYWJpZGUnKVxuICAgICAgLm9uKCdjbGljay56Zi5hYmlkZSBrZXlkb3duLnpmLmFiaWRlJywgKGUpID0+IHtcbiAgICAgICAgaWYgKCFlLmtleSB8fCAoZS5rZXkgPT09ICcgJyB8fCBlLmtleSA9PT0gJ0VudGVyJykpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5mb3Jtbm92YWxpZGF0ZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZm9ybW5vdmFsaWRhdGUnKSAhPT0gbnVsbDtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnN1Ym1pdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMudmFsaWRhdGVPbiA9PT0gJ2ZpZWxkQ2hhbmdlJykge1xuICAgICAgdGhpcy4kaW5wdXRzXG4gICAgICAgIC5vZmYoJ2NoYW5nZS56Zi5hYmlkZScpXG4gICAgICAgIC5vbignY2hhbmdlLnpmLmFiaWRlJywgKGUpID0+IHtcbiAgICAgICAgICB0aGlzLnZhbGlkYXRlSW5wdXQoJChlLnRhcmdldCkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmxpdmVWYWxpZGF0ZSkge1xuICAgICAgdGhpcy4kaW5wdXRzXG4gICAgICAgIC5vZmYoJ2lucHV0LnpmLmFiaWRlJylcbiAgICAgICAgLm9uKCdpbnB1dC56Zi5hYmlkZScsIChlKSA9PiB7XG4gICAgICAgICAgdGhpcy52YWxpZGF0ZUlucHV0KCQoZS50YXJnZXQpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy52YWxpZGF0ZU9uQmx1cikge1xuICAgICAgdGhpcy4kaW5wdXRzXG4gICAgICAgIC5vZmYoJ2JsdXIuemYuYWJpZGUnKVxuICAgICAgICAub24oJ2JsdXIuemYuYWJpZGUnLCAoZSkgPT4ge1xuICAgICAgICAgIHRoaXMudmFsaWRhdGVJbnB1dCgkKGUudGFyZ2V0KSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBuZWNlc3NhcnkgZnVuY3Rpb25zIHRvIHVwZGF0ZSBBYmlkZSB1cG9uIERPTSBjaGFuZ2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZWZsb3coKSB7XG4gICAgdGhpcy5faW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSBzdWJtaXR0ZWQgZm9ybSBzaG91bGQgYmUgdmFsaWRhdGVkIG9yIG5vdCwgY29uc29kZXJpbmcgZm9ybW5vdmFsaWRhdGUgYW5kIGlzRW5hYmxlZFxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF92YWxpZGF0aW9uSXNEaXNhYmxlZCgpIHtcbiAgICBpZiAodGhpcy5pc0VuYWJsZWQgPT09IGZhbHNlKSB7IC8vIHdob2xlIHZhbGlkYXRpb24gZGlzYWJsZWRcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuZm9ybW5vdmFsaWRhdGUgPT09ICdib29sZWFuJykgeyAvLyB0cmlnZ2VyZWQgYnkgJHN1Ym1pdFxuICAgICAgcmV0dXJuIHRoaXMuZm9ybW5vdmFsaWRhdGU7XG4gICAgfVxuICAgIC8vIHRyaWdnZXJlZCBieSBFbnRlciBpbiBub24tc3VibWl0IGlucHV0XG4gICAgcmV0dXJuIHRoaXMuJHN1Ym1pdHMubGVuZ3RoID8gdGhpcy4kc3VibWl0c1swXS5nZXRBdHRyaWJ1dGUoJ2Zvcm1ub3ZhbGlkYXRlJykgIT09IG51bGwgOiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIHRoZSB3aG9sZSB2YWxpZGF0aW9uXG4gICAqL1xuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuaXNFbmFibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgd2hvbGUgdmFsaWRhdGlvblxuICAgKi9cbiAgZGlzYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5pc0VuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgYSBmb3JtIGVsZW1lbnQgaGFzIHRoZSByZXF1aXJlZCBhdHRyaWJ1dGUgYW5kIGlmIGl0J3MgY2hlY2tlZCBvciBub3RcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIGNoZWNrIGZvciByZXF1aXJlZCBhdHRyaWJ1dGVcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEJvb2xlYW4gdmFsdWUgZGVwZW5kcyBvbiB3aGV0aGVyIG9yIG5vdCBhdHRyaWJ1dGUgaXMgY2hlY2tlZCBvciBlbXB0eVxuICAgKi9cbiAgcmVxdWlyZWRDaGVjaygkZWwpIHtcbiAgICBpZiAoISRlbC5hdHRyKCdyZXF1aXJlZCcpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZhciBpc0dvb2QgPSB0cnVlO1xuXG4gICAgc3dpdGNoICgkZWxbMF0udHlwZSkge1xuICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICBpc0dvb2QgPSAkZWxbMF0uY2hlY2tlZDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICBjYXNlICdzZWxlY3Qtb25lJzpcbiAgICAgIGNhc2UgJ3NlbGVjdC1tdWx0aXBsZSc6XG4gICAgICAgIHZhciBvcHQgPSAkZWwuZmluZCgnb3B0aW9uOnNlbGVjdGVkJyk7XG4gICAgICAgIGlmICghb3B0Lmxlbmd0aCB8fCAhb3B0LnZhbCgpKSBpc0dvb2QgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmICghJGVsLnZhbCgpIHx8ICEkZWwudmFsKCkubGVuZ3RoKSBpc0dvb2QgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNHb29kO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldDpcbiAgICogLSBCYXNlZCBvbiAkZWwsIHRoZSBmaXJzdCBlbGVtZW50KHMpIGNvcnJlc3BvbmRpbmcgdG8gYGZvcm1FcnJvclNlbGVjdG9yYCBpbiB0aGlzIG9yZGVyOlxuICAgKiAgIDEuIFRoZSBlbGVtZW50J3MgZGlyZWN0IHNpYmxpbmcoJ3MpLlxuICAgKiAgIDIuIFRoZSBlbGVtZW50J3MgcGFyZW50J3MgY2hpbGRyZW4uXG4gICAqIC0gRWxlbWVudChzKSB3aXRoIHRoZSBhdHRyaWJ1dGUgYFtkYXRhLWZvcm0tZXJyb3ItZm9yXWAgc2V0IHdpdGggdGhlIGVsZW1lbnQncyBpZC5cbiAgICpcbiAgICogVGhpcyBhbGxvd3MgZm9yIG11bHRpcGxlIGZvcm0gZXJyb3JzIHBlciBpbnB1dCwgdGhvdWdoIGlmIG5vbmUgYXJlIGZvdW5kLCBubyBmb3JtIGVycm9ycyB3aWxsIGJlIHNob3duLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gJGVsIC0galF1ZXJ5IG9iamVjdCB0byB1c2UgYXMgcmVmZXJlbmNlIHRvIGZpbmQgdGhlIGZvcm0gZXJyb3Igc2VsZWN0b3IuXG4gICAqIEBwYXJhbSB7U3RyaW5nW119IFtmYWlsZWRWYWxpZGF0b3JzXSAtIExpc3Qgb2YgZmFpbGVkIHZhbGlkYXRvcnMuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IGpRdWVyeSBvYmplY3Qgd2l0aCB0aGUgc2VsZWN0b3IuXG4gICAqL1xuICBmaW5kRm9ybUVycm9yKCRlbCwgZmFpbGVkVmFsaWRhdG9ycykge1xuICAgIHZhciBpZCA9ICRlbC5sZW5ndGggPyAkZWxbMF0uaWQgOiAnJztcbiAgICB2YXIgJGVycm9yID0gJGVsLnNpYmxpbmdzKHRoaXMub3B0aW9ucy5mb3JtRXJyb3JTZWxlY3Rvcik7XG5cbiAgICBpZiAoISRlcnJvci5sZW5ndGgpIHtcbiAgICAgICRlcnJvciA9ICRlbC5wYXJlbnQoKS5maW5kKHRoaXMub3B0aW9ucy5mb3JtRXJyb3JTZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgaWYgKGlkKSB7XG4gICAgICAkZXJyb3IgPSAkZXJyb3IuYWRkKHRoaXMuJGVsZW1lbnQuZmluZChgW2RhdGEtZm9ybS1lcnJvci1mb3I9XCIke2lkfVwiXWApKTtcbiAgICB9XG5cbiAgICBpZiAoISFmYWlsZWRWYWxpZGF0b3JzKSB7XG4gICAgICAkZXJyb3IgPSAkZXJyb3Iubm90KCdbZGF0YS1mb3JtLWVycm9yLW9uXScpXG5cbiAgICAgIGZhaWxlZFZhbGlkYXRvcnMuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAkZXJyb3IgPSAkZXJyb3IuYWRkKCRlbC5zaWJsaW5ncyhgW2RhdGEtZm9ybS1lcnJvci1vbj1cIiR7dn1cIl1gKSk7XG4gICAgICAgICRlcnJvciA9ICRlcnJvci5hZGQodGhpcy4kZWxlbWVudC5maW5kKGBbZGF0YS1mb3JtLWVycm9yLWZvcj1cIiR7aWR9XCJdW2RhdGEtZm9ybS1lcnJvci1vbj1cIiR7dn1cIl1gKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gJGVycm9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGlzIG9yZGVyOlxuICAgKiAyLiBUaGUgPGxhYmVsPiB3aXRoIHRoZSBhdHRyaWJ1dGUgYFtmb3I9XCJzb21lSW5wdXRJZFwiXWBcbiAgICogMy4gVGhlIGAuY2xvc2VzdCgpYCA8bGFiZWw+XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAkZWwgLSBqUXVlcnkgb2JqZWN0IHRvIGNoZWNrIGZvciByZXF1aXJlZCBhdHRyaWJ1dGVcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEJvb2xlYW4gdmFsdWUgZGVwZW5kcyBvbiB3aGV0aGVyIG9yIG5vdCBhdHRyaWJ1dGUgaXMgY2hlY2tlZCBvciBlbXB0eVxuICAgKi9cbiAgZmluZExhYmVsKCRlbCkge1xuICAgIHZhciBpZCA9ICRlbFswXS5pZDtcbiAgICB2YXIgJGxhYmVsID0gdGhpcy4kZWxlbWVudC5maW5kKGBsYWJlbFtmb3I9XCIke2lkfVwiXWApO1xuXG4gICAgaWYgKCEkbGFiZWwubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gJGVsLmNsb3Nlc3QoJ2xhYmVsJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuICRsYWJlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNldCBvZiBsYWJlbHMgYXNzb2NpYXRlZCB3aXRoIGEgc2V0IG9mIHJhZGlvIGVscyBpbiB0aGlzIG9yZGVyXG4gICAqIDIuIFRoZSA8bGFiZWw+IHdpdGggdGhlIGF0dHJpYnV0ZSBgW2Zvcj1cInNvbWVJbnB1dElkXCJdYFxuICAgKiAzLiBUaGUgYC5jbG9zZXN0KClgIDxsYWJlbD5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICRlbCAtIGpRdWVyeSBvYmplY3QgdG8gY2hlY2sgZm9yIHJlcXVpcmVkIGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQm9vbGVhbiB2YWx1ZSBkZXBlbmRzIG9uIHdoZXRoZXIgb3Igbm90IGF0dHJpYnV0ZSBpcyBjaGVja2VkIG9yIGVtcHR5XG4gICAqL1xuICBmaW5kUmFkaW9MYWJlbHMoJGVscykge1xuICAgIHZhciBsYWJlbHMgPSAkZWxzLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgIHZhciBpZCA9IGVsLmlkO1xuICAgICAgdmFyICRsYWJlbCA9IHRoaXMuJGVsZW1lbnQuZmluZChgbGFiZWxbZm9yPVwiJHtpZH1cIl1gKTtcblxuICAgICAgaWYgKCEkbGFiZWwubGVuZ3RoKSB7XG4gICAgICAgICRsYWJlbCA9ICQoZWwpLmNsb3Nlc3QoJ2xhYmVsJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJGxhYmVsWzBdO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICQobGFiZWxzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNldCBvZiBsYWJlbHMgYXNzb2NpYXRlZCB3aXRoIGEgc2V0IG9mIGNoZWNrYm94IGVscyBpbiB0aGlzIG9yZGVyXG4gICAqIDIuIFRoZSA8bGFiZWw+IHdpdGggdGhlIGF0dHJpYnV0ZSBgW2Zvcj1cInNvbWVJbnB1dElkXCJdYFxuICAgKiAzLiBUaGUgYC5jbG9zZXN0KClgIDxsYWJlbD5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICRlbCAtIGpRdWVyeSBvYmplY3QgdG8gY2hlY2sgZm9yIHJlcXVpcmVkIGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQm9vbGVhbiB2YWx1ZSBkZXBlbmRzIG9uIHdoZXRoZXIgb3Igbm90IGF0dHJpYnV0ZSBpcyBjaGVja2VkIG9yIGVtcHR5XG4gICAqL1xuICBmaW5kQ2hlY2tib3hMYWJlbHMoJGVscykge1xuICAgIHZhciBsYWJlbHMgPSAkZWxzLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgIHZhciBpZCA9IGVsLmlkO1xuICAgICAgdmFyICRsYWJlbCA9IHRoaXMuJGVsZW1lbnQuZmluZChgbGFiZWxbZm9yPVwiJHtpZH1cIl1gKTtcblxuICAgICAgaWYgKCEkbGFiZWwubGVuZ3RoKSB7XG4gICAgICAgICRsYWJlbCA9ICQoZWwpLmNsb3Nlc3QoJ2xhYmVsJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJGxhYmVsWzBdO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICQobGFiZWxzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBDU1MgZXJyb3IgY2xhc3MgYXMgc3BlY2lmaWVkIGJ5IHRoZSBBYmlkZSBzZXR0aW5ncyB0byB0aGUgbGFiZWwsIGlucHV0LCBhbmQgdGhlIGZvcm1cbiAgICogQHBhcmFtIHtPYmplY3R9ICRlbCAtIGpRdWVyeSBvYmplY3QgdG8gYWRkIHRoZSBjbGFzcyB0b1xuICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBbZmFpbGVkVmFsaWRhdG9yc10gLSBMaXN0IG9mIGZhaWxlZCB2YWxpZGF0b3JzLlxuICAgKi9cbiAgYWRkRXJyb3JDbGFzc2VzKCRlbCwgZmFpbGVkVmFsaWRhdG9ycykge1xuICAgIHZhciAkbGFiZWwgPSB0aGlzLmZpbmRMYWJlbCgkZWwpO1xuICAgIHZhciAkZm9ybUVycm9yID0gdGhpcy5maW5kRm9ybUVycm9yKCRlbCwgZmFpbGVkVmFsaWRhdG9ycyk7XG5cbiAgICBpZiAoJGxhYmVsLmxlbmd0aCkge1xuICAgICAgJGxhYmVsLmFkZENsYXNzKHRoaXMub3B0aW9ucy5sYWJlbEVycm9yQ2xhc3MpO1xuICAgIH1cblxuICAgIGlmICgkZm9ybUVycm9yLmxlbmd0aCkge1xuICAgICAgJGZvcm1FcnJvci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZm9ybUVycm9yQ2xhc3MpO1xuICAgIH1cblxuICAgICRlbC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaW5wdXRFcnJvckNsYXNzKS5hdHRyKHtcbiAgICAgICdkYXRhLWludmFsaWQnOiAnJyxcbiAgICAgICdhcmlhLWludmFsaWQnOiB0cnVlXG4gICAgfSk7XG5cbiAgICBpZiAoJGZvcm1FcnJvci5maWx0ZXIoJzp2aXNpYmxlJykubGVuZ3RoKSB7XG4gICAgICB0aGlzLmFkZEExMXlFcnJvckRlc2NyaWJlKCRlbCwgJGZvcm1FcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgW2Zvcl0gYW5kIFtyb2xlPWFsZXJ0XSBhdHRyaWJ1dGVzIHRvIGFsbCBmb3JtIGVycm9yIHRhcmdldHRpbmcgJGVsLFxuICAgKiBhbmQgW2FyaWEtZGVzY3JpYmVkYnldIGF0dHJpYnV0ZSB0byAkZWwgdG93YXJkIHRoZSBmaXJzdCBmb3JtIGVycm9yLlxuICAgKiBAcGFyYW0ge09iamVjdH0gJGVsIC0galF1ZXJ5IG9iamVjdFxuICAgKi9cbiAgYWRkQTExeUF0dHJpYnV0ZXMoJGVsKSB7XG4gICAgbGV0ICRlcnJvcnMgPSB0aGlzLmZpbmRGb3JtRXJyb3IoJGVsKTtcbiAgICBsZXQgJGxhYmVscyA9ICRlcnJvcnMuZmlsdGVyKCdsYWJlbCcpO1xuICAgIGlmICghJGVycm9ycy5sZW5ndGgpIHJldHVybjtcblxuICAgIGxldCAkZXJyb3IgPSAkZXJyb3JzLmZpbHRlcignOnZpc2libGUnKS5maXJzdCgpO1xuICAgIGlmICgkZXJyb3IubGVuZ3RoKSB7XG4gICAgICB0aGlzLmFkZEExMXlFcnJvckRlc2NyaWJlKCRlbCwgJGVycm9yKTtcbiAgICB9XG5cbiAgICBpZiAoJGxhYmVscy5maWx0ZXIoJ1tmb3JdJykubGVuZ3RoIDwgJGxhYmVscy5sZW5ndGgpIHtcbiAgICAgIC8vIEdldCB0aGUgaW5wdXQgSUQgb3IgY3JlYXRlIG9uZVxuICAgICAgbGV0IGVsZW1JZCA9ICRlbC5hdHRyKCdpZCcpO1xuICAgICAgaWYgKHR5cGVvZiBlbGVtSWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGVsZW1JZCA9IEdldFlvRGlnaXRzKDYsICdhYmlkZS1pbnB1dCcpO1xuICAgICAgICAkZWwuYXR0cignaWQnLCBlbGVtSWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBGb3IgZWFjaCBsYWJlbCB0YXJnZXRpbmcgJGVsLCBzZXQgW2Zvcl0gaWYgaXQgaXMgbm90IHNldC5cbiAgICAgICRsYWJlbHMuZWFjaCgoaSwgbGFiZWwpID0+IHtcbiAgICAgICAgY29uc3QgJGxhYmVsID0gJChsYWJlbCk7XG4gICAgICAgIGlmICh0eXBlb2YgJGxhYmVsLmF0dHIoJ2ZvcicpID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAkbGFiZWwuYXR0cignZm9yJywgZWxlbUlkKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEZvciBlYWNoIGVycm9yIHRhcmdldGluZyAkZWwsIHNldCBbcm9sZT1hbGVydF0gaWYgaXQgaXMgbm90IHNldC5cbiAgICAkZXJyb3JzLmVhY2goKGksIGxhYmVsKSA9PiB7XG4gICAgICBjb25zdCAkbGFiZWwgPSAkKGxhYmVsKTtcbiAgICAgIGlmICh0eXBlb2YgJGxhYmVsLmF0dHIoJ3JvbGUnKSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICRsYWJlbC5hdHRyKCdyb2xlJywgJ2FsZXJ0Jyk7XG4gICAgfSkuZW5kKCk7XG4gIH1cblxuICBhZGRBMTF5RXJyb3JEZXNjcmliZSgkZWwsICRlcnJvcikge1xuICAgIGlmICh0eXBlb2YgJGVsLmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKSAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcblxuICAgIC8vIFNldCBbYXJpYS1kZXNjcmliZWRieV0gb24gdGhlIGlucHV0IHRvd2FyZCB0aGUgZmlyc3QgZm9ybSBlcnJvciBpZiBpdCBpcyBub3Qgc2V0XG4gICAgLy8gR2V0IHRoZSBmaXJzdCBlcnJvciBJRCBvciBjcmVhdGUgb25lXG4gICAgbGV0IGVycm9ySWQgPSAkZXJyb3IuYXR0cignaWQnKTtcbiAgICBpZiAodHlwZW9mIGVycm9ySWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlcnJvcklkID0gR2V0WW9EaWdpdHMoNiwgJ2FiaWRlLWVycm9yJyk7XG4gICAgICAkZXJyb3IuYXR0cignaWQnLCBlcnJvcklkKTtcbiAgICB9XG5cbiAgICAkZWwuYXR0cignYXJpYS1kZXNjcmliZWRieScsIGVycm9ySWQpLmRhdGEoJ2FiaWRlLWRlc2NyaWJlZGJ5JywgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBbYXJpYS1saXZlXSBhdHRyaWJ1dGUgdG8gdGhlIGdpdmVuIGdsb2JhbCBmb3JtIGVycm9yICRlbC5cbiAgICogQHBhcmFtIHtPYmplY3R9ICRlbCAtIGpRdWVyeSBvYmplY3QgdG8gYWRkIHRoZSBhdHRyaWJ1dGUgdG9cbiAgICovXG4gIGFkZEdsb2JhbEVycm9yQTExeUF0dHJpYnV0ZXMoJGVsKSB7XG4gICAgaWYgKHR5cGVvZiAkZWwuYXR0cignYXJpYS1saXZlJykgPT09ICd1bmRlZmluZWQnKVxuICAgICAgJGVsLmF0dHIoJ2FyaWEtbGl2ZScsIHRoaXMub3B0aW9ucy5hMTF5RXJyb3JMZXZlbCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIENTUyBlcnJvciBjbGFzc2VzIGV0YyBmcm9tIGFuIGVudGlyZSByYWRpbyBidXR0b24gZ3JvdXBcbiAgICogQHBhcmFtIHtTdHJpbmd9IGdyb3VwTmFtZSAtIEEgc3RyaW5nIHRoYXQgc3BlY2lmaWVzIHRoZSBuYW1lIG9mIGEgcmFkaW8gYnV0dG9uIGdyb3VwXG4gICAqXG4gICAqL1xuICByZW1vdmVSYWRpb0Vycm9yQ2xhc3Nlcyhncm91cE5hbWUpIHtcbiAgICB2YXIgJGVscyA9IHRoaXMuJGVsZW1lbnQuZmluZChgOnJhZGlvW25hbWU9XCIke2dyb3VwTmFtZX1cIl1gKTtcbiAgICB2YXIgJGxhYmVscyA9IHRoaXMuZmluZFJhZGlvTGFiZWxzKCRlbHMpO1xuICAgIHZhciAkZm9ybUVycm9ycyA9IHRoaXMuZmluZEZvcm1FcnJvcigkZWxzKTtcblxuICAgIGlmICgkbGFiZWxzLmxlbmd0aCkge1xuICAgICAgJGxhYmVscy5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMubGFiZWxFcnJvckNsYXNzKTtcbiAgICB9XG5cbiAgICBpZiAoJGZvcm1FcnJvcnMubGVuZ3RoKSB7XG4gICAgICAkZm9ybUVycm9ycy5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZm9ybUVycm9yQ2xhc3MpO1xuICAgIH1cblxuICAgICRlbHMucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmlucHV0RXJyb3JDbGFzcykuYXR0cih7XG4gICAgICAnZGF0YS1pbnZhbGlkJzogbnVsbCxcbiAgICAgICdhcmlhLWludmFsaWQnOiBudWxsXG4gICAgfSk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgQ1NTIGVycm9yIGNsYXNzZXMgZXRjIGZyb20gYW4gZW50aXJlIGNoZWNrYm94IGdyb3VwXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBncm91cE5hbWUgLSBBIHN0cmluZyB0aGF0IHNwZWNpZmllcyB0aGUgbmFtZSBvZiBhIGNoZWNrYm94IGdyb3VwXG4gICAqXG4gICAqL1xuICByZW1vdmVDaGVja2JveEVycm9yQ2xhc3Nlcyhncm91cE5hbWUpIHtcbiAgICB2YXIgJGVscyA9IHRoaXMuJGVsZW1lbnQuZmluZChgOmNoZWNrYm94W25hbWU9XCIke2dyb3VwTmFtZX1cIl1gKTtcbiAgICB2YXIgJGxhYmVscyA9IHRoaXMuZmluZENoZWNrYm94TGFiZWxzKCRlbHMpO1xuICAgIHZhciAkZm9ybUVycm9ycyA9IHRoaXMuZmluZEZvcm1FcnJvcigkZWxzKTtcblxuICAgIGlmICgkbGFiZWxzLmxlbmd0aCkge1xuICAgICAgJGxhYmVscy5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMubGFiZWxFcnJvckNsYXNzKTtcbiAgICB9XG5cbiAgICBpZiAoJGZvcm1FcnJvcnMubGVuZ3RoKSB7XG4gICAgICAkZm9ybUVycm9ycy5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZm9ybUVycm9yQ2xhc3MpO1xuICAgIH1cblxuICAgICRlbHMucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmlucHV0RXJyb3JDbGFzcykuYXR0cih7XG4gICAgICAnZGF0YS1pbnZhbGlkJzogbnVsbCxcbiAgICAgICdhcmlhLWludmFsaWQnOiBudWxsXG4gICAgfSk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIENTUyBlcnJvciBjbGFzcyBhcyBzcGVjaWZpZWQgYnkgdGhlIEFiaWRlIHNldHRpbmdzIGZyb20gdGhlIGxhYmVsLCBpbnB1dCwgYW5kIHRoZSBmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAkZWwgLSBqUXVlcnkgb2JqZWN0IHRvIHJlbW92ZSB0aGUgY2xhc3MgZnJvbVxuICAgKi9cbiAgcmVtb3ZlRXJyb3JDbGFzc2VzKCRlbCkge1xuICAgIC8vIHJhZGlvcyBuZWVkIHRvIGNsZWFyIGFsbCBvZiB0aGUgZWxzXG4gICAgaWYgKCRlbFswXS50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW1vdmVSYWRpb0Vycm9yQ2xhc3NlcygkZWwuYXR0cignbmFtZScpKTtcbiAgICB9XG4gICAgLy8gY2hlY2tib3hlcyBuZWVkIHRvIGNsZWFyIGFsbCBvZiB0aGUgZWxzXG4gICAgZWxzZSBpZiAoJGVsWzBdLnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbW92ZUNoZWNrYm94RXJyb3JDbGFzc2VzKCRlbC5hdHRyKCduYW1lJykpO1xuICAgIH1cblxuICAgIHZhciAkbGFiZWwgPSB0aGlzLmZpbmRMYWJlbCgkZWwpO1xuICAgIHZhciAkZm9ybUVycm9yID0gdGhpcy5maW5kRm9ybUVycm9yKCRlbCk7XG5cbiAgICBpZiAoJGxhYmVsLmxlbmd0aCkge1xuICAgICAgJGxhYmVsLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sYWJlbEVycm9yQ2xhc3MpO1xuICAgIH1cblxuICAgIGlmICgkZm9ybUVycm9yLmxlbmd0aCkge1xuICAgICAgJGZvcm1FcnJvci5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZm9ybUVycm9yQ2xhc3MpO1xuICAgIH1cblxuICAgICRlbC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuaW5wdXRFcnJvckNsYXNzKS5hdHRyKHtcbiAgICAgICdkYXRhLWludmFsaWQnOiBudWxsLFxuICAgICAgJ2FyaWEtaW52YWxpZCc6IG51bGxcbiAgICB9KTtcblxuICAgIGlmICgkZWwuZGF0YSgnYWJpZGUtZGVzY3JpYmVkYnknKSkge1xuICAgICAgJGVsLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKS5yZW1vdmVEYXRhKCdhYmlkZS1kZXNjcmliZWRieScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHb2VzIHRocm91Z2ggYSBmb3JtIHRvIGZpbmQgaW5wdXRzIGFuZCBwcm9jZWVkcyB0byB2YWxpZGF0ZSB0aGVtIGluIHdheXMgc3BlY2lmaWMgdG8gdGhlaXIgdHlwZS5cbiAgICogSWdub3JlcyBpbnB1dHMgd2l0aCBkYXRhLWFiaWRlLWlnbm9yZSwgdHlwZT1cImhpZGRlblwiIG9yIGRpc2FibGVkIGF0dHJpYnV0ZXMgc2V0XG4gICAqIEBmaXJlcyBBYmlkZSNpbnZhbGlkXG4gICAqIEBmaXJlcyBBYmlkZSN2YWxpZFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gdmFsaWRhdGUsIHNob3VsZCBiZSBhbiBIVE1MIGlucHV0XG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBnb29kVG9HbyAtIElmIHRoZSBpbnB1dCBpcyB2YWxpZCBvciBub3QuXG4gICAqL1xuICB2YWxpZGF0ZUlucHV0KCRlbCkge1xuICAgIHZhciBjbGVhclJlcXVpcmUgPSB0aGlzLnJlcXVpcmVkQ2hlY2soJGVsKSxcbiAgICAgICAgdmFsaWRhdG9yID0gJGVsLmF0dHIoJ2RhdGEtdmFsaWRhdG9yJyksXG4gICAgICAgIGZhaWxlZFZhbGlkYXRvcnMgPSBbXSxcbiAgICAgICAgbWFuYWdlRXJyb3JDbGFzc2VzID0gdHJ1ZTtcblxuICAgIC8vIHNraXAgdmFsaWRhdGlvbiBpZiBkaXNhYmxlZFxuICAgIGlmICh0aGlzLl92YWxpZGF0aW9uSXNEaXNhYmxlZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBkb24ndCB2YWxpZGF0ZSBpZ25vcmVkIGlucHV0cyBvciBoaWRkZW4gaW5wdXRzIG9yIGRpc2FibGVkIGlucHV0c1xuICAgIGlmICgkZWwuaXMoJ1tkYXRhLWFiaWRlLWlnbm9yZV0nKSB8fCAkZWwuaXMoJ1t0eXBlPVwiaGlkZGVuXCJdJykgfHwgJGVsLmlzKCdbZGlzYWJsZWRdJykpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHN3aXRjaCAoJGVsWzBdLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgdGhpcy52YWxpZGF0ZVJhZGlvKCRlbC5hdHRyKCduYW1lJykpIHx8IGZhaWxlZFZhbGlkYXRvcnMucHVzaCgncmVxdWlyZWQnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgdGhpcy52YWxpZGF0ZUNoZWNrYm94KCRlbC5hdHRyKCduYW1lJykpIHx8IGZhaWxlZFZhbGlkYXRvcnMucHVzaCgncmVxdWlyZWQnKTtcbiAgICAgICAgLy8gdmFsaWRhdGVDaGVja2JveCgpIGFkZHMvcmVtb3ZlcyBlcnJvciBjbGFzc2VzXG4gICAgICAgIG1hbmFnZUVycm9yQ2xhc3NlcyA9IGZhbHNlO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIGNhc2UgJ3NlbGVjdC1vbmUnOlxuICAgICAgY2FzZSAnc2VsZWN0LW11bHRpcGxlJzpcbiAgICAgICAgY2xlYXJSZXF1aXJlIHx8IGZhaWxlZFZhbGlkYXRvcnMucHVzaCgncmVxdWlyZWQnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNsZWFyUmVxdWlyZSB8fCBmYWlsZWRWYWxpZGF0b3JzLnB1c2goJ3JlcXVpcmVkJyk7XG4gICAgICAgIHRoaXMudmFsaWRhdGVUZXh0KCRlbCkgfHwgZmFpbGVkVmFsaWRhdG9ycy5wdXNoKCdwYXR0ZXJuJyk7XG4gICAgfVxuXG4gICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgY29uc3QgcmVxdWlyZWQgPSAkZWwuYXR0cigncmVxdWlyZWQnKSA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgdmFsaWRhdG9yLnNwbGl0KCcgJykuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICB0aGlzLm9wdGlvbnMudmFsaWRhdG9yc1t2XSgkZWwsIHJlcXVpcmVkLCAkZWwucGFyZW50KCkpIHx8IGZhaWxlZFZhbGlkYXRvcnMucHVzaCh2KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICgkZWwuYXR0cignZGF0YS1lcXVhbHRvJykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy52YWxpZGF0b3JzLmVxdWFsVG8oJGVsKSB8fCBmYWlsZWRWYWxpZGF0b3JzLnB1c2goJ2VxdWFsVG8nKTtcbiAgICB9XG5cbiAgICB2YXIgZ29vZFRvR28gPSBmYWlsZWRWYWxpZGF0b3JzLmxlbmd0aCA9PT0gMDtcbiAgICB2YXIgbWVzc2FnZSA9IChnb29kVG9HbyA/ICd2YWxpZCcgOiAnaW52YWxpZCcpICsgJy56Zi5hYmlkZSc7XG5cbiAgICBpZiAoZ29vZFRvR28pIHtcbiAgICAgIC8vIFJlLXZhbGlkYXRlIGlucHV0cyB0aGF0IGRlcGVuZCBvbiB0aGlzIG9uZSB3aXRoIGVxdWFsdG9cbiAgICAgIGNvbnN0IGRlcGVuZGVudEVsZW1lbnRzID0gdGhpcy4kZWxlbWVudC5maW5kKGBbZGF0YS1lcXVhbHRvPVwiJHskZWwuYXR0cignaWQnKX1cIl1gKTtcbiAgICAgIGlmIChkZXBlbmRlbnRFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgICAgZGVwZW5kZW50RWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSkge1xuICAgICAgICAgICAgX3RoaXMudmFsaWRhdGVJbnB1dCgkKHRoaXMpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYW5hZ2VFcnJvckNsYXNzZXMpIHtcbiAgICAgIGlmICghZ29vZFRvR28pIHtcbiAgICAgICAgdGhpcy5hZGRFcnJvckNsYXNzZXMoJGVsLCBmYWlsZWRWYWxpZGF0b3JzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXJyb3JDbGFzc2VzKCRlbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgaW5wdXQgaXMgZG9uZSBjaGVja2luZyBmb3IgdmFsaWRhdGlvbi4gRXZlbnQgdHJpZ2dlciBpcyBlaXRoZXIgYHZhbGlkLnpmLmFiaWRlYCBvciBgaW52YWxpZC56Zi5hYmlkZWBcbiAgICAgKiBUcmlnZ2VyIGluY2x1ZGVzIHRoZSBET00gZWxlbWVudCBvZiB0aGUgaW5wdXQuXG4gICAgICogQGV2ZW50IEFiaWRlI3ZhbGlkXG4gICAgICogQGV2ZW50IEFiaWRlI2ludmFsaWRcbiAgICAgKi9cbiAgICAkZWwudHJpZ2dlcihtZXNzYWdlLCBbJGVsXSk7XG5cbiAgICByZXR1cm4gZ29vZFRvR287XG4gIH1cblxuICAvKipcbiAgICogR29lcyB0aHJvdWdoIGEgZm9ybSBhbmQgaWYgdGhlcmUgYXJlIGFueSBpbnZhbGlkIGlucHV0cywgaXQgd2lsbCBkaXNwbGF5IHRoZSBmb3JtIGVycm9yIGVsZW1lbnRcbiAgICogQHJldHVybnMge0Jvb2xlYW59IG5vRXJyb3IgLSB0cnVlIGlmIG5vIGVycm9ycyB3ZXJlIGRldGVjdGVkLi4uXG4gICAqIEBmaXJlcyBBYmlkZSNmb3JtdmFsaWRcbiAgICogQGZpcmVzIEFiaWRlI2Zvcm1pbnZhbGlkXG4gICAqL1xuICB2YWxpZGF0ZUZvcm0oKSB7XG4gICAgdmFyIGFjYyA9IFtdO1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGNoZWNrYm94R3JvdXBOYW1lO1xuXG4gICAgLy8gUmVtZW1iZXIgZmlyc3QgZm9ybSBzdWJtaXNzaW9uIHRvIHByZXZlbnQgc3BlY2lmaWMgY2hlY2tib3ggdmFsaWRhdGlvbiAobW9yZSB0aGFuIG9uZSByZXF1aXJlZCkgdW50aWwgZm9ybSBnb3QgaW5pdGlhbGx5IHN1Ym1pdHRlZFxuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gc2tpcCB2YWxpZGF0aW9uIGlmIGRpc2FibGVkXG4gICAgaWYgKHRoaXMuX3ZhbGlkYXRpb25Jc0Rpc2FibGVkKCkpIHtcbiAgICAgIHRoaXMuZm9ybW5vdmFsaWRhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy4kaW5wdXRzLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIE9ubHkgdXNlIG9uZSBjaGVja2JveCBwZXIgZ3JvdXAgc2luY2UgdmFsaWRhdGVDaGVja2JveCgpIGl0ZXJhdGVzIG92ZXIgYWxsIGFzc29jaWF0ZWQgY2hlY2tib3hlc1xuICAgICAgaWYgKCQodGhpcylbMF0udHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCduYW1lJykgPT09IGNoZWNrYm94R3JvdXBOYW1lKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2hlY2tib3hHcm91cE5hbWUgPSAkKHRoaXMpLmF0dHIoJ25hbWUnKTtcbiAgICAgIH1cblxuICAgICAgYWNjLnB1c2goX3RoaXMudmFsaWRhdGVJbnB1dCgkKHRoaXMpKSk7XG4gICAgfSk7XG5cbiAgICB2YXIgbm9FcnJvciA9IGFjYy5pbmRleE9mKGZhbHNlKSA9PT0gLTE7XG5cbiAgICB0aGlzLiRlbGVtZW50LmZpbmQoJ1tkYXRhLWFiaWRlLWVycm9yXScpLmVhY2goKGksIGVsZW0pID0+IHtcbiAgICAgIGNvbnN0ICRlbGVtID0gJChlbGVtKTtcbiAgICAgIC8vIEVuc3VyZSBhMTF5IGF0dHJpYnV0ZXMgYXJlIHNldFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hMTF5QXR0cmlidXRlcykgdGhpcy5hZGRHbG9iYWxFcnJvckExMXlBdHRyaWJ1dGVzKCRlbGVtKTtcbiAgICAgIC8vIFNob3cgb3IgaGlkZSB0aGUgZXJyb3JcbiAgICAgICRlbGVtLmNzcygnZGlzcGxheScsIChub0Vycm9yID8gJ25vbmUnIDogJ2Jsb2NrJykpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgZm9ybSBpcyBmaW5pc2hlZCB2YWxpZGF0aW5nLiBFdmVudCB0cmlnZ2VyIGlzIGVpdGhlciBgZm9ybXZhbGlkLnpmLmFiaWRlYCBvciBgZm9ybWludmFsaWQuemYuYWJpZGVgLlxuICAgICAqIFRyaWdnZXIgaW5jbHVkZXMgdGhlIGVsZW1lbnQgb2YgdGhlIGZvcm0uXG4gICAgICogQGV2ZW50IEFiaWRlI2Zvcm12YWxpZFxuICAgICAqIEBldmVudCBBYmlkZSNmb3JtaW52YWxpZFxuICAgICAqL1xuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigobm9FcnJvciA/ICdmb3JtdmFsaWQnIDogJ2Zvcm1pbnZhbGlkJykgKyAnLnpmLmFiaWRlJywgW3RoaXMuJGVsZW1lbnRdKTtcblxuICAgIHJldHVybiBub0Vycm9yO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciBvciBhIG5vdCBhIHRleHQgaW5wdXQgaXMgdmFsaWQgYmFzZWQgb24gdGhlIHBhdHRlcm4gc3BlY2lmaWVkIGluIHRoZSBhdHRyaWJ1dGUuIElmIG5vIG1hdGNoaW5nIHBhdHRlcm4gaXMgZm91bmQsIHJldHVybnMgdHJ1ZS5cbiAgICogQHBhcmFtIHtPYmplY3R9ICRlbCAtIGpRdWVyeSBvYmplY3QgdG8gdmFsaWRhdGUsIHNob3VsZCBiZSBhIHRleHQgaW5wdXQgSFRNTCBlbGVtZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXR0ZXJuIC0gc3RyaW5nIHZhbHVlIG9mIG9uZSBvZiB0aGUgUmVnRXggcGF0dGVybnMgaW4gQWJpZGUub3B0aW9ucy5wYXR0ZXJuc1xuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQm9vbGVhbiB2YWx1ZSBkZXBlbmRzIG9uIHdoZXRoZXIgb3Igbm90IHRoZSBpbnB1dCB2YWx1ZSBtYXRjaGVzIHRoZSBwYXR0ZXJuIHNwZWNpZmllZFxuICAgKi9cbiAgdmFsaWRhdGVUZXh0KCRlbCwgcGF0dGVybikge1xuICAgIC8vIEEgcGF0dGVybiBjYW4gYmUgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24sIG9yIGl0IHdpbGwgYmUgaW5mZXJlZCBmcm9tIHRoZSBpbnB1dCdzIFwicGF0dGVyblwiIGF0dHJpYnV0ZSwgb3IgaXQncyBcInR5cGVcIiBhdHRyaWJ1dGVcbiAgICBwYXR0ZXJuID0gKHBhdHRlcm4gfHwgJGVsLmF0dHIoJ2RhdGEtcGF0dGVybicpIHx8ICRlbC5hdHRyKCdwYXR0ZXJuJykgfHwgJGVsLmF0dHIoJ3R5cGUnKSk7XG4gICAgdmFyIGlucHV0VGV4dCA9ICRlbC52YWwoKTtcbiAgICB2YXIgdmFsaWQgPSB0cnVlO1xuXG4gICAgaWYgKGlucHV0VGV4dC5sZW5ndGgpIHtcbiAgICAgIC8vIElmIHRoZSBwYXR0ZXJuIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBpcyBpbiBBYmlkZSdzIGxpc3Qgb2YgcGF0dGVybnMsIHRoZW4gdGVzdCB0aGF0IHJlZ2V4cFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYXR0ZXJucy5oYXNPd25Qcm9wZXJ0eShwYXR0ZXJuKSkge1xuICAgICAgICB2YWxpZCA9IHRoaXMub3B0aW9ucy5wYXR0ZXJuc1twYXR0ZXJuXS50ZXN0KGlucHV0VGV4dCk7XG4gICAgICB9XG4gICAgICAvLyBJZiB0aGUgcGF0dGVybiBuYW1lIGlzbid0IGFsc28gdGhlIHR5cGUgYXR0cmlidXRlIG9mIHRoZSBmaWVsZCwgdGhlbiB0ZXN0IGl0IGFzIGEgcmVnZXhwXG4gICAgICBlbHNlIGlmIChwYXR0ZXJuICE9PSAkZWwuYXR0cigndHlwZScpKSB7XG4gICAgICAgIHZhbGlkID0gbmV3IFJlZ0V4cChwYXR0ZXJuKS50ZXN0KGlucHV0VGV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkO1xuICAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3IgYSBub3QgYSByYWRpbyBpbnB1dCBpcyB2YWxpZCBiYXNlZCBvbiB3aGV0aGVyIG9yIG5vdCBpdCBpcyByZXF1aXJlZCBhbmQgc2VsZWN0ZWQuIEFsdGhvdWdoIHRoZSBmdW5jdGlvbiB0YXJnZXRzIGEgc2luZ2xlIGA8aW5wdXQ+YCwgaXQgdmFsaWRhdGVzIGJ5IGNoZWNraW5nIHRoZSBgcmVxdWlyZWRgIGFuZCBgY2hlY2tlZGAgcHJvcGVydGllcyBvZiBhbGwgcmFkaW8gYnV0dG9ucyBpbiBpdHMgZ3JvdXAuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBncm91cE5hbWUgLSBBIHN0cmluZyB0aGF0IHNwZWNpZmllcyB0aGUgbmFtZSBvZiBhIHJhZGlvIGJ1dHRvbiBncm91cFxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQm9vbGVhbiB2YWx1ZSBkZXBlbmRzIG9uIHdoZXRoZXIgb3Igbm90IGF0IGxlYXN0IG9uZSByYWRpbyBpbnB1dCBoYXMgYmVlbiBzZWxlY3RlZCAoaWYgaXQncyByZXF1aXJlZClcbiAgICovXG4gIHZhbGlkYXRlUmFkaW8oZ3JvdXBOYW1lKSB7XG4gICAgLy8gSWYgYXQgbGVhc3Qgb25lIHJhZGlvIGluIHRoZSBncm91cCBoYXMgdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLCB0aGUgZ3JvdXAgaXMgY29uc2lkZXJlZCByZXF1aXJlZFxuICAgIC8vIFBlciBXM0Mgc3BlYywgYWxsIHJhZGlvIGJ1dHRvbnMgaW4gYSBncm91cCBzaG91bGQgaGF2ZSBgcmVxdWlyZWRgLCBidXQgd2UncmUgYmVpbmcgbmljZVxuICAgIHZhciAkZ3JvdXAgPSB0aGlzLiRlbGVtZW50LmZpbmQoYDpyYWRpb1tuYW1lPVwiJHtncm91cE5hbWV9XCJdYCk7XG4gICAgdmFyIHZhbGlkID0gZmFsc2UsIHJlcXVpcmVkID0gZmFsc2U7XG5cbiAgICAvLyBGb3IgdGhlIGdyb3VwIHRvIGJlIHJlcXVpcmVkLCBhdCBsZWFzdCBvbmUgcmFkaW8gbmVlZHMgdG8gYmUgcmVxdWlyZWRcbiAgICAkZ3JvdXAuZWFjaCgoaSwgZSkgPT4ge1xuICAgICAgaWYgKCQoZSkuYXR0cigncmVxdWlyZWQnKSkge1xuICAgICAgICByZXF1aXJlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFyZXF1aXJlZCkgdmFsaWQ9dHJ1ZTtcblxuICAgIGlmICghdmFsaWQpIHtcbiAgICAgIC8vIEZvciB0aGUgZ3JvdXAgdG8gYmUgdmFsaWQsIGF0IGxlYXN0IG9uZSByYWRpbyBuZWVkcyB0byBiZSBjaGVja2VkXG4gICAgICAkZ3JvdXAuZWFjaCgoaSwgZSkgPT4ge1xuICAgICAgICBpZiAoJChlKS5wcm9wKCdjaGVja2VkJykpIHtcbiAgICAgICAgICB2YWxpZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3IgYSBub3QgYSBjaGVja2JveCBpbnB1dCBpcyB2YWxpZCBiYXNlZCBvbiB3aGV0aGVyIG9yIG5vdCBpdCBpcyByZXF1aXJlZCBhbmQgY2hlY2tlZC4gQWx0aG91Z2ggdGhlIGZ1bmN0aW9uIHRhcmdldHMgYSBzaW5nbGUgYDxpbnB1dD5gLCBpdCB2YWxpZGF0ZXMgYnkgY2hlY2tpbmcgdGhlIGByZXF1aXJlZGAgYW5kIGBjaGVja2VkYCBwcm9wZXJ0aWVzIG9mIGFsbCBjaGVja2JveGVzIGluIGl0cyBncm91cC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGdyb3VwTmFtZSAtIEEgc3RyaW5nIHRoYXQgc3BlY2lmaWVzIHRoZSBuYW1lIG9mIGEgY2hlY2tib3ggZ3JvdXBcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEJvb2xlYW4gdmFsdWUgZGVwZW5kcyBvbiB3aGV0aGVyIG9yIG5vdCBhdCBsZWFzdCBvbmUgY2hlY2tib3ggaW5wdXQgaGFzIGJlZW4gY2hlY2tlZCAoaWYgaXQncyByZXF1aXJlZClcbiAgICovXG4gIHZhbGlkYXRlQ2hlY2tib3goZ3JvdXBOYW1lKSB7XG4gICAgLy8gSWYgYXQgbGVhc3Qgb25lIGNoZWNrYm94IGluIHRoZSBncm91cCBoYXMgdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLCB0aGUgZ3JvdXAgaXMgY29uc2lkZXJlZCByZXF1aXJlZFxuICAgIC8vIFBlciBXM0Mgc3BlYywgYWxsIGNoZWNrYm94ZXMgaW4gYSBncm91cCBzaG91bGQgaGF2ZSBgcmVxdWlyZWRgLCBidXQgd2UncmUgYmVpbmcgbmljZVxuICAgIHZhciAkZ3JvdXAgPSB0aGlzLiRlbGVtZW50LmZpbmQoYDpjaGVja2JveFtuYW1lPVwiJHtncm91cE5hbWV9XCJdYCk7XG4gICAgdmFyIHZhbGlkID0gZmFsc2UsIHJlcXVpcmVkID0gZmFsc2UsIG1pblJlcXVpcmVkID0gMSwgY2hlY2tlZCA9IDA7XG5cbiAgICAvLyBGb3IgdGhlIGdyb3VwIHRvIGJlIHJlcXVpcmVkLCBhdCBsZWFzdCBvbmUgY2hlY2tib3ggbmVlZHMgdG8gYmUgcmVxdWlyZWRcbiAgICAkZ3JvdXAuZWFjaCgoaSwgZSkgPT4ge1xuICAgICAgaWYgKCQoZSkuYXR0cigncmVxdWlyZWQnKSkge1xuICAgICAgICByZXF1aXJlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFyZXF1aXJlZCkgdmFsaWQ9dHJ1ZTtcblxuICAgIGlmICghdmFsaWQpIHtcbiAgICAgIC8vIENvdW50IGNoZWNrZWQgY2hlY2tib3hlcyB3aXRoaW4gdGhlIGdyb3VwXG4gICAgICAvLyBVc2UgZGF0YS1taW4tcmVxdWlyZWQgaWYgYXZhaWxhYmxlIChkZWZhdWx0OiAxKVxuICAgICAgJGdyb3VwLmVhY2goKGksIGUpID0+IHtcbiAgICAgICAgaWYgKCQoZSkucHJvcCgnY2hlY2tlZCcpKSB7XG4gICAgICAgICAgY2hlY2tlZCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgJChlKS5hdHRyKCdkYXRhLW1pbi1yZXF1aXJlZCcpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIG1pblJlcXVpcmVkID0gcGFyc2VJbnQoJChlKS5hdHRyKCdkYXRhLW1pbi1yZXF1aXJlZCcpLCAxMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBGb3IgdGhlIGdyb3VwIHRvIGJlIHZhbGlkLCB0aGUgbWluUmVxdWlyZWQgYW1vdW50IG9mIGNoZWNrYm94ZXMgaGF2ZSB0byBiZSBjaGVja2VkXG4gICAgICBpZiAoY2hlY2tlZCA+PSBtaW5SZXF1aXJlZCkge1xuICAgICAgICB2YWxpZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2tpcCB2YWxpZGF0aW9uIGlmIG1vcmUgdGhhbiAxIGNoZWNrYm94IGhhdmUgdG8gYmUgY2hlY2tlZCBBTkQgaWYgdGhlIGZvcm0gaGFzbid0IGdvdCBzdWJtaXR0ZWQgeWV0IChvdGhlcndpc2UgaXQgd2lsbCBhbHJlYWR5IHNob3cgYW4gZXJyb3IgZHVyaW5nIHRoZSBmaXJzdCBmaWxsIGluKVxuICAgIGlmICh0aGlzLmluaXRpYWxpemVkICE9PSB0cnVlICYmIG1pblJlcXVpcmVkID4gMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gUmVmcmVzaCBlcnJvciBjbGFzcyBmb3IgYWxsIGlucHV0XG4gICAgJGdyb3VwLmVhY2goKGksIGUpID0+IHtcbiAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgdGhpcy5hZGRFcnJvckNsYXNzZXMoJChlKSwgWydyZXF1aXJlZCddKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXJyb3JDbGFzc2VzKCQoZSkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHZhbGlkO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYSBzZWxlY3RlZCBpbnB1dCBwYXNzZXMgYSBjdXN0b20gdmFsaWRhdGlvbiBmdW5jdGlvbi4gTXVsdGlwbGUgdmFsaWRhdGlvbnMgY2FuIGJlIHVzZWQsIGlmIHBhc3NlZCB0byB0aGUgZWxlbWVudCB3aXRoIGBkYXRhLXZhbGlkYXRvcj1cImZvbyBiYXIgYmF6XCJgIGluIGEgc3BhY2Ugc2VwYXJhdGVkIGxpc3RlZC5cbiAgICogQHBhcmFtIHtPYmplY3R9ICRlbCAtIGpRdWVyeSBpbnB1dCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsaWRhdG9ycyAtIGEgc3RyaW5nIG9mIGZ1bmN0aW9uIG5hbWVzIG1hdGNoaW5nIGZ1bmN0aW9ucyBpbiB0aGUgQWJpZGUub3B0aW9ucy52YWxpZGF0b3JzIG9iamVjdC5cbiAgICogQHBhcmFtIHtCb29sZWFufSByZXF1aXJlZCAtIHNlbGYgZXhwbGFuYXRvcnk/XG4gICAqIEByZXR1cm5zIHtCb29sZWFufSAtIHRydWUgaWYgdmFsaWRhdGlvbnMgcGFzc2VkLlxuICAgKi9cbiAgbWF0Y2hWYWxpZGF0aW9uKCRlbCwgdmFsaWRhdG9ycywgcmVxdWlyZWQpIHtcbiAgICByZXF1aXJlZCA9IHJlcXVpcmVkID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgdmFyIGNsZWFyID0gdmFsaWRhdG9ycy5zcGxpdCgnICcpLm1hcCgodikgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy52YWxpZGF0b3JzW3ZdKCRlbCwgcmVxdWlyZWQsICRlbC5wYXJlbnQoKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsZWFyLmluZGV4T2YoZmFsc2UpID09PSAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgZm9ybSBpbnB1dHMgYW5kIHN0eWxlc1xuICAgKiBAZmlyZXMgQWJpZGUjZm9ybXJlc2V0XG4gICAqL1xuICByZXNldEZvcm0oKSB7XG4gICAgdmFyICRmb3JtID0gdGhpcy4kZWxlbWVudCxcbiAgICAgICAgb3B0cyA9IHRoaXMub3B0aW9ucztcblxuICAgICQoYC4ke29wdHMubGFiZWxFcnJvckNsYXNzfWAsICRmb3JtKS5ub3QoJ3NtYWxsJykucmVtb3ZlQ2xhc3Mob3B0cy5sYWJlbEVycm9yQ2xhc3MpO1xuICAgICQoYC4ke29wdHMuaW5wdXRFcnJvckNsYXNzfWAsICRmb3JtKS5ub3QoJ3NtYWxsJykucmVtb3ZlQ2xhc3Mob3B0cy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICQoYCR7b3B0cy5mb3JtRXJyb3JTZWxlY3Rvcn0uJHtvcHRzLmZvcm1FcnJvckNsYXNzfWApLnJlbW92ZUNsYXNzKG9wdHMuZm9ybUVycm9yQ2xhc3MpO1xuICAgICRmb3JtLmZpbmQoJ1tkYXRhLWFiaWRlLWVycm9yXScpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgJCgnOmlucHV0JywgJGZvcm0pLm5vdCgnOmJ1dHRvbiwgOnN1Ym1pdCwgOnJlc2V0LCA6aGlkZGVuLCA6cmFkaW8sIDpjaGVja2JveCwgW2RhdGEtYWJpZGUtaWdub3JlXScpLnZhbCgnJykuYXR0cih7XG4gICAgICAnZGF0YS1pbnZhbGlkJzogbnVsbCxcbiAgICAgICdhcmlhLWludmFsaWQnOiBudWxsXG4gICAgfSk7XG4gICAgJCgnOmlucHV0OnJhZGlvJywgJGZvcm0pLm5vdCgnW2RhdGEtYWJpZGUtaWdub3JlXScpLnByb3AoJ2NoZWNrZWQnLGZhbHNlKS5hdHRyKHtcbiAgICAgICdkYXRhLWludmFsaWQnOiBudWxsLFxuICAgICAgJ2FyaWEtaW52YWxpZCc6IG51bGxcbiAgICB9KTtcbiAgICAkKCc6aW5wdXQ6Y2hlY2tib3gnLCAkZm9ybSkubm90KCdbZGF0YS1hYmlkZS1pZ25vcmVdJykucHJvcCgnY2hlY2tlZCcsZmFsc2UpLmF0dHIoe1xuICAgICAgJ2RhdGEtaW52YWxpZCc6IG51bGwsXG4gICAgICAnYXJpYS1pbnZhbGlkJzogbnVsbFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEZpcmVzIHdoZW4gdGhlIGZvcm0gaGFzIGJlZW4gcmVzZXQuXG4gICAgICogQGV2ZW50IEFiaWRlI2Zvcm1yZXNldFxuICAgICAqL1xuICAgICRmb3JtLnRyaWdnZXIoJ2Zvcm1yZXNldC56Zi5hYmlkZScsIFskZm9ybV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIGFuIGluc3RhbmNlIG9mIEFiaWRlLlxuICAgKiBSZW1vdmVzIGVycm9yIHN0eWxlcyBhbmQgY2xhc3NlcyBmcm9tIGVsZW1lbnRzLCB3aXRob3V0IHJlc2V0dGluZyB0aGVpciB2YWx1ZXMuXG4gICAqL1xuICBfZGVzdHJveSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vZmYoJy5hYmlkZScpXG4gICAgICAuZmluZCgnW2RhdGEtYWJpZGUtZXJyb3JdJylcbiAgICAgICAgLmNzcygnZGlzcGxheScsICdub25lJyk7XG5cbiAgICB0aGlzLiRpbnB1dHNcbiAgICAgIC5vZmYoJy5hYmlkZScpXG4gICAgICAuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgX3RoaXMucmVtb3ZlRXJyb3JDbGFzc2VzKCQodGhpcykpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLiRzdWJtaXRzXG4gICAgICAub2ZmKCcuYWJpZGUnKTtcbiAgfVxufVxuXG4vKipcbiAqIERlZmF1bHQgc2V0dGluZ3MgZm9yIHBsdWdpblxuICovXG5BYmlkZS5kZWZhdWx0cyA9IHtcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGV2ZW50IHRvIHZhbGlkYXRlIGlucHV0cy4gQ2hlY2tib3hlcyBhbmQgcmFkaW9zIHZhbGlkYXRlIGltbWVkaWF0ZWx5LlxuICAgKiBSZW1vdmUgb3IgY2hhbmdlIHRoaXMgdmFsdWUgZm9yIG1hbnVhbCB2YWxpZGF0aW9uLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnZmllbGRDaGFuZ2UnXG4gICAqL1xuICB2YWxpZGF0ZU9uOiAnZmllbGRDaGFuZ2UnLFxuXG4gIC8qKlxuICAgKiBDbGFzcyB0byBiZSBhcHBsaWVkIHRvIGlucHV0IGxhYmVscyBvbiBmYWlsZWQgdmFsaWRhdGlvbi5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnaXMtaW52YWxpZC1sYWJlbCdcbiAgICovXG4gIGxhYmVsRXJyb3JDbGFzczogJ2lzLWludmFsaWQtbGFiZWwnLFxuXG4gIC8qKlxuICAgKiBDbGFzcyB0byBiZSBhcHBsaWVkIHRvIGlucHV0cyBvbiBmYWlsZWQgdmFsaWRhdGlvbi5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnaXMtaW52YWxpZC1pbnB1dCdcbiAgICovXG4gIGlucHV0RXJyb3JDbGFzczogJ2lzLWludmFsaWQtaW5wdXQnLFxuXG4gIC8qKlxuICAgKiBDbGFzcyBzZWxlY3RvciB0byB1c2UgdG8gdGFyZ2V0IEZvcm0gRXJyb3JzIGZvciBzaG93L2hpZGUuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJy5mb3JtLWVycm9yJ1xuICAgKi9cbiAgZm9ybUVycm9yU2VsZWN0b3I6ICcuZm9ybS1lcnJvcicsXG5cbiAgLyoqXG4gICAqIENsYXNzIGFkZGVkIHRvIEZvcm0gRXJyb3JzIG9uIGZhaWxlZCB2YWxpZGF0aW9uLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0ICdpcy12aXNpYmxlJ1xuICAgKi9cbiAgZm9ybUVycm9yQ2xhc3M6ICdpcy12aXNpYmxlJyxcblxuICAvKipcbiAgICogSWYgdHJ1ZSwgYXV0b21hdGljYWxseSBpbnNlcnQgd2hlbiBwb3NzaWJsZTpcbiAgICogLSBgW2FyaWEtZGVzY3JpYmVkYnldYCBvbiBmaWVsZHNcbiAgICogLSBgW3JvbGU9YWxlcnRdYCBvbiBmb3JtIGVycm9ycyBhbmQgYFtmb3JdYCBvbiBmb3JtIGVycm9yIGxhYmVsc1xuICAgKiAtIGBbYXJpYS1saXZlXWAgb24gZ2xvYmFsIGVycm9ycyBgW2RhdGEtYWJpZGUtZXJyb3JdYCAoc2VlIG9wdGlvbiBgYTExeUVycm9yTGV2ZWxgKS5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgYTExeUF0dHJpYnV0ZXM6IHRydWUsXG5cbiAgLyoqXG4gICAqIFthcmlhLWxpdmVdIGF0dHJpYnV0ZSB2YWx1ZSB0byBiZSBhcHBsaWVkIG9uIGdsb2JhbCBlcnJvcnMgYFtkYXRhLWFiaWRlLWVycm9yXWAuXG4gICAqIE9wdGlvbnMgYXJlOiAnYXNzZXJ0aXZlJywgJ3BvbGl0ZScgYW5kICdvZmYnL251bGxcbiAgICogQG9wdGlvblxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FjY2Vzc2liaWxpdHkvQVJJQS9BUklBX0xpdmVfUmVnaW9uc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnYXNzZXJ0aXZlJ1xuICAgKi9cbiAgYTExeUVycm9yTGV2ZWw6ICdhc3NlcnRpdmUnLFxuXG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSB0byB2YWxpZGF0ZSB0ZXh0IGlucHV0cyBvbiBhbnkgdmFsdWUgY2hhbmdlLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgbGl2ZVZhbGlkYXRlOiBmYWxzZSxcblxuICAvKipcbiAgICogU2V0IHRvIHRydWUgdG8gdmFsaWRhdGUgaW5wdXRzIG9uIGJsdXIuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB2YWxpZGF0ZU9uQmx1cjogZmFsc2UsXG5cbiAgcGF0dGVybnM6IHtcbiAgICBhbHBoYSA6IC9eW2EtekEtWl0rJC8sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIGFscGhhX251bWVyaWMgOiAvXlthLXpBLVowLTldKyQvLFxuICAgIGludGVnZXIgOiAvXlstK10/XFxkKyQvLFxuICAgIG51bWJlciA6IC9eWy0rXT9cXGQqKD86W1xcLlxcLF1cXGQrKT8kLyxcblxuICAgIC8vIGFtZXgsIHZpc2EsIGRpbmVyc1xuICAgIGNhcmQgOiAvXig/OjRbMC05XXsxMn0oPzpbMC05XXszfSk/fDVbMS01XVswLTldezE0fXwoPzoyMjJbMS05XXwyWzMtNl1bMC05XXsyfXwyN1swLTFdWzAtOV18MjcyMClbMC05XXsxMn18Nig/OjAxMXw1WzAtOV1bMC05XSlbMC05XXsxMn18M1s0N11bMC05XXsxM318Myg/OjBbMC01XXxbNjhdWzAtOV0pWzAtOV17MTF9fCg/OjIxMzF8MTgwMHwzNVxcZHszfSlcXGR7MTF9KSQvLFxuICAgIGN2diA6IC9eKFswLTldKXszLDR9JC8sXG5cbiAgICAvLyBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9zdGF0ZXMtb2YtdGhlLXR5cGUtYXR0cmlidXRlLmh0bWwjdmFsaWQtZS1tYWlsLWFkZHJlc3NcbiAgICBlbWFpbCA6IC9eW2EtekEtWjAtOS4hIyQlJicqK1xcLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKyQvLFxuXG4gICAgLy8gRnJvbSBDb21tb25SZWdleEpTIChAdGFseXNzb25vYylcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGFseXNzb25vYy9Db21tb25SZWdleEpTL2Jsb2IvZTI5MDFiOWY1NzIyMmJjMTQwNjlkYzhmMDU5OGQ1ZjQxMjU1NTQxMS9saWIvY29tbW9ucmVnZXguanMjTDc2XG4gICAgLy8gRm9yIG1vcmUgcmVzdHJpY3RpdmUgVVJMIFJlZ2V4cywgc2VlIGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleC5cbiAgICB1cmw6IC9eKCg/OihodHRwcz98ZnRwcz98ZmlsZXxzc2h8c2Z0cCk6XFwvXFwvfHd3d1xcZHswLDN9Wy5dfFthLXowLTkuXFwtXStbLl1bYS16XXsyLDR9XFwvKSg/OlteXFxzKCk8Pl0rfFxcKCg/OlteXFxzKCk8Pl0rfCg/OlxcKFteXFxzKCk8Pl0rXFwpKSkqXFwpKSsoPzpcXCgoPzpbXlxccygpPD5dK3woPzpcXChbXlxccygpPD5dK1xcKSkpKlxcKXxbXlxcc2AhKClcXFtcXF17fTs6XFwnXCIuLDw+P1xceGFiXFx4YmJcXHUyMDFjXFx1MjAxZFxcdTIwMThcXHUyMDE5XSkpJC8sXG5cbiAgICAvLyBhYmMuZGVcbiAgICBkb21haW4gOiAvXihbYS16QS1aMC05XShbYS16QS1aMC05XFwtXXswLDYxfVthLXpBLVowLTldKT9cXC4pK1thLXpBLVpdezIsOH0kLyxcblxuICAgIGRhdGV0aW1lIDogL14oWzAtMl1bMC05XXszfSlcXC0oWzAtMV1bMC05XSlcXC0oWzAtM11bMC05XSlUKFswLTVdWzAtOV0pXFw6KFswLTVdWzAtOV0pXFw6KFswLTVdWzAtOV0pKFp8KFtcXC1cXCtdKFswLTFdWzAtOV0pXFw6MDApKSQvLFxuICAgIC8vIFlZWVktTU0tRERcbiAgICBkYXRlIDogLyg/OjE5fDIwKVswLTldezJ9LSg/Oig/OjBbMS05XXwxWzAtMl0pLSg/OjBbMS05XXwxWzAtOV18MlswLTldKXwoPzooPyEwMikoPzowWzEtOV18MVswLTJdKS0oPzozMCkpfCg/Oig/OjBbMTM1NzhdfDFbMDJdKS0zMSkpJC8sXG4gICAgLy8gSEg6TU06U1NcbiAgICB0aW1lIDogL14oMFswLTldfDFbMC05XXwyWzAtM10pKDpbMC01XVswLTldKXsyfSQvLFxuICAgIGRhdGVJU08gOiAvXlxcZHs0fVtcXC9cXC1dXFxkezEsMn1bXFwvXFwtXVxcZHsxLDJ9JC8sXG4gICAgLy8gTU0vREQvWVlZWVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICBtb250aF9kYXlfeWVhciA6IC9eKDBbMS05XXwxWzAxMl0pWy0gXFwvLl0oMFsxLTldfFsxMl1bMC05XXwzWzAxXSlbLSBcXC8uXVxcZHs0fSQvLFxuICAgIC8vIEREL01NL1lZWVlcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgZGF5X21vbnRoX3llYXIgOiAvXigwWzEtOV18WzEyXVswLTldfDNbMDFdKVstIFxcLy5dKDBbMS05XXwxWzAxMl0pWy0gXFwvLl1cXGR7NH0kLyxcblxuICAgIC8vICNGRkYgb3IgI0ZGRkZGRlxuICAgIGNvbG9yIDogL14jPyhbYS1mQS1GMC05XXs2fXxbYS1mQS1GMC05XXszfSkkLyxcblxuICAgIC8vIERvbWFpbiB8fCBVUkxcbiAgICB3ZWJzaXRlOiB7XG4gICAgICB0ZXN0OiAodGV4dCkgPT4ge1xuICAgICAgICByZXR1cm4gQWJpZGUuZGVmYXVsdHMucGF0dGVybnMuZG9tYWluLnRlc3QodGV4dCkgfHwgQWJpZGUuZGVmYXVsdHMucGF0dGVybnMudXJsLnRlc3QodGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBPcHRpb25hbCB2YWxpZGF0aW9uIGZ1bmN0aW9ucyB0byBiZSB1c2VkLiBgZXF1YWxUb2AgYmVpbmcgdGhlIG9ubHkgZGVmYXVsdCBpbmNsdWRlZCBmdW5jdGlvbi5cbiAgICogRnVuY3Rpb25zIHNob3VsZCByZXR1cm4gb25seSBhIGJvb2xlYW4gaWYgdGhlIGlucHV0IGlzIHZhbGlkIG9yIG5vdC4gRnVuY3Rpb25zIGFyZSBnaXZlbiB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAgICogZWwgOiBUaGUgalF1ZXJ5IGVsZW1lbnQgdG8gdmFsaWRhdGUuXG4gICAqIEBvcHRpb25cbiAgICovXG4gIHZhbGlkYXRvcnM6IHtcbiAgICBlcXVhbFRvOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgIHJldHVybiAkKGAjJHtlbC5hdHRyKCdkYXRhLWVxdWFsdG8nKX1gKS52YWwoKSA9PT0gZWwudmFsKCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEFiaWRlIH07XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcbmltcG9ydCB7IG9uTG9hZCwgR2V0WW9EaWdpdHMgfSBmcm9tICcuL2ZvdW5kYXRpb24uY29yZS51dGlscyc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLmtleWJvYXJkJztcblxuLyoqXG4gKiBBY2NvcmRpb24gbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLmFjY29yZGlvblxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5rZXlib2FyZFxuICovXG5cbmNsYXNzIEFjY29yZGlvbiBleHRlbmRzIFBsdWdpbiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIGFuIGFjY29yZGlvbi5cbiAgICogQGNsYXNzXG4gICAqIEBuYW1lIEFjY29yZGlvblxuICAgKiBAZmlyZXMgQWNjb3JkaW9uI2luaXRcbiAgICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIG1ha2UgaW50byBhbiBhY2NvcmRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gYSBwbGFpbiBvYmplY3Qgd2l0aCBzZXR0aW5ncyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zLlxuICAgKi9cbiAgX3NldHVwKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQWNjb3JkaW9uLmRlZmF1bHRzLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucyk7XG5cbiAgICB0aGlzLmNsYXNzTmFtZSA9ICdBY2NvcmRpb24nOyAvLyBpZTkgYmFjayBjb21wYXRcbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgICBLZXlib2FyZC5yZWdpc3RlcignQWNjb3JkaW9uJywge1xuICAgICAgJ0VOVEVSJzogJ3RvZ2dsZScsXG4gICAgICAnU1BBQ0UnOiAndG9nZ2xlJyxcbiAgICAgICdBUlJPV19ET1dOJzogJ25leHQnLFxuICAgICAgJ0FSUk9XX1VQJzogJ3ByZXZpb3VzJyxcbiAgICAgICdIT01FJzogJ2ZpcnN0JyxcbiAgICAgICdFTkQnOiAnbGFzdCcsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGFjY29yZGlvbiBieSBhbmltYXRpbmcgdGhlIHByZXNldCBhY3RpdmUgcGFuZShzKS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0KCkge1xuICAgIHRoaXMuX2lzSW5pdGlhbGl6aW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuJHRhYnMgPSB0aGlzLiRlbGVtZW50LmNoaWxkcmVuKCdbZGF0YS1hY2NvcmRpb24taXRlbV0nKTtcblxuXG4gICAgdGhpcy4kdGFicy5lYWNoKGZ1bmN0aW9uKGlkeCwgZWwpIHtcbiAgICAgIHZhciAkZWwgPSAkKGVsKSxcbiAgICAgICAgICAkY29udGVudCA9ICRlbC5jaGlsZHJlbignW2RhdGEtdGFiLWNvbnRlbnRdJyksXG4gICAgICAgICAgaWQgPSAkY29udGVudFswXS5pZCB8fCBHZXRZb0RpZ2l0cyg2LCAnYWNjb3JkaW9uJyksXG4gICAgICAgICAgbGlua0lkID0gKGVsLmlkKSA/IGAke2VsLmlkfS1sYWJlbGAgOiBgJHtpZH0tbGFiZWxgO1xuXG4gICAgICAkZWwuZmluZCgnYTpmaXJzdCcpLmF0dHIoe1xuICAgICAgICAnYXJpYS1jb250cm9scyc6IGlkLFxuICAgICAgICAnaWQnOiBsaW5rSWQsXG4gICAgICAgICdhcmlhLWV4cGFuZGVkJzogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICAkY29udGVudC5hdHRyKHsncm9sZSc6ICdyZWdpb24nLCAnYXJpYS1sYWJlbGxlZGJ5JzogbGlua0lkLCAnYXJpYS1oaWRkZW4nOiB0cnVlLCAnaWQnOiBpZH0pO1xuICAgIH0pO1xuXG4gICAgdmFyICRpbml0QWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXMtYWN0aXZlJykuY2hpbGRyZW4oJ1tkYXRhLXRhYi1jb250ZW50XScpO1xuICAgIGlmICgkaW5pdEFjdGl2ZS5sZW5ndGgpIHtcbiAgICAgIC8vIFNhdmUgdXAgdGhlIGluaXRpYWwgaGFzaCB0byByZXR1cm4gdG8gaXQgbGF0ZXIgd2hlbiBnb2luZyBiYWNrIGluIGhpc3RvcnlcbiAgICAgIHRoaXMuX2luaXRpYWxBbmNob3IgPSAkaW5pdEFjdGl2ZS5wcmV2KCdhJykuYXR0cignaHJlZicpO1xuICAgICAgdGhpcy5fb3BlblNpbmdsZVRhYigkaW5pdEFjdGl2ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2hlY2tEZWVwTGluayA9ICgpID0+IHtcbiAgICAgIHZhciBhbmNob3IgPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcblxuICAgICAgaWYgKCFhbmNob3IubGVuZ3RoKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBzdGlsbCBpbml0aWFsaXppbmcgYW5kIHRoZXJlIGlzIG5vIGFuY2hvciwgdGhlbiB0aGVyZSBpcyBub3RoaW5nIHRvIGRvXG4gICAgICAgIGlmICh0aGlzLl9pc0luaXRpYWxpemluZykgcmV0dXJuO1xuICAgICAgICAvLyBPdGhlcndpc2UsIG1vdmUgdG8gdGhlIGluaXRpYWwgYW5jaG9yXG4gICAgICAgIGlmICh0aGlzLl9pbml0aWFsQW5jaG9yKSBhbmNob3IgPSB0aGlzLl9pbml0aWFsQW5jaG9yO1xuICAgICAgfVxuXG4gICAgICB2YXIgJGFuY2hvciA9IGFuY2hvciAmJiAkKGFuY2hvcik7XG4gICAgICB2YXIgJGxpbmsgPSBhbmNob3IgJiYgdGhpcy4kZWxlbWVudC5maW5kKGBbaHJlZiQ9XCIke2FuY2hvcn1cIl1gKTtcbiAgICAgIC8vIFdoZXRoZXIgdGhlIGFuY2hvciBlbGVtZW50IHRoYXQgaGFzIGJlZW4gZm91bmQgaXMgcGFydCBvZiB0aGlzIGVsZW1lbnRcbiAgICAgIHZhciBpc093bkFuY2hvciA9ICEhKCRhbmNob3IubGVuZ3RoICYmICRsaW5rLmxlbmd0aCk7XG5cbiAgICAgIGlmIChpc093bkFuY2hvcikge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBhbmNob3IgZm9yIHRoZSBoYXNoLCBvcGVuIGl0IChpZiBub3QgYWxyZWFkeSBhY3RpdmUpXG4gICAgICAgIGlmICgkYW5jaG9yICYmICRsaW5rICYmICRsaW5rLmxlbmd0aCkge1xuICAgICAgICAgIGlmICghJGxpbmsucGFyZW50KCdbZGF0YS1hY2NvcmRpb24taXRlbV0nKS5oYXNDbGFzcygnaXMtYWN0aXZlJykpIHtcbiAgICAgICAgICAgIHRoaXMuX29wZW5TaW5nbGVUYWIoJGFuY2hvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSwgY2xvc2UgZXZlcnl0aGluZ1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9jbG9zZUFsbFRhYnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJvbGwgdXAgYSBsaXR0bGUgdG8gc2hvdyB0aGUgdGl0bGVzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGVlcExpbmtTbXVkZ2UpIHtcbiAgICAgICAgICBvbkxvYWQoJCh3aW5kb3cpLCAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKTtcbiAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiBvZmZzZXQudG9wIC0gdGhpcy5vcHRpb25zLmRlZXBMaW5rU211ZGdlT2Zmc2V0IH0sIHRoaXMub3B0aW9ucy5kZWVwTGlua1NtdWRnZURlbGF5KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBwbHVnaW4gaGFzIGRlZXBsaW5rZWQgYXQgcGFnZWxvYWRcbiAgICAgICAgICogQGV2ZW50IEFjY29yZGlvbiNkZWVwbGlua1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdkZWVwbGluay56Zi5hY2NvcmRpb24nLCBbJGxpbmssICRhbmNob3JdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL3VzZSBicm93c2VyIHRvIG9wZW4gYSB0YWIsIGlmIGl0IGV4aXN0cyBpbiB0aGlzIHRhYnNldFxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGVlcExpbmspIHtcbiAgICAgIHRoaXMuX2NoZWNrRGVlcExpbmsoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9ldmVudHMoKTtcblxuICAgIHRoaXMuX2lzSW5pdGlhbGl6aW5nID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBldmVudCBoYW5kbGVycyBmb3IgaXRlbXMgd2l0aGluIHRoZSBhY2NvcmRpb24uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZXZlbnRzKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLiR0YWJzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJGVsZW0gPSAkKHRoaXMpO1xuICAgICAgdmFyICR0YWJDb250ZW50ID0gJGVsZW0uY2hpbGRyZW4oJ1tkYXRhLXRhYi1jb250ZW50XScpO1xuICAgICAgaWYgKCR0YWJDb250ZW50Lmxlbmd0aCkge1xuICAgICAgICAkZWxlbS5jaGlsZHJlbignYScpLm9mZignY2xpY2suemYuYWNjb3JkaW9uIGtleWRvd24uemYuYWNjb3JkaW9uJylcbiAgICAgICAgICAgICAgIC5vbignY2xpY2suemYuYWNjb3JkaW9uJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfdGhpcy50b2dnbGUoJHRhYkNvbnRlbnQpO1xuICAgICAgICB9KS5vbigna2V5ZG93bi56Zi5hY2NvcmRpb24nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgS2V5Ym9hcmQuaGFuZGxlS2V5KGUsICdBY2NvcmRpb24nLCB7XG4gICAgICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBfdGhpcy50b2dnbGUoJHRhYkNvbnRlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB2YXIgJGEgPSAkZWxlbS5uZXh0KCkuZmluZCgnYScpLmZvY3VzKCk7XG4gICAgICAgICAgICAgIGlmICghX3RoaXMub3B0aW9ucy5tdWx0aUV4cGFuZCkge1xuICAgICAgICAgICAgICAgICRhLnRyaWdnZXIoJ2NsaWNrLnpmLmFjY29yZGlvbicpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmV2aW91czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciAkYSA9ICRlbGVtLnByZXYoKS5maW5kKCdhJykuZm9jdXMoKTtcbiAgICAgICAgICAgICAgaWYgKCFfdGhpcy5vcHRpb25zLm11bHRpRXhwYW5kKSB7XG4gICAgICAgICAgICAgICAgJGEudHJpZ2dlcignY2xpY2suemYuYWNjb3JkaW9uJylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpcnN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdmFyICRhID0gX3RoaXMuJHRhYnMuZmlyc3QoKS5maW5kKCcuYWNjb3JkaW9uLXRpdGxlJykuZm9jdXMoKTtcbiAgICAgICAgICAgICAgaWYgKCFfdGhpcy5vcHRpb25zLm11bHRpRXhwYW5kKSB7XG4gICAgICAgICAgICAgICAgICRhLnRyaWdnZXIoJ2NsaWNrLnpmLmFjY29yZGlvbicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGFzdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciAkYSA9IF90aGlzLiR0YWJzLmxhc3QoKS5maW5kKCcuYWNjb3JkaW9uLXRpdGxlJykuZm9jdXMoKTtcbiAgICAgICAgICAgICAgaWYgKCFfdGhpcy5vcHRpb25zLm11bHRpRXhwYW5kKSB7XG4gICAgICAgICAgICAgICAgICRhLnRyaWdnZXIoJ2NsaWNrLnpmLmFjY29yZGlvbicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFuZGxlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5kZWVwTGluaykge1xuICAgICAgJCh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlJywgdGhpcy5fY2hlY2tEZWVwTGluayk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIHNlbGVjdGVkIGNvbnRlbnQgcGFuZSdzIG9wZW4vY2xvc2Ugc3RhdGUuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkdGFyZ2V0IC0galF1ZXJ5IG9iamVjdCBvZiB0aGUgcGFuZSB0byB0b2dnbGUgKGAuYWNjb3JkaW9uLWNvbnRlbnRgKS5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICB0b2dnbGUoJHRhcmdldCkge1xuICAgIGlmICgkdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWFjY29yZGlvbl0nKS5pcygnW2Rpc2FibGVkXScpKSB7XG4gICAgICBjb25zb2xlLmluZm8oJ0Nhbm5vdCB0b2dnbGUgYW4gYWNjb3JkaW9uIHRoYXQgaXMgZGlzYWJsZWQuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICgkdGFyZ2V0LnBhcmVudCgpLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSkge1xuICAgICAgdGhpcy51cCgkdGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kb3duKCR0YXJnZXQpO1xuICAgIH1cbiAgICAvL2VpdGhlciByZXBsYWNlIG9yIHVwZGF0ZSBicm93c2VyIGhpc3RvcnlcbiAgICBpZiAodGhpcy5vcHRpb25zLmRlZXBMaW5rKSB7XG4gICAgICB2YXIgYW5jaG9yID0gJHRhcmdldC5wcmV2KCdhJykuYXR0cignaHJlZicpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnVwZGF0ZUhpc3RvcnkpIHtcbiAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCBhbmNob3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sICcnLCBhbmNob3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgYWNjb3JkaW9uIHRhYiBkZWZpbmVkIGJ5IGAkdGFyZ2V0YC5cbiAgICogQHBhcmFtIHtqUXVlcnl9ICR0YXJnZXQgLSBBY2NvcmRpb24gcGFuZSB0byBvcGVuIChgLmFjY29yZGlvbi1jb250ZW50YCkuXG4gICAqIEBmaXJlcyBBY2NvcmRpb24jZG93blxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIGRvd24oJHRhcmdldCkge1xuICAgIGlmICgkdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWFjY29yZGlvbl0nKS5pcygnW2Rpc2FibGVkXScpKSAge1xuICAgICAgY29uc29sZS5pbmZvKCdDYW5ub3QgY2FsbCBkb3duIG9uIGFuIGFjY29yZGlvbiB0aGF0IGlzIGRpc2FibGVkLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlFeHBhbmQpXG4gICAgICB0aGlzLl9vcGVuVGFiKCR0YXJnZXQpO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuX29wZW5TaW5nbGVUYWIoJHRhcmdldCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSB0YWIgZGVmaW5lZCBieSBgJHRhcmdldGAuXG4gICAqIEl0IG1heSBiZSBpZ25vcmVkIGlmIHRoZSBBY2NvcmRpb24gb3B0aW9ucyBkb24ndCBhbGxvdyBpdC5cbiAgICpcbiAgICogQHBhcmFtIHtqUXVlcnl9ICR0YXJnZXQgLSBBY2NvcmRpb24gdGFiIHRvIGNsb3NlIChgLmFjY29yZGlvbi1jb250ZW50YCkuXG4gICAqIEBmaXJlcyBBY2NvcmRpb24jdXBcbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICB1cCgkdGFyZ2V0KSB7XG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuaXMoJ1tkaXNhYmxlZF0nKSkge1xuICAgICAgY29uc29sZS5pbmZvKCdDYW5ub3QgY2FsbCB1cCBvbiBhbiBhY2NvcmRpb24gdGhhdCBpcyBkaXNhYmxlZC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEb24ndCBjbG9zZSB0aGUgaXRlbSBpZiBpdCBpcyBhbHJlYWR5IGNsb3NlZFxuICAgIGNvbnN0ICR0YXJnZXRJdGVtID0gJHRhcmdldC5wYXJlbnQoKTtcbiAgICBpZiAoISR0YXJnZXRJdGVtLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSkgcmV0dXJuO1xuXG4gICAgLy8gRG9uJ3QgY2xvc2UgdGhlIGl0ZW0gaWYgdGhlcmUgaXMgbm8gb3RoZXIgYWN0aXZlIGl0ZW0gKHVubGVzcyB3aXRoIGBhbGxvd0FsbENsb3NlZGApXG4gICAgY29uc3QgJG90aGVyc0l0ZW1zID0gJHRhcmdldEl0ZW0uc2libGluZ3MoKTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd0FsbENsb3NlZCAmJiAhJG90aGVyc0l0ZW1zLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSkgcmV0dXJuO1xuXG4gICAgdGhpcy5fY2xvc2VUYWIoJHRhcmdldCk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSB0aGUgdGFiIGRlZmluZWQgYnkgYCR0YXJnZXRgIHRoZSBvbmx5IG9wZW5lZCB0YWIsIGNsb3NpbmcgYWxsIG90aGVycyB0YWJzLlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJHRhcmdldCAtIEFjY29yZGlvbiB0YWIgdG8gb3BlbiAoYC5hY2NvcmRpb24tY29udGVudGApLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9vcGVuU2luZ2xlVGFiKCR0YXJnZXQpIHtcbiAgICAvLyBDbG9zZSBhbGwgdGhlIG90aGVycyBhY3RpdmUgdGFicy5cbiAgICBjb25zdCAkYWN0aXZlQ29udGVudHMgPSB0aGlzLiRlbGVtZW50LmNoaWxkcmVuKCcuaXMtYWN0aXZlJykuY2hpbGRyZW4oJ1tkYXRhLXRhYi1jb250ZW50XScpO1xuICAgIGlmICgkYWN0aXZlQ29udGVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9jbG9zZVRhYigkYWN0aXZlQ29udGVudHMubm90KCR0YXJnZXQpKTtcbiAgICB9XG5cbiAgICAvLyBUaGVuIG9wZW4gdGhlIHRhcmdldC5cbiAgICB0aGlzLl9vcGVuVGFiKCR0YXJnZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSB0YWIgZGVmaW5lZCBieSBgJHRhcmdldGAuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkdGFyZ2V0IC0gQWNjb3JkaW9uIHRhYiB0byBvcGVuIChgLmFjY29yZGlvbi1jb250ZW50YCkuXG4gICAqIEBmaXJlcyBBY2NvcmRpb24jZG93blxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9vcGVuVGFiKCR0YXJnZXQpIHtcbiAgICBjb25zdCAkdGFyZ2V0SXRlbSA9ICR0YXJnZXQucGFyZW50KCk7XG4gICAgY29uc3QgdGFyZ2V0Q29udGVudElkID0gJHRhcmdldC5hdHRyKCdhcmlhLWxhYmVsbGVkYnknKTtcblxuICAgICR0YXJnZXQuYXR0cignYXJpYS1oaWRkZW4nLCBmYWxzZSk7XG4gICAgJHRhcmdldEl0ZW0uYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXG4gICAgJChgIyR7dGFyZ2V0Q29udGVudElkfWApLmF0dHIoe1xuICAgICAgJ2FyaWEtZXhwYW5kZWQnOiB0cnVlXG4gICAgfSk7XG5cbiAgICAkdGFyZ2V0LmZpbmlzaCgpLnNsaWRlRG93bih0aGlzLm9wdGlvbnMuc2xpZGVTcGVlZCwgKCkgPT4ge1xuICAgICAgLyoqXG4gICAgICAgKiBGaXJlcyB3aGVuIHRoZSB0YWIgaXMgZG9uZSBvcGVuaW5nLlxuICAgICAgICogQGV2ZW50IEFjY29yZGlvbiNkb3duXG4gICAgICAgKi9cbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignZG93bi56Zi5hY2NvcmRpb24nLCBbJHRhcmdldF0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgdGFiIGRlZmluZWQgYnkgYCR0YXJnZXRgLlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJHRhcmdldCAtIEFjY29yZGlvbiB0YWIgdG8gY2xvc2UgKGAuYWNjb3JkaW9uLWNvbnRlbnRgKS5cbiAgICogQGZpcmVzIEFjY29yZGlvbiN1cFxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jbG9zZVRhYigkdGFyZ2V0KSB7XG4gICAgY29uc3QgJHRhcmdldEl0ZW0gPSAkdGFyZ2V0LnBhcmVudCgpO1xuICAgIGNvbnN0IHRhcmdldENvbnRlbnRJZCA9ICR0YXJnZXQuYXR0cignYXJpYS1sYWJlbGxlZGJ5Jyk7XG5cbiAgICAkdGFyZ2V0LmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSlcbiAgICAkdGFyZ2V0SXRlbS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG5cbiAgICAkKGAjJHt0YXJnZXRDb250ZW50SWR9YCkuYXR0cih7XG4gICAgICdhcmlhLWV4cGFuZGVkJzogZmFsc2VcbiAgICB9KTtcblxuICAgICR0YXJnZXQuZmluaXNoKCkuc2xpZGVVcCh0aGlzLm9wdGlvbnMuc2xpZGVTcGVlZCwgKCkgPT4ge1xuICAgICAgLyoqXG4gICAgICAgKiBGaXJlcyB3aGVuIHRoZSB0YWIgaXMgZG9uZSBjb2xsYXBzaW5nIHVwLlxuICAgICAgICogQGV2ZW50IEFjY29yZGlvbiN1cFxuICAgICAgICovXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3VwLnpmLmFjY29yZGlvbicsIFskdGFyZ2V0XSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIGFsbCBhY3RpdmUgdGFic1xuICAgKiBAZmlyZXMgQWNjb3JkaW9uI3VwXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Nsb3NlQWxsVGFicygpIHtcbiAgICB2YXIgJGFjdGl2ZVRhYnMgPSB0aGlzLiRlbGVtZW50LmNoaWxkcmVuKCcuaXMtYWN0aXZlJykuY2hpbGRyZW4oJ1tkYXRhLXRhYi1jb250ZW50XScpO1xuICAgIGlmICgkYWN0aXZlVGFicy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX2Nsb3NlVGFiKCRhY3RpdmVUYWJzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgYW4gaW5zdGFuY2Ugb2YgYW4gYWNjb3JkaW9uLlxuICAgKiBAZmlyZXMgQWNjb3JkaW9uI2Rlc3Ryb3llZFxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIF9kZXN0cm95KCkge1xuICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtdGFiLWNvbnRlbnRdJykuc3RvcCh0cnVlKS5zbGlkZVVwKDApLmNzcygnZGlzcGxheScsICcnKTtcbiAgICB0aGlzLiRlbGVtZW50LmZpbmQoJ2EnKS5vZmYoJy56Zi5hY2NvcmRpb24nKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmRlZXBMaW5rKSB7XG4gICAgICAkKHdpbmRvdykub2ZmKCdoYXNoY2hhbmdlJywgdGhpcy5fY2hlY2tEZWVwTGluayk7XG4gICAgfVxuXG4gIH1cbn1cblxuQWNjb3JkaW9uLmRlZmF1bHRzID0ge1xuICAvKipcbiAgICogQW1vdW50IG9mIHRpbWUgdG8gYW5pbWF0ZSB0aGUgb3BlbmluZyBvZiBhbiBhY2NvcmRpb24gcGFuZS5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAyNTBcbiAgICovXG4gIHNsaWRlU3BlZWQ6IDI1MCxcbiAgLyoqXG4gICAqIEFsbG93IHRoZSBhY2NvcmRpb24gdG8gaGF2ZSBtdWx0aXBsZSBvcGVuIHBhbmVzLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgbXVsdGlFeHBhbmQ6IGZhbHNlLFxuICAvKipcbiAgICogQWxsb3cgdGhlIGFjY29yZGlvbiB0byBjbG9zZSBhbGwgcGFuZXMuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhbGxvd0FsbENsb3NlZDogZmFsc2UsXG4gIC8qKlxuICAgKiBMaW5rIHRoZSBsb2NhdGlvbiBoYXNoIHRvIHRoZSBvcGVuIHBhbmUuXG4gICAqIFNldCB0aGUgbG9jYXRpb24gaGFzaCB3aGVuIHRoZSBvcGVuZWQgcGFuZSBjaGFuZ2VzLCBhbmQgb3BlbiBhbmQgc2Nyb2xsIHRvIHRoZSBjb3JyZXNwb25kaW5nIHBhbmUgd2hlbiB0aGUgbG9jYXRpb24gY2hhbmdlcy5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRlZXBMaW5rOiBmYWxzZSxcbiAgLyoqXG4gICAqIElmIGBkZWVwTGlua2AgaXMgZW5hYmxlZCwgYWRqdXN0IHRoZSBkZWVwIGxpbmsgc2Nyb2xsIHRvIG1ha2Ugc3VyZSB0aGUgdG9wIG9mIHRoZSBhY2NvcmRpb24gcGFuZWwgaXMgdmlzaWJsZVxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGVlcExpbmtTbXVkZ2U6IGZhbHNlLFxuICAvKipcbiAgICogSWYgYGRlZXBMaW5rU211ZGdlYCBpcyBlbmFibGVkLCBhbmltYXRpb24gdGltZSAobXMpIGZvciB0aGUgZGVlcCBsaW5rIGFkanVzdG1lbnRcbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAzMDBcbiAgICovXG4gIGRlZXBMaW5rU211ZGdlRGVsYXk6IDMwMCxcbiAgLyoqXG4gICAqIElmIGBkZWVwTGlua1NtdWRnZWAgaXMgZW5hYmxlZCwgdGhlIG9mZnNldCBmb3Igc2Nyb2xsVG9UdG9wIHRvIHByZXZlbnQgb3ZlcmxhcCBieSBhIHN0aWNreSBlbGVtZW50IGF0IHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBkZWVwTGlua1NtdWRnZU9mZnNldDogMCxcbiAgLyoqXG4gICAqIElmIGBkZWVwTGlua2AgaXMgZW5hYmxlZCwgdXBkYXRlIHRoZSBicm93c2VyIGhpc3Rvcnkgd2l0aCB0aGUgb3BlbiBhY2NvcmRpb25cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHVwZGF0ZUhpc3Rvcnk6IGZhbHNlXG59O1xuXG5leHBvcnQgeyBBY2NvcmRpb24gfTtcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLmtleWJvYXJkJztcbmltcG9ydCB7IE5lc3QgfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC5uZXN0JztcbmltcG9ydCB7IEdldFlvRGlnaXRzIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUudXRpbHMnO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcblxuLyoqXG4gKiBBY2NvcmRpb25NZW51IG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi5hY2NvcmRpb25NZW51XG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmtleWJvYXJkXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm5lc3RcbiAqL1xuXG5jbGFzcyBBY2NvcmRpb25NZW51IGV4dGVuZHMgUGx1Z2luIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgYW4gYWNjb3JkaW9uIG1lbnUuXG4gICAqIEBjbGFzc1xuICAgKiBAbmFtZSBBY2NvcmRpb25NZW51XG4gICAqIEBmaXJlcyBBY2NvcmRpb25NZW51I2luaXRcbiAgICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIG1ha2UgaW50byBhbiBhY2NvcmRpb24gbWVudS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgX3NldHVwKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQWNjb3JkaW9uTWVudS5kZWZhdWx0cywgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuICAgIHRoaXMuY2xhc3NOYW1lID0gJ0FjY29yZGlvbk1lbnUnOyAvLyBpZTkgYmFjayBjb21wYXRcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICAgIEtleWJvYXJkLnJlZ2lzdGVyKCdBY2NvcmRpb25NZW51Jywge1xuICAgICAgJ0VOVEVSJzogJ3RvZ2dsZScsXG4gICAgICAnU1BBQ0UnOiAndG9nZ2xlJyxcbiAgICAgICdBUlJPV19SSUdIVCc6ICdvcGVuJyxcbiAgICAgICdBUlJPV19VUCc6ICd1cCcsXG4gICAgICAnQVJST1dfRE9XTic6ICdkb3duJyxcbiAgICAgICdBUlJPV19MRUZUJzogJ2Nsb3NlJyxcbiAgICAgICdFU0NBUEUnOiAnY2xvc2VBbGwnXG4gICAgfSk7XG4gIH1cblxuXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBhY2NvcmRpb24gbWVudSBieSBoaWRpbmcgYWxsIG5lc3RlZCBtZW51cy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0KCkge1xuICAgIE5lc3QuRmVhdGhlcih0aGlzLiRlbGVtZW50LCAnYWNjb3JkaW9uJyk7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy4kZWxlbWVudC5maW5kKCdbZGF0YS1zdWJtZW51XScpLm5vdCgnLmlzLWFjdGl2ZScpLnNsaWRlVXAoMCk7Ly8uZmluZCgnYScpLmNzcygncGFkZGluZy1sZWZ0JywgJzFyZW0nKTtcbiAgICB0aGlzLiRlbGVtZW50LmF0dHIoe1xuICAgICAgJ2FyaWEtbXVsdGlzZWxlY3RhYmxlJzogdGhpcy5vcHRpb25zLm11bHRpT3BlblxuICAgIH0pO1xuXG4gICAgdGhpcy4kbWVudUxpbmtzID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXMtYWNjb3JkaW9uLXN1Ym1lbnUtcGFyZW50Jyk7XG4gICAgdGhpcy4kbWVudUxpbmtzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGlua0lkID0gdGhpcy5pZCB8fCBHZXRZb0RpZ2l0cyg2LCAnYWNjLW1lbnUtbGluaycpLFxuICAgICAgICAgICRlbGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAkc3ViID0gJGVsZW0uY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdJyksXG4gICAgICAgICAgc3ViSWQgPSAkc3ViWzBdLmlkIHx8IEdldFlvRGlnaXRzKDYsICdhY2MtbWVudScpLFxuICAgICAgICAgIGlzQWN0aXZlID0gJHN1Yi5oYXNDbGFzcygnaXMtYWN0aXZlJyk7XG5cbiAgICAgIGlmIChfdGhpcy5vcHRpb25zLnBhcmVudExpbmspIHtcbiAgICAgICAgbGV0ICRhbmNob3IgPSAkZWxlbS5jaGlsZHJlbignYScpO1xuICAgICAgICAkYW5jaG9yLmNsb25lKCkucHJlcGVuZFRvKCRzdWIpLndyYXAoJzxsaSBkYXRhLWlzLXBhcmVudC1saW5rIGNsYXNzPVwiaXMtc3VibWVudS1wYXJlbnQtaXRlbSBpcy1zdWJtZW51LWl0ZW0gaXMtYWNjb3JkaW9uLXN1Ym1lbnUtaXRlbVwiPjwvbGk+Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5vcHRpb25zLnN1Ym1lbnVUb2dnbGUpIHtcbiAgICAgICAgJGVsZW0uYWRkQ2xhc3MoJ2hhcy1zdWJtZW51LXRvZ2dsZScpO1xuICAgICAgICAkZWxlbS5jaGlsZHJlbignYScpLmFmdGVyKCc8YnV0dG9uIGlkPVwiJyArIGxpbmtJZCArICdcIiBjbGFzcz1cInN1Ym1lbnUtdG9nZ2xlXCIgYXJpYS1jb250cm9scz1cIicgKyBzdWJJZCArICdcIiBhcmlhLWV4cGFuZGVkPVwiJyArIGlzQWN0aXZlICsgJ1wiIHRpdGxlPVwiJyArIF90aGlzLm9wdGlvbnMuc3VibWVudVRvZ2dsZVRleHQgKyAnXCI+PHNwYW4gY2xhc3M9XCJzdWJtZW51LXRvZ2dsZS10ZXh0XCI+JyArIF90aGlzLm9wdGlvbnMuc3VibWVudVRvZ2dsZVRleHQgKyAnPC9zcGFuPjwvYnV0dG9uPicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGVsZW0uYXR0cih7XG4gICAgICAgICAgJ2FyaWEtY29udHJvbHMnOiBzdWJJZCxcbiAgICAgICAgICAnYXJpYS1leHBhbmRlZCc6IGlzQWN0aXZlLFxuICAgICAgICAgICdpZCc6IGxpbmtJZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgICRzdWIuYXR0cih7XG4gICAgICAgICdhcmlhLWxhYmVsbGVkYnknOiBsaW5rSWQsXG4gICAgICAgICdhcmlhLWhpZGRlbic6ICFpc0FjdGl2ZSxcbiAgICAgICAgJ3JvbGUnOiAnZ3JvdXAnLFxuICAgICAgICAnaWQnOiBzdWJJZFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdmFyIGluaXRQYW5lcyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmlzLWFjdGl2ZScpO1xuICAgIGlmIChpbml0UGFuZXMubGVuZ3RoKSB7XG4gICAgICBpbml0UGFuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgX3RoaXMuZG93bigkKHRoaXMpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl9ldmVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50IGhhbmRsZXJzIGZvciBpdGVtcyB3aXRoaW4gdGhlIG1lbnUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZXZlbnRzKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLiRlbGVtZW50LmZpbmQoJ2xpJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHZhciAkc3VibWVudSA9ICQodGhpcykuY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdJyk7XG5cbiAgICAgIGlmICgkc3VibWVudS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuc3VibWVudVRvZ2dsZSkge1xuICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJy5zdWJtZW51LXRvZ2dsZScpLm9mZignY2xpY2suemYuYWNjb3JkaW9uTWVudScpLm9uKCdjbGljay56Zi5hY2NvcmRpb25NZW51JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfdGhpcy50b2dnbGUoJHN1Ym1lbnUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCh0aGlzKS5jaGlsZHJlbignYScpLm9mZignY2xpY2suemYuYWNjb3JkaW9uTWVudScpLm9uKCdjbGljay56Zi5hY2NvcmRpb25NZW51JywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIF90aGlzLnRvZ2dsZSgkc3VibWVudSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLm9uKCdrZXlkb3duLnpmLmFjY29yZGlvbk1lbnUnLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJGVsZW1lbnQgPSAkKHRoaXMpLFxuICAgICAgICAgICRlbGVtZW50cyA9ICRlbGVtZW50LnBhcmVudCgndWwnKS5jaGlsZHJlbignbGknKSxcbiAgICAgICAgICAkcHJldkVsZW1lbnQsXG4gICAgICAgICAgJG5leHRFbGVtZW50LFxuICAgICAgICAgICR0YXJnZXQgPSAkZWxlbWVudC5jaGlsZHJlbignW2RhdGEtc3VibWVudV0nKTtcblxuICAgICAgJGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICBpZiAoJCh0aGlzKS5pcygkZWxlbWVudCkpIHtcbiAgICAgICAgICAkcHJldkVsZW1lbnQgPSAkZWxlbWVudHMuZXEoTWF0aC5tYXgoMCwgaS0xKSkuZmluZCgnYScpLmZpcnN0KCk7XG4gICAgICAgICAgJG5leHRFbGVtZW50ID0gJGVsZW1lbnRzLmVxKE1hdGgubWluKGkrMSwgJGVsZW1lbnRzLmxlbmd0aC0xKSkuZmluZCgnYScpLmZpcnN0KCk7XG5cbiAgICAgICAgICBpZiAoJCh0aGlzKS5jaGlsZHJlbignW2RhdGEtc3VibWVudV06dmlzaWJsZScpLmxlbmd0aCkgeyAvLyBoYXMgb3BlbiBzdWIgbWVudVxuICAgICAgICAgICAgJG5leHRFbGVtZW50ID0gJGVsZW1lbnQuZmluZCgnbGk6Zmlyc3QtY2hpbGQnKS5maW5kKCdhJykuZmlyc3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCQodGhpcykuaXMoJzpmaXJzdC1jaGlsZCcpKSB7IC8vIGlzIGZpcnN0IGVsZW1lbnQgb2Ygc3ViIG1lbnVcbiAgICAgICAgICAgICRwcmV2RWxlbWVudCA9ICRlbGVtZW50LnBhcmVudHMoJ2xpJykuZmlyc3QoKS5maW5kKCdhJykuZmlyc3QoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCRwcmV2RWxlbWVudC5wYXJlbnRzKCdsaScpLmZpcnN0KCkuY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdOnZpc2libGUnKS5sZW5ndGgpIHsgLy8gaWYgcHJldmlvdXMgZWxlbWVudCBoYXMgb3BlbiBzdWIgbWVudVxuICAgICAgICAgICAgJHByZXZFbGVtZW50ID0gJHByZXZFbGVtZW50LnBhcmVudHMoJ2xpJykuZmluZCgnbGk6bGFzdC1jaGlsZCcpLmZpbmQoJ2EnKS5maXJzdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJCh0aGlzKS5pcygnOmxhc3QtY2hpbGQnKSkgeyAvLyBpcyBsYXN0IGVsZW1lbnQgb2Ygc3ViIG1lbnVcbiAgICAgICAgICAgICRuZXh0RWxlbWVudCA9ICRlbGVtZW50LnBhcmVudHMoJ2xpJykuZmlyc3QoKS5uZXh0KCdsaScpLmZpbmQoJ2EnKS5maXJzdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIEtleWJvYXJkLmhhbmRsZUtleShlLCAnQWNjb3JkaW9uTWVudScsIHtcbiAgICAgICAgb3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCR0YXJnZXQuaXMoJzpoaWRkZW4nKSkge1xuICAgICAgICAgICAgX3RoaXMuZG93bigkdGFyZ2V0KTtcbiAgICAgICAgICAgICR0YXJnZXQuZmluZCgnbGknKS5maXJzdCgpLmZpbmQoJ2EnKS5maXJzdCgpLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCR0YXJnZXQubGVuZ3RoICYmICEkdGFyZ2V0LmlzKCc6aGlkZGVuJykpIHsgLy8gY2xvc2UgYWN0aXZlIHN1YiBvZiB0aGlzIGl0ZW1cbiAgICAgICAgICAgIF90aGlzLnVwKCR0YXJnZXQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJGVsZW1lbnQucGFyZW50KCdbZGF0YS1zdWJtZW51XScpLmxlbmd0aCkgeyAvLyBjbG9zZSBjdXJyZW50bHkgb3BlbiBzdWJcbiAgICAgICAgICAgIF90aGlzLnVwKCRlbGVtZW50LnBhcmVudCgnW2RhdGEtc3VibWVudV0nKSk7XG4gICAgICAgICAgICAkZWxlbWVudC5wYXJlbnRzKCdsaScpLmZpcnN0KCkuZmluZCgnYScpLmZpcnN0KCkuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkcHJldkVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZG93bjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJG5leHRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuc3VibWVudVRvZ2dsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJGVsZW1lbnQuY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdJykubGVuZ3RoKSB7XG4gICAgICAgICAgICBfdGhpcy50b2dnbGUoJGVsZW1lbnQuY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdJykpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbG9zZUFsbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3RoaXMuaGlkZUFsbCgpO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVkOiBmdW5jdGlvbihwcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgIGlmIChwcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7Ly8uYXR0cigndGFiaW5kZXgnLCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgYWxsIHBhbmVzIG9mIHRoZSBtZW51LlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIGhpZGVBbGwoKSB7XG4gICAgdGhpcy51cCh0aGlzLiRlbGVtZW50LmZpbmQoJ1tkYXRhLXN1Ym1lbnVdJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIGFsbCBwYW5lcyBvZiB0aGUgbWVudS5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBzaG93QWxsKCkge1xuICAgIHRoaXMuZG93bih0aGlzLiRlbGVtZW50LmZpbmQoJ1tkYXRhLXN1Ym1lbnVdJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIG9wZW4vY2xvc2Ugc3RhdGUgb2YgYSBzdWJtZW51LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtqUXVlcnl9ICR0YXJnZXQgLSB0aGUgc3VibWVudSB0byB0b2dnbGVcbiAgICovXG4gIHRvZ2dsZSgkdGFyZ2V0KSB7XG4gICAgaWYgKCEkdGFyZ2V0LmlzKCc6YW5pbWF0ZWQnKSkge1xuICAgICAgaWYgKCEkdGFyZ2V0LmlzKCc6aGlkZGVuJykpIHtcbiAgICAgICAgdGhpcy51cCgkdGFyZ2V0KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmRvd24oJHRhcmdldCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBzdWItbWVudSBkZWZpbmVkIGJ5IGAkdGFyZ2V0YC5cbiAgICogQHBhcmFtIHtqUXVlcnl9ICR0YXJnZXQgLSBTdWItbWVudSB0byBvcGVuLlxuICAgKiBAZmlyZXMgQWNjb3JkaW9uTWVudSNkb3duXG4gICAqL1xuICBkb3duKCR0YXJnZXQpIHtcbiAgICAvLyBJZiBoYXZpbmcgbXVsdGlwbGUgc3VibWVudXMgYWN0aXZlIGlzIGRpc2FibGVkLCBjbG9zZSBhbGwgdGhlIHN1Ym1lbnVzXG4gICAgLy8gdGhhdCBhcmUgbm90IHBhcmVudHMgb3IgY2hpbGRyZW4gb2YgdGhlIHRhcmdldGVkIHN1Ym1lbnUuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMubXVsdGlPcGVuKSB7XG4gICAgICAvLyBUaGUgXCJicmFuY2hcIiBvZiB0aGUgdGFyZ2V0dGVkIHN1Ym1lbnUsIGZyb20gdGhlIGNvbXBvbmVudCByb290IHRvXG4gICAgICAvLyB0aGUgYWN0aXZlIHN1Ym1lbnVzIG5lc3RlZCBpbiBpdC5cbiAgICAgIGNvbnN0ICR0YXJnZXRCcmFuY2ggPSAkdGFyZ2V0LnBhcmVudHNVbnRpbCh0aGlzLiRlbGVtZW50KVxuICAgICAgICAuYWRkKCR0YXJnZXQpXG4gICAgICAgIC5hZGQoJHRhcmdldC5maW5kKCcuaXMtYWN0aXZlJykpO1xuICAgICAgLy8gQWxsIHRoZSBhY3RpdmUgc3VibWVudXMgdGhhdCBhcmUgbm90IGluIHRoZSBicmFuY2guXG4gICAgICBjb25zdCAkb3RoZXJzQWN0aXZlU3VibWVudXMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pcy1hY3RpdmUnKS5ub3QoJHRhcmdldEJyYW5jaCk7XG5cbiAgICAgIHRoaXMudXAoJG90aGVyc0FjdGl2ZVN1Ym1lbnVzKTtcbiAgICB9XG5cbiAgICAkdGFyZ2V0XG4gICAgICAuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpXG4gICAgICAuYXR0cih7ICdhcmlhLWhpZGRlbic6IGZhbHNlIH0pO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zdWJtZW51VG9nZ2xlKSB7XG4gICAgICAkdGFyZ2V0LnByZXYoJy5zdWJtZW51LXRvZ2dsZScpLmF0dHIoeydhcmlhLWV4cGFuZGVkJzogdHJ1ZX0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICR0YXJnZXQucGFyZW50KCcuaXMtYWNjb3JkaW9uLXN1Ym1lbnUtcGFyZW50JykuYXR0cih7J2FyaWEtZXhwYW5kZWQnOiB0cnVlfSk7XG4gICAgfVxuXG4gICAgJHRhcmdldC5zbGlkZURvd24odGhpcy5vcHRpb25zLnNsaWRlU3BlZWQsICgpID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogRmlyZXMgd2hlbiB0aGUgbWVudSBpcyBkb25lIG9wZW5pbmcuXG4gICAgICAgKiBAZXZlbnQgQWNjb3JkaW9uTWVudSNkb3duXG4gICAgICAgKi9cbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignZG93bi56Zi5hY2NvcmRpb25NZW51JywgWyR0YXJnZXRdKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIHN1Yi1tZW51IGRlZmluZWQgYnkgYCR0YXJnZXRgLiBBbGwgc3ViLW1lbnVzIGluc2lkZSB0aGUgdGFyZ2V0IHdpbGwgYmUgY2xvc2VkIGFzIHdlbGwuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkdGFyZ2V0IC0gU3ViLW1lbnUgdG8gY2xvc2UuXG4gICAqIEBmaXJlcyBBY2NvcmRpb25NZW51I3VwXG4gICAqL1xuICB1cCgkdGFyZ2V0KSB7XG4gICAgY29uc3QgJHN1Ym1lbnVzID0gJHRhcmdldC5maW5kKCdbZGF0YS1zdWJtZW51XScpO1xuICAgIGNvbnN0ICRhbGxtZW51cyA9ICR0YXJnZXQuYWRkKCRzdWJtZW51cyk7XG5cbiAgICAkc3VibWVudXMuc2xpZGVVcCgwKTtcbiAgICAkYWxsbWVudXNcbiAgICAgIC5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJylcbiAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zdWJtZW51VG9nZ2xlKSB7XG4gICAgICAkYWxsbWVudXMucHJldignLnN1Ym1lbnUtdG9nZ2xlJykuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkYWxsbWVudXMucGFyZW50KCcuaXMtYWNjb3JkaW9uLXN1Ym1lbnUtcGFyZW50JykuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAkdGFyZ2V0LnNsaWRlVXAodGhpcy5vcHRpb25zLnNsaWRlU3BlZWQsICgpID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogRmlyZXMgd2hlbiB0aGUgbWVudSBpcyBkb25lIGNvbGxhcHNpbmcgdXAuXG4gICAgICAgKiBAZXZlbnQgQWNjb3JkaW9uTWVudSN1cFxuICAgICAgICovXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3VwLnpmLmFjY29yZGlvbk1lbnUnLCBbJHRhcmdldF0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIGFuIGluc3RhbmNlIG9mIGFjY29yZGlvbiBtZW51LlxuICAgKiBAZmlyZXMgQWNjb3JkaW9uTWVudSNkZXN0cm95ZWRcbiAgICovXG4gIF9kZXN0cm95KCkge1xuICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtc3VibWVudV0nKS5zbGlkZURvd24oMCkuY3NzKCdkaXNwbGF5JywgJycpO1xuICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnYScpLm9mZignY2xpY2suemYuYWNjb3JkaW9uTWVudScpO1xuICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtaXMtcGFyZW50LWxpbmtdJykuZGV0YWNoKCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnN1Ym1lbnVUb2dnbGUpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnLmhhcy1zdWJtZW51LXRvZ2dsZScpLnJlbW92ZUNsYXNzKCdoYXMtc3VibWVudS10b2dnbGUnKTtcbiAgICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnLnN1Ym1lbnUtdG9nZ2xlJykucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgTmVzdC5CdXJuKHRoaXMuJGVsZW1lbnQsICdhY2NvcmRpb24nKTtcbiAgfVxufVxuXG5BY2NvcmRpb25NZW51LmRlZmF1bHRzID0ge1xuICAvKipcbiAgICogQWRkcyB0aGUgcGFyZW50IGxpbmsgdG8gdGhlIHN1Ym1lbnUuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBwYXJlbnRMaW5rOiBmYWxzZSxcbiAgLyoqXG4gICAqIEFtb3VudCBvZiB0aW1lIHRvIGFuaW1hdGUgdGhlIG9wZW5pbmcgb2YgYSBzdWJtZW51IGluIG1zLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDI1MFxuICAgKi9cbiAgc2xpZGVTcGVlZDogMjUwLFxuICAvKipcbiAgICogQWRkcyBhIHNlcGFyYXRlIHN1Ym1lbnUgdG9nZ2xlIGJ1dHRvbi4gVGhpcyBhbGxvd3MgdGhlIHBhcmVudCBpdGVtIHRvIGhhdmUgYSBsaW5rLlxuICAgKiBAb3B0aW9uXG4gICAqIEBleGFtcGxlIHRydWVcbiAgICovXG4gIHN1Ym1lbnVUb2dnbGU6IGZhbHNlLFxuICAvKipcbiAgICogVGhlIHRleHQgdXNlZCBmb3IgdGhlIHN1Ym1lbnUgdG9nZ2xlIGlmIGVuYWJsZWQuIFRoaXMgaXMgdXNlZCBmb3Igc2NyZWVuIHJlYWRlcnMgb25seS5cbiAgICogQG9wdGlvblxuICAgKiBAZXhhbXBsZSB0cnVlXG4gICAqL1xuICBzdWJtZW51VG9nZ2xlVGV4dDogJ1RvZ2dsZSBtZW51JyxcbiAgLyoqXG4gICAqIEFsbG93IHRoZSBtZW51IHRvIGhhdmUgbXVsdGlwbGUgb3BlbiBwYW5lcy5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgbXVsdGlPcGVuOiB0cnVlXG59O1xuXG5leHBvcnQgeyBBY2NvcmRpb25NZW51IH07XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC5rZXlib2FyZCc7XG5pbXBvcnQgeyBOZXN0IH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwubmVzdCc7XG5pbXBvcnQgeyBHZXRZb0RpZ2l0cywgdHJhbnNpdGlvbmVuZCB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnV0aWxzJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLmJveCc7XG5pbXBvcnQgeyBQbHVnaW4gfSBmcm9tICcuL2ZvdW5kYXRpb24uY29yZS5wbHVnaW4nO1xuXG4vKipcbiAqIERyaWxsZG93biBtb2R1bGUuXG4gKiBAbW9kdWxlIGZvdW5kYXRpb24uZHJpbGxkb3duXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmtleWJvYXJkXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm5lc3RcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwuYm94XG4gKi9cblxuY2xhc3MgRHJpbGxkb3duIGV4dGVuZHMgUGx1Z2luIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgYSBkcmlsbGRvd24gbWVudS5cbiAgICogQGNsYXNzXG4gICAqIEBuYW1lIERyaWxsZG93blxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gbWFrZSBpbnRvIGFuIGFjY29yZGlvbiBtZW51LlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlcyB0byB0aGUgZGVmYXVsdCBwbHVnaW4gc2V0dGluZ3MuXG4gICAqL1xuICBfc2V0dXAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBEcmlsbGRvd24uZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcbiAgICB0aGlzLmNsYXNzTmFtZSA9ICdEcmlsbGRvd24nOyAvLyBpZTkgYmFjayBjb21wYXRcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICAgIEtleWJvYXJkLnJlZ2lzdGVyKCdEcmlsbGRvd24nLCB7XG4gICAgICAnRU5URVInOiAnb3BlbicsXG4gICAgICAnU1BBQ0UnOiAnb3BlbicsXG4gICAgICAnQVJST1dfUklHSFQnOiAnbmV4dCcsXG4gICAgICAnQVJST1dfVVAnOiAndXAnLFxuICAgICAgJ0FSUk9XX0RPV04nOiAnZG93bicsXG4gICAgICAnQVJST1dfTEVGVCc6ICdwcmV2aW91cycsXG4gICAgICAnRVNDQVBFJzogJ2Nsb3NlJyxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgZHJpbGxkb3duIGJ5IGNyZWF0aW5nIGpRdWVyeSBjb2xsZWN0aW9ucyBvZiBlbGVtZW50c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgTmVzdC5GZWF0aGVyKHRoaXMuJGVsZW1lbnQsICdkcmlsbGRvd24nKTtcblxuICAgIGlmKHRoaXMub3B0aW9ucy5hdXRvQXBwbHlDbGFzcykge1xuICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcygnZHJpbGxkb3duJyk7XG4gICAgfVxuXG4gICAgdGhpcy4kZWxlbWVudC5hdHRyKHtcbiAgICAgICdhcmlhLW11bHRpc2VsZWN0YWJsZSc6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy4kc3VibWVudUFuY2hvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2xpLmlzLWRyaWxsZG93bi1zdWJtZW51LXBhcmVudCcpLmNoaWxkcmVuKCdhJyk7XG4gICAgdGhpcy4kc3VibWVudXMgPSB0aGlzLiRzdWJtZW51QW5jaG9ycy5wYXJlbnQoJ2xpJykuY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdJykuYXR0cigncm9sZScsICdncm91cCcpO1xuICAgIHRoaXMuJG1lbnVJdGVtcyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnbGknKS5ub3QoJy5qcy1kcmlsbGRvd24tYmFjaycpLmZpbmQoJ2EnKTtcblxuICAgIC8vIFNldCB0aGUgbWFpbiBtZW51IGFzIGN1cnJlbnQgYnkgZGVmYXVsdCAodW5sZXNzIGEgc3VibWVudSBpcyBzZWxlY3RlZClcbiAgICAvLyBVc2VkIHRvIHNldCB0aGUgd3JhcHBlciBoZWlnaHQgd2hlbiB0aGUgZHJpbGxkb3duIGlzIGNsb3NlZC9yZW9wZW5lZCBmcm9tIGFueSAoc3ViKW1lbnVcbiAgICB0aGlzLiRjdXJyZW50TWVudSA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2RhdGEtbXV0YXRlJywgKHRoaXMuJGVsZW1lbnQuYXR0cignZGF0YS1kcmlsbGRvd24nKSB8fCBHZXRZb0RpZ2l0cyg2LCAnZHJpbGxkb3duJykpKTtcblxuICAgIHRoaXMuX3ByZXBhcmVNZW51KCk7XG4gICAgdGhpcy5fcmVnaXN0ZXJFdmVudHMoKTtcblxuICAgIHRoaXMuX2tleWJvYXJkRXZlbnRzKCk7XG4gIH1cblxuICAvKipcbiAgICogcHJlcGFyZXMgZHJpbGxkb3duIG1lbnUgYnkgc2V0dGluZyBhdHRyaWJ1dGVzIHRvIGxpbmtzIGFuZCBlbGVtZW50c1xuICAgKiBzZXRzIGEgbWluIGhlaWdodCB0byBwcmV2ZW50IGNvbnRlbnQganVtcGluZ1xuICAgKiB3cmFwcyB0aGUgZWxlbWVudCBpZiBub3QgYWxyZWFkeSB3cmFwcGVkXG4gICAqIEBwcml2YXRlXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgX3ByZXBhcmVNZW51KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgLy8gaWYoIXRoaXMub3B0aW9ucy5ob2xkT3Blbil7XG4gICAgLy8gICB0aGlzLl9tZW51TGlua0V2ZW50cygpO1xuICAgIC8vIH1cbiAgICB0aGlzLiRzdWJtZW51QW5jaG9ycy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgJGxpbmsgPSAkKHRoaXMpO1xuICAgICAgdmFyICRzdWIgPSAkbGluay5wYXJlbnQoKTtcbiAgICAgIGlmKF90aGlzLm9wdGlvbnMucGFyZW50TGluayl7XG4gICAgICAgICRsaW5rLmNsb25lKCkucHJlcGVuZFRvKCRzdWIuY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdJykpLndyYXAoJzxsaSBkYXRhLWlzLXBhcmVudC1saW5rIGNsYXNzPVwiaXMtc3VibWVudS1wYXJlbnQtaXRlbSBpcy1zdWJtZW51LWl0ZW0gaXMtZHJpbGxkb3duLXN1Ym1lbnUtaXRlbVwiIHJvbGU9XCJub25lXCI+PC9saT4nKTtcbiAgICAgIH1cbiAgICAgICRsaW5rLmRhdGEoJ3NhdmVkSHJlZicsICRsaW5rLmF0dHIoJ2hyZWYnKSkucmVtb3ZlQXR0cignaHJlZicpLmF0dHIoJ3RhYmluZGV4JywgMCk7XG4gICAgICAkbGluay5jaGlsZHJlbignW2RhdGEtc3VibWVudV0nKVxuICAgICAgICAgIC5hdHRyKHtcbiAgICAgICAgICAgICdhcmlhLWhpZGRlbic6IHRydWUsXG4gICAgICAgICAgICAndGFiaW5kZXgnOiAwLFxuICAgICAgICAgICAgJ3JvbGUnOiAnZ3JvdXAnXG4gICAgICAgICAgfSk7XG4gICAgICBfdGhpcy5fZXZlbnRzKCRsaW5rKTtcbiAgICB9KTtcbiAgICB0aGlzLiRzdWJtZW51cy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgJG1lbnUgPSAkKHRoaXMpLFxuICAgICAgICAgICRiYWNrID0gJG1lbnUuZmluZCgnLmpzLWRyaWxsZG93bi1iYWNrJyk7XG4gICAgICBpZighJGJhY2subGVuZ3RoKSB7XG4gICAgICAgIHN3aXRjaCAoX3RoaXMub3B0aW9ucy5iYWNrQnV0dG9uUG9zaXRpb24pIHtcbiAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgICAkbWVudS5hcHBlbmQoX3RoaXMub3B0aW9ucy5iYWNrQnV0dG9uKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgICAgICRtZW51LnByZXBlbmQoX3RoaXMub3B0aW9ucy5iYWNrQnV0dG9uKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5zdXBwb3J0ZWQgYmFja0J1dHRvblBvc2l0aW9uIHZhbHVlICdcIiArIF90aGlzLm9wdGlvbnMuYmFja0J1dHRvblBvc2l0aW9uICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBfdGhpcy5fYmFjaygkbWVudSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRzdWJtZW51cy5hZGRDbGFzcygnaW52aXNpYmxlJyk7XG4gICAgaWYoIXRoaXMub3B0aW9ucy5hdXRvSGVpZ2h0KSB7XG4gICAgICB0aGlzLiRzdWJtZW51cy5hZGRDbGFzcygnZHJpbGxkb3duLXN1Ym1lbnUtY292ZXItcHJldmlvdXMnKTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgYSB3cmFwcGVyIG9uIGVsZW1lbnQgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAgICBpZighdGhpcy4kZWxlbWVudC5wYXJlbnQoKS5oYXNDbGFzcygnaXMtZHJpbGxkb3duJykpe1xuICAgICAgdGhpcy4kd3JhcHBlciA9ICQodGhpcy5vcHRpb25zLndyYXBwZXIpLmFkZENsYXNzKCdpcy1kcmlsbGRvd24nKTtcbiAgICAgIGlmKHRoaXMub3B0aW9ucy5hbmltYXRlSGVpZ2h0KSB0aGlzLiR3cmFwcGVyLmFkZENsYXNzKCdhbmltYXRlLWhlaWdodCcpO1xuICAgICAgdGhpcy4kZWxlbWVudC53cmFwKHRoaXMuJHdyYXBwZXIpO1xuICAgIH1cbiAgICAvLyBzZXQgd3JhcHBlclxuICAgIHRoaXMuJHdyYXBwZXIgPSB0aGlzLiRlbGVtZW50LnBhcmVudCgpO1xuICAgIHRoaXMuJHdyYXBwZXIuY3NzKHRoaXMuX2dldE1heERpbXMoKSk7XG4gIH1cblxuICBfcmVzaXplKCkge1xuICAgIHRoaXMuJHdyYXBwZXIuY3NzKHsnbWF4LXdpZHRoJzogJ25vbmUnLCAnbWluLWhlaWdodCc6ICdub25lJ30pO1xuICAgIC8vIF9nZXRNYXhEaW1zIGhhcyBzaWRlIGVmZmVjdHMgKGJvbykgYnV0IGNhbGxpbmcgaXQgc2hvdWxkIHVwZGF0ZSBhbGwgb3RoZXIgbmVjZXNzYXJ5IGhlaWdodHMgJiB3aWR0aHNcbiAgICB0aGlzLiR3cmFwcGVyLmNzcyh0aGlzLl9nZXRNYXhEaW1zKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgZXZlbnQgaGFuZGxlcnMgdG8gZWxlbWVudHMgaW4gdGhlIG1lbnUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGVsZW0gLSB0aGUgY3VycmVudCBtZW51IGl0ZW0gdG8gYWRkIGhhbmRsZXJzIHRvLlxuICAgKi9cbiAgX2V2ZW50cygkZWxlbSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAkZWxlbS5vZmYoJ2NsaWNrLnpmLmRyaWxsZG93bicpXG4gICAgLm9uKCdjbGljay56Zi5kcmlsbGRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZigkKGUudGFyZ2V0KS5wYXJlbnRzVW50aWwoJ3VsJywgJ2xpJykuaGFzQ2xhc3MoJ2lzLWRyaWxsZG93bi1zdWJtZW51LXBhcmVudCcpKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBpZihlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0LmZpcnN0RWxlbWVudENoaWxkKXtcbiAgICAgIC8vICAgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gfVxuICAgICAgX3RoaXMuX3Nob3coJGVsZW0ucGFyZW50KCdsaScpKTtcblxuICAgICAgaWYoX3RoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2spe1xuICAgICAgICB2YXIgJGJvZHkgPSAkKCdib2R5Jyk7XG4gICAgICAgICRib2R5Lm9mZignLnpmLmRyaWxsZG93bicpLm9uKCdjbGljay56Zi5kcmlsbGRvd24nLCBmdW5jdGlvbihldikge1xuICAgICAgICAgIGlmIChldi50YXJnZXQgPT09IF90aGlzLiRlbGVtZW50WzBdIHx8ICQuY29udGFpbnMoX3RoaXMuJGVsZW1lbnRbMF0sIGV2LnRhcmdldCkpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfdGhpcy5faGlkZUFsbCgpO1xuICAgICAgICAgICRib2R5Lm9mZignLnpmLmRyaWxsZG93bicpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50IGhhbmRsZXJzIHRvIHRoZSBtZW51IGVsZW1lbnQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlZ2lzdGVyRXZlbnRzKCkge1xuICAgIGlmKHRoaXMub3B0aW9ucy5zY3JvbGxUb3Ape1xuICAgICAgdGhpcy5fYmluZEhhbmRsZXIgPSB0aGlzLl9zY3JvbGxUb3AuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ29wZW4uemYuZHJpbGxkb3duIGhpZGUuemYuZHJpbGxkb3duIGNsb3NlLnpmLmRyaWxsZG93biBjbG9zZWQuemYuZHJpbGxkb3duJyx0aGlzLl9iaW5kSGFuZGxlcik7XG4gICAgfVxuICAgIHRoaXMuJGVsZW1lbnQub24oJ211dGF0ZW1lLnpmLnRyaWdnZXInLCB0aGlzLl9yZXNpemUuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xsIHRvIFRvcCBvZiBFbGVtZW50IG9yIGRhdGEtc2Nyb2xsLXRvcC1lbGVtZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAZmlyZXMgRHJpbGxkb3duI3Njcm9sbG1lXG4gICAqL1xuICBfc2Nyb2xsVG9wKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyICRzY3JvbGxUb3BFbGVtZW50ID0gX3RoaXMub3B0aW9ucy5zY3JvbGxUb3BFbGVtZW50ICE9PSAnJz8kKF90aGlzLm9wdGlvbnMuc2Nyb2xsVG9wRWxlbWVudCk6X3RoaXMuJGVsZW1lbnQsXG4gICAgICAgIHNjcm9sbFBvcyA9IHBhcnNlSW50KCRzY3JvbGxUb3BFbGVtZW50Lm9mZnNldCgpLnRvcCtfdGhpcy5vcHRpb25zLnNjcm9sbFRvcE9mZnNldCwgMTApO1xuICAgICQoJ2h0bWwsIGJvZHknKS5zdG9wKHRydWUpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IHNjcm9sbFBvcyB9LCBfdGhpcy5vcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uLCBfdGhpcy5vcHRpb25zLmFuaW1hdGlvbkVhc2luZyxmdW5jdGlvbigpe1xuICAgICAgLyoqXG4gICAgICAgICogRmlyZXMgYWZ0ZXIgdGhlIG1lbnUgaGFzIHNjcm9sbGVkXG4gICAgICAgICogQGV2ZW50IERyaWxsZG93biNzY3JvbGxtZVxuICAgICAgICAqL1xuICAgICAgaWYodGhpcz09PSQoJ2h0bWwnKVswXSlfdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdzY3JvbGxtZS56Zi5kcmlsbGRvd24nKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGtleWRvd24gZXZlbnQgbGlzdGVuZXIgdG8gYGxpYCdzIGluIHRoZSBtZW51LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2tleWJvYXJkRXZlbnRzKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLiRtZW51SXRlbXMuYWRkKHRoaXMuJGVsZW1lbnQuZmluZCgnLmpzLWRyaWxsZG93bi1iYWNrID4gYSwgLmlzLXN1Ym1lbnUtcGFyZW50LWl0ZW0gPiBhJykpLm9uKCdrZXlkb3duLnpmLmRyaWxsZG93bicsIGZ1bmN0aW9uKGUpe1xuICAgICAgdmFyICRlbGVtZW50ID0gJCh0aGlzKSxcbiAgICAgICAgICAkZWxlbWVudHMgPSAkZWxlbWVudC5wYXJlbnQoJ2xpJykucGFyZW50KCd1bCcpLmNoaWxkcmVuKCdsaScpLmNoaWxkcmVuKCdhJyksXG4gICAgICAgICAgJHByZXZFbGVtZW50LFxuICAgICAgICAgICRuZXh0RWxlbWVudDtcblxuICAgICAgJGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICBpZiAoJCh0aGlzKS5pcygkZWxlbWVudCkpIHtcbiAgICAgICAgICAkcHJldkVsZW1lbnQgPSAkZWxlbWVudHMuZXEoTWF0aC5tYXgoMCwgaS0xKSk7XG4gICAgICAgICAgJG5leHRFbGVtZW50ID0gJGVsZW1lbnRzLmVxKE1hdGgubWluKGkrMSwgJGVsZW1lbnRzLmxlbmd0aC0xKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgS2V5Ym9hcmQuaGFuZGxlS2V5KGUsICdEcmlsbGRvd24nLCB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICgkZWxlbWVudC5pcyhfdGhpcy4kc3VibWVudUFuY2hvcnMpKSB7XG4gICAgICAgICAgICBfdGhpcy5fc2hvdygkZWxlbWVudC5wYXJlbnQoJ2xpJykpO1xuICAgICAgICAgICAgJGVsZW1lbnQucGFyZW50KCdsaScpLm9uZSh0cmFuc2l0aW9uZW5kKCRlbGVtZW50KSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgJGVsZW1lbnQucGFyZW50KCdsaScpLmZpbmQoJ3VsIGxpIGEnKS5ub3QoJy5qcy1kcmlsbGRvd24tYmFjayBhJykuZmlyc3QoKS5mb2N1cygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHByZXZpb3VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBfdGhpcy5faGlkZSgkZWxlbWVudC5wYXJlbnQoJ2xpJykucGFyZW50KCd1bCcpKTtcbiAgICAgICAgICAkZWxlbWVudC5wYXJlbnQoJ2xpJykucGFyZW50KCd1bCcpLm9uZSh0cmFuc2l0aW9uZW5kKCRlbGVtZW50KSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICRlbGVtZW50LnBhcmVudCgnbGknKS5wYXJlbnQoJ3VsJykucGFyZW50KCdsaScpLmNoaWxkcmVuKCdhJykuZmlyc3QoKS5mb2N1cygpO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkcHJldkVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAvLyBEb24ndCB0YXAgZm9jdXMgb24gZmlyc3QgZWxlbWVudCBpbiByb290IHVsXG4gICAgICAgICAgcmV0dXJuICEkZWxlbWVudC5pcyhfdGhpcy4kZWxlbWVudC5maW5kKCc+IGxpOmZpcnN0LWNoaWxkID4gYScpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZG93bjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJG5leHRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgLy8gRG9uJ3QgdGFwIGZvY3VzIG9uIGxhc3QgZWxlbWVudCBpbiByb290IHVsXG4gICAgICAgICAgcmV0dXJuICEkZWxlbWVudC5pcyhfdGhpcy4kZWxlbWVudC5maW5kKCc+IGxpOmxhc3QtY2hpbGQgPiBhJykpO1xuICAgICAgICB9LFxuICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gRG9uJ3QgY2xvc2Ugb24gZWxlbWVudCBpbiByb290IHVsXG4gICAgICAgICAgaWYgKCEkZWxlbWVudC5pcyhfdGhpcy4kZWxlbWVudC5maW5kKCc+IGxpID4gYScpKSkge1xuICAgICAgICAgICAgX3RoaXMuX2hpZGUoJGVsZW1lbnQucGFyZW50KCkucGFyZW50KCkpO1xuICAgICAgICAgICAgJGVsZW1lbnQucGFyZW50KCkucGFyZW50KCkuc2libGluZ3MoJ2EnKS5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMucGFyZW50TGluayAmJiAkZWxlbWVudC5hdHRyKCdocmVmJykpIHsgLy8gTGluayB3aXRoIGhyZWZcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCEkZWxlbWVudC5pcyhfdGhpcy4kbWVudUl0ZW1zKSkgeyAvLyBub3QgbWVudSBpdGVtIG1lYW5zIGJhY2sgYnV0dG9uXG4gICAgICAgICAgICBfdGhpcy5faGlkZSgkZWxlbWVudC5wYXJlbnQoJ2xpJykucGFyZW50KCd1bCcpKTtcbiAgICAgICAgICAgICRlbGVtZW50LnBhcmVudCgnbGknKS5wYXJlbnQoJ3VsJykub25lKHRyYW5zaXRpb25lbmQoJGVsZW1lbnQpLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRlbGVtZW50LnBhcmVudCgnbGknKS5wYXJlbnQoJ3VsJykucGFyZW50KCdsaScpLmNoaWxkcmVuKCdhJykuZmlyc3QoKS5mb2N1cygpO1xuICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmICgkZWxlbWVudC5pcyhfdGhpcy4kc3VibWVudUFuY2hvcnMpKSB7IC8vIFN1YiBtZW51IGl0ZW1cbiAgICAgICAgICAgIF90aGlzLl9zaG93KCRlbGVtZW50LnBhcmVudCgnbGknKSk7XG4gICAgICAgICAgICAkZWxlbWVudC5wYXJlbnQoJ2xpJykub25lKHRyYW5zaXRpb25lbmQoJGVsZW1lbnQpLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAkZWxlbWVudC5wYXJlbnQoJ2xpJykuZmluZCgndWwgbGkgYScpLm5vdCgnLmpzLWRyaWxsZG93bi1iYWNrIGEnKS5maXJzdCgpLmZvY3VzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlZDogZnVuY3Rpb24ocHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICBpZiAocHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pOyAvLyBlbmQga2V5Ym9hcmRBY2Nlc3NcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgYWxsIG9wZW4gZWxlbWVudHMsIGFuZCByZXR1cm5zIHRvIHJvb3QgbWVudS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBmaXJlcyBEcmlsbGRvd24jY2xvc2VcbiAgICogQGZpcmVzIERyaWxsZG93biNjbG9zZWRcbiAgICovXG4gIF9oaWRlQWxsKCkge1xuICAgIHZhciAkZWxlbSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmlzLWRyaWxsZG93bi1zdWJtZW51LmlzLWFjdGl2ZScpXG4gICAgJGVsZW0uYWRkQ2xhc3MoJ2lzLWNsb3NpbmcnKTtcbiAgICAkZWxlbS5wYXJlbnQoKS5jbG9zZXN0KCd1bCcpLnJlbW92ZUNsYXNzKCdpbnZpc2libGUnKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0hlaWdodCkge1xuICAgICAgY29uc3QgY2FsY0hlaWdodCA9ICRlbGVtLnBhcmVudCgpLmNsb3Nlc3QoJ3VsJykuZGF0YSgnY2FsY0hlaWdodCcpO1xuICAgICAgdGhpcy4kd3JhcHBlci5jc3MoeyBoZWlnaHQ6IGNhbGNIZWlnaHQgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgbWVudSBpcyBjbG9zaW5nLlxuICAgICAqIEBldmVudCBEcmlsbGRvd24jY2xvc2VcbiAgICAgKi9cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2Nsb3NlLnpmLmRyaWxsZG93bicpO1xuXG4gICAgJGVsZW0ub25lKHRyYW5zaXRpb25lbmQoJGVsZW0pLCAoKSA9PiB7XG4gICAgICAkZWxlbS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlIGlzLWNsb3NpbmcnKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBGaXJlcyB3aGVuIHRoZSBtZW51IGlzIGZ1bGx5IGNsb3NlZC5cbiAgICAgICAqIEBldmVudCBEcmlsbGRvd24jY2xvc2VkXG4gICAgICAgKi9cbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignY2xvc2VkLnpmLmRyaWxsZG93bicpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgZXZlbnQgbGlzdGVuZXIgZm9yIGVhY2ggYGJhY2tgIGJ1dHRvbiwgYW5kIGNsb3NlcyBvcGVuIG1lbnVzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQGZpcmVzIERyaWxsZG93biNiYWNrXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbSAtIHRoZSBjdXJyZW50IHN1Yi1tZW51IHRvIGFkZCBgYmFja2AgZXZlbnQuXG4gICAqL1xuICBfYmFjaygkZWxlbSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgJGVsZW0ub2ZmKCdjbGljay56Zi5kcmlsbGRvd24nKTtcbiAgICAkZWxlbS5jaGlsZHJlbignLmpzLWRyaWxsZG93bi1iYWNrJylcbiAgICAgIC5vbignY2xpY2suemYuZHJpbGxkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLl9oaWRlKCRlbGVtKTtcblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHBhcmVudCBzdWJtZW51LCBjYWxsIHNob3dcbiAgICAgICAgbGV0IHBhcmVudFN1Yk1lbnUgPSAkZWxlbS5wYXJlbnQoJ2xpJykucGFyZW50KCd1bCcpLnBhcmVudCgnbGknKTtcbiAgICAgICAgaWYgKHBhcmVudFN1Yk1lbnUubGVuZ3RoKSB7XG4gICAgICAgICAgX3RoaXMuX3Nob3cocGFyZW50U3ViTWVudSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgX3RoaXMuJGN1cnJlbnRNZW51ID0gX3RoaXMuJGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgZXZlbnQgbGlzdGVuZXIgdG8gbWVudSBpdGVtcyB3L28gc3VibWVudXMgdG8gY2xvc2Ugb3BlbiBtZW51cyBvbiBjbGljay5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfbWVudUxpbmtFdmVudHMoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB0aGlzLiRtZW51SXRlbXMubm90KCcuaXMtZHJpbGxkb3duLXN1Ym1lbnUtcGFyZW50JylcbiAgICAgICAgLm9mZignY2xpY2suemYuZHJpbGxkb3duJylcbiAgICAgICAgLm9uKCdjbGljay56Zi5kcmlsbGRvd24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3RoaXMuX2hpZGVBbGwoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIENTUyBjbGFzc2VzIGZvciBzdWJtZW51IHRvIHNob3cgaXQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGVsZW0gLSB0aGUgdGFyZ2V0IHN1Ym1lbnUgKGB1bGAgdGFnKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyaWdnZXIgLSB0cmlnZ2VyIGRyaWxsZG93biBldmVudFxuICAgKi9cbiAgX3NldFNob3dTdWJNZW51Q2xhc3NlcygkZWxlbSwgdHJpZ2dlcikge1xuICAgICRlbGVtLmFkZENsYXNzKCdpcy1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaW52aXNpYmxlJykuYXR0cignYXJpYS1oaWRkZW4nLCBmYWxzZSk7XG4gICAgJGVsZW0ucGFyZW50KCdsaScpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcbiAgICBpZiAodHJpZ2dlciA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdvcGVuLnpmLmRyaWxsZG93bicsIFskZWxlbV0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBDU1MgY2xhc3NlcyBmb3Igc3VibWVudSB0byBoaWRlIGl0LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtqUXVlcnl9ICRlbGVtIC0gdGhlIHRhcmdldCBzdWJtZW51IChgdWxgIHRhZylcbiAgICogQHBhcmFtIHtib29sZWFufSB0cmlnZ2VyIC0gdHJpZ2dlciBkcmlsbGRvd24gZXZlbnRcbiAgICovXG4gIF9zZXRIaWRlU3ViTWVudUNsYXNzZXMoJGVsZW0sIHRyaWdnZXIpIHtcbiAgICAkZWxlbS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJykuYWRkQ2xhc3MoJ2ludmlzaWJsZScpLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG4gICAgJGVsZW0ucGFyZW50KCdsaScpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgaWYgKHRyaWdnZXIgPT09IHRydWUpIHtcbiAgICAgICRlbGVtLnRyaWdnZXIoJ2hpZGUuemYuZHJpbGxkb3duJywgWyRlbGVtXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIGEgc3BlY2lmaWMgZHJpbGxkb3duIChzdWIpbWVudSBubyBtYXR0ZXIgd2hpY2ggKHN1YiltZW51IGluIGl0IGlzIGN1cnJlbnRseSB2aXNpYmxlLlxuICAgKiBDb21wYXJlZCB0byBfc2hvdygpIHRoaXMgbGV0cyB5b3UganVtcCBpbnRvIGFueSBzdWJtZW51IHdpdGhvdXQgY2xpY2tpbmcgdGhyb3VnaCBldmVyeSBzdWJtZW51IG9uIHRoZSB3YXkgdG8gaXQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAZmlyZXMgRHJpbGxkb3duI29wZW5cbiAgICogQHBhcmFtIHtqUXVlcnl9ICRlbGVtIC0gdGhlIHRhcmdldCAoc3ViKW1lbnUgKGB1bGAgdGFnKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF1dG9Gb2N1cyAtIGlmIHRydWUgdGhlIGZpcnN0IGxpbmsgaW4gdGhlIHRhcmdldCAoc3ViKW1lbnUgZ2V0cyBhdXRvIGZvY3VzZWRcbiAgICovXG4gIF9zaG93TWVudSgkZWxlbSwgYXV0b0ZvY3VzKSB7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy8gUmVzZXQgZHJpbGxkb3duXG4gICAgdmFyICRleHBhbmRlZFN1Ym1lbnVzID0gdGhpcy4kZWxlbWVudC5maW5kKCdsaVthcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXSA+IHVsW2RhdGEtc3VibWVudV0nKTtcbiAgICAkZXhwYW5kZWRTdWJtZW51cy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgX3RoaXMuX3NldEhpZGVTdWJNZW51Q2xhc3NlcygkKHRoaXMpKTtcbiAgICB9KTtcblxuICAgIC8vIFNhdmUgdGhlIG1lbnUgYXMgdGhlIGN1cnJlbnRseSBkaXNwbGF5ZWQgb25lLlxuICAgIHRoaXMuJGN1cnJlbnRNZW51ID0gJGVsZW07XG5cbiAgICAvLyBJZiB0YXJnZXQgbWVudSBpcyByb290LCBmb2N1cyBmaXJzdCBsaW5rICYgZXhpdFxuICAgIGlmICgkZWxlbS5pcygnW2RhdGEtZHJpbGxkb3duXScpKSB7XG4gICAgICBpZiAoYXV0b0ZvY3VzID09PSB0cnVlKSAkZWxlbS5maW5kKCdsaSA+IGEnKS5maXJzdCgpLmZvY3VzKCk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9IZWlnaHQpIHRoaXMuJHdyYXBwZXIuY3NzKCdoZWlnaHQnLCAkZWxlbS5kYXRhKCdjYWxjSGVpZ2h0JykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpbmQgYWxsIHN1Ym1lbnVzIG9uIHdheSB0byByb290IGluY2wuIHRoZSBlbGVtZW50IGl0c2VsZlxuICAgIHZhciAkc3VibWVudXMgPSAkZWxlbS5jaGlsZHJlbigpLmZpcnN0KCkucGFyZW50c1VudGlsKCdbZGF0YS1kcmlsbGRvd25dJywgJ1tkYXRhLXN1Ym1lbnVdJyk7XG5cbiAgICAvLyBPcGVuIHRhcmdldCBtZW51IGFuZCBhbGwgc3VibWVudXMgb24gaXRzIHdheSB0byByb290XG4gICAgJHN1Ym1lbnVzLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcblxuICAgICAgLy8gVXBkYXRlIGhlaWdodCBvZiBmaXJzdCBjaGlsZCAodGFyZ2V0IG1lbnUpIGlmIGF1dG9IZWlnaHQgb3B0aW9uIHRydWVcbiAgICAgIGlmIChpbmRleCA9PT0gMCAmJiBfdGhpcy5vcHRpb25zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgX3RoaXMuJHdyYXBwZXIuY3NzKCdoZWlnaHQnLCAkKHRoaXMpLmRhdGEoJ2NhbGNIZWlnaHQnKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0xhc3RDaGlsZCA9IGluZGV4ID09PSAkc3VibWVudXMubGVuZ3RoIC0gMTtcblxuICAgICAgLy8gQWRkIHRyYW5zaXRpb25zZW5kIGxpc3RlbmVyIHRvIGxhc3QgY2hpbGQgKHJvb3QgZHVlIHRvIHJldmVyc2Ugb3JkZXIpIHRvIG9wZW4gdGFyZ2V0IG1lbnUncyBmaXJzdCBsaW5rXG4gICAgICAvLyBMYXN0IGNoaWxkIG1ha2VzIHN1cmUgdGhlIGV2ZW50IGdldHMgYWx3YXlzIHRyaWdnZXJlZCBldmVuIGlmIGdvaW5nIHRocm91Z2ggc2V2ZXJhbCBtZW51c1xuICAgICAgaWYgKGlzTGFzdENoaWxkID09PSB0cnVlKSB7XG4gICAgICAgICQodGhpcykub25lKHRyYW5zaXRpb25lbmQoJCh0aGlzKSksICgpID0+IHtcbiAgICAgICAgICBpZiAoYXV0b0ZvY3VzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAkZWxlbS5maW5kKCdsaSA+IGEnKS5maXJzdCgpLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX3NldFNob3dTdWJNZW51Q2xhc3NlcygkKHRoaXMpLCBpc0xhc3RDaGlsZCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgYSBzdWJtZW51LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQGZpcmVzIERyaWxsZG93biNvcGVuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbSAtIHRoZSBjdXJyZW50IGVsZW1lbnQgd2l0aCBhIHN1Ym1lbnUgdG8gb3BlbiwgaS5lLiB0aGUgYGxpYCB0YWcuXG4gICAqL1xuICBfc2hvdygkZWxlbSkge1xuICAgIGNvbnN0ICRzdWJtZW51ID0gJGVsZW0uY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdJyk7XG5cbiAgICAkZWxlbS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG5cbiAgICB0aGlzLiRjdXJyZW50TWVudSA9ICRzdWJtZW51O1xuXG4gICAgLy9oaWRlIGRyaWxsZG93biBwYXJlbnQgbWVudSB3aGVuIHN1Ym1lbnUgaXMgb3BlblxuICAgIC8vIHRoaXMgcmVtb3ZlcyBpdCBmcm9tIHRoZSBkb20gc28gdGhhdCB0aGUgdGFiIGtleSB3aWxsIHRha2UgdGhlIHVzZXIgdG8gdGhlIG5leHQgdmlzaWJsZSBlbGVtZW50XG4gICAgJGVsZW0ucGFyZW50KCkuY2xvc2VzdCgndWwnKS5hZGRDbGFzcygnaW52aXNpYmxlJyk7XG5cbiAgICAvLyBhZGQgdmlzaWJsZSBjbGFzcyB0byBzdWJtZW51IHRvIG92ZXJyaWRlIGludmlzaWJsZSBjbGFzcyBhYm92ZVxuICAgICRzdWJtZW51LmFkZENsYXNzKCdpcy1hY3RpdmUgdmlzaWJsZScpLnJlbW92ZUNsYXNzKCdpbnZpc2libGUnKS5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0hlaWdodCkge1xuICAgICAgdGhpcy4kd3JhcHBlci5jc3MoeyBoZWlnaHQ6ICRzdWJtZW51LmRhdGEoJ2NhbGNIZWlnaHQnKSB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIHRoZSBzdWJtZW51IGhhcyBvcGVuZWQuXG4gICAgICogQGV2ZW50IERyaWxsZG93biNvcGVuXG4gICAgICovXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdvcGVuLnpmLmRyaWxsZG93bicsIFskZWxlbV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGVzIGEgc3VibWVudVxuICAgKiBAZnVuY3Rpb25cbiAgICogQGZpcmVzIERyaWxsZG93biNoaWRlXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbSAtIHRoZSBjdXJyZW50IHN1Yi1tZW51IHRvIGhpZGUsIGkuZS4gdGhlIGB1bGAgdGFnLlxuICAgKi9cbiAgX2hpZGUoJGVsZW0pIHtcbiAgICBpZih0aGlzLm9wdGlvbnMuYXV0b0hlaWdodCkgdGhpcy4kd3JhcHBlci5jc3Moe2hlaWdodDokZWxlbS5wYXJlbnQoKS5jbG9zZXN0KCd1bCcpLmRhdGEoJ2NhbGNIZWlnaHQnKX0pO1xuICAgICRlbGVtLnBhcmVudCgpLmNsb3Nlc3QoJ3VsJykucmVtb3ZlQ2xhc3MoJ2ludmlzaWJsZScpO1xuICAgICRlbGVtLnBhcmVudCgnbGknKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuICAgICRlbGVtLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG4gICAgJGVsZW0uYWRkQ2xhc3MoJ2lzLWNsb3NpbmcnKVxuICAgICAgICAgLm9uZSh0cmFuc2l0aW9uZW5kKCRlbGVtKSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgJGVsZW0ucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZSBpcy1jbG9zaW5nIHZpc2libGUnKTtcbiAgICAgICAgICAgJGVsZW0uYmx1cigpLmFkZENsYXNzKCdpbnZpc2libGUnKTtcbiAgICAgICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEZpcmVzIHdoZW4gdGhlIHN1Ym1lbnUgaGFzIGNsb3NlZC5cbiAgICAgKiBAZXZlbnQgRHJpbGxkb3duI2hpZGVcbiAgICAgKi9cbiAgICAkZWxlbS50cmlnZ2VyKCdoaWRlLnpmLmRyaWxsZG93bicsIFskZWxlbV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIHRocm91Z2ggdGhlIG5lc3RlZCBtZW51cyB0byBjYWxjdWxhdGUgdGhlIG1pbi1oZWlnaHQsIGFuZCBtYXgtd2lkdGggZm9yIHRoZSBtZW51LlxuICAgKiBQcmV2ZW50cyBjb250ZW50IGp1bXBpbmcuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldE1heERpbXMoKSB7XG4gICAgdmFyIG1heEhlaWdodCA9IDAsIHJlc3VsdCA9IHt9LCBfdGhpcyA9IHRoaXM7XG5cbiAgICAvLyBSZWNhbGN1bGF0ZSBtZW51IGhlaWdodHMgYW5kIHRvdGFsIG1heCBoZWlnaHRcbiAgICB0aGlzLiRzdWJtZW51cy5hZGQodGhpcy4kZWxlbWVudCkuZWFjaChmdW5jdGlvbigpe1xuICAgICAgdmFyIGhlaWdodCA9IEJveC5HZXREaW1lbnNpb25zKHRoaXMpLmhlaWdodDtcblxuICAgICAgbWF4SGVpZ2h0ID0gaGVpZ2h0ID4gbWF4SGVpZ2h0ID8gaGVpZ2h0IDogbWF4SGVpZ2h0O1xuXG4gICAgICBpZihfdGhpcy5vcHRpb25zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgJCh0aGlzKS5kYXRhKCdjYWxjSGVpZ2h0JyxoZWlnaHQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvSGVpZ2h0KVxuICAgICAgcmVzdWx0LmhlaWdodCA9IHRoaXMuJGN1cnJlbnRNZW51LmRhdGEoJ2NhbGNIZWlnaHQnKTtcbiAgICBlbHNlXG4gICAgICByZXN1bHRbJ21pbi1oZWlnaHQnXSA9IGAke21heEhlaWdodH1weGA7XG5cbiAgICByZXN1bHRbJ21heC13aWR0aCddID0gYCR7dGhpcy4kZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aH1weGA7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSBEcmlsbGRvd24gTWVudVxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIF9kZXN0cm95KCkge1xuICAgICQoJ2JvZHknKS5vZmYoJy56Zi5kcmlsbGRvd24nKTtcbiAgICBpZih0aGlzLm9wdGlvbnMuc2Nyb2xsVG9wKSB0aGlzLiRlbGVtZW50Lm9mZignLnpmLmRyaWxsZG93bicsdGhpcy5fYmluZEhhbmRsZXIpO1xuICAgIHRoaXMuX2hpZGVBbGwoKTtcblx0ICB0aGlzLiRlbGVtZW50Lm9mZignbXV0YXRlbWUuemYudHJpZ2dlcicpO1xuICAgIE5lc3QuQnVybih0aGlzLiRlbGVtZW50LCAnZHJpbGxkb3duJyk7XG4gICAgdGhpcy4kZWxlbWVudC51bndyYXAoKVxuICAgICAgICAgICAgICAgICAuZmluZCgnLmpzLWRyaWxsZG93bi1iYWNrLCAuaXMtc3VibWVudS1wYXJlbnQtaXRlbScpLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgIC5lbmQoKS5maW5kKCcuaXMtYWN0aXZlLCAuaXMtY2xvc2luZywgLmlzLWRyaWxsZG93bi1zdWJtZW51JykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZSBpcy1jbG9zaW5nIGlzLWRyaWxsZG93bi1zdWJtZW51Jykub2ZmKCd0cmFuc2l0aW9uZW5kIG90cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQnKVxuICAgICAgICAgICAgICAgICAuZW5kKCkuZmluZCgnW2RhdGEtc3VibWVudV0nKS5yZW1vdmVBdHRyKCdhcmlhLWhpZGRlbiB0YWJpbmRleCByb2xlJyk7XG4gICAgdGhpcy4kc3VibWVudUFuY2hvcnMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICQodGhpcykub2ZmKCcuemYuZHJpbGxkb3duJyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRlbGVtZW50LmZpbmQoJ1tkYXRhLWlzLXBhcmVudC1saW5rXScpLmRldGFjaCgpO1xuICAgIHRoaXMuJHN1Ym1lbnVzLnJlbW92ZUNsYXNzKCdkcmlsbGRvd24tc3VibWVudS1jb3Zlci1wcmV2aW91cyBpbnZpc2libGUnKTtcblxuICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnYScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIHZhciAkbGluayA9ICQodGhpcyk7XG4gICAgICAkbGluay5yZW1vdmVBdHRyKCd0YWJpbmRleCcpO1xuICAgICAgaWYoJGxpbmsuZGF0YSgnc2F2ZWRIcmVmJykpe1xuICAgICAgICAkbGluay5hdHRyKCdocmVmJywgJGxpbmsuZGF0YSgnc2F2ZWRIcmVmJykpLnJlbW92ZURhdGEoJ3NhdmVkSHJlZicpO1xuICAgICAgfWVsc2V7IHJldHVybjsgfVxuICAgIH0pO1xuICB9O1xufVxuXG5EcmlsbGRvd24uZGVmYXVsdHMgPSB7XG4gIC8qKlxuICAgKiBEcmlsbGRvd25zIGRlcGVuZCBvbiBzdHlsZXMgaW4gb3JkZXIgdG8gZnVuY3Rpb24gcHJvcGVybHk7IGluIHRoZSBkZWZhdWx0IGJ1aWxkIG9mIEZvdW5kYXRpb24gdGhlc2UgYXJlXG4gICAqIG9uIHRoZSBgZHJpbGxkb3duYCBjbGFzcy4gVGhpcyBvcHRpb24gYXV0by1hcHBsaWVzIHRoaXMgY2xhc3MgdG8gdGhlIGRyaWxsZG93biB1cG9uIGluaXRpYWxpemF0aW9uLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBhdXRvQXBwbHlDbGFzczogdHJ1ZSxcbiAgLyoqXG4gICAqIE1hcmt1cCB1c2VkIGZvciBKUyBnZW5lcmF0ZWQgYmFjayBidXR0b24uIFByZXBlbmRlZCAgb3IgYXBwZW5kZWQgKHNlZSBiYWNrQnV0dG9uUG9zaXRpb24pIHRvIHN1Ym1lbnUgbGlzdHMgYW5kIGRlbGV0ZWQgb24gYGRlc3Ryb3lgIG1ldGhvZCwgJ2pzLWRyaWxsZG93bi1iYWNrJyBjbGFzcyByZXF1aXJlZC4gUmVtb3ZlIHRoZSBiYWNrc2xhc2ggKGBcXGApIGlmIGNvcHkgYW5kIHBhc3RpbmcuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJzxsaSBjbGFzcz1cImpzLWRyaWxsZG93bi1iYWNrXCI+PGEgdGFiaW5kZXg9XCIwXCI+QmFjazwvYT48L2xpPidcbiAgICovXG4gIGJhY2tCdXR0b246ICc8bGkgY2xhc3M9XCJqcy1kcmlsbGRvd24tYmFja1wiPjxhIHRhYmluZGV4PVwiMFwiPkJhY2s8L2E+PC9saT4nLFxuICAvKipcbiAgICogUG9zaXRpb24gdGhlIGJhY2sgYnV0dG9uIGVpdGhlciBhdCB0aGUgdG9wIG9yIGJvdHRvbSBvZiBkcmlsbGRvd24gc3VibWVudXMuIENhbiBiZSBgJ2xlZnQnYCBvciBgJ2JvdHRvbSdgLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0IHRvcFxuICAgKi9cbiAgYmFja0J1dHRvblBvc2l0aW9uOiAndG9wJyxcbiAgLyoqXG4gICAqIE1hcmt1cCB1c2VkIHRvIHdyYXAgZHJpbGxkb3duIG1lbnUuIFVzZSBhIGNsYXNzIG5hbWUgZm9yIGluZGVwZW5kZW50IHN0eWxpbmc7IHRoZSBKUyBhcHBsaWVkIGNsYXNzOiBgaXMtZHJpbGxkb3duYCBpcyByZXF1aXJlZC4gUmVtb3ZlIHRoZSBiYWNrc2xhc2ggKGBcXGApIGlmIGNvcHkgYW5kIHBhc3RpbmcuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJzxkaXY+PC9kaXY+J1xuICAgKi9cbiAgd3JhcHBlcjogJzxkaXY+PC9kaXY+JyxcbiAgLyoqXG4gICAqIEFkZHMgdGhlIHBhcmVudCBsaW5rIHRvIHRoZSBzdWJtZW51LlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcGFyZW50TGluazogZmFsc2UsXG4gIC8qKlxuICAgKiBBbGxvdyB0aGUgbWVudSB0byByZXR1cm4gdG8gcm9vdCBsaXN0IG9uIGJvZHkgY2xpY2suXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBjbG9zZU9uQ2xpY2s6IGZhbHNlLFxuICAvKipcbiAgICogQWxsb3cgdGhlIG1lbnUgdG8gYXV0byBhZGp1c3QgaGVpZ2h0LlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYXV0b0hlaWdodDogZmFsc2UsXG4gIC8qKlxuICAgKiBBbmltYXRlIHRoZSBhdXRvIGFkanVzdCBoZWlnaHQuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhbmltYXRlSGVpZ2h0OiBmYWxzZSxcbiAgLyoqXG4gICAqIFNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSBtZW51IGFmdGVyIG9wZW5pbmcgYSBzdWJtZW51IG9yIG5hdmlnYXRpbmcgYmFjayB1c2luZyB0aGUgbWVudSBiYWNrIGJ1dHRvblxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgc2Nyb2xsVG9wOiBmYWxzZSxcbiAgLyoqXG4gICAqIFN0cmluZyBqcXVlcnkgc2VsZWN0b3IgKGZvciBleGFtcGxlICdib2R5Jykgb2YgZWxlbWVudCB0byB0YWtlIG9mZnNldCgpLnRvcCBmcm9tLCBpZiBlbXB0eSBzdHJpbmcgdGhlIGRyaWxsZG93biBtZW51IG9mZnNldCgpLnRvcCBpcyB0YWtlblxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0ICcnXG4gICAqL1xuICBzY3JvbGxUb3BFbGVtZW50OiAnJyxcbiAgLyoqXG4gICAqIFNjcm9sbFRvcCBvZmZzZXRcbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBzY3JvbGxUb3BPZmZzZXQ6IDAsXG4gIC8qKlxuICAgKiBTY3JvbGwgYW5pbWF0aW9uIGR1cmF0aW9uXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgNTAwXG4gICAqL1xuICBhbmltYXRpb25EdXJhdGlvbjogNTAwLFxuICAvKipcbiAgICogU2Nyb2xsIGFuaW1hdGlvbiBlYXNpbmcuIENhbiBiZSBgJ3N3aW5nJ2Agb3IgYCdsaW5lYXInYC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2FwaS5qcXVlcnkuY29tL2FuaW1hdGV8SlF1ZXJ5IGFuaW1hdGV9XG4gICAqIEBkZWZhdWx0ICdzd2luZydcbiAgICovXG4gIGFuaW1hdGlvbkVhc2luZzogJ3N3aW5nJ1xuICAvLyBob2xkT3BlbjogZmFsc2Vcbn07XG5cbmV4cG9ydCB7RHJpbGxkb3dufTtcbiIsImltcG9ydCB7IEJveCB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLmJveCc7XG5pbXBvcnQgeyBQbHVnaW4gfSBmcm9tICcuL2ZvdW5kYXRpb24uY29yZS5wbHVnaW4nO1xuaW1wb3J0IHsgcnRsIGFzIFJ0bCB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnV0aWxzJztcblxuY29uc3QgUE9TSVRJT05TID0gWydsZWZ0JywgJ3JpZ2h0JywgJ3RvcCcsICdib3R0b20nXTtcbmNvbnN0IFZFUlRJQ0FMX0FMSUdOTUVOVFMgPSBbJ3RvcCcsICdib3R0b20nLCAnY2VudGVyJ107XG5jb25zdCBIT1JJWk9OVEFMX0FMSUdOTUVOVFMgPSBbJ2xlZnQnLCAncmlnaHQnLCAnY2VudGVyJ107XG5cbmNvbnN0IEFMSUdOTUVOVFMgPSB7XG4gICdsZWZ0JzogVkVSVElDQUxfQUxJR05NRU5UUyxcbiAgJ3JpZ2h0JzogVkVSVElDQUxfQUxJR05NRU5UUyxcbiAgJ3RvcCc6IEhPUklaT05UQUxfQUxJR05NRU5UUyxcbiAgJ2JvdHRvbSc6IEhPUklaT05UQUxfQUxJR05NRU5UU1xufVxuXG5mdW5jdGlvbiBuZXh0SXRlbShpdGVtLCBhcnJheSkge1xuICB2YXIgY3VycmVudElkeCA9IGFycmF5LmluZGV4T2YoaXRlbSk7XG4gIGlmKGN1cnJlbnRJZHggPT09IGFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICByZXR1cm4gYXJyYXlbMF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5W2N1cnJlbnRJZHggKyAxXTtcbiAgfVxufVxuXG5cbmNsYXNzIFBvc2l0aW9uYWJsZSBleHRlbmRzIFBsdWdpbiB7XG4gIC8qKlxuICAgKiBBYnN0cmFjdCBjbGFzcyBlbmNhcHN1bGF0aW5nIHRoZSB0ZXRoZXItbGlrZSBleHBsaWNpdCBwb3NpdGlvbmluZyBsb2dpY1xuICAgKiBpbmNsdWRpbmcgcmVwb3NpdGlvbmluZyBiYXNlZCBvbiBvdmVybGFwLlxuICAgKiBFeHBlY3RzIGNsYXNzZXMgdG8gZGVmaW5lIGRlZmF1bHRzIGZvciB2T2Zmc2V0LCBoT2Zmc2V0LCBwb3NpdGlvbixcbiAgICogYWxpZ25tZW50LCBhbGxvd092ZXJsYXAsIGFuZCBhbGxvd0JvdHRvbU92ZXJsYXAuIFRoZXkgY2FuIGRvIHRoaXMgYnlcbiAgICogZXh0ZW5kaW5nIHRoZSBkZWZhdWx0cywgb3IgKGZvciBub3cgcmVjb21tZW5kZWQgZHVlIHRvIHRoZSB3YXkgZG9jcyBhcmVcbiAgICogZ2VuZXJhdGVkKSBieSBleHBsaWNpdGx5IGRlY2xhcmluZyB0aGVtLlxuICAgKlxuICAgKiovXG5cbiAgX2luaXQoKSB7XG4gICAgdGhpcy50cmllZFBvc2l0aW9ucyA9IHt9O1xuICAgIHRoaXMucG9zaXRpb24gID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uID09PSAnYXV0bycgPyB0aGlzLl9nZXREZWZhdWx0UG9zaXRpb24oKSA6IHRoaXMub3B0aW9ucy5wb3NpdGlvbjtcbiAgICB0aGlzLmFsaWdubWVudCA9IHRoaXMub3B0aW9ucy5hbGlnbm1lbnQgPT09ICdhdXRvJyA/IHRoaXMuX2dldERlZmF1bHRBbGlnbm1lbnQoKSA6IHRoaXMub3B0aW9ucy5hbGlnbm1lbnQ7XG4gICAgdGhpcy5vcmlnaW5hbFBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcbiAgICB0aGlzLm9yaWdpbmFsQWxpZ25tZW50ID0gdGhpcy5hbGlnbm1lbnQ7XG4gIH1cblxuICBfZ2V0RGVmYXVsdFBvc2l0aW9uICgpIHtcbiAgICByZXR1cm4gJ2JvdHRvbSc7XG4gIH1cblxuICBfZ2V0RGVmYXVsdEFsaWdubWVudCgpIHtcbiAgICBzd2l0Y2godGhpcy5wb3NpdGlvbikge1xuICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgIHJldHVybiBSdGwoKSA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICBjYXNlICdsZWZ0JzpcbiAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgcmV0dXJuICdib3R0b20nO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGp1c3RzIHRoZSBwb3NpdGlvbmFibGUgcG9zc2libGUgcG9zaXRpb25zIGJ5IGl0ZXJhdGluZyB0aHJvdWdoIGFsaWdubWVudHNcbiAgICogYW5kIHBvc2l0aW9ucy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVwb3NpdGlvbigpIHtcbiAgICBpZih0aGlzLl9hbGlnbm1lbnRzRXhoYXVzdGVkKHRoaXMucG9zaXRpb24pKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uID0gbmV4dEl0ZW0odGhpcy5wb3NpdGlvbiwgUE9TSVRJT05TKTtcbiAgICAgIHRoaXMuYWxpZ25tZW50ID0gQUxJR05NRU5UU1t0aGlzLnBvc2l0aW9uXVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVhbGlnbigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGp1c3RzIHRoZSBkcm9wZG93biBwYW5lIHBvc3NpYmxlIHBvc2l0aW9ucyBieSBpdGVyYXRpbmcgdGhyb3VnaCBhbGlnbm1lbnRzXG4gICAqIG9uIHRoZSBjdXJyZW50IHBvc2l0aW9uLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZWFsaWduKCkge1xuICAgIHRoaXMuX2FkZFRyaWVkUG9zaXRpb24odGhpcy5wb3NpdGlvbiwgdGhpcy5hbGlnbm1lbnQpXG4gICAgdGhpcy5hbGlnbm1lbnQgPSBuZXh0SXRlbSh0aGlzLmFsaWdubWVudCwgQUxJR05NRU5UU1t0aGlzLnBvc2l0aW9uXSlcbiAgfVxuXG4gIF9hZGRUcmllZFBvc2l0aW9uKHBvc2l0aW9uLCBhbGlnbm1lbnQpIHtcbiAgICB0aGlzLnRyaWVkUG9zaXRpb25zW3Bvc2l0aW9uXSA9IHRoaXMudHJpZWRQb3NpdGlvbnNbcG9zaXRpb25dIHx8IFtdXG4gICAgdGhpcy50cmllZFBvc2l0aW9uc1twb3NpdGlvbl0ucHVzaChhbGlnbm1lbnQpO1xuICB9XG5cbiAgX3Bvc2l0aW9uc0V4aGF1c3RlZCgpIHtcbiAgICB2YXIgaXNFeGhhdXN0ZWQgPSB0cnVlO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBQT1NJVElPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlzRXhoYXVzdGVkID0gaXNFeGhhdXN0ZWQgJiYgdGhpcy5fYWxpZ25tZW50c0V4aGF1c3RlZChQT1NJVElPTlNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gaXNFeGhhdXN0ZWQ7XG4gIH1cblxuICBfYWxpZ25tZW50c0V4aGF1c3RlZChwb3NpdGlvbikge1xuICAgIHJldHVybiB0aGlzLnRyaWVkUG9zaXRpb25zW3Bvc2l0aW9uXSAmJiB0aGlzLnRyaWVkUG9zaXRpb25zW3Bvc2l0aW9uXS5sZW5ndGggPT09IEFMSUdOTUVOVFNbcG9zaXRpb25dLmxlbmd0aDtcbiAgfVxuXG5cbiAgLy8gV2hlbiB3ZSdyZSB0cnlpbmcgdG8gY2VudGVyLCB3ZSBkb24ndCB3YW50IHRvIGFwcGx5IG9mZnNldCB0aGF0J3MgZ29pbmcgdG9cbiAgLy8gdGFrZSB1cyBqdXN0IG9mZiBjZW50ZXIsIHNvIHdyYXAgYXJvdW5kIHRvIHJldHVybiAwIGZvciB0aGUgYXBwcm9wcmlhdGVcbiAgLy8gb2Zmc2V0IGluIHRob3NlIGFsaWdubWVudHMuICBUT0RPOiBGaWd1cmUgb3V0IGlmIHdlIHdhbnQgdG8gbWFrZSB0aGlzXG4gIC8vIGNvbmZpZ3VyYWJsZSBiZWhhdmlvci4uLiBpdCBmZWVscyBtb3JlIGludHVpdGl2ZSwgZXNwZWNpYWxseSBmb3IgdG9vbHRpcHMsIGJ1dFxuICAvLyBpdCdzIHBvc3NpYmxlIHNvbWVvbmUgbWlnaHQgYWN0dWFsbHkgd2FudCB0byBzdGFydCBmcm9tIGNlbnRlciBhbmQgdGhlbiBudWRnZVxuICAvLyBzbGlnaHRseSBvZmYuXG4gIF9nZXRWT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMudk9mZnNldDtcbiAgfVxuXG4gIF9nZXRIT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaE9mZnNldDtcbiAgfVxuXG4gIF9zZXRQb3NpdGlvbigkYW5jaG9yLCAkZWxlbWVudCwgJHBhcmVudCkge1xuICAgIGlmKCRhbmNob3IuYXR0cignYXJpYS1leHBhbmRlZCcpID09PSAnZmFsc2UnKXsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd092ZXJsYXApIHtcbiAgICAgIC8vIHJlc3RvcmUgb3JpZ2luYWwgcG9zaXRpb24gJiBhbGlnbm1lbnQgYmVmb3JlIGNoZWNraW5nIG92ZXJsYXBcbiAgICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLm9yaWdpbmFsUG9zaXRpb247XG4gICAgICB0aGlzLmFsaWdubWVudCA9IHRoaXMub3JpZ2luYWxBbGlnbm1lbnQ7XG4gICAgfVxuXG4gICAgJGVsZW1lbnQub2Zmc2V0KEJveC5HZXRFeHBsaWNpdE9mZnNldHMoJGVsZW1lbnQsICRhbmNob3IsIHRoaXMucG9zaXRpb24sIHRoaXMuYWxpZ25tZW50LCB0aGlzLl9nZXRWT2Zmc2V0KCksIHRoaXMuX2dldEhPZmZzZXQoKSkpO1xuXG4gICAgaWYoIXRoaXMub3B0aW9ucy5hbGxvd092ZXJsYXApIHtcbiAgICAgIHZhciBtaW5PdmVybGFwID0gMTAwMDAwMDAwO1xuICAgICAgLy8gZGVmYXVsdCBjb29yZGluYXRlcyB0byBob3cgd2Ugc3RhcnQsIGluIGNhc2Ugd2UgY2FuJ3QgZmlndXJlIG91dCBiZXR0ZXJcbiAgICAgIHZhciBtaW5Db29yZGluYXRlcyA9IHtwb3NpdGlvbjogdGhpcy5wb3NpdGlvbiwgYWxpZ25tZW50OiB0aGlzLmFsaWdubWVudH07XG4gICAgICB3aGlsZSghdGhpcy5fcG9zaXRpb25zRXhoYXVzdGVkKCkpIHtcbiAgICAgICAgbGV0IG92ZXJsYXAgPSBCb3guT3ZlcmxhcEFyZWEoJGVsZW1lbnQsICRwYXJlbnQsIGZhbHNlLCBmYWxzZSwgdGhpcy5vcHRpb25zLmFsbG93Qm90dG9tT3ZlcmxhcCk7XG4gICAgICAgIGlmKG92ZXJsYXAgPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZihvdmVybGFwIDwgbWluT3ZlcmxhcCkge1xuICAgICAgICAgIG1pbk92ZXJsYXAgPSBvdmVybGFwO1xuICAgICAgICAgIG1pbkNvb3JkaW5hdGVzID0ge3Bvc2l0aW9uOiB0aGlzLnBvc2l0aW9uLCBhbGlnbm1lbnQ6IHRoaXMuYWxpZ25tZW50fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlcG9zaXRpb24oKTtcblxuICAgICAgICAkZWxlbWVudC5vZmZzZXQoQm94LkdldEV4cGxpY2l0T2Zmc2V0cygkZWxlbWVudCwgJGFuY2hvciwgdGhpcy5wb3NpdGlvbiwgdGhpcy5hbGlnbm1lbnQsIHRoaXMuX2dldFZPZmZzZXQoKSwgdGhpcy5fZ2V0SE9mZnNldCgpKSk7XG4gICAgICB9XG4gICAgICAvLyBJZiB3ZSBnZXQgdGhyb3VnaCB0aGUgZW50aXJlIGxvb3AsIHRoZXJlIHdhcyBubyBub24tb3ZlcmxhcHBpbmdcbiAgICAgIC8vIHBvc2l0aW9uIGF2YWlsYWJsZS4gUGljayB0aGUgdmVyc2lvbiB3aXRoIGxlYXN0IG92ZXJsYXAuXG4gICAgICB0aGlzLnBvc2l0aW9uID0gbWluQ29vcmRpbmF0ZXMucG9zaXRpb247XG4gICAgICB0aGlzLmFsaWdubWVudCA9IG1pbkNvb3JkaW5hdGVzLmFsaWdubWVudDtcbiAgICAgICRlbGVtZW50Lm9mZnNldChCb3guR2V0RXhwbGljaXRPZmZzZXRzKCRlbGVtZW50LCAkYW5jaG9yLCB0aGlzLnBvc2l0aW9uLCB0aGlzLmFsaWdubWVudCwgdGhpcy5fZ2V0Vk9mZnNldCgpLCB0aGlzLl9nZXRIT2Zmc2V0KCkpKTtcbiAgICB9XG4gIH1cblxufVxuXG5Qb3NpdGlvbmFibGUuZGVmYXVsdHMgPSB7XG4gIC8qKlxuICAgKiBQb3NpdGlvbiBvZiBwb3NpdGlvbmFibGUgcmVsYXRpdmUgdG8gYW5jaG9yLiBDYW4gYmUgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBvciBhdXRvLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0ICdhdXRvJ1xuICAgKi9cbiAgcG9zaXRpb246ICdhdXRvJyxcbiAgLyoqXG4gICAqIEFsaWdubWVudCBvZiBwb3NpdGlvbmFibGUgcmVsYXRpdmUgdG8gYW5jaG9yLiBDYW4gYmUgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBjZW50ZXIsIG9yIGF1dG8uXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJ2F1dG8nXG4gICAqL1xuICBhbGlnbm1lbnQ6ICdhdXRvJyxcbiAgLyoqXG4gICAqIEFsbG93IG92ZXJsYXAgb2YgY29udGFpbmVyL3dpbmRvdy4gSWYgZmFsc2UsIGRyb3Bkb3duIHBvc2l0aW9uYWJsZSBmaXJzdFxuICAgKiB0cnkgdG8gcG9zaXRpb24gYXMgZGVmaW5lZCBieSBkYXRhLXBvc2l0aW9uIGFuZCBkYXRhLWFsaWdubWVudCwgYnV0XG4gICAqIHJlcG9zaXRpb24gaWYgaXQgd291bGQgY2F1c2UgYW4gb3ZlcmZsb3cuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhbGxvd092ZXJsYXA6IGZhbHNlLFxuICAvKipcbiAgICogQWxsb3cgb3ZlcmxhcCBvZiBvbmx5IHRoZSBib3R0b20gb2YgdGhlIGNvbnRhaW5lci4gVGhpcyBpcyB0aGUgbW9zdCBjb21tb25cbiAgICogYmVoYXZpb3IgZm9yIGRyb3Bkb3ducywgYWxsb3dpbmcgdGhlIGRyb3Bkb3duIHRvIGV4dGVuZCB0aGUgYm90dG9tIG9mIHRoZVxuICAgKiBzY3JlZW4gYnV0IG5vdCBvdGhlcndpc2UgaW5mbHVlbmNlIG9yIGJyZWFrIG91dCBvZiB0aGUgY29udGFpbmVyLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBhbGxvd0JvdHRvbU92ZXJsYXA6IHRydWUsXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgcGl4ZWxzIHRoZSBwb3NpdGlvbmFibGUgc2hvdWxkIGJlIHNlcGFyYXRlZCB2ZXJ0aWNhbGx5IGZyb20gYW5jaG9yXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgdk9mZnNldDogMCxcbiAgLyoqXG4gICAqIE51bWJlciBvZiBwaXhlbHMgdGhlIHBvc2l0aW9uYWJsZSBzaG91bGQgYmUgc2VwYXJhdGVkIGhvcml6b250YWxseSBmcm9tIGFuY2hvclxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIGhPZmZzZXQ6IDAsXG59XG5cbmV4cG9ydCB7UG9zaXRpb25hYmxlfTtcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLmtleWJvYXJkJztcbmltcG9ydCB7IEdldFlvRGlnaXRzLCBpZ25vcmVNb3VzZWRpc2FwcGVhciB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnV0aWxzJztcbmltcG9ydCB7IFBvc2l0aW9uYWJsZSB9IGZyb20gJy4vZm91bmRhdGlvbi5wb3NpdGlvbmFibGUnO1xuXG5pbXBvcnQgeyBUcmlnZ2VycyB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLnRyaWdnZXJzJztcbmltcG9ydCB7IFRvdWNoIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwudG91Y2gnXG5cbi8qKlxuICogRHJvcGRvd24gbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLmRyb3Bkb3duXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmtleWJvYXJkXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmJveFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50b3VjaFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50cmlnZ2Vyc1xuICovXG5jbGFzcyBEcm9wZG93biBleHRlbmRzIFBvc2l0aW9uYWJsZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIGEgZHJvcGRvd24uXG4gICAqIEBjbGFzc1xuICAgKiBAbmFtZSBEcm9wZG93blxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gbWFrZSBpbnRvIGEgZHJvcGRvd24uXG4gICAqICAgICAgICBPYmplY3Qgc2hvdWxkIGJlIG9mIHRoZSBkcm9wZG93biBwYW5lbCwgcmF0aGVyIHRoYW4gaXRzIGFuY2hvci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgX3NldHVwKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgRHJvcGRvd24uZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcbiAgICB0aGlzLmNsYXNzTmFtZSA9ICdEcm9wZG93bic7IC8vIGllOSBiYWNrIGNvbXBhdFxuXG4gICAgLy8gVG91Y2ggYW5kIFRyaWdnZXJzIGluaXQgYXJlIGlkZW1wb3RlbnQsIGp1c3QgbmVlZCB0byBtYWtlIHN1cmUgdGhleSBhcmUgaW5pdGlhbGl6ZWRcbiAgICBUb3VjaC5pbml0KCQpO1xuICAgIFRyaWdnZXJzLmluaXQoJCk7XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgICBLZXlib2FyZC5yZWdpc3RlcignRHJvcGRvd24nLCB7XG4gICAgICAnRU5URVInOiAndG9nZ2xlJyxcbiAgICAgICdTUEFDRSc6ICd0b2dnbGUnLFxuICAgICAgJ0VTQ0FQRSc6ICdjbG9zZSdcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgcGx1Z2luIGJ5IHNldHRpbmcvY2hlY2tpbmcgb3B0aW9ucyBhbmQgYXR0cmlidXRlcywgYWRkaW5nIGhlbHBlciB2YXJpYWJsZXMsIGFuZCBzYXZpbmcgdGhlIGFuY2hvci5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICB2YXIgJGlkID0gdGhpcy4kZWxlbWVudC5hdHRyKCdpZCcpO1xuXG4gICAgdGhpcy4kYW5jaG9ycyA9ICQoYFtkYXRhLXRvZ2dsZT1cIiR7JGlkfVwiXWApLmxlbmd0aCA/ICQoYFtkYXRhLXRvZ2dsZT1cIiR7JGlkfVwiXWApIDogJChgW2RhdGEtb3Blbj1cIiR7JGlkfVwiXWApO1xuICAgIHRoaXMuJGFuY2hvcnMuYXR0cih7XG4gICAgICAnYXJpYS1jb250cm9scyc6ICRpZCxcbiAgICAgICdkYXRhLWlzLWZvY3VzJzogZmFsc2UsXG4gICAgICAnZGF0YS15ZXRpLWJveCc6ICRpZCxcbiAgICAgICdhcmlhLWhhc3BvcHVwJzogdHJ1ZSxcbiAgICAgICdhcmlhLWV4cGFuZGVkJzogZmFsc2VcbiAgICB9KTtcblxuICAgIHRoaXMuX3NldEN1cnJlbnRBbmNob3IodGhpcy4kYW5jaG9ycy5maXJzdCgpKTtcblxuICAgIGlmKHRoaXMub3B0aW9ucy5wYXJlbnRDbGFzcyl7XG4gICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLiRlbGVtZW50LnBhcmVudHMoJy4nICsgdGhpcy5vcHRpb25zLnBhcmVudENsYXNzKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuJHBhcmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2V0IFthcmlhLWxhYmVsbGVkYnldIG9uIHRoZSBEcm9wZG93biBpZiBpdCBpcyBub3Qgc2V0XG4gICAgaWYgKHR5cGVvZiB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtbGFiZWxsZWRieScpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gR2V0IHRoZSBhbmNob3IgSUQgb3IgY3JlYXRlIG9uZVxuICAgICAgaWYgKHR5cGVvZiB0aGlzLiRjdXJyZW50QW5jaG9yLmF0dHIoJ2lkJykgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMuJGN1cnJlbnRBbmNob3IuYXR0cignaWQnLCBHZXRZb0RpZ2l0cyg2LCAnZGQtYW5jaG9yJykpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtbGFiZWxsZWRieScsIHRoaXMuJGN1cnJlbnRBbmNob3IuYXR0cignaWQnKSk7XG4gICAgfVxuXG4gICAgdGhpcy4kZWxlbWVudC5hdHRyKHtcbiAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJyxcbiAgICAgICdkYXRhLXlldGktYm94JzogJGlkLFxuICAgICAgJ2RhdGEtcmVzaXplJzogJGlkLFxuICAgIH0pO1xuXG4gICAgc3VwZXIuX2luaXQoKTtcbiAgICB0aGlzLl9ldmVudHMoKTtcbiAgfVxuXG4gIF9nZXREZWZhdWx0UG9zaXRpb24oKSB7XG4gICAgLy8gaGFuZGxlIGxlZ2FjeSBjbGFzc25hbWVzXG4gICAgdmFyIHBvc2l0aW9uID0gdGhpcy4kZWxlbWVudFswXS5jbGFzc05hbWUubWF0Y2goLyh0b3B8bGVmdHxyaWdodHxib3R0b20pL2cpO1xuICAgIGlmKHBvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gcG9zaXRpb25bMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnYm90dG9tJ1xuICAgIH1cbiAgfVxuXG4gIF9nZXREZWZhdWx0QWxpZ25tZW50KCkge1xuICAgIC8vIGhhbmRsZSBsZWdhY3kgZmxvYXQgYXBwcm9hY2hcbiAgICB2YXIgaG9yaXpvbnRhbFBvc2l0aW9uID0gL2Zsb2F0LShcXFMrKS8uZXhlYyh0aGlzLiRjdXJyZW50QW5jaG9yLmF0dHIoJ2NsYXNzJykpO1xuICAgIGlmKGhvcml6b250YWxQb3NpdGlvbikge1xuICAgICAgcmV0dXJuIGhvcml6b250YWxQb3NpdGlvblsxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3VwZXIuX2dldERlZmF1bHRBbGlnbm1lbnQoKTtcbiAgfVxuXG5cblxuICAvKipcbiAgICogU2V0cyB0aGUgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIG9mIHRoZSBkcm9wZG93biBwYW5lLCBjaGVja3MgZm9yIGNvbGxpc2lvbnMgaWYgYWxsb3ctb3ZlcmxhcCBpcyBub3QgdHJ1ZS5cbiAgICogUmVjdXJzaXZlbHkgY2FsbHMgaXRzZWxmIGlmIGEgY29sbGlzaW9uIGlzIGRldGVjdGVkLCB3aXRoIGEgbmV3IHBvc2l0aW9uIGNsYXNzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRQb3NpdGlvbigpIHtcbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKGBoYXMtcG9zaXRpb24tJHt0aGlzLnBvc2l0aW9ufSBoYXMtYWxpZ25tZW50LSR7dGhpcy5hbGlnbm1lbnR9YCk7XG4gICAgc3VwZXIuX3NldFBvc2l0aW9uKHRoaXMuJGN1cnJlbnRBbmNob3IsIHRoaXMuJGVsZW1lbnQsIHRoaXMuJHBhcmVudCk7XG4gICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcyhgaGFzLXBvc2l0aW9uLSR7dGhpcy5wb3NpdGlvbn0gaGFzLWFsaWdubWVudC0ke3RoaXMuYWxpZ25tZW50fWApO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgaXQgYSBjdXJyZW50IGFuY2hvci5cbiAgICogQ3VycmVudCBhbmNob3IgYXMgdGhlIHJlZmVyZW5jZSBmb3IgdGhlIHBvc2l0aW9uIG9mIERyb3Bkb3duIHBhbmVzLlxuICAgKiBAcGFyYW0ge0hUTUx9IGVsIC0gRE9NIGVsZW1lbnQgb2YgdGhlIGFuY2hvci5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0Q3VycmVudEFuY2hvcihlbCkge1xuICAgIHRoaXMuJGN1cnJlbnRBbmNob3IgPSAkKGVsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgZWxlbWVudCB1dGlsaXppbmcgdGhlIHRyaWdnZXJzIHV0aWxpdHkgbGlicmFyeS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZXZlbnRzKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgIGhhc1RvdWNoID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8ICh0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydCAhPT0gJ3VuZGVmaW5lZCcpO1xuXG4gICAgdGhpcy4kZWxlbWVudC5vbih7XG4gICAgICAnb3Blbi56Zi50cmlnZ2VyJzogdGhpcy5vcGVuLmJpbmQodGhpcyksXG4gICAgICAnY2xvc2UuemYudHJpZ2dlcic6IHRoaXMuY2xvc2UuYmluZCh0aGlzKSxcbiAgICAgICd0b2dnbGUuemYudHJpZ2dlcic6IHRoaXMudG9nZ2xlLmJpbmQodGhpcyksXG4gICAgICAncmVzaXplbWUuemYudHJpZ2dlcic6IHRoaXMuX3NldFBvc2l0aW9uLmJpbmQodGhpcylcbiAgICB9KTtcblxuICAgIHRoaXMuJGFuY2hvcnMub2ZmKCdjbGljay56Zi50cmlnZ2VyJylcbiAgICAgIC5vbignY2xpY2suemYudHJpZ2dlcicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgX3RoaXMuX3NldEN1cnJlbnRBbmNob3IodGhpcyk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIC8vIGlmIGZvcmNlRm9sbG93IGZhbHNlLCBhbHdheXMgcHJldmVudCBkZWZhdWx0IGFjdGlvblxuICAgICAgICAgIChfdGhpcy5vcHRpb25zLmZvcmNlRm9sbG93ID09PSBmYWxzZSkgfHxcbiAgICAgICAgICAvLyBpZiBmb3JjZUZvbGxvdyB0cnVlIGFuZCBob3ZlciBvcHRpb24gdHJ1ZSwgb25seSBwcmV2ZW50IGRlZmF1bHQgYWN0aW9uIG9uIDFzdCBjbGlja1xuICAgICAgICAgIC8vIG9uIDJuZCBjbGljayAoZHJvcG93biBvcGVuZWQpIHRoZSBkZWZhdWx0IGFjdGlvbiAoZS5nLiBmb2xsb3cgYSBocmVmKSBnZXRzIGV4ZWN1dGVkXG4gICAgICAgICAgKGhhc1RvdWNoICYmIF90aGlzLm9wdGlvbnMuaG92ZXIgJiYgX3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2lzLW9wZW4nKSA9PT0gZmFsc2UpXG4gICAgICAgICkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYodGhpcy5vcHRpb25zLmhvdmVyKXtcbiAgICAgIHRoaXMuJGFuY2hvcnMub2ZmKCdtb3VzZWVudGVyLnpmLmRyb3Bkb3duIG1vdXNlbGVhdmUuemYuZHJvcGRvd24nKVxuICAgICAgLm9uKCdtb3VzZWVudGVyLnpmLmRyb3Bkb3duJywgZnVuY3Rpb24oKXtcbiAgICAgICAgX3RoaXMuX3NldEN1cnJlbnRBbmNob3IodGhpcyk7XG5cbiAgICAgICAgdmFyIGJvZHlEYXRhID0gJCgnYm9keScpLmRhdGEoKTtcbiAgICAgICAgaWYodHlwZW9mKGJvZHlEYXRhLndoYXRpbnB1dCkgPT09ICd1bmRlZmluZWQnIHx8IGJvZHlEYXRhLndoYXRpbnB1dCA9PT0gJ21vdXNlJykge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50aW1lb3V0KTtcbiAgICAgICAgICBfdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgX3RoaXMub3BlbigpO1xuICAgICAgICAgICAgX3RoaXMuJGFuY2hvcnMuZGF0YSgnaG92ZXInLCB0cnVlKTtcbiAgICAgICAgICB9LCBfdGhpcy5vcHRpb25zLmhvdmVyRGVsYXkpO1xuICAgICAgICB9XG4gICAgICB9KS5vbignbW91c2VsZWF2ZS56Zi5kcm9wZG93bicsIGlnbm9yZU1vdXNlZGlzYXBwZWFyKGZ1bmN0aW9uKCl7XG4gICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50aW1lb3V0KTtcbiAgICAgICAgX3RoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgICAgIF90aGlzLiRhbmNob3JzLmRhdGEoJ2hvdmVyJywgZmFsc2UpO1xuICAgICAgICB9LCBfdGhpcy5vcHRpb25zLmhvdmVyRGVsYXkpO1xuICAgICAgfSkpO1xuICAgICAgaWYodGhpcy5vcHRpb25zLmhvdmVyUGFuZSl7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdtb3VzZWVudGVyLnpmLmRyb3Bkb3duIG1vdXNlbGVhdmUuemYuZHJvcGRvd24nKVxuICAgICAgICAgICAgLm9uKCdtb3VzZWVudGVyLnpmLmRyb3Bkb3duJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVvdXQpO1xuICAgICAgICAgICAgfSkub24oJ21vdXNlbGVhdmUuemYuZHJvcGRvd24nLCBpZ25vcmVNb3VzZWRpc2FwcGVhcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZW91dCk7XG4gICAgICAgICAgICAgIF90aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy4kYW5jaG9ycy5kYXRhKCdob3ZlcicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfSwgX3RoaXMub3B0aW9ucy5ob3ZlckRlbGF5KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy4kYW5jaG9ycy5hZGQodGhpcy4kZWxlbWVudCkub24oJ2tleWRvd24uemYuZHJvcGRvd24nLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgIHZhciAkdGFyZ2V0ID0gJCh0aGlzKTtcblxuICAgICAgS2V5Ym9hcmQuaGFuZGxlS2V5KGUsICdEcm9wZG93bicsIHtcbiAgICAgICAgb3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCR0YXJnZXQuaXMoX3RoaXMuJGFuY2hvcnMpICYmICEkdGFyZ2V0LmlzKCdpbnB1dCwgdGV4dGFyZWEnKSkge1xuICAgICAgICAgICAgX3RoaXMub3BlbigpO1xuICAgICAgICAgICAgX3RoaXMuJGVsZW1lbnQuYXR0cigndGFiaW5kZXgnLCAtMSkuZm9jdXMoKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgICAgIF90aGlzLiRhbmNob3JzLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYW4gZXZlbnQgaGFuZGxlciB0byB0aGUgYm9keSB0byBjbG9zZSBhbnkgZHJvcGRvd25zIG9uIGEgY2xpY2suXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FkZEJvZHlIYW5kbGVyKCkge1xuICAgICB2YXIgJGJvZHkgPSAkKGRvY3VtZW50LmJvZHkpLm5vdCh0aGlzLiRlbGVtZW50KSxcbiAgICAgICAgIF90aGlzID0gdGhpcztcbiAgICAgJGJvZHkub2ZmKCdjbGljay56Zi5kcm9wZG93biB0YXAuemYuZHJvcGRvd24nKVxuICAgICAgICAgIC5vbignY2xpY2suemYuZHJvcGRvd24gdGFwLnpmLmRyb3Bkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmKF90aGlzLiRhbmNob3JzLmlzKGUudGFyZ2V0KSB8fCBfdGhpcy4kYW5jaG9ycy5maW5kKGUudGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoX3RoaXMuJGVsZW1lbnQuaXMoZS50YXJnZXQpIHx8IF90aGlzLiRlbGVtZW50LmZpbmQoZS50YXJnZXQpLmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgJGJvZHkub2ZmKCdjbGljay56Zi5kcm9wZG93biB0YXAuemYuZHJvcGRvd24nKTtcbiAgICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgZHJvcGRvd24gcGFuZSwgYW5kIGZpcmVzIGEgYnViYmxpbmcgZXZlbnQgdG8gY2xvc2Ugb3RoZXIgZHJvcGRvd25zLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQGZpcmVzIERyb3Bkb3duI2Nsb3NlbWVcbiAgICogQGZpcmVzIERyb3Bkb3duI3Nob3dcbiAgICovXG4gIG9wZW4oKSB7XG4gICAgLy8gdmFyIF90aGlzID0gdGhpcztcbiAgICAvKipcbiAgICAgKiBGaXJlcyB0byBjbG9zZSBvdGhlciBvcGVuIGRyb3Bkb3ducywgdHlwaWNhbGx5IHdoZW4gZHJvcGRvd24gaXMgb3BlbmluZ1xuICAgICAqIEBldmVudCBEcm9wZG93biNjbG9zZW1lXG4gICAgICovXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdjbG9zZW1lLnpmLmRyb3Bkb3duJywgdGhpcy4kZWxlbWVudC5hdHRyKCdpZCcpKTtcbiAgICB0aGlzLiRhbmNob3JzLmFkZENsYXNzKCdob3ZlcicpXG4gICAgICAgIC5hdHRyKHsnYXJpYS1leHBhbmRlZCc6IHRydWV9KTtcbiAgICAvLyB0aGlzLiRlbGVtZW50Lyouc2hvdygpKi87XG5cbiAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdpcy1vcGVuaW5nJyk7XG4gICAgdGhpcy5fc2V0UG9zaXRpb24oKTtcbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCdpcy1vcGVuaW5nJykuYWRkQ2xhc3MoJ2lzLW9wZW4nKVxuICAgICAgICAuYXR0cih7J2FyaWEtaGlkZGVuJzogZmFsc2V9KTtcblxuICAgIGlmKHRoaXMub3B0aW9ucy5hdXRvRm9jdXMpe1xuICAgICAgdmFyICRmb2N1c2FibGUgPSBLZXlib2FyZC5maW5kRm9jdXNhYmxlKHRoaXMuJGVsZW1lbnQpO1xuICAgICAgaWYoJGZvY3VzYWJsZS5sZW5ndGgpe1xuICAgICAgICAkZm9jdXNhYmxlLmVxKDApLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYodGhpcy5vcHRpb25zLmNsb3NlT25DbGljayl7IHRoaXMuX2FkZEJvZHlIYW5kbGVyKCk7IH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMudHJhcEZvY3VzKSB7XG4gICAgICBLZXlib2FyZC50cmFwRm9jdXModGhpcy4kZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZXMgb25jZSB0aGUgZHJvcGRvd24gaXMgdmlzaWJsZS5cbiAgICAgKiBAZXZlbnQgRHJvcGRvd24jc2hvd1xuICAgICAqL1xuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignc2hvdy56Zi5kcm9wZG93bicsIFt0aGlzLiRlbGVtZW50XSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBvcGVuIGRyb3Bkb3duIHBhbmUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAZmlyZXMgRHJvcGRvd24jaGlkZVxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgaWYoIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2lzLW9wZW4nKSl7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2lzLW9wZW4nKVxuICAgICAgICAuYXR0cih7J2FyaWEtaGlkZGVuJzogdHJ1ZX0pO1xuXG4gICAgdGhpcy4kYW5jaG9ycy5yZW1vdmVDbGFzcygnaG92ZXInKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVzIG9uY2UgdGhlIGRyb3Bkb3duIGlzIG5vIGxvbmdlciB2aXNpYmxlLlxuICAgICAqIEBldmVudCBEcm9wZG93biNoaWRlXG4gICAgICovXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdoaWRlLnpmLmRyb3Bkb3duJywgW3RoaXMuJGVsZW1lbnRdKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMudHJhcEZvY3VzKSB7XG4gICAgICBLZXlib2FyZC5yZWxlYXNlRm9jdXModGhpcy4kZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIGRyb3Bkb3duIHBhbmUncyB2aXNpYmlsaXR5LlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIHRvZ2dsZSgpIHtcbiAgICBpZih0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpcy1vcGVuJykpe1xuICAgICAgaWYodGhpcy4kYW5jaG9ycy5kYXRhKCdob3ZlcicpKSByZXR1cm47XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfWVsc2V7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIGRyb3Bkb3duLlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIF9kZXN0cm95KCkge1xuICAgIHRoaXMuJGVsZW1lbnQub2ZmKCcuemYudHJpZ2dlcicpLmhpZGUoKTtcbiAgICB0aGlzLiRhbmNob3JzLm9mZignLnpmLmRyb3Bkb3duJyk7XG4gICAgJChkb2N1bWVudC5ib2R5KS5vZmYoJ2NsaWNrLnpmLmRyb3Bkb3duIHRhcC56Zi5kcm9wZG93bicpO1xuXG4gIH1cbn1cblxuRHJvcGRvd24uZGVmYXVsdHMgPSB7XG4gIC8qKlxuICAgKiBDbGFzcyB0aGF0IGRlc2lnbmF0ZXMgYm91bmRpbmcgY29udGFpbmVyIG9mIERyb3Bkb3duIChkZWZhdWx0OiB3aW5kb3cpXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUgez9zdHJpbmd9XG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIHBhcmVudENsYXNzOiBudWxsLFxuICAvKipcbiAgICogQW1vdW50IG9mIHRpbWUgdG8gZGVsYXkgb3BlbmluZyBhIHN1Ym1lbnUgb24gaG92ZXIgZXZlbnQuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMjUwXG4gICAqL1xuICBob3ZlckRlbGF5OiAyNTAsXG4gIC8qKlxuICAgKiBBbGxvdyBzdWJtZW51cyB0byBvcGVuIG9uIGhvdmVyIGV2ZW50c1xuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgaG92ZXI6IGZhbHNlLFxuICAvKipcbiAgICogRG9uJ3QgY2xvc2UgZHJvcGRvd24gd2hlbiBob3ZlcmluZyBvdmVyIGRyb3Bkb3duIHBhbmVcbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGhvdmVyUGFuZTogZmFsc2UsXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgcGl4ZWxzIGJldHdlZW4gdGhlIGRyb3Bkb3duIHBhbmUgYW5kIHRoZSB0cmlnZ2VyaW5nIGVsZW1lbnQgb24gb3Blbi5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICB2T2Zmc2V0OiAwLFxuICAvKipcbiAgICogTnVtYmVyIG9mIHBpeGVscyBiZXR3ZWVuIHRoZSBkcm9wZG93biBwYW5lIGFuZCB0aGUgdHJpZ2dlcmluZyBlbGVtZW50IG9uIG9wZW4uXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgaE9mZnNldDogMCxcbiAgLyoqXG4gICAqIFBvc2l0aW9uIG9mIGRyb3Bkb3duLiBDYW4gYmUgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBvciBhdXRvLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0ICdhdXRvJ1xuICAgKi9cbiAgcG9zaXRpb246ICdhdXRvJyxcbiAgLyoqXG4gICAqIEFsaWdubWVudCBvZiBkcm9wZG93biByZWxhdGl2ZSB0byBhbmNob3IuIENhbiBiZSBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIGNlbnRlciwgb3IgYXV0by5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnYXV0bydcbiAgICovXG4gIGFsaWdubWVudDogJ2F1dG8nLFxuICAvKipcbiAgICogQWxsb3cgb3ZlcmxhcCBvZiBjb250YWluZXIvd2luZG93LiBJZiBmYWxzZSwgZHJvcGRvd24gd2lsbCBmaXJzdCB0cnkgdG8gcG9zaXRpb24gYXMgZGVmaW5lZCBieSBkYXRhLXBvc2l0aW9uIGFuZCBkYXRhLWFsaWdubWVudCwgYnV0IHJlcG9zaXRpb24gaWYgaXQgd291bGQgY2F1c2UgYW4gb3ZlcmZsb3cuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhbGxvd092ZXJsYXA6IGZhbHNlLFxuICAvKipcbiAgICogQWxsb3cgb3ZlcmxhcCBvZiBvbmx5IHRoZSBib3R0b20gb2YgdGhlIGNvbnRhaW5lci4gVGhpcyBpcyB0aGUgbW9zdCBjb21tb25cbiAgICogYmVoYXZpb3IgZm9yIGRyb3Bkb3ducywgYWxsb3dpbmcgdGhlIGRyb3Bkb3duIHRvIGV4dGVuZCB0aGUgYm90dG9tIG9mIHRoZVxuICAgKiBzY3JlZW4gYnV0IG5vdCBvdGhlcndpc2UgaW5mbHVlbmNlIG9yIGJyZWFrIG91dCBvZiB0aGUgY29udGFpbmVyLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBhbGxvd0JvdHRvbU92ZXJsYXA6IHRydWUsXG4gIC8qKlxuICAgKiBBbGxvdyB0aGUgcGx1Z2luIHRvIHRyYXAgZm9jdXMgdG8gdGhlIGRyb3Bkb3duIHBhbmUgaWYgb3BlbmVkIHdpdGgga2V5Ym9hcmQgY29tbWFuZHMuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0cmFwRm9jdXM6IGZhbHNlLFxuICAvKipcbiAgICogQWxsb3cgdGhlIHBsdWdpbiB0byBzZXQgZm9jdXMgdG8gdGhlIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50IHdpdGhpbiB0aGUgcGFuZSwgcmVnYXJkbGVzcyBvZiBtZXRob2Qgb2Ygb3BlbmluZy5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGF1dG9Gb2N1czogZmFsc2UsXG4gIC8qKlxuICAgKiBBbGxvd3MgYSBjbGljayBvbiB0aGUgYm9keSB0byBjbG9zZSB0aGUgZHJvcGRvd24uXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBjbG9zZU9uQ2xpY2s6IGZhbHNlLFxuICAvKipcbiAgICogSWYgdHJ1ZSB0aGUgZGVmYXVsdCBhY3Rpb24gb2YgdGhlIHRvZ2dsZSAoZS5nLiBmb2xsb3cgYSBsaW5rIHdpdGggaHJlZikgZ2V0cyBleGVjdXRlZCBvbiBjbGljay4gSWYgaG92ZXIgb3B0aW9uIGlzIGFsc28gdHJ1ZSB0aGUgZGVmYXVsdCBhY3Rpb24gZ2V0cyBwcmV2ZW50ZWQgb24gZmlyc3QgY2xpY2sgZm9yIG1vYmlsZSAvIHRvdWNoIGRldmljZXMgYW5kIGV4ZWN1dGVkIG9uIHNlY29uZCBjbGljay5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZm9yY2VGb2xsb3c6IHRydWVcbn07XG5cbmV4cG9ydCB7RHJvcGRvd259O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IFBsdWdpbiB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnBsdWdpbic7XG5pbXBvcnQgeyBydGwgYXMgUnRsLCBpZ25vcmVNb3VzZWRpc2FwcGVhciB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnV0aWxzJztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmQnO1xuaW1wb3J0IHsgTmVzdCB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLm5lc3QnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwuYm94JztcbmltcG9ydCB7IFRvdWNoIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwudG91Y2gnXG5cblxuLyoqXG4gKiBEcm9wZG93bk1lbnUgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLmRyb3Bkb3duTWVudVxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5rZXlib2FyZFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5ib3hcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwubmVzdFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50b3VjaFxuICovXG5cbmNsYXNzIERyb3Bkb3duTWVudSBleHRlbmRzIFBsdWdpbiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIERyb3Bkb3duTWVudS5cbiAgICogQGNsYXNzXG4gICAqIEBuYW1lIERyb3Bkb3duTWVudVxuICAgKiBAZmlyZXMgRHJvcGRvd25NZW51I2luaXRcbiAgICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIG1ha2UgaW50byBhIGRyb3Bkb3duIG1lbnUuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3ZlcnJpZGVzIHRvIHRoZSBkZWZhdWx0IHBsdWdpbiBzZXR0aW5ncy5cbiAgICovXG4gIF9zZXR1cChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIERyb3Bkb3duTWVudS5kZWZhdWx0cywgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuICAgIHRoaXMuY2xhc3NOYW1lID0gJ0Ryb3Bkb3duTWVudSc7IC8vIGllOSBiYWNrIGNvbXBhdFxuXG4gICAgVG91Y2guaW5pdCgkKTsgLy8gVG91Y2ggaW5pdCBpcyBpZGVtcG90ZW50LCB3ZSBqdXN0IG5lZWQgdG8gbWFrZSBzdXJlIGl0J3MgaW5pdGlhbGllZC5cblxuICAgIHRoaXMuX2luaXQoKTtcblxuICAgIEtleWJvYXJkLnJlZ2lzdGVyKCdEcm9wZG93bk1lbnUnLCB7XG4gICAgICAnRU5URVInOiAnb3BlbicsXG4gICAgICAnU1BBQ0UnOiAnb3BlbicsXG4gICAgICAnQVJST1dfUklHSFQnOiAnbmV4dCcsXG4gICAgICAnQVJST1dfVVAnOiAndXAnLFxuICAgICAgJ0FSUk9XX0RPV04nOiAnZG93bicsXG4gICAgICAnQVJST1dfTEVGVCc6ICdwcmV2aW91cycsXG4gICAgICAnRVNDQVBFJzogJ2Nsb3NlJ1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBwbHVnaW4sIGFuZCBjYWxscyBfcHJlcGFyZU1lbnVcbiAgICogQHByaXZhdGVcbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICBOZXN0LkZlYXRoZXIodGhpcy4kZWxlbWVudCwgJ2Ryb3Bkb3duJyk7XG5cbiAgICB2YXIgc3VicyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnbGkuaXMtZHJvcGRvd24tc3VibWVudS1wYXJlbnQnKTtcbiAgICB0aGlzLiRlbGVtZW50LmNoaWxkcmVuKCcuaXMtZHJvcGRvd24tc3VibWVudS1wYXJlbnQnKS5jaGlsZHJlbignLmlzLWRyb3Bkb3duLXN1Ym1lbnUnKS5hZGRDbGFzcygnZmlyc3Qtc3ViJyk7XG5cbiAgICB0aGlzLiRtZW51SXRlbXMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2xpW3JvbGU9XCJub25lXCJdJyk7XG4gICAgdGhpcy4kdGFicyA9IHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oJ2xpW3JvbGU9XCJub25lXCJdJyk7XG4gICAgdGhpcy4kdGFicy5maW5kKCd1bC5pcy1kcm9wZG93bi1zdWJtZW51JykuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnZlcnRpY2FsQ2xhc3MpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbGlnbm1lbnQgPT09ICdhdXRvJykge1xuICAgICAgICBpZiAodGhpcy4kZWxlbWVudC5oYXNDbGFzcyh0aGlzLm9wdGlvbnMucmlnaHRDbGFzcykgfHwgUnRsKCkgfHwgdGhpcy4kZWxlbWVudC5wYXJlbnRzKCcudG9wLWJhci1yaWdodCcpLmlzKCcqJykpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5hbGlnbm1lbnQgPSAncmlnaHQnO1xuICAgICAgICAgICAgc3Vicy5hZGRDbGFzcygnb3BlbnMtbGVmdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmFsaWdubWVudCA9ICdsZWZ0JztcbiAgICAgICAgICAgIHN1YnMuYWRkQ2xhc3MoJ29wZW5zLXJpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbGlnbm1lbnQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBzdWJzLmFkZENsYXNzKCdvcGVucy1sZWZ0Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1YnMuYWRkQ2xhc3MoJ29wZW5zLXJpZ2h0Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2hhbmdlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9O1xuXG4gIF9pc1ZlcnRpY2FsKCkge1xuICAgIHJldHVybiB0aGlzLiR0YWJzLmNzcygnZGlzcGxheScpID09PSAnYmxvY2snIHx8IHRoaXMuJGVsZW1lbnQuY3NzKCdmbGV4LWRpcmVjdGlvbicpID09PSAnY29sdW1uJztcbiAgfVxuXG4gIF9pc1J0bCgpIHtcbiAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWxpZ24tcmlnaHQnKSB8fCAoUnRsKCkgJiYgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FsaWduLWxlZnQnKSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gZWxlbWVudHMgd2l0aGluIHRoZSBtZW51XG4gICAqIEBwcml2YXRlXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgX2V2ZW50cygpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBoYXNUb3VjaCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSxcbiAgICAgICAgcGFyQ2xhc3MgPSAnaXMtZHJvcGRvd24tc3VibWVudS1wYXJlbnQnO1xuXG4gICAgLy8gdXNlZCBmb3Igb25DbGljayBhbmQgaW4gdGhlIGtleWJvYXJkIGhhbmRsZXJzXG4gICAgdmFyIGhhbmRsZUNsaWNrRm4gPSBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJGVsZW0gPSAkKGUudGFyZ2V0KS5wYXJlbnRzVW50aWwoJ3VsJywgYC4ke3BhckNsYXNzfWApLFxuICAgICAgICAgIGhhc1N1YiA9ICRlbGVtLmhhc0NsYXNzKHBhckNsYXNzKSxcbiAgICAgICAgICBoYXNDbGlja2VkID0gJGVsZW0uYXR0cignZGF0YS1pcy1jbGljaycpID09PSAndHJ1ZScsXG4gICAgICAgICAgJHN1YiA9ICRlbGVtLmNoaWxkcmVuKCcuaXMtZHJvcGRvd24tc3VibWVudScpO1xuXG4gICAgICBpZiAoaGFzU3ViKSB7XG4gICAgICAgIGlmIChoYXNDbGlja2VkKSB7XG4gICAgICAgICAgaWYgKCFfdGhpcy5vcHRpb25zLmNsb3NlT25DbGlja1xuICAgICAgICAgICAgfHwgKCFfdGhpcy5vcHRpb25zLmNsaWNrT3BlbiAmJiAhaGFzVG91Y2gpXG4gICAgICAgICAgICB8fCAoX3RoaXMub3B0aW9ucy5mb3JjZUZvbGxvdyAmJiBoYXNUb3VjaCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgX3RoaXMuX2hpZGUoJGVsZW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIF90aGlzLl9zaG93KCRzdWIpO1xuICAgICAgICAgICRlbGVtLmFkZCgkZWxlbS5wYXJlbnRzVW50aWwoX3RoaXMuJGVsZW1lbnQsIGAuJHtwYXJDbGFzc31gKSkuYXR0cignZGF0YS1pcy1jbGljaycsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xpY2tPcGVuIHx8IGhhc1RvdWNoKSB7XG4gICAgICB0aGlzLiRtZW51SXRlbXMub24oJ2NsaWNrLnpmLmRyb3Bkb3duTWVudSB0b3VjaHN0YXJ0LnpmLmRyb3Bkb3duTWVudScsIGhhbmRsZUNsaWNrRm4pO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBMZWFmIGVsZW1lbnQgQ2xpY2tzXG4gICAgaWYoX3RoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2tJbnNpZGUpe1xuICAgICAgdGhpcy4kbWVudUl0ZW1zLm9uKCdjbGljay56Zi5kcm9wZG93bk1lbnUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICRlbGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgIGhhc1N1YiA9ICRlbGVtLmhhc0NsYXNzKHBhckNsYXNzKTtcbiAgICAgICAgaWYoIWhhc1N1Yil7XG4gICAgICAgICAgX3RoaXMuX2hpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGhhc1RvdWNoICYmIHRoaXMub3B0aW9ucy5kaXNhYmxlSG92ZXJPblRvdWNoKSB0aGlzLm9wdGlvbnMuZGlzYWJsZUhvdmVyID0gdHJ1ZTtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmRpc2FibGVIb3Zlcikge1xuICAgICAgdGhpcy4kbWVudUl0ZW1zLm9uKCdtb3VzZWVudGVyLnpmLmRyb3Bkb3duTWVudScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbGVtID0gJCh0aGlzKSxcbiAgICAgICAgICBoYXNTdWIgPSAkZWxlbS5oYXNDbGFzcyhwYXJDbGFzcyk7XG5cbiAgICAgICAgaWYgKGhhc1N1Yikge1xuICAgICAgICAgIGNsZWFyVGltZW91dCgkZWxlbS5kYXRhKCdfZGVsYXknKSk7XG4gICAgICAgICAgJGVsZW0uZGF0YSgnX2RlbGF5Jywgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fc2hvdygkZWxlbS5jaGlsZHJlbignLmlzLWRyb3Bkb3duLXN1Ym1lbnUnKSk7XG4gICAgICAgICAgfSwgX3RoaXMub3B0aW9ucy5ob3ZlckRlbGF5KSk7XG4gICAgICAgIH1cbiAgICAgIH0pLm9uKCdtb3VzZWxlYXZlLnpmLmRyb3Bkb3duTWVudScsIGlnbm9yZU1vdXNlZGlzYXBwZWFyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgIGhhc1N1YiA9ICRlbGVtLmhhc0NsYXNzKHBhckNsYXNzKTtcbiAgICAgICAgaWYgKGhhc1N1YiAmJiBfdGhpcy5vcHRpb25zLmF1dG9jbG9zZSkge1xuICAgICAgICAgIGlmICgkZWxlbS5hdHRyKCdkYXRhLWlzLWNsaWNrJykgPT09ICd0cnVlJyAmJiBfdGhpcy5vcHRpb25zLmNsaWNrT3BlbikgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgIGNsZWFyVGltZW91dCgkZWxlbS5kYXRhKCdfZGVsYXknKSk7XG4gICAgICAgICAgJGVsZW0uZGF0YSgnX2RlbGF5Jywgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5faGlkZSgkZWxlbSk7XG4gICAgICAgICAgfSwgX3RoaXMub3B0aW9ucy5jbG9zaW5nVGltZSkpO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICAgIHRoaXMuJG1lbnVJdGVtcy5vbigna2V5ZG93bi56Zi5kcm9wZG93bk1lbnUnLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJGVsZW1lbnQgPSAkKGUudGFyZ2V0KS5wYXJlbnRzVW50aWwoJ3VsJywgJ1tyb2xlPVwibm9uZVwiXScpLFxuICAgICAgICAgIGlzVGFiID0gX3RoaXMuJHRhYnMuaW5kZXgoJGVsZW1lbnQpID4gLTEsXG4gICAgICAgICAgJGVsZW1lbnRzID0gaXNUYWIgPyBfdGhpcy4kdGFicyA6ICRlbGVtZW50LnNpYmxpbmdzKCdsaScpLmFkZCgkZWxlbWVudCksXG4gICAgICAgICAgJHByZXZFbGVtZW50LFxuICAgICAgICAgICRuZXh0RWxlbWVudDtcblxuICAgICAgJGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICBpZiAoJCh0aGlzKS5pcygkZWxlbWVudCkpIHtcbiAgICAgICAgICAkcHJldkVsZW1lbnQgPSAkZWxlbWVudHMuZXEoaS0xKTtcbiAgICAgICAgICAkbmV4dEVsZW1lbnQgPSAkZWxlbWVudHMuZXEoaSsxKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgbmV4dFNpYmxpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJG5leHRFbGVtZW50LmNoaWxkcmVuKCdhOmZpcnN0JykuZm9jdXMoKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSwgcHJldlNpYmxpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHByZXZFbGVtZW50LmNoaWxkcmVuKCdhOmZpcnN0JykuZm9jdXMoKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSwgb3BlblN1YiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHN1YiA9ICRlbGVtZW50LmNoaWxkcmVuKCd1bC5pcy1kcm9wZG93bi1zdWJtZW51Jyk7XG4gICAgICAgIGlmICgkc3ViLmxlbmd0aCkge1xuICAgICAgICAgIF90aGlzLl9zaG93KCRzdWIpO1xuICAgICAgICAgICRlbGVtZW50LmZpbmQoJ2xpID4gYTpmaXJzdCcpLmZvY3VzKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IGVsc2UgeyByZXR1cm47IH1cbiAgICAgIH0sIGNsb3NlU3ViID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vaWYgKCRlbGVtZW50LmlzKCc6Zmlyc3QtY2hpbGQnKSkge1xuICAgICAgICB2YXIgY2xvc2UgPSAkZWxlbWVudC5wYXJlbnQoJ3VsJykucGFyZW50KCdsaScpO1xuICAgICAgICBjbG9zZS5jaGlsZHJlbignYTpmaXJzdCcpLmZvY3VzKCk7XG4gICAgICAgIF90aGlzLl9oaWRlKGNsb3NlKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvL31cbiAgICAgIH07XG4gICAgICB2YXIgZnVuY3Rpb25zID0ge1xuICAgICAgICBvcGVuOiBvcGVuU3ViLFxuICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3RoaXMuX2hpZGUoX3RoaXMuJGVsZW1lbnQpO1xuICAgICAgICAgIF90aGlzLiRtZW51SXRlbXMuZXEoMCkuY2hpbGRyZW4oJ2EnKS5mb2N1cygpOyAvLyBmb2N1cyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoaXNUYWIpIHtcbiAgICAgICAgaWYgKF90aGlzLl9pc1ZlcnRpY2FsKCkpIHsgLy8gdmVydGljYWwgbWVudVxuICAgICAgICAgIGlmIChfdGhpcy5faXNSdGwoKSkgeyAvLyByaWdodCBhbGlnbmVkXG4gICAgICAgICAgICAkLmV4dGVuZChmdW5jdGlvbnMsIHtcbiAgICAgICAgICAgICAgZG93bjogbmV4dFNpYmxpbmcsXG4gICAgICAgICAgICAgIHVwOiBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgbmV4dDogY2xvc2VTdWIsXG4gICAgICAgICAgICAgIHByZXZpb3VzOiBvcGVuU3ViXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBsZWZ0IGFsaWduZWRcbiAgICAgICAgICAgICQuZXh0ZW5kKGZ1bmN0aW9ucywge1xuICAgICAgICAgICAgICBkb3duOiBuZXh0U2libGluZyxcbiAgICAgICAgICAgICAgdXA6IHByZXZTaWJsaW5nLFxuICAgICAgICAgICAgICBuZXh0OiBvcGVuU3ViLFxuICAgICAgICAgICAgICBwcmV2aW91czogY2xvc2VTdWJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHsgLy8gaG9yaXpvbnRhbCBtZW51XG4gICAgICAgICAgaWYgKF90aGlzLl9pc1J0bCgpKSB7IC8vIHJpZ2h0IGFsaWduZWRcbiAgICAgICAgICAgICQuZXh0ZW5kKGZ1bmN0aW9ucywge1xuICAgICAgICAgICAgICBuZXh0OiBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgcHJldmlvdXM6IG5leHRTaWJsaW5nLFxuICAgICAgICAgICAgICBkb3duOiBvcGVuU3ViLFxuICAgICAgICAgICAgICB1cDogY2xvc2VTdWJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIGxlZnQgYWxpZ25lZFxuICAgICAgICAgICAgJC5leHRlbmQoZnVuY3Rpb25zLCB7XG4gICAgICAgICAgICAgIG5leHQ6IG5leHRTaWJsaW5nLFxuICAgICAgICAgICAgICBwcmV2aW91czogcHJldlNpYmxpbmcsXG4gICAgICAgICAgICAgIGRvd246IG9wZW5TdWIsXG4gICAgICAgICAgICAgIHVwOiBjbG9zZVN1YlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBub3QgdGFicyAtPiBvbmUgc3ViXG4gICAgICAgIGlmIChfdGhpcy5faXNSdGwoKSkgeyAvLyByaWdodCBhbGlnbmVkXG4gICAgICAgICAgJC5leHRlbmQoZnVuY3Rpb25zLCB7XG4gICAgICAgICAgICBuZXh0OiBjbG9zZVN1YixcbiAgICAgICAgICAgIHByZXZpb3VzOiBvcGVuU3ViLFxuICAgICAgICAgICAgZG93bjogbmV4dFNpYmxpbmcsXG4gICAgICAgICAgICB1cDogcHJldlNpYmxpbmdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHsgLy8gbGVmdCBhbGlnbmVkXG4gICAgICAgICAgJC5leHRlbmQoZnVuY3Rpb25zLCB7XG4gICAgICAgICAgICBuZXh0OiBvcGVuU3ViLFxuICAgICAgICAgICAgcHJldmlvdXM6IGNsb3NlU3ViLFxuICAgICAgICAgICAgZG93bjogbmV4dFNpYmxpbmcsXG4gICAgICAgICAgICB1cDogcHJldlNpYmxpbmdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgS2V5Ym9hcmQuaGFuZGxlS2V5KGUsICdEcm9wZG93bk1lbnUnLCBmdW5jdGlvbnMpO1xuXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhbiBldmVudCBoYW5kbGVyIHRvIHRoZSBib2R5IHRvIGNsb3NlIGFueSBkcm9wZG93bnMgb24gYSBjbGljay5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYWRkQm9keUhhbmRsZXIoKSB7XG4gICAgY29uc3QgJGJvZHkgPSAkKGRvY3VtZW50LmJvZHkpO1xuICAgIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyKCk7XG4gICAgJGJvZHkub24oJ2NsaWNrLnpmLmRyb3Bkb3duTWVudSB0YXAuemYuZHJvcGRvd25NZW51JywgKGUpID0+IHtcbiAgICAgIHZhciBpc0l0c2VsZiA9ICEhJChlLnRhcmdldCkuY2xvc2VzdCh0aGlzLiRlbGVtZW50KS5sZW5ndGg7XG4gICAgICBpZiAoaXNJdHNlbGYpIHJldHVybjtcblxuICAgICAgdGhpcy5faGlkZSgpO1xuICAgICAgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGJvZHkgZXZlbnQgaGFuZGxlci4gU2VlIGBfYWRkQm9keUhhbmRsZXJgLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW1vdmVCb2R5SGFuZGxlcigpIHtcbiAgICAkKGRvY3VtZW50LmJvZHkpLm9mZignY2xpY2suemYuZHJvcGRvd25NZW51IHRhcC56Zi5kcm9wZG93bk1lbnUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyBhIGRyb3Bkb3duIHBhbmUsIGFuZCBjaGVja3MgZm9yIGNvbGxpc2lvbnMgZmlyc3QuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkc3ViIC0gdWwgZWxlbWVudCB0aGF0IGlzIGEgc3VibWVudSB0byBzaG93XG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKiBAZmlyZXMgRHJvcGRvd25NZW51I3Nob3dcbiAgICovXG4gIF9zaG93KCRzdWIpIHtcbiAgICB2YXIgaWR4ID0gdGhpcy4kdGFicy5pbmRleCh0aGlzLiR0YWJzLmZpbHRlcihmdW5jdGlvbihpLCBlbCkge1xuICAgICAgcmV0dXJuICQoZWwpLmZpbmQoJHN1YikubGVuZ3RoID4gMDtcbiAgICB9KSk7XG4gICAgdmFyICRzaWJzID0gJHN1Yi5wYXJlbnQoJ2xpLmlzLWRyb3Bkb3duLXN1Ym1lbnUtcGFyZW50Jykuc2libGluZ3MoJ2xpLmlzLWRyb3Bkb3duLXN1Ym1lbnUtcGFyZW50Jyk7XG4gICAgdGhpcy5faGlkZSgkc2licywgaWR4KTtcbiAgICAkc3ViLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKS5hZGRDbGFzcygnanMtZHJvcGRvd24tYWN0aXZlJylcbiAgICAgICAgLnBhcmVudCgnbGkuaXMtZHJvcGRvd24tc3VibWVudS1wYXJlbnQnKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgdmFyIGNsZWFyID0gQm94LkltTm90VG91Y2hpbmdZb3UoJHN1YiwgbnVsbCwgdHJ1ZSk7XG4gICAgaWYgKCFjbGVhcikge1xuICAgICAgdmFyIG9sZENsYXNzID0gdGhpcy5vcHRpb25zLmFsaWdubWVudCA9PT0gJ2xlZnQnID8gJy1yaWdodCcgOiAnLWxlZnQnLFxuICAgICAgICAgICRwYXJlbnRMaSA9ICRzdWIucGFyZW50KCcuaXMtZHJvcGRvd24tc3VibWVudS1wYXJlbnQnKTtcbiAgICAgICRwYXJlbnRMaS5yZW1vdmVDbGFzcyhgb3BlbnMke29sZENsYXNzfWApLmFkZENsYXNzKGBvcGVucy0ke3RoaXMub3B0aW9ucy5hbGlnbm1lbnR9YCk7XG4gICAgICBjbGVhciA9IEJveC5JbU5vdFRvdWNoaW5nWW91KCRzdWIsIG51bGwsIHRydWUpO1xuICAgICAgaWYgKCFjbGVhcikge1xuICAgICAgICAkcGFyZW50TGkucmVtb3ZlQ2xhc3MoYG9wZW5zLSR7dGhpcy5vcHRpb25zLmFsaWdubWVudH1gKS5hZGRDbGFzcygnb3BlbnMtaW5uZXInKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICAgICRzdWIuY3NzKCd2aXNpYmlsaXR5JywgJycpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrKSB7IHRoaXMuX2FkZEJvZHlIYW5kbGVyKCk7IH1cbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIHRoZSBuZXcgZHJvcGRvd24gcGFuZSBpcyB2aXNpYmxlLlxuICAgICAqIEBldmVudCBEcm9wZG93bk1lbnUjc2hvd1xuICAgICAqL1xuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignc2hvdy56Zi5kcm9wZG93bk1lbnUnLCBbJHN1Yl0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGVzIGEgc2luZ2xlLCBjdXJyZW50bHkgb3BlbiBkcm9wZG93biBwYW5lLCBpZiBwYXNzZWQgYSBwYXJhbWV0ZXIsIG90aGVyd2lzZSwgaGlkZXMgZXZlcnl0aGluZy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbSAtIGVsZW1lbnQgd2l0aCBhIHN1Ym1lbnUgdG8gaGlkZVxuICAgKiBAcGFyYW0ge051bWJlcn0gaWR4IC0gaW5kZXggb2YgdGhlICR0YWJzIGNvbGxlY3Rpb24gdG8gaGlkZVxuICAgKiBAZmlyZXMgRHJvcGRvd25NZW51I2hpZGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oaWRlKCRlbGVtLCBpZHgpIHtcbiAgICB2YXIgJHRvQ2xvc2U7XG4gICAgaWYgKCRlbGVtICYmICRlbGVtLmxlbmd0aCkge1xuICAgICAgJHRvQ2xvc2UgPSAkZWxlbTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpZHggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAkdG9DbG9zZSA9IHRoaXMuJHRhYnMubm90KGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgcmV0dXJuIGkgPT09IGlkeDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICR0b0Nsb3NlID0gdGhpcy4kZWxlbWVudDtcbiAgICB9XG4gICAgdmFyIHNvbWV0aGluZ1RvQ2xvc2UgPSAkdG9DbG9zZS5oYXNDbGFzcygnaXMtYWN0aXZlJykgfHwgJHRvQ2xvc2UuZmluZCgnLmlzLWFjdGl2ZScpLmxlbmd0aCA+IDA7XG5cbiAgICBpZiAoc29tZXRoaW5nVG9DbG9zZSkge1xuICAgICAgdmFyICRhY3RpdmVJdGVtID0gJHRvQ2xvc2UuZmluZCgnbGkuaXMtYWN0aXZlJyk7XG4gICAgICAkYWN0aXZlSXRlbS5hZGQoJHRvQ2xvc2UpLmF0dHIoe1xuICAgICAgICAnZGF0YS1pcy1jbGljayc6IGZhbHNlXG4gICAgICB9KS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG5cbiAgICAgICR0b0Nsb3NlLmZpbmQoJ3VsLmpzLWRyb3Bkb3duLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdqcy1kcm9wZG93bi1hY3RpdmUnKTtcblxuICAgICAgaWYgKHRoaXMuY2hhbmdlZCB8fCAkdG9DbG9zZS5maW5kKCdvcGVucy1pbm5lcicpLmxlbmd0aCkge1xuICAgICAgICB2YXIgb2xkQ2xhc3MgPSB0aGlzLm9wdGlvbnMuYWxpZ25tZW50ID09PSAnbGVmdCcgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICAkdG9DbG9zZS5maW5kKCdsaS5pcy1kcm9wZG93bi1zdWJtZW51LXBhcmVudCcpLmFkZCgkdG9DbG9zZSlcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoYG9wZW5zLWlubmVyIG9wZW5zLSR7dGhpcy5vcHRpb25zLmFsaWdubWVudH1gKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhgb3BlbnMtJHtvbGRDbGFzc31gKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dCgkYWN0aXZlSXRlbS5kYXRhKCdfZGVsYXknKSk7XG4gICAgICB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcigpO1xuXG4gICAgICAvKipcbiAgICAgICAqIEZpcmVzIHdoZW4gdGhlIG9wZW4gbWVudXMgYXJlIGNsb3NlZC5cbiAgICAgICAqIEBldmVudCBEcm9wZG93bk1lbnUjaGlkZVxuICAgICAgICovXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2hpZGUuemYuZHJvcGRvd25NZW51JywgWyR0b0Nsb3NlXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgX2Rlc3Ryb3koKSB7XG4gICAgdGhpcy4kbWVudUl0ZW1zLm9mZignLnpmLmRyb3Bkb3duTWVudScpLnJlbW92ZUF0dHIoJ2RhdGEtaXMtY2xpY2snKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2lzLXJpZ2h0LWFycm93IGlzLWxlZnQtYXJyb3cgaXMtZG93bi1hcnJvdyBvcGVucy1yaWdodCBvcGVucy1sZWZ0IG9wZW5zLWlubmVyJyk7XG4gICAgJChkb2N1bWVudC5ib2R5KS5vZmYoJy56Zi5kcm9wZG93bk1lbnUnKTtcbiAgICBOZXN0LkJ1cm4odGhpcy4kZWxlbWVudCwgJ2Ryb3Bkb3duJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBEZWZhdWx0IHNldHRpbmdzIGZvciBwbHVnaW5cbiAqL1xuRHJvcGRvd25NZW51LmRlZmF1bHRzID0ge1xuICAvKipcbiAgICogRGlzYWxsb3dzIGhvdmVyIGV2ZW50cyBmcm9tIG9wZW5pbmcgc3VibWVudXNcbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVIb3ZlcjogZmFsc2UsXG4gIC8qKlxuICAgKiBEaXNhbGxvd3MgaG92ZXIgb24gdG91Y2ggZGV2aWNlc1xuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBkaXNhYmxlSG92ZXJPblRvdWNoOiB0cnVlLFxuICAvKipcbiAgICogQWxsb3cgYSBzdWJtZW51IHRvIGF1dG9tYXRpY2FsbHkgY2xvc2Ugb24gYSBtb3VzZWxlYXZlIGV2ZW50LCBpZiBub3QgY2xpY2tlZCBvcGVuLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBhdXRvY2xvc2U6IHRydWUsXG4gIC8qKlxuICAgKiBBbW91bnQgb2YgdGltZSB0byBkZWxheSBvcGVuaW5nIGEgc3VibWVudSBvbiBob3ZlciBldmVudC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCA1MFxuICAgKi9cbiAgaG92ZXJEZWxheTogNTAsXG4gIC8qKlxuICAgKiBBbGxvdyBhIHN1Ym1lbnUgdG8gb3Blbi9yZW1haW4gb3BlbiBvbiBwYXJlbnQgY2xpY2sgZXZlbnQuIEFsbG93cyBjdXJzb3IgdG8gbW92ZSBhd2F5IGZyb20gbWVudS5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGNsaWNrT3BlbjogZmFsc2UsXG4gIC8qKlxuICAgKiBBbW91bnQgb2YgdGltZSB0byBkZWxheSBjbG9zaW5nIGEgc3VibWVudSBvbiBhIG1vdXNlbGVhdmUgZXZlbnQuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgNTAwXG4gICAqL1xuXG4gIGNsb3NpbmdUaW1lOiA1MDAsXG4gIC8qKlxuICAgKiBQb3NpdGlvbiBvZiB0aGUgbWVudSByZWxhdGl2ZSB0byB3aGF0IGRpcmVjdGlvbiB0aGUgc3VibWVudXMgc2hvdWxkIG9wZW4uIEhhbmRsZWQgYnkgSlMuIENhbiBiZSBgJ2F1dG8nYCwgYCdsZWZ0J2Agb3IgYCdyaWdodCdgLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0ICdhdXRvJ1xuICAgKi9cbiAgYWxpZ25tZW50OiAnYXV0bycsXG4gIC8qKlxuICAgKiBBbGxvdyBjbGlja3Mgb24gdGhlIGJvZHkgdG8gY2xvc2UgYW55IG9wZW4gc3VibWVudXMuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGNsb3NlT25DbGljazogdHJ1ZSxcbiAgLyoqXG4gICAqIEFsbG93IGNsaWNrcyBvbiBsZWFmIGFuY2hvciBsaW5rcyB0byBjbG9zZSBhbnkgb3BlbiBzdWJtZW51cy5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgY2xvc2VPbkNsaWNrSW5zaWRlOiB0cnVlLFxuICAvKipcbiAgICogQ2xhc3MgYXBwbGllZCB0byB2ZXJ0aWNhbCBvcmllbnRlZCBtZW51cywgRm91bmRhdGlvbiBkZWZhdWx0IGlzIGB2ZXJ0aWNhbGAuIFVwZGF0ZSB0aGlzIGlmIHVzaW5nIHlvdXIgb3duIGNsYXNzLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0ICd2ZXJ0aWNhbCdcbiAgICovXG4gIHZlcnRpY2FsQ2xhc3M6ICd2ZXJ0aWNhbCcsXG4gIC8qKlxuICAgKiBDbGFzcyBhcHBsaWVkIHRvIHJpZ2h0LXNpZGUgb3JpZW50ZWQgbWVudXMsIEZvdW5kYXRpb24gZGVmYXVsdCBpcyBgYWxpZ24tcmlnaHRgLiBVcGRhdGUgdGhpcyBpZiB1c2luZyB5b3VyIG93biBjbGFzcy5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnYWxpZ24tcmlnaHQnXG4gICAqL1xuICByaWdodENsYXNzOiAnYWxpZ24tcmlnaHQnLFxuICAvKipcbiAgICogQm9vbGVhbiB0byBmb3JjZSBvdmVyaWRlIHRoZSBjbGlja2luZyBvZiBsaW5rcyB0byBwZXJmb3JtIGRlZmF1bHQgYWN0aW9uLCBvbiBzZWNvbmQgdG91Y2ggZXZlbnQgZm9yIG1vYmlsZS5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZm9yY2VGb2xsb3c6IHRydWVcbn07XG5cbmV4cG9ydCB7RHJvcGRvd25NZW51fTtcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgeyBNZWRpYVF1ZXJ5IH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwubWVkaWFRdWVyeSc7XG5pbXBvcnQgeyBvbkltYWdlc0xvYWRlZCB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLmltYWdlTG9hZGVyJztcbmltcG9ydCB7IEdldFlvRGlnaXRzIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUudXRpbHMnO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcblxuLyoqXG4gKiBFcXVhbGl6ZXIgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLmVxdWFsaXplclxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tZWRpYVF1ZXJ5XG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmltYWdlTG9hZGVyIGlmIGVxdWFsaXplciBjb250YWlucyBpbWFnZXNcbiAqL1xuXG5jbGFzcyBFcXVhbGl6ZXIgZXh0ZW5kcyBQbHVnaW4ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBFcXVhbGl6ZXIuXG4gICAqIEBjbGFzc1xuICAgKiBAbmFtZSBFcXVhbGl6ZXJcbiAgICogQGZpcmVzIEVxdWFsaXplciNpbml0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCB0byBhZGQgdGhlIHRyaWdnZXIgdG8uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3ZlcnJpZGVzIHRvIHRoZSBkZWZhdWx0IHBsdWdpbiBzZXR0aW5ncy5cbiAgICovXG4gIF9zZXR1cChlbGVtZW50LCBvcHRpb25zKXtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgID0gJC5leHRlbmQoe30sIEVxdWFsaXplci5kZWZhdWx0cywgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuICAgIHRoaXMuY2xhc3NOYW1lID0gJ0VxdWFsaXplcic7IC8vIGllOSBiYWNrIGNvbXBhdFxuXG4gICAgdGhpcy5faW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBFcXVhbGl6ZXIgcGx1Z2luIGFuZCBjYWxscyBmdW5jdGlvbnMgdG8gZ2V0IGVxdWFsaXplciBmdW5jdGlvbmluZyBvbiBsb2FkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgdmFyIGVxSWQgPSB0aGlzLiRlbGVtZW50LmF0dHIoJ2RhdGEtZXF1YWxpemVyJykgfHwgJyc7XG4gICAgdmFyICR3YXRjaGVkID0gdGhpcy4kZWxlbWVudC5maW5kKGBbZGF0YS1lcXVhbGl6ZXItd2F0Y2g9XCIke2VxSWR9XCJdYCk7XG5cbiAgICBNZWRpYVF1ZXJ5Ll9pbml0KCk7XG5cbiAgICB0aGlzLiR3YXRjaGVkID0gJHdhdGNoZWQubGVuZ3RoID8gJHdhdGNoZWQgOiB0aGlzLiRlbGVtZW50LmZpbmQoJ1tkYXRhLWVxdWFsaXplci13YXRjaF0nKTtcbiAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2RhdGEtcmVzaXplJywgKGVxSWQgfHwgR2V0WW9EaWdpdHMoNiwgJ2VxJykpKTtcbiAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2RhdGEtbXV0YXRlJywgKGVxSWQgfHwgR2V0WW9EaWdpdHMoNiwgJ2VxJykpKTtcblxuICAgIHRoaXMuaGFzTmVzdGVkID0gdGhpcy4kZWxlbWVudC5maW5kKCdbZGF0YS1lcXVhbGl6ZXJdJykubGVuZ3RoID4gMDtcbiAgICB0aGlzLmlzTmVzdGVkID0gdGhpcy4kZWxlbWVudC5wYXJlbnRzVW50aWwoZG9jdW1lbnQuYm9keSwgJ1tkYXRhLWVxdWFsaXplcl0nKS5sZW5ndGggPiAwO1xuICAgIHRoaXMuaXNPbiA9IGZhbHNlO1xuICAgIHRoaXMuX2JpbmRIYW5kbGVyID0ge1xuICAgICAgb25SZXNpemVNZUJvdW5kOiB0aGlzLl9vblJlc2l6ZU1lLmJpbmQodGhpcyksXG4gICAgICBvblBvc3RFcXVhbGl6ZWRCb3VuZDogdGhpcy5fb25Qb3N0RXF1YWxpemVkLmJpbmQodGhpcylcbiAgICB9O1xuXG4gICAgdmFyIGltZ3MgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2ltZycpO1xuICAgIHZhciB0b29TbWFsbDtcbiAgICBpZih0aGlzLm9wdGlvbnMuZXF1YWxpemVPbil7XG4gICAgICB0b29TbWFsbCA9IHRoaXMuX2NoZWNrTVEoKTtcbiAgICAgICQod2luZG93KS5vbignY2hhbmdlZC56Zi5tZWRpYXF1ZXJ5JywgdGhpcy5fY2hlY2tNUS5iaW5kKHRoaXMpKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuX2V2ZW50cygpO1xuICAgIH1cbiAgICBpZigodHlwZW9mIHRvb1NtYWxsICE9PSAndW5kZWZpbmVkJyAmJiB0b29TbWFsbCA9PT0gZmFsc2UpIHx8IHR5cGVvZiB0b29TbWFsbCA9PT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgaWYoaW1ncy5sZW5ndGgpe1xuICAgICAgICBvbkltYWdlc0xvYWRlZChpbWdzLCB0aGlzLl9yZWZsb3cuYmluZCh0aGlzKSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdGhpcy5fcmVmbG93KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIGlmIHRoZSBicmVha3BvaW50IGlzIHRvbyBzbWFsbC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wYXVzZUV2ZW50cygpIHtcbiAgICB0aGlzLmlzT24gPSBmYWxzZTtcbiAgICB0aGlzLiRlbGVtZW50Lm9mZih7XG4gICAgICAnLnpmLmVxdWFsaXplcic6IHRoaXMuX2JpbmRIYW5kbGVyLm9uUG9zdEVxdWFsaXplZEJvdW5kLFxuICAgICAgJ3Jlc2l6ZW1lLnpmLnRyaWdnZXInOiB0aGlzLl9iaW5kSGFuZGxlci5vblJlc2l6ZU1lQm91bmQsXG5cdCAgJ211dGF0ZW1lLnpmLnRyaWdnZXInOiB0aGlzLl9iaW5kSGFuZGxlci5vblJlc2l6ZU1lQm91bmRcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBmdW5jdGlvbiB0byBoYW5kbGUgJGVsZW1lbnRzIHJlc2l6ZW1lLnpmLnRyaWdnZXIsIHdpdGggYm91bmQgdGhpcyBvbiBfYmluZEhhbmRsZXIub25SZXNpemVNZUJvdW5kXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfb25SZXNpemVNZSgpIHtcbiAgICB0aGlzLl9yZWZsb3coKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBmdW5jdGlvbiB0byBoYW5kbGUgJGVsZW1lbnRzIHBvc3RlcXVhbGl6ZWQuemYuZXF1YWxpemVyLCB3aXRoIGJvdW5kIHRoaXMgb24gX2JpbmRIYW5kbGVyLm9uUG9zdEVxdWFsaXplZEJvdW5kXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfb25Qb3N0RXF1YWxpemVkKGUpIHtcbiAgICBpZihlLnRhcmdldCAhPT0gdGhpcy4kZWxlbWVudFswXSl7IHRoaXMuX3JlZmxvdygpOyB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgZXZlbnRzIGZvciBFcXVhbGl6ZXIuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZXZlbnRzKCkge1xuICAgIHRoaXMuX3BhdXNlRXZlbnRzKCk7XG4gICAgaWYodGhpcy5oYXNOZXN0ZWQpe1xuICAgICAgdGhpcy4kZWxlbWVudC5vbigncG9zdGVxdWFsaXplZC56Zi5lcXVhbGl6ZXInLCB0aGlzLl9iaW5kSGFuZGxlci5vblBvc3RFcXVhbGl6ZWRCb3VuZCk7XG4gICAgfWVsc2V7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdyZXNpemVtZS56Zi50cmlnZ2VyJywgdGhpcy5fYmluZEhhbmRsZXIub25SZXNpemVNZUJvdW5kKTtcblx0ICB0aGlzLiRlbGVtZW50Lm9uKCdtdXRhdGVtZS56Zi50cmlnZ2VyJywgdGhpcy5fYmluZEhhbmRsZXIub25SZXNpemVNZUJvdW5kKTtcbiAgICB9XG4gICAgdGhpcy5pc09uID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgdGhlIGN1cnJlbnQgYnJlYWtwb2ludCB0byB0aGUgbWluaW11bSByZXF1aXJlZCBzaXplLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NoZWNrTVEoKSB7XG4gICAgdmFyIHRvb1NtYWxsID0gIU1lZGlhUXVlcnkuaXModGhpcy5vcHRpb25zLmVxdWFsaXplT24pO1xuICAgIGlmKHRvb1NtYWxsKXtcbiAgICAgIGlmKHRoaXMuaXNPbil7XG4gICAgICAgIHRoaXMuX3BhdXNlRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuJHdhdGNoZWQuY3NzKCdoZWlnaHQnLCAnYXV0bycpO1xuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgaWYoIXRoaXMuaXNPbil7XG4gICAgICAgIHRoaXMuX2V2ZW50cygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG9vU21hbGw7XG4gIH1cblxuICAvKipcbiAgICogQSBub29wIHZlcnNpb24gZm9yIHRoZSBwbHVnaW5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9raWxsc3dpdGNoKCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBuZWNlc3NhcnkgZnVuY3Rpb25zIHRvIHVwZGF0ZSBFcXVhbGl6ZXIgdXBvbiBET00gY2hhbmdlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVmbG93KCkge1xuICAgIGlmKCF0aGlzLm9wdGlvbnMuZXF1YWxpemVPblN0YWNrKXtcbiAgICAgIGlmKHRoaXMuX2lzU3RhY2tlZCgpKXtcbiAgICAgICAgdGhpcy4kd2F0Y2hlZC5jc3MoJ2hlaWdodCcsICdhdXRvJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5lcXVhbGl6ZUJ5Um93KSB7XG4gICAgICB0aGlzLmdldEhlaWdodHNCeVJvdyh0aGlzLmFwcGx5SGVpZ2h0QnlSb3cuYmluZCh0aGlzKSk7XG4gICAgfWVsc2V7XG4gICAgICB0aGlzLmdldEhlaWdodHModGhpcy5hcHBseUhlaWdodC5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFudWFsbHkgZGV0ZXJtaW5lcyBpZiB0aGUgZmlyc3QgMiBlbGVtZW50cyBhcmUgKk5PVCogc3RhY2tlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pc1N0YWNrZWQoKSB7XG4gICAgaWYgKCF0aGlzLiR3YXRjaGVkWzBdIHx8ICF0aGlzLiR3YXRjaGVkWzFdKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuJHdhdGNoZWRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICE9PSB0aGlzLiR3YXRjaGVkWzFdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgb3V0ZXIgaGVpZ2h0cyBvZiBjaGlsZHJlbiBjb250YWluZWQgd2l0aGluIGFuIEVxdWFsaXplciBwYXJlbnQgYW5kIHJldHVybnMgdGhlbSBpbiBhbiBhcnJheVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIEEgbm9uLW9wdGlvbmFsIGNhbGxiYWNrIHRvIHJldHVybiB0aGUgaGVpZ2h0cyBhcnJheSB0by5cbiAgICogQHJldHVybnMge0FycmF5fSBoZWlnaHRzIC0gQW4gYXJyYXkgb2YgaGVpZ2h0cyBvZiBjaGlsZHJlbiB3aXRoaW4gRXF1YWxpemVyIGNvbnRhaW5lclxuICAgKi9cbiAgZ2V0SGVpZ2h0cyhjYikge1xuICAgIHZhciBoZWlnaHRzID0gW107XG4gICAgZm9yKHZhciBpID0gMCwgbGVuID0gdGhpcy4kd2F0Y2hlZC5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XG4gICAgICB0aGlzLiR3YXRjaGVkW2ldLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgIGhlaWdodHMucHVzaCh0aGlzLiR3YXRjaGVkW2ldLm9mZnNldEhlaWdodCk7XG4gICAgfVxuICAgIGNiKGhlaWdodHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBvdXRlciBoZWlnaHRzIG9mIGNoaWxkcmVuIGNvbnRhaW5lZCB3aXRoaW4gYW4gRXF1YWxpemVyIHBhcmVudCBhbmQgcmV0dXJucyB0aGVtIGluIGFuIGFycmF5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gQSBub24tb3B0aW9uYWwgY2FsbGJhY2sgdG8gcmV0dXJuIHRoZSBoZWlnaHRzIGFycmF5IHRvLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGdyb3VwcyAtIEFuIGFycmF5IG9mIGhlaWdodHMgb2YgY2hpbGRyZW4gd2l0aGluIEVxdWFsaXplciBjb250YWluZXIgZ3JvdXBlZCBieSByb3cgd2l0aCBlbGVtZW50LGhlaWdodCBhbmQgbWF4IGFzIGxhc3QgY2hpbGRcbiAgICovXG4gIGdldEhlaWdodHNCeVJvdyhjYikge1xuICAgIHZhciBsYXN0RWxUb3BPZmZzZXQgPSAodGhpcy4kd2F0Y2hlZC5sZW5ndGggPyB0aGlzLiR3YXRjaGVkLmZpcnN0KCkub2Zmc2V0KCkudG9wIDogMCksXG4gICAgICAgIGdyb3VwcyA9IFtdLFxuICAgICAgICBncm91cCA9IDA7XG4gICAgLy9ncm91cCBieSBSb3dcbiAgICBncm91cHNbZ3JvdXBdID0gW107XG4gICAgZm9yKHZhciBpID0gMCwgbGVuID0gdGhpcy4kd2F0Y2hlZC5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XG4gICAgICB0aGlzLiR3YXRjaGVkW2ldLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgIC8vbWF5YmUgY291bGQgdXNlIHRoaXMuJHdhdGNoZWRbaV0ub2Zmc2V0VG9wXG4gICAgICB2YXIgZWxPZmZzZXRUb3AgPSAkKHRoaXMuJHdhdGNoZWRbaV0pLm9mZnNldCgpLnRvcDtcbiAgICAgIGlmIChlbE9mZnNldFRvcCAhPT0gbGFzdEVsVG9wT2Zmc2V0KSB7XG4gICAgICAgIGdyb3VwKys7XG4gICAgICAgIGdyb3Vwc1tncm91cF0gPSBbXTtcbiAgICAgICAgbGFzdEVsVG9wT2Zmc2V0PWVsT2Zmc2V0VG9wO1xuICAgICAgfVxuICAgICAgZ3JvdXBzW2dyb3VwXS5wdXNoKFt0aGlzLiR3YXRjaGVkW2ldLHRoaXMuJHdhdGNoZWRbaV0ub2Zmc2V0SGVpZ2h0XSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaiA9IDAsIGxuID0gZ3JvdXBzLmxlbmd0aDsgaiA8IGxuOyBqKyspIHtcbiAgICAgIHZhciBoZWlnaHRzID0gJChncm91cHNbal0pLm1hcChmdW5jdGlvbigpeyByZXR1cm4gdGhpc1sxXTsgfSkuZ2V0KCk7XG4gICAgICB2YXIgbWF4ICAgICAgICAgPSBNYXRoLm1heC5hcHBseShudWxsLCBoZWlnaHRzKTtcbiAgICAgIGdyb3Vwc1tqXS5wdXNoKG1heCk7XG4gICAgfVxuICAgIGNiKGdyb3Vwcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hhbmdlcyB0aGUgQ1NTIGhlaWdodCBwcm9wZXJ0eSBvZiBlYWNoIGNoaWxkIGluIGFuIEVxdWFsaXplciBwYXJlbnQgdG8gbWF0Y2ggdGhlIHRhbGxlc3RcbiAgICogQHBhcmFtIHthcnJheX0gaGVpZ2h0cyAtIEFuIGFycmF5IG9mIGhlaWdodHMgb2YgY2hpbGRyZW4gd2l0aGluIEVxdWFsaXplciBjb250YWluZXJcbiAgICogQGZpcmVzIEVxdWFsaXplciNwcmVlcXVhbGl6ZWRcbiAgICogQGZpcmVzIEVxdWFsaXplciNwb3N0ZXF1YWxpemVkXG4gICAqL1xuICBhcHBseUhlaWdodChoZWlnaHRzKSB7XG4gICAgdmFyIG1heCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGhlaWdodHMpO1xuICAgIC8qKlxuICAgICAqIEZpcmVzIGJlZm9yZSB0aGUgaGVpZ2h0cyBhcmUgYXBwbGllZFxuICAgICAqIEBldmVudCBFcXVhbGl6ZXIjcHJlZXF1YWxpemVkXG4gICAgICovXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdwcmVlcXVhbGl6ZWQuemYuZXF1YWxpemVyJyk7XG5cbiAgICB0aGlzLiR3YXRjaGVkLmNzcygnaGVpZ2h0JywgbWF4KTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVzIHdoZW4gdGhlIGhlaWdodHMgaGF2ZSBiZWVuIGFwcGxpZWRcbiAgICAgKiBAZXZlbnQgRXF1YWxpemVyI3Bvc3RlcXVhbGl6ZWRcbiAgICAgKi9cbiAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdwb3N0ZXF1YWxpemVkLnpmLmVxdWFsaXplcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZXMgdGhlIENTUyBoZWlnaHQgcHJvcGVydHkgb2YgZWFjaCBjaGlsZCBpbiBhbiBFcXVhbGl6ZXIgcGFyZW50IHRvIG1hdGNoIHRoZSB0YWxsZXN0IGJ5IHJvd1xuICAgKiBAcGFyYW0ge2FycmF5fSBncm91cHMgLSBBbiBhcnJheSBvZiBoZWlnaHRzIG9mIGNoaWxkcmVuIHdpdGhpbiBFcXVhbGl6ZXIgY29udGFpbmVyIGdyb3VwZWQgYnkgcm93IHdpdGggZWxlbWVudCxoZWlnaHQgYW5kIG1heCBhcyBsYXN0IGNoaWxkXG4gICAqIEBmaXJlcyBFcXVhbGl6ZXIjcHJlZXF1YWxpemVkXG4gICAqIEBmaXJlcyBFcXVhbGl6ZXIjcHJlZXF1YWxpemVkcm93XG4gICAqIEBmaXJlcyBFcXVhbGl6ZXIjcG9zdGVxdWFsaXplZHJvd1xuICAgKiBAZmlyZXMgRXF1YWxpemVyI3Bvc3RlcXVhbGl6ZWRcbiAgICovXG4gIGFwcGx5SGVpZ2h0QnlSb3coZ3JvdXBzKSB7XG4gICAgLyoqXG4gICAgICogRmlyZXMgYmVmb3JlIHRoZSBoZWlnaHRzIGFyZSBhcHBsaWVkXG4gICAgICovXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdwcmVlcXVhbGl6ZWQuemYuZXF1YWxpemVyJyk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBsZW4gOyBpKyspIHtcbiAgICAgIHZhciBncm91cHNJTGVuZ3RoID0gZ3JvdXBzW2ldLmxlbmd0aCxcbiAgICAgICAgICBtYXggPSBncm91cHNbaV1bZ3JvdXBzSUxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGdyb3Vwc0lMZW5ndGg8PTIpIHtcbiAgICAgICAgJChncm91cHNbaV1bMF1bMF0pLmNzcyh7J2hlaWdodCc6J2F1dG8nfSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgICogRmlyZXMgYmVmb3JlIHRoZSBoZWlnaHRzIHBlciByb3cgYXJlIGFwcGxpZWRcbiAgICAgICAgKiBAZXZlbnQgRXF1YWxpemVyI3ByZWVxdWFsaXplZHJvd1xuICAgICAgICAqL1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdwcmVlcXVhbGl6ZWRyb3cuemYuZXF1YWxpemVyJyk7XG4gICAgICBmb3IgKHZhciBqID0gMCwgbGVuSiA9IChncm91cHNJTGVuZ3RoLTEpOyBqIDwgbGVuSiA7IGorKykge1xuICAgICAgICAkKGdyb3Vwc1tpXVtqXVswXSkuY3NzKHsnaGVpZ2h0JzptYXh9KTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIGhlaWdodHMgcGVyIHJvdyBoYXZlIGJlZW4gYXBwbGllZFxuICAgICAgICAqIEBldmVudCBFcXVhbGl6ZXIjcG9zdGVxdWFsaXplZHJvd1xuICAgICAgICAqL1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdwb3N0ZXF1YWxpemVkcm93LnpmLmVxdWFsaXplcicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIHRoZSBoZWlnaHRzIGhhdmUgYmVlbiBhcHBsaWVkXG4gICAgICovXG4gICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigncG9zdGVxdWFsaXplZC56Zi5lcXVhbGl6ZXInKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyBhbiBpbnN0YW5jZSBvZiBFcXVhbGl6ZXIuXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgX2Rlc3Ryb3koKSB7XG4gICAgdGhpcy5fcGF1c2VFdmVudHMoKTtcbiAgICB0aGlzLiR3YXRjaGVkLmNzcygnaGVpZ2h0JywgJ2F1dG8nKTtcbiAgfVxufVxuXG4vKipcbiAqIERlZmF1bHQgc2V0dGluZ3MgZm9yIHBsdWdpblxuICovXG5FcXVhbGl6ZXIuZGVmYXVsdHMgPSB7XG4gIC8qKlxuICAgKiBFbmFibGUgaGVpZ2h0IGVxdWFsaXphdGlvbiB3aGVuIHN0YWNrZWQgb24gc21hbGxlciBzY3JlZW5zLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZXF1YWxpemVPblN0YWNrOiBmYWxzZSxcbiAgLyoqXG4gICAqIEVuYWJsZSBoZWlnaHQgZXF1YWxpemF0aW9uIHJvdyBieSByb3cuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBlcXVhbGl6ZUJ5Um93OiBmYWxzZSxcbiAgLyoqXG4gICAqIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIG1pbmltdW0gYnJlYWtwb2ludCBzaXplIHRoZSBwbHVnaW4gc2hvdWxkIGVxdWFsaXplIGhlaWdodHMgb24uXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJydcbiAgICovXG4gIGVxdWFsaXplT246ICcnXG59O1xuXG5leHBvcnQge0VxdWFsaXplcn07XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHsgTWVkaWFRdWVyeSB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLm1lZGlhUXVlcnknO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcbmltcG9ydCB7IEdldFlvRGlnaXRzIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUudXRpbHMnO1xuaW1wb3J0IHsgVHJpZ2dlcnMgfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC50cmlnZ2Vycyc7XG5cbi8qKlxuICogSW50ZXJjaGFuZ2UgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLmludGVyY2hhbmdlXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm1lZGlhUXVlcnlcbiAqL1xuXG5jbGFzcyBJbnRlcmNoYW5nZSBleHRlbmRzIFBsdWdpbiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIEludGVyY2hhbmdlLlxuICAgKiBAY2xhc3NcbiAgICogQG5hbWUgSW50ZXJjaGFuZ2VcbiAgICogQGZpcmVzIEludGVyY2hhbmdlI2luaXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIGFkZCB0aGUgdHJpZ2dlciB0by5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgX3NldHVwKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgSW50ZXJjaGFuZ2UuZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcbiAgICB0aGlzLnJ1bGVzID0gW107XG4gICAgdGhpcy5jdXJyZW50UGF0aCA9ICcnO1xuICAgIHRoaXMuY2xhc3NOYW1lID0gJ0ludGVyY2hhbmdlJzsgLy8gaWU5IGJhY2sgY29tcGF0XG5cbiAgICAvLyBUcmlnZ2VycyBpbml0IGlzIGlkZW1wb3RlbnQsIGp1c3QgbmVlZCB0byBtYWtlIHN1cmUgaXQgaXMgaW5pdGlhbGl6ZWRcbiAgICBUcmlnZ2Vycy5pbml0KCQpO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBJbnRlcmNoYW5nZSBwbHVnaW4gYW5kIGNhbGxzIGZ1bmN0aW9ucyB0byBnZXQgaW50ZXJjaGFuZ2UgZnVuY3Rpb25pbmcgb24gbG9hZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICBNZWRpYVF1ZXJ5Ll9pbml0KCk7XG5cbiAgICB2YXIgaWQgPSB0aGlzLiRlbGVtZW50WzBdLmlkIHx8IEdldFlvRGlnaXRzKDYsICdpbnRlcmNoYW5nZScpO1xuICAgIHRoaXMuJGVsZW1lbnQuYXR0cih7XG4gICAgICAnZGF0YS1yZXNpemUnOiBpZCxcbiAgICAgICdpZCc6IGlkXG4gICAgfSk7XG5cbiAgICB0aGlzLl9wYXJzZU9wdGlvbnMoKTtcbiAgICB0aGlzLl9hZGRCcmVha3BvaW50cygpO1xuICAgIHRoaXMuX2dlbmVyYXRlUnVsZXMoKTtcbiAgICB0aGlzLl9yZWZsb3coKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBldmVudHMgZm9yIEludGVyY2hhbmdlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9ldmVudHMoKSB7XG4gICAgdGhpcy4kZWxlbWVudC5vZmYoJ3Jlc2l6ZW1lLnpmLnRyaWdnZXInKS5vbigncmVzaXplbWUuemYudHJpZ2dlcicsICgpID0+IHRoaXMuX3JlZmxvdygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBuZWNlc3NhcnkgZnVuY3Rpb25zIHRvIHVwZGF0ZSBJbnRlcmNoYW5nZSB1cG9uIERPTSBjaGFuZ2VcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVmbG93KCkge1xuICAgIHZhciBtYXRjaDtcblxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBlYWNoIHJ1bGUsIGJ1dCBvbmx5IHNhdmUgdGhlIGxhc3QgbWF0Y2hcbiAgICBmb3IgKHZhciBpIGluIHRoaXMucnVsZXMpIHtcbiAgICAgIGlmKHRoaXMucnVsZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgdmFyIHJ1bGUgPSB0aGlzLnJ1bGVzW2ldO1xuICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEocnVsZS5xdWVyeSkubWF0Y2hlcykge1xuICAgICAgICAgIG1hdGNoID0gcnVsZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgdGhpcy5yZXBsYWNlKG1hdGNoLnBhdGgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBvcHRpb25zIHZhbGlmaXR5IGFuZCBzZXQgZGVmYXVsdHMgZm9yOlxuICAgKiAtIGBkYXRhLWludGVyY2hhbmdlLXR5cGVgOiBpZiBzZXQsIGVuZm9yY2UgdGhlIHR5cGUgb2YgcmVwbGFjZW1lbnQgKGF1dG8sIHNyYywgYmFja2dyb3VuZCBvciBodG1sKVxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wYXJzZU9wdGlvbnMoKSB7XG4gICAgdmFyIHR5cGVzID0gWydhdXRvJywgJ3NyYycsICdiYWNrZ3JvdW5kJywgJ2h0bWwnXTtcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy50eXBlID09PSAndW5kZWZpbmVkJylcbiAgICAgIHRoaXMub3B0aW9ucy50eXBlID0gJ2F1dG8nO1xuICAgIGVsc2UgaWYgKHR5cGVzLmluZGV4T2YodGhpcy5vcHRpb25zLnR5cGUpID09PSAtMSkge1xuICAgICAgY29uc29sZS53YXJuKGBXYXJuaW5nOiBpbnZhbGlkIHZhbHVlIFwiJHt0aGlzLm9wdGlvbnMudHlwZX1cIiBmb3IgSW50ZXJjaGFuZ2Ugb3B0aW9uIFwidHlwZVwiYCk7XG4gICAgICB0aGlzLm9wdGlvbnMudHlwZSA9ICdhdXRvJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgRm91bmRhdGlvbiBicmVha3BvaW50cyBhbmQgYWRkcyB0aGVtIHRvIHRoZSBJbnRlcmNoYW5nZS5TUEVDSUFMX1FVRVJJRVMgb2JqZWN0LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hZGRCcmVha3BvaW50cygpIHtcbiAgICBmb3IgKHZhciBpIGluIE1lZGlhUXVlcnkucXVlcmllcykge1xuICAgICAgaWYgKE1lZGlhUXVlcnkucXVlcmllcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICB2YXIgcXVlcnkgPSBNZWRpYVF1ZXJ5LnF1ZXJpZXNbaV07XG4gICAgICAgIEludGVyY2hhbmdlLlNQRUNJQUxfUVVFUklFU1txdWVyeS5uYW1lXSA9IHF1ZXJ5LnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgdGhlIEludGVyY2hhbmdlIGVsZW1lbnQgZm9yIHRoZSBwcm92aWRlZCBtZWRpYSBxdWVyeSArIGNvbnRlbnQgcGFpcmluZ3NcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtBcnJheX0gc2NlbmFyaW9zIC0gQXJyYXkgb2Ygb2JqZWN0cyB0aGF0IGhhdmUgJ21xJyBhbmQgJ3BhdGgnIGtleXMgd2l0aCBjb3JyZXNwb25kaW5nIGtleXNcbiAgICovXG4gIF9nZW5lcmF0ZVJ1bGVzKCkge1xuICAgIHZhciBydWxlc0xpc3QgPSBbXTtcbiAgICB2YXIgcnVsZXM7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJ1bGVzKSB7XG4gICAgICBydWxlcyA9IHRoaXMub3B0aW9ucy5ydWxlcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBydWxlcyA9IHRoaXMuJGVsZW1lbnQuZGF0YSgnaW50ZXJjaGFuZ2UnKTtcbiAgICB9XG5cbiAgICBydWxlcyA9ICB0eXBlb2YgcnVsZXMgPT09ICdzdHJpbmcnID8gcnVsZXMubWF0Y2goL1xcWy4qPywgLio/XFxdL2cpIDogcnVsZXM7XG5cbiAgICBmb3IgKHZhciBpIGluIHJ1bGVzKSB7XG4gICAgICBpZihydWxlcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICB2YXIgcnVsZSA9IHJ1bGVzW2ldLnNsaWNlKDEsIC0xKS5zcGxpdCgnLCAnKTtcbiAgICAgICAgdmFyIHBhdGggPSBydWxlLnNsaWNlKDAsIC0xKS5qb2luKCcnKTtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gcnVsZVtydWxlLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChJbnRlcmNoYW5nZS5TUEVDSUFMX1FVRVJJRVNbcXVlcnldKSB7XG4gICAgICAgICAgcXVlcnkgPSBJbnRlcmNoYW5nZS5TUEVDSUFMX1FVRVJJRVNbcXVlcnldO1xuICAgICAgICB9XG5cbiAgICAgICAgcnVsZXNMaXN0LnB1c2goe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnk6IHF1ZXJ5XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucnVsZXMgPSBydWxlc0xpc3Q7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBgc3JjYCBwcm9wZXJ0eSBvZiBhbiBpbWFnZSwgb3IgY2hhbmdlIHRoZSBIVE1MIG9mIGEgY29udGFpbmVyLCB0byB0aGUgc3BlY2lmaWVkIHBhdGguXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCAtIFBhdGggdG8gdGhlIGltYWdlIG9yIEhUTUwgcGFydGlhbC5cbiAgICogQGZpcmVzIEludGVyY2hhbmdlI3JlcGxhY2VkXG4gICAqL1xuICByZXBsYWNlKHBhdGgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGF0aCA9PT0gcGF0aCkgcmV0dXJuO1xuXG4gICAgdmFyIHRyaWdnZXIgPSAncmVwbGFjZWQuemYuaW50ZXJjaGFuZ2UnO1xuXG4gICAgdmFyIHR5cGUgPSB0aGlzLm9wdGlvbnMudHlwZTtcbiAgICBpZiAodHlwZSA9PT0gJ2F1dG8nKSB7XG4gICAgICBpZiAodGhpcy4kZWxlbWVudFswXS5ub2RlTmFtZSA9PT0gJ0lNRycpXG4gICAgICAgIHR5cGUgPSAnc3JjJztcbiAgICAgIGVsc2UgaWYgKHBhdGgubWF0Y2goL1xcLihnaWZ8anBlP2d8cG5nfHN2Z3x0aWZmKShbPyNdLiopPy9pKSlcbiAgICAgICAgdHlwZSA9ICdiYWNrZ3JvdW5kJztcbiAgICAgIGVsc2VcbiAgICAgICAgdHlwZSA9ICdodG1sJztcbiAgICB9XG5cbiAgICAvLyBSZXBsYWNpbmcgaW1hZ2VzXG4gICAgaWYgKHR5cGUgPT09ICdzcmMnKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ3NyYycsIHBhdGgpXG4gICAgICAgIC5vbignbG9hZCcsICgpID0+IHsgdGhpcy5jdXJyZW50UGF0aCA9IHBhdGg7IH0pXG4gICAgICAgIC50cmlnZ2VyKHRyaWdnZXIpO1xuICAgIH1cbiAgICAvLyBSZXBsYWNpbmcgYmFja2dyb3VuZCBpbWFnZXNcbiAgICBlbHNlIGlmICh0eXBlID09PSAnYmFja2dyb3VuZCcpIHtcbiAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcKC9nLCAnJTI4JykucmVwbGFjZSgvXFwpL2csICclMjknKTtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLmNzcyh7ICdiYWNrZ3JvdW5kLWltYWdlJzogJ3VybCgnICsgcGF0aCArICcpJyB9KVxuICAgICAgICAudHJpZ2dlcih0cmlnZ2VyKTtcbiAgICB9XG4gICAgLy8gUmVwbGFjaW5nIEhUTUxcbiAgICBlbHNlIGlmICh0eXBlID09PSAnaHRtbCcpIHtcbiAgICAgICQuZ2V0KHBhdGgsIChyZXNwb25zZSkgPT4ge1xuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLmh0bWwocmVzcG9uc2UpXG4gICAgICAgICAgLnRyaWdnZXIodHJpZ2dlcik7XG4gICAgICAgICQocmVzcG9uc2UpLmZvdW5kYXRpb24oKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IHBhdGg7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIGNvbnRlbnQgaW4gYW4gSW50ZXJjaGFuZ2UgZWxlbWVudCBpcyBkb25lIGJlaW5nIGxvYWRlZC5cbiAgICAgKiBAZXZlbnQgSW50ZXJjaGFuZ2UjcmVwbGFjZWRcbiAgICAgKi9cbiAgICAvLyB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3JlcGxhY2VkLnpmLmludGVyY2hhbmdlJyk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgYW4gaW5zdGFuY2Ugb2YgaW50ZXJjaGFuZ2UuXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgX2Rlc3Ryb3koKSB7XG4gICAgdGhpcy4kZWxlbWVudC5vZmYoJ3Jlc2l6ZW1lLnpmLnRyaWdnZXInKVxuICB9XG59XG5cbi8qKlxuICogRGVmYXVsdCBzZXR0aW5ncyBmb3IgcGx1Z2luXG4gKi9cbkludGVyY2hhbmdlLmRlZmF1bHRzID0ge1xuICAvKipcbiAgICogUnVsZXMgdG8gYmUgYXBwbGllZCB0byBJbnRlcmNoYW5nZSBlbGVtZW50cy4gU2V0IHdpdGggdGhlIGBkYXRhLWludGVyY2hhbmdlYCBhcnJheSBub3RhdGlvbi5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7P2FycmF5fVxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBydWxlczogbnVsbCxcblxuICAvKipcbiAgICogVHlwZSBvZiB0aGUgcmVzcG9uc2l2ZSByZXNzb3VyY2UgdG8gcmVwbGFjZS4gSXQgY2FuIHRha2UgdGhlIGZvbGxvd2luZyBvcHRpb25zOlxuICAgKiAtIGBhdXRvYCAoZGVmYXVsdCk6IGNob29zZSB0aGUgdHlwZSBhY2NvcmRpbmcgdG8gdGhlIGVsZW1lbnQgdGFnIG9yIHRoZSByZXNzb3VyY2UgZXh0ZW5zaW9uLFxuICAgKiAtIGBzcmNgOiByZXBsYWNlIHRoZSBgW3NyY11gIGF0dHJpYnV0ZSwgcmVjb21tZW5kZWQgZm9yIGltYWdlcyBgPGltZz5gLlxuICAgKiAtIGBiYWNrZ3JvdW5kYDogcmVwbGFjZSB0aGUgYGJhY2tncm91bmQtaW1hZ2VgIENTUyBwcm9wZXJ0eS5cbiAgICogLSBgaHRtbGA6IHJlcGxhY2UgdGhlIGVsZW1lbnQgY29udGVudC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnYXV0bydcbiAgICovXG4gIHR5cGU6ICdhdXRvJ1xufTtcblxuSW50ZXJjaGFuZ2UuU1BFQ0lBTF9RVUVSSUVTID0ge1xuICAnbGFuZHNjYXBlJzogJ3NjcmVlbiBhbmQgKG9yaWVudGF0aW9uOiBsYW5kc2NhcGUpJyxcbiAgJ3BvcnRyYWl0JzogJ3NjcmVlbiBhbmQgKG9yaWVudGF0aW9uOiBwb3J0cmFpdCknLFxuICAncmV0aW5hJzogJ29ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyKSwgb25seSBzY3JlZW4gYW5kIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLCBvbmx5IHNjcmVlbiBhbmQgKC1vLW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIvMSksIG9ubHkgc2NyZWVuIGFuZCAobWluLWRldmljZS1waXhlbC1yYXRpbzogMiksIG9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDE5MmRwaSksIG9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDJkcHB4KSdcbn07XG5cbmV4cG9ydCB7SW50ZXJjaGFuZ2V9O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IEdldFlvRGlnaXRzIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUudXRpbHMnO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcblxuLyoqXG4gKiBTbW9vdGhTY3JvbGwgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLnNtb290aFNjcm9sbFxuICovXG5jbGFzcyBTbW9vdGhTY3JvbGwgZXh0ZW5kcyBQbHVnaW4ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBTbW9vdGhTY3JvbGwuXG4gICAqIEBjbGFzc1xuICAgKiBAbmFtZSBTbW9vdGhTY3JvbGxcbiAgICogQGZpcmVzIFNtb290aFNjcm9sbCNpbml0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCB0byBhZGQgdGhlIHRyaWdnZXIgdG8uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3ZlcnJpZGVzIHRvIHRoZSBkZWZhdWx0IHBsdWdpbiBzZXR0aW5ncy5cbiAgICovXG4gICAgX3NldHVwKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBTbW9vdGhTY3JvbGwuZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnU21vb3RoU2Nyb2xsJzsgLy8gaWU5IGJhY2sgY29tcGF0XG5cbiAgICAgICAgdGhpcy5faW5pdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIFNtb290aFNjcm9sbCBwbHVnaW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0KCkge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuJGVsZW1lbnRbMF0uaWQgfHwgR2V0WW9EaWdpdHMoNiwgJ3Ntb290aC1zY3JvbGwnKTtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKHsgaWQgfSk7XG5cbiAgICAgICAgdGhpcy5fZXZlbnRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgZXZlbnRzIGZvciBTbW9vdGhTY3JvbGwuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZXZlbnRzKCkge1xuICAgICAgICB0aGlzLl9saW5rQ2xpY2tMaXN0ZW5lciA9IHRoaXMuX2hhbmRsZUxpbmtDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay56Zi5zbW9vdGhTY3JvbGwnLCB0aGlzLl9saW5rQ2xpY2tMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLnpmLnNtb290aFNjcm9sbCcsICdhW2hyZWZePVwiI1wiXScsIHRoaXMuX2xpbmtDbGlja0xpc3RlbmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIGdpdmVuIGV2ZW50IHRvIHNtb290aGx5IHNjcm9sbCB0byB0aGUgYW5jaG9yIHBvaW50ZWQgYnkgdGhlIGV2ZW50IHRhcmdldC5cbiAgICAgKiBAcGFyYW0geyp9IGUgLSBldmVudFxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2hhbmRsZUxpbmtDbGljayhlKSB7XG4gICAgICAgIC8vIEZvbGxvdyB0aGUgbGluayBpZiBpdCBkb2VzIG5vdCBwb2ludCB0byBhbiBhbmNob3IuXG4gICAgICAgIGlmICghJChlLmN1cnJlbnRUYXJnZXQpLmlzKCdhW2hyZWZePVwiI1wiXScpKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgYXJyaXZhbCA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcblxuICAgICAgICB0aGlzLl9pblRyYW5zaXRpb24gPSB0cnVlO1xuXG4gICAgICAgIFNtb290aFNjcm9sbC5zY3JvbGxUb0xvYyhhcnJpdmFsLCB0aGlzLm9wdGlvbnMsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2luVHJhbnNpdGlvbiA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIHNjcm9sbCB0byBhIGdpdmVuIGxvY2F0aW9uIG9uIHRoZSBwYWdlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsb2MgLSBBIHByb3Blcmx5IGZvcm1hdHRlZCBqUXVlcnkgaWQgc2VsZWN0b3IuIEV4YW1wbGU6ICcjZm9vJ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgdG8gdXNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgc2Nyb2xsVG9Mb2MobG9jLCBvcHRpb25zID0gU21vb3RoU2Nyb2xsLmRlZmF1bHRzLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCAkbG9jID0gJChsb2MpO1xuXG4gICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGFyZ2V0IGRvZXMgbm90IGV4aXN0IHRvIHByZXZlbnQgZXJyb3JzXG4gICAgICAgIGlmICghJGxvYy5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgICAgICB2YXIgc2Nyb2xsUG9zID0gTWF0aC5yb3VuZCgkbG9jLm9mZnNldCgpLnRvcCAtIG9wdGlvbnMudGhyZXNob2xkIC8gMiAtIG9wdGlvbnMub2Zmc2V0KTtcblxuICAgICAgICAkKCdodG1sLCBib2R5Jykuc3RvcCh0cnVlKS5hbmltYXRlKFxuICAgICAgICAgICAgeyBzY3JvbGxUb3A6IHNjcm9sbFBvcyB9LFxuICAgICAgICAgICAgb3B0aW9ucy5hbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgIG9wdGlvbnMuYW5pbWF0aW9uRWFzaW5nLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpe1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgU21vb3RoU2Nyb2xsIGluc3RhbmNlLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIF9kZXN0cm95KCkge1xuICAgICAgICB0aGlzLiRlbGVtZW50Lm9mZignY2xpY2suemYuc21vb3RoU2Nyb2xsJywgdGhpcy5fbGlua0NsaWNrTGlzdGVuZXIpXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdjbGljay56Zi5zbW9vdGhTY3JvbGwnLCAnYVtocmVmXj1cIiNcIl0nLCB0aGlzLl9saW5rQ2xpY2tMaXN0ZW5lcik7XG4gICAgfVxufVxuXG4vKipcbiAqIERlZmF1bHQgc2V0dGluZ3MgZm9yIHBsdWdpbi5cbiAqL1xuU21vb3RoU2Nyb2xsLmRlZmF1bHRzID0ge1xuICAvKipcbiAgICogQW1vdW50IG9mIHRpbWUsIGluIG1zLCB0aGUgYW5pbWF0ZWQgc2Nyb2xsaW5nIHNob3VsZCB0YWtlIGJldHdlZW4gbG9jYXRpb25zLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDUwMFxuICAgKi9cbiAgYW5pbWF0aW9uRHVyYXRpb246IDUwMCxcbiAgLyoqXG4gICAqIEFuaW1hdGlvbiBzdHlsZSB0byB1c2Ugd2hlbiBzY3JvbGxpbmcgYmV0d2VlbiBsb2NhdGlvbnMuIENhbiBiZSBgJ3N3aW5nJ2Agb3IgYCdsaW5lYXInYC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnbGluZWFyJ1xuICAgKiBAc2VlIHtAbGluayBodHRwczovL2FwaS5qcXVlcnkuY29tL2FuaW1hdGV8SnF1ZXJ5IGFuaW1hdGV9XG4gICAqL1xuICBhbmltYXRpb25FYXNpbmc6ICdsaW5lYXInLFxuICAvKipcbiAgICogTnVtYmVyIG9mIHBpeGVscyB0byB1c2UgYXMgYSBtYXJrZXIgZm9yIGxvY2F0aW9uIGNoYW5nZXMuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgNTBcbiAgICovXG4gIHRocmVzaG9sZDogNTAsXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgcGl4ZWxzIHRvIG9mZnNldCB0aGUgc2Nyb2xsIG9mIHRoZSBwYWdlIG9uIGl0ZW0gY2xpY2sgaWYgdXNpbmcgYSBzdGlja3kgbmF2IGJhci5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBvZmZzZXQ6IDBcbn1cblxuZXhwb3J0IHtTbW9vdGhTY3JvbGx9XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcbmltcG9ydCB7IG9uTG9hZCwgR2V0WW9EaWdpdHMgfSBmcm9tICcuL2ZvdW5kYXRpb24uY29yZS51dGlscyc7XG5pbXBvcnQgeyBTbW9vdGhTY3JvbGwgfSBmcm9tICcuL2ZvdW5kYXRpb24uc21vb3RoU2Nyb2xsJztcblxuaW1wb3J0IHsgVHJpZ2dlcnMgfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC50cmlnZ2Vycyc7XG5cbi8qKlxuICogTWFnZWxsYW4gbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLm1hZ2VsbGFuXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi5zbW9vdGhTY3JvbGxcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwudHJpZ2dlcnNcbiAqL1xuXG5jbGFzcyBNYWdlbGxhbiBleHRlbmRzIFBsdWdpbiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIE1hZ2VsbGFuLlxuICAgKiBAY2xhc3NcbiAgICogQG5hbWUgTWFnZWxsYW5cbiAgICogQGZpcmVzIE1hZ2VsbGFuI2luaXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIGFkZCB0aGUgdHJpZ2dlciB0by5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgX3NldHVwKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgID0gJC5leHRlbmQoe30sIE1hZ2VsbGFuLmRlZmF1bHRzLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucyk7XG4gICAgdGhpcy5jbGFzc05hbWUgPSAnTWFnZWxsYW4nOyAvLyBpZTkgYmFjayBjb21wYXRcblxuICAgIC8vIFRyaWdnZXJzIGluaXQgaXMgaWRlbXBvdGVudCwganVzdCBuZWVkIHRvIG1ha2Ugc3VyZSBpdCBpcyBpbml0aWFsaXplZFxuICAgIFRyaWdnZXJzLmluaXQoJCk7XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gICAgdGhpcy5jYWxjUG9pbnRzKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIE1hZ2VsbGFuIHBsdWdpbiBhbmQgY2FsbHMgZnVuY3Rpb25zIHRvIGdldCBlcXVhbGl6ZXIgZnVuY3Rpb25pbmcgb24gbG9hZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0KCkge1xuICAgIHZhciBpZCA9IHRoaXMuJGVsZW1lbnRbMF0uaWQgfHwgR2V0WW9EaWdpdHMoNiwgJ21hZ2VsbGFuJyk7XG4gICAgdGhpcy4kdGFyZ2V0cyA9ICQoJ1tkYXRhLW1hZ2VsbGFuLXRhcmdldF0nKTtcbiAgICB0aGlzLiRsaW5rcyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnYScpO1xuICAgIHRoaXMuJGVsZW1lbnQuYXR0cih7XG4gICAgICAnZGF0YS1yZXNpemUnOiBpZCxcbiAgICAgICdkYXRhLXNjcm9sbCc6IGlkLFxuICAgICAgJ2lkJzogaWRcbiAgICB9KTtcbiAgICB0aGlzLiRhY3RpdmUgPSAkKCk7XG4gICAgdGhpcy5zY3JvbGxQb3MgPSBwYXJzZUludCh3aW5kb3cucGFnZVlPZmZzZXQsIDEwKTtcblxuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgYW4gYXJyYXkgb2YgcGl4ZWwgdmFsdWVzIHRoYXQgYXJlIHRoZSBkZW1hcmNhdGlvbiBsaW5lcyBiZXR3ZWVuIGxvY2F0aW9ucyBvbiB0aGUgcGFnZS5cbiAgICogQ2FuIGJlIGludm9rZWQgaWYgbmV3IGVsZW1lbnRzIGFyZSBhZGRlZCBvciB0aGUgc2l6ZSBvZiBhIGxvY2F0aW9uIGNoYW5nZXMuXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgY2FsY1BvaW50cygpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBib2R5ID0gZG9jdW1lbnQuYm9keSxcbiAgICAgICAgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgdGhpcy53aW5IZWlnaHQgPSBNYXRoLnJvdW5kKE1hdGgubWF4KHdpbmRvdy5pbm5lckhlaWdodCwgaHRtbC5jbGllbnRIZWlnaHQpKTtcbiAgICB0aGlzLmRvY0hlaWdodCA9IE1hdGgucm91bmQoTWF0aC5tYXgoYm9keS5zY3JvbGxIZWlnaHQsIGJvZHkub2Zmc2V0SGVpZ2h0LCBodG1sLmNsaWVudEhlaWdodCwgaHRtbC5zY3JvbGxIZWlnaHQsIGh0bWwub2Zmc2V0SGVpZ2h0KSk7XG5cbiAgICB0aGlzLiR0YXJnZXRzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIHZhciAkdGFyID0gJCh0aGlzKSxcbiAgICAgICAgICBwdCA9IE1hdGgucm91bmQoJHRhci5vZmZzZXQoKS50b3AgLSBfdGhpcy5vcHRpb25zLnRocmVzaG9sZCk7XG4gICAgICAkdGFyLnRhcmdldFBvaW50ID0gcHQ7XG4gICAgICBfdGhpcy5wb2ludHMucHVzaChwdCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgZXZlbnRzIGZvciBNYWdlbGxhbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9ldmVudHMoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICQod2luZG93KS5vbmUoJ2xvYWQnLCBmdW5jdGlvbigpe1xuICAgICAgaWYoX3RoaXMub3B0aW9ucy5kZWVwTGlua2luZyl7XG4gICAgICAgIGlmKGxvY2F0aW9uLmhhc2gpe1xuICAgICAgICAgIF90aGlzLnNjcm9sbFRvTG9jKGxvY2F0aW9uLmhhc2gpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBfdGhpcy5jYWxjUG9pbnRzKCk7XG4gICAgICBfdGhpcy5fdXBkYXRlQWN0aXZlKCk7XG4gICAgfSk7XG5cbiAgICBfdGhpcy5vbkxvYWRMaXN0ZW5lciA9IG9uTG9hZCgkKHdpbmRvdyksIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLiRlbGVtZW50XG4gICAgICAgIC5vbih7XG4gICAgICAgICAgJ3Jlc2l6ZW1lLnpmLnRyaWdnZXInOiBfdGhpcy5yZWZsb3cuYmluZChfdGhpcyksXG4gICAgICAgICAgJ3Njcm9sbG1lLnpmLnRyaWdnZXInOiBfdGhpcy5fdXBkYXRlQWN0aXZlLmJpbmQoX3RoaXMpXG4gICAgICAgIH0pXG4gICAgICAgIC5vbignY2xpY2suemYubWFnZWxsYW4nLCAnYVtocmVmXj1cIiNcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgYXJyaXZhbCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgICAgX3RoaXMuc2Nyb2xsVG9Mb2MoYXJyaXZhbCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fZGVlcExpbmtTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmKF90aGlzLm9wdGlvbnMuZGVlcExpbmtpbmcpIHtcbiAgICAgICAgX3RoaXMuc2Nyb2xsVG9Mb2Mod2luZG93LmxvY2F0aW9uLmhhc2gpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkKHdpbmRvdykub24oJ2hhc2hjaGFuZ2UnLCB0aGlzLl9kZWVwTGlua1Njcm9sbCk7XG4gIH1cblxuICAvKipcbiAgICogRnVuY3Rpb24gdG8gc2Nyb2xsIHRvIGEgZ2l2ZW4gbG9jYXRpb24gb24gdGhlIHBhZ2UuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsb2MgLSBhIHByb3Blcmx5IGZvcm1hdHRlZCBqUXVlcnkgaWQgc2VsZWN0b3IuIEV4YW1wbGU6ICcjZm9vJ1xuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIHNjcm9sbFRvTG9jKGxvYykge1xuICAgIHRoaXMuX2luVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgYW5pbWF0aW9uRWFzaW5nOiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uRWFzaW5nLFxuICAgICAgYW5pbWF0aW9uRHVyYXRpb246IHRoaXMub3B0aW9ucy5hbmltYXRpb25EdXJhdGlvbixcbiAgICAgIHRocmVzaG9sZDogdGhpcy5vcHRpb25zLnRocmVzaG9sZCxcbiAgICAgIG9mZnNldDogdGhpcy5vcHRpb25zLm9mZnNldFxuICAgIH07XG5cbiAgICBTbW9vdGhTY3JvbGwuc2Nyb2xsVG9Mb2MobG9jLCBvcHRpb25zLCBmdW5jdGlvbigpIHtcbiAgICAgIF90aGlzLl9pblRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIG5lY2Vzc2FyeSBmdW5jdGlvbnMgdG8gdXBkYXRlIE1hZ2VsbGFuIHVwb24gRE9NIGNoYW5nZVxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIHJlZmxvdygpIHtcbiAgICB0aGlzLmNhbGNQb2ludHMoKTtcbiAgICB0aGlzLl91cGRhdGVBY3RpdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2aXNpYmlsaXR5IG9mIGFuIGFjdGl2ZSBsb2NhdGlvbiBsaW5rLCBhbmQgdXBkYXRlcyB0aGUgdXJsIGhhc2ggZm9yIHRoZSBwYWdlLCBpZiBkZWVwTGlua2luZyBlbmFibGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQGZpcmVzIE1hZ2VsbGFuI3VwZGF0ZVxuICAgKi9cbiAgX3VwZGF0ZUFjdGl2ZSgvKmV2dCwgZWxlbSwgc2Nyb2xsUG9zKi8pIHtcbiAgICBpZih0aGlzLl9pblRyYW5zaXRpb24pIHJldHVybjtcblxuICAgIGNvbnN0IG5ld1Njcm9sbFBvcyA9IHBhcnNlSW50KHdpbmRvdy5wYWdlWU9mZnNldCwgMTApO1xuICAgIGNvbnN0IGlzU2Nyb2xsaW5nVXAgPSB0aGlzLnNjcm9sbFBvcyA+IG5ld1Njcm9sbFBvcztcbiAgICB0aGlzLnNjcm9sbFBvcyA9IG5ld1Njcm9sbFBvcztcblxuICAgIGxldCBhY3RpdmVJZHg7XG4gICAgLy8gQmVmb3JlIHRoZSBmaXJzdCBwb2ludDogbm8gbGlua1xuICAgIGlmKG5ld1Njcm9sbFBvcyA8IHRoaXMucG9pbnRzWzBdIC0gdGhpcy5vcHRpb25zLm9mZnNldCAtIChpc1Njcm9sbGluZ1VwID8gdGhpcy5vcHRpb25zLnRocmVzaG9sZCA6IDApKXsgLyogZG8gbm90aGluZyAqLyB9XG4gICAgLy8gQXQgdGhlIGJvdHRvbSBvZiB0aGUgcGFnZTogbGFzdCBsaW5rXG4gICAgZWxzZSBpZihuZXdTY3JvbGxQb3MgKyB0aGlzLndpbkhlaWdodCA9PT0gdGhpcy5kb2NIZWlnaHQpeyBhY3RpdmVJZHggPSB0aGlzLnBvaW50cy5sZW5ndGggLSAxOyB9XG4gICAgLy8gT3RoZXJ3aGlzZSwgdXNlIHRoZSBsYXN0IHZpc2libGUgbGlua1xuICAgIGVsc2V7XG4gICAgICBjb25zdCB2aXNpYmxlTGlua3MgPSB0aGlzLnBvaW50cy5maWx0ZXIoKHApID0+IHtcbiAgICAgICAgcmV0dXJuIChwIC0gdGhpcy5vcHRpb25zLm9mZnNldCAtIChpc1Njcm9sbGluZ1VwID8gdGhpcy5vcHRpb25zLnRocmVzaG9sZCA6IDApKSA8PSBuZXdTY3JvbGxQb3M7XG4gICAgICB9KTtcbiAgICAgIGFjdGl2ZUlkeCA9IHZpc2libGVMaW5rcy5sZW5ndGggPyB2aXNpYmxlTGlua3MubGVuZ3RoIC0gMSA6IDA7XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBuZXcgYWN0aXZlIGxpbmtcbiAgICBjb25zdCAkb2xkQWN0aXZlID0gdGhpcy4kYWN0aXZlO1xuICAgIGxldCBhY3RpdmVIYXNoID0gJyc7XG4gICAgaWYodHlwZW9mIGFjdGl2ZUlkeCAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgdGhpcy4kYWN0aXZlID0gdGhpcy4kbGlua3MuZmlsdGVyKCdbaHJlZj1cIiMnICsgdGhpcy4kdGFyZ2V0cy5lcShhY3RpdmVJZHgpLmRhdGEoJ21hZ2VsbGFuLXRhcmdldCcpICsgJ1wiXScpO1xuICAgICAgaWYgKHRoaXMuJGFjdGl2ZS5sZW5ndGgpIGFjdGl2ZUhhc2ggPSB0aGlzLiRhY3RpdmVbMF0uZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgfWVsc2V7XG4gICAgICB0aGlzLiRhY3RpdmUgPSAkKCk7XG4gICAgfVxuICAgIGNvbnN0IGlzTmV3QWN0aXZlID0gISghdGhpcy4kYWN0aXZlLmxlbmd0aCAmJiAhJG9sZEFjdGl2ZS5sZW5ndGgpICYmICF0aGlzLiRhY3RpdmUuaXMoJG9sZEFjdGl2ZSk7XG4gICAgY29uc3QgaXNOZXdIYXNoID0gYWN0aXZlSGFzaCAhPT0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGFjdGl2ZSBsaW5rIGVsZW1lbnRcbiAgICBpZihpc05ld0FjdGl2ZSkge1xuICAgICAgJG9sZEFjdGl2ZS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xuICAgICAgdGhpcy4kYWN0aXZlLmFkZENsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBoYXNoIChpdCBtYXkgaGF2ZSBjaGFuZ2VkIHdpdGggdGhlIHNhbWUgYWN0aXZlIGxpbmspXG4gICAgaWYodGhpcy5vcHRpb25zLmRlZXBMaW5raW5nICYmIGlzTmV3SGFzaCl7XG4gICAgICBpZih3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpe1xuICAgICAgICAvLyBTZXQgb3IgcmVtb3ZlIHRoZSBoYXNoIChzZWU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81Mjk4Njg0LzQzMTczODRcbiAgICAgICAgY29uc3QgdXJsID0gYWN0aXZlSGFzaCA/IGFjdGl2ZUhhc2ggOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICBpZih0aGlzLm9wdGlvbnMudXBkYXRlSGlzdG9yeSl7XG4gICAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgdXJsKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAnJywgdXJsKTtcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gYWN0aXZlSGFzaDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNOZXdBY3RpdmUpIHtcbiAgICAgIC8qKlxuICAgICAgICogRmlyZXMgd2hlbiBtYWdlbGxhbiBpcyBmaW5pc2hlZCB1cGRhdGluZyB0byB0aGUgbmV3IGFjdGl2ZSBlbGVtZW50LlxuICAgICAgICogQGV2ZW50IE1hZ2VsbGFuI3VwZGF0ZVxuICAgICAgICovXG4gICAgXHR0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3VwZGF0ZS56Zi5tYWdlbGxhbicsIFt0aGlzLiRhY3RpdmVdKTtcblx0ICB9XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgYW4gaW5zdGFuY2Ugb2YgTWFnZWxsYW4gYW5kIHJlc2V0cyB0aGUgdXJsIG9mIHRoZSB3aW5kb3cuXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgX2Rlc3Ryb3koKSB7XG4gICAgdGhpcy4kZWxlbWVudC5vZmYoJy56Zi50cmlnZ2VyIC56Zi5tYWdlbGxhbicpXG4gICAgICAgIC5maW5kKGAuJHt0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3N9YCkucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcblxuICAgIGlmKHRoaXMub3B0aW9ucy5kZWVwTGlua2luZyl7XG4gICAgICB2YXIgaGFzaCA9IHRoaXMuJGFjdGl2ZVswXS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoaGFzaCwgJycpO1xuICAgIH1cblxuICAgICQod2luZG93KS5vZmYoJ2hhc2hjaGFuZ2UnLCB0aGlzLl9kZWVwTGlua1Njcm9sbClcbiAgICBpZiAodGhpcy5vbkxvYWRMaXN0ZW5lcikgJCh3aW5kb3cpLm9mZih0aGlzLm9uTG9hZExpc3RlbmVyKTtcbiAgfVxufVxuXG4vKipcbiAqIERlZmF1bHQgc2V0dGluZ3MgZm9yIHBsdWdpblxuICovXG5NYWdlbGxhbi5kZWZhdWx0cyA9IHtcbiAgLyoqXG4gICAqIEFtb3VudCBvZiB0aW1lLCBpbiBtcywgdGhlIGFuaW1hdGVkIHNjcm9sbGluZyBzaG91bGQgdGFrZSBiZXR3ZWVuIGxvY2F0aW9ucy5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCA1MDBcbiAgICovXG4gIGFuaW1hdGlvbkR1cmF0aW9uOiA1MDAsXG4gIC8qKlxuICAgKiBBbmltYXRpb24gc3R5bGUgdG8gdXNlIHdoZW4gc2Nyb2xsaW5nIGJldHdlZW4gbG9jYXRpb25zLiBDYW4gYmUgYCdzd2luZydgIG9yIGAnbGluZWFyJ2AuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJ2xpbmVhcidcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9hcGkuanF1ZXJ5LmNvbS9hbmltYXRlfEpxdWVyeSBhbmltYXRlfVxuICAgKi9cbiAgYW5pbWF0aW9uRWFzaW5nOiAnbGluZWFyJyxcbiAgLyoqXG4gICAqIE51bWJlciBvZiBwaXhlbHMgdG8gdXNlIGFzIGEgbWFya2VyIGZvciBsb2NhdGlvbiBjaGFuZ2VzLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDUwXG4gICAqL1xuICB0aHJlc2hvbGQ6IDUwLFxuICAvKipcbiAgICogQ2xhc3MgYXBwbGllZCB0byB0aGUgYWN0aXZlIGxvY2F0aW9ucyBsaW5rIG9uIHRoZSBtYWdlbGxhbiBjb250YWluZXIuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJ2lzLWFjdGl2ZSdcbiAgICovXG4gIGFjdGl2ZUNsYXNzOiAnaXMtYWN0aXZlJyxcbiAgLyoqXG4gICAqIEFsbG93cyB0aGUgc2NyaXB0IHRvIG1hbmlwdWxhdGUgdGhlIHVybCBvZiB0aGUgY3VycmVudCBwYWdlLCBhbmQgaWYgc3VwcG9ydGVkLCBhbHRlciB0aGUgaGlzdG9yeS5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRlZXBMaW5raW5nOiBmYWxzZSxcbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgYnJvd3NlciBoaXN0b3J5IHdpdGggdGhlIGFjdGl2ZSBsaW5rLCBpZiBkZWVwIGxpbmtpbmcgaXMgZW5hYmxlZC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHVwZGF0ZUhpc3Rvcnk6IGZhbHNlLFxuICAvKipcbiAgICogTnVtYmVyIG9mIHBpeGVscyB0byBvZmZzZXQgdGhlIHNjcm9sbCBvZiB0aGUgcGFnZSBvbiBpdGVtIGNsaWNrIGlmIHVzaW5nIGEgc3RpY2t5IG5hdiBiYXIuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgb2Zmc2V0OiAwXG59XG5cbmV4cG9ydCB7TWFnZWxsYW59O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IFBsdWdpbiB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnBsdWdpbic7XG5pbXBvcnQgeyBvbkxvYWQsIHRyYW5zaXRpb25lbmQsIFJlZ0V4cEVzY2FwZSB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnV0aWxzJztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmQnO1xuaW1wb3J0IHsgTWVkaWFRdWVyeSB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLm1lZGlhUXVlcnknO1xuXG5pbXBvcnQgeyBUcmlnZ2VycyB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLnRyaWdnZXJzJztcblxuLyoqXG4gKiBPZmZDYW52YXMgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLm9mZkNhbnZhc1xuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5rZXlib2FyZFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tZWRpYVF1ZXJ5XG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLnRyaWdnZXJzXG4gKi9cblxuY2xhc3MgT2ZmQ2FudmFzIGV4dGVuZHMgUGx1Z2luIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgYW4gb2ZmLWNhbnZhcyB3cmFwcGVyLlxuICAgKiBAY2xhc3NcbiAgICogQG5hbWUgT2ZmQ2FudmFzXG4gICAqIEBmaXJlcyBPZmZDYW52YXMjaW5pdFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gaW5pdGlhbGl6ZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgX3NldHVwKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmNsYXNzTmFtZSA9ICdPZmZDYW52YXMnOyAvLyBpZTkgYmFjayBjb21wYXRcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgT2ZmQ2FudmFzLmRlZmF1bHRzLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucyk7XG4gICAgdGhpcy5jb250ZW50Q2xhc3NlcyA9IHsgYmFzZTogW10sIHJldmVhbDogW10gfTtcbiAgICB0aGlzLiRsYXN0VHJpZ2dlciA9ICQoKTtcbiAgICB0aGlzLiR0cmlnZ2VycyA9ICQoKTtcbiAgICB0aGlzLnBvc2l0aW9uID0gJ2xlZnQnO1xuICAgIHRoaXMuJGNvbnRlbnQgPSAkKCk7XG4gICAgdGhpcy5uZXN0ZWQgPSAhISh0aGlzLm9wdGlvbnMubmVzdGVkKTtcbiAgICB0aGlzLiRzdGlja3kgPSAkKCk7XG4gICAgdGhpcy5pc0luQ2FudmFzID0gZmFsc2U7XG5cbiAgICAvLyBEZWZpbmVzIHRoZSBDU1MgdHJhbnNpdGlvbi9wb3NpdGlvbiBjbGFzc2VzIG9mIHRoZSBvZmYtY2FudmFzIGNvbnRlbnQgY29udGFpbmVyLlxuICAgICQoWydwdXNoJywgJ292ZXJsYXAnXSkuZWFjaCgoaW5kZXgsIHZhbCkgPT4ge1xuICAgICAgdGhpcy5jb250ZW50Q2xhc3Nlcy5iYXNlLnB1c2goJ2hhcy10cmFuc2l0aW9uLScrdmFsKTtcbiAgICB9KTtcbiAgICAkKFsnbGVmdCcsICdyaWdodCcsICd0b3AnLCAnYm90dG9tJ10pLmVhY2goKGluZGV4LCB2YWwpID0+IHtcbiAgICAgIHRoaXMuY29udGVudENsYXNzZXMuYmFzZS5wdXNoKCdoYXMtcG9zaXRpb24tJyt2YWwpO1xuICAgICAgdGhpcy5jb250ZW50Q2xhc3Nlcy5yZXZlYWwucHVzaCgnaGFzLXJldmVhbC0nK3ZhbCk7XG4gICAgfSk7XG5cbiAgICAvLyBUcmlnZ2VycyBpbml0IGlzIGlkZW1wb3RlbnQsIGp1c3QgbmVlZCB0byBtYWtlIHN1cmUgaXQgaXMgaW5pdGlhbGl6ZWRcbiAgICBUcmlnZ2Vycy5pbml0KCQpO1xuICAgIE1lZGlhUXVlcnkuX2luaXQoKTtcblxuICAgIHRoaXMuX2luaXQoKTtcbiAgICB0aGlzLl9ldmVudHMoKTtcblxuICAgIEtleWJvYXJkLnJlZ2lzdGVyKCdPZmZDYW52YXMnLCB7XG4gICAgICAnRVNDQVBFJzogJ2Nsb3NlJ1xuICAgIH0pO1xuXG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIG9mZi1jYW52YXMgd3JhcHBlciBieSBhZGRpbmcgdGhlIGV4aXQgb3ZlcmxheSAoaWYgbmVlZGVkKS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICB2YXIgaWQgPSB0aGlzLiRlbGVtZW50LmF0dHIoJ2lkJyk7XG5cbiAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgIC8vIEZpbmQgb2ZmLWNhbnZhcyBjb250ZW50LCBlaXRoZXIgYnkgSUQgKGlmIHNwZWNpZmllZCksIGJ5IHNpYmxpbmdzIG9yIGJ5IGNsb3Nlc3Qgc2VsZWN0b3IgKGZhbGxiYWNrKVxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGVudElkKSB7XG4gICAgICB0aGlzLiRjb250ZW50ID0gJCgnIycrdGhpcy5vcHRpb25zLmNvbnRlbnRJZCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLiRlbGVtZW50LnNpYmxpbmdzKCdbZGF0YS1vZmYtY2FudmFzLWNvbnRlbnRdJykubGVuZ3RoKSB7XG4gICAgICB0aGlzLiRjb250ZW50ID0gdGhpcy4kZWxlbWVudC5zaWJsaW5ncygnW2RhdGEtb2ZmLWNhbnZhcy1jb250ZW50XScpLmZpcnN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJGNvbnRlbnQgPSB0aGlzLiRlbGVtZW50LmNsb3Nlc3QoJ1tkYXRhLW9mZi1jYW52YXMtY29udGVudF0nKS5maXJzdCgpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5vcHRpb25zLmNvbnRlbnRJZCkge1xuICAgICAgLy8gQXNzdW1lIHRoYXQgdGhlIG9mZi1jYW52YXMgZWxlbWVudCBpcyBuZXN0ZWQgaWYgaXQgaXNuJ3QgYSBzaWJsaW5nIG9mIHRoZSBjb250ZW50XG4gICAgICB0aGlzLm5lc3RlZCA9IHRoaXMuJGVsZW1lbnQuc2libGluZ3MoJ1tkYXRhLW9mZi1jYW52YXMtY29udGVudF0nKS5sZW5ndGggPT09IDA7XG5cbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5jb250ZW50SWQgJiYgdGhpcy5vcHRpb25zLm5lc3RlZCA9PT0gbnVsbCkge1xuICAgICAgLy8gV2FybmluZyBpZiB1c2luZyBjb250ZW50IElEIHdpdGhvdXQgc2V0dGluZyB0aGUgbmVzdGVkIG9wdGlvblxuICAgICAgLy8gT25jZSB0aGUgZWxlbWVudCBpcyBuZXN0ZWQgaXQgaXMgcmVxdWlyZWQgdG8gd29yayBwcm9wZXJseSBpbiB0aGlzIGNhc2VcbiAgICAgIGNvbnNvbGUud2FybignUmVtZW1iZXIgdG8gdXNlIHRoZSBuZXN0ZWQgb3B0aW9uIGlmIHVzaW5nIHRoZSBjb250ZW50IElEIG9wdGlvbiEnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5uZXN0ZWQgPT09IHRydWUpIHtcbiAgICAgIC8vIEZvcmNlIHRyYW5zaXRpb24gb3ZlcmxhcCBpZiBuZXN0ZWRcbiAgICAgIHRoaXMub3B0aW9ucy50cmFuc2l0aW9uID0gJ292ZXJsYXAnO1xuICAgICAgLy8gUmVtb3ZlIGFwcHJvcHJpYXRlIGNsYXNzZXMgaWYgYWxyZWFkeSBhc3NpZ25lZCBpbiBtYXJrdXBcbiAgICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2lzLXRyYW5zaXRpb24tcHVzaCcpO1xuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoYGlzLXRyYW5zaXRpb24tJHt0aGlzLm9wdGlvbnMudHJhbnNpdGlvbn0gaXMtY2xvc2VkYCk7XG5cbiAgICAvLyBGaW5kIHRyaWdnZXJzIHRoYXQgYWZmZWN0IHRoaXMgZWxlbWVudCBhbmQgYWRkIGFyaWEtZXhwYW5kZWQgdG8gdGhlbVxuICAgIHRoaXMuJHRyaWdnZXJzID0gJChkb2N1bWVudClcbiAgICAgIC5maW5kKCdbZGF0YS1vcGVuPVwiJytpZCsnXCJdLCBbZGF0YS1jbG9zZT1cIicraWQrJ1wiXSwgW2RhdGEtdG9nZ2xlPVwiJytpZCsnXCJdJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgIC5hdHRyKCdhcmlhLWNvbnRyb2xzJywgaWQpO1xuXG4gICAgLy8gR2V0IHBvc2l0aW9uIGJ5IGNoZWNraW5nIGZvciByZWxhdGVkIENTUyBjbGFzc1xuICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLiRlbGVtZW50LmlzKCcucG9zaXRpb24tbGVmdCwgLnBvc2l0aW9uLXRvcCwgLnBvc2l0aW9uLXJpZ2h0LCAucG9zaXRpb24tYm90dG9tJykgPyB0aGlzLiRlbGVtZW50LmF0dHIoJ2NsYXNzJykubWF0Y2goL3Bvc2l0aW9uXFwtKGxlZnR8dG9wfHJpZ2h0fGJvdHRvbSkvKVsxXSA6IHRoaXMucG9zaXRpb247XG5cbiAgICAvLyBBZGQgYW4gb3ZlcmxheSBvdmVyIHRoZSBjb250ZW50IGlmIG5lY2Vzc2FyeVxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGVudE92ZXJsYXkgPT09IHRydWUpIHtcbiAgICAgIHZhciBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgb3ZlcmxheVBvc2l0aW9uID0gJCh0aGlzLiRlbGVtZW50KS5jc3MoXCJwb3NpdGlvblwiKSA9PT0gJ2ZpeGVkJyA/ICdpcy1vdmVybGF5LWZpeGVkJyA6ICdpcy1vdmVybGF5LWFic29sdXRlJztcbiAgICAgIG92ZXJsYXkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdqcy1vZmYtY2FudmFzLW92ZXJsYXkgJyArIG92ZXJsYXlQb3NpdGlvbik7XG4gICAgICB0aGlzLiRvdmVybGF5ID0gJChvdmVybGF5KTtcbiAgICAgIGlmKG92ZXJsYXlQb3NpdGlvbiA9PT0gJ2lzLW92ZXJsYXktZml4ZWQnKSB7XG4gICAgICAgICQodGhpcy4kb3ZlcmxheSkuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRjb250ZW50LmFwcGVuZCh0aGlzLiRvdmVybGF5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIHJldmVhbE9uIG9wdGlvbiBmcm9tIHRoZSBjbGFzcy5cbiAgICB2YXIgcmV2ZWFsT25SZWdFeHAgPSBuZXcgUmVnRXhwKFJlZ0V4cEVzY2FwZSh0aGlzLm9wdGlvbnMucmV2ZWFsQ2xhc3MpICsgJyhbXlxcXFxzXSspJywgJ2cnKTtcbiAgICB2YXIgcmV2ZWFsT25DbGFzcyA9IHJldmVhbE9uUmVnRXhwLmV4ZWModGhpcy4kZWxlbWVudFswXS5jbGFzc05hbWUpO1xuICAgIGlmIChyZXZlYWxPbkNsYXNzKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuaXNSZXZlYWxlZCA9IHRydWU7XG4gICAgICB0aGlzLm9wdGlvbnMucmV2ZWFsT24gPSB0aGlzLm9wdGlvbnMucmV2ZWFsT24gfHwgcmV2ZWFsT25DbGFzc1sxXTtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgdGhlIGByZXZlYWwtb24tKmAgY2xhc3MgaXMgc2V0LlxuICAgIGlmICh0aGlzLm9wdGlvbnMuaXNSZXZlYWxlZCA9PT0gdHJ1ZSAmJiB0aGlzLm9wdGlvbnMucmV2ZWFsT24pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuZmlyc3QoKS5hZGRDbGFzcyhgJHt0aGlzLm9wdGlvbnMucmV2ZWFsQ2xhc3N9JHt0aGlzLm9wdGlvbnMucmV2ZWFsT259YCk7XG4gICAgICB0aGlzLl9zZXRNUUNoZWNrZXIoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnRyYW5zaXRpb25UaW1lKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LmNzcygndHJhbnNpdGlvbi1kdXJhdGlvbicsIHRoaXMub3B0aW9ucy50cmFuc2l0aW9uVGltZSk7XG4gICAgfVxuXG4gICAgLy8gRmluZCBmaXhlZCBlbGVtZW50cyB0aGF0IHNob3VsZCBzdGF5IGZpeGVkIHdoaWxlIG9mZi1jYW52YXMgaXMgb3BlbmVkXG4gICAgdGhpcy4kc3RpY2t5ID0gdGhpcy4kY29udGVudC5maW5kKCdbZGF0YS1vZmYtY2FudmFzLXN0aWNreV0nKTtcbiAgICBpZiAodGhpcy4kc3RpY2t5Lmxlbmd0aCA+IDAgJiYgdGhpcy5vcHRpb25zLnRyYW5zaXRpb24gPT09ICdwdXNoJykge1xuICAgICAgLy8gSWYgdGhlcmUncyBhdCBsZWFzdCBvbmUgbWF0Y2ggZm9yY2UgY29udGVudFNjcm9sbDpmYWxzZSBiZWNhdXNlIHRoZSBhYnNvbHV0ZSB0b3AgdmFsdWUgZG9lc24ndCBnZXQgcmVjYWxjdWxhdGVkIG9uIHNjcm9sbFxuICAgICAgLy8gTGltaXQgdG8gcHVzaCB0cmFuc2l0aW9uIHNpbmNlIHRoZXJlJ3Mgbm8gdHJhbnNmb3JtIHNjb3BlIGZvciBvdmVybGFwXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGVudFNjcm9sbCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGxldCBpbkNhbnZhc0ZvciA9IHRoaXMuJGVsZW1lbnQuYXR0cignY2xhc3MnKS5tYXRjaCgvXFxiaW4tY2FudmFzLWZvci0oXFx3KykvKTtcbiAgICBpZiAoaW5DYW52YXNGb3IgJiYgaW5DYW52YXNGb3IubGVuZ3RoID09PSAyKSB7XG4gICAgICAvLyBTZXQgYGluQ2FudmFzT25gIG9wdGlvbiBpZiBmb3VuZCBpbi1jYW52YXMtZm9yLVtCUkVBS1BPTlRdIENTUyBjbGFzc1xuICAgICAgdGhpcy5vcHRpb25zLmluQ2FudmFzT24gPSBpbkNhbnZhc0ZvclsxXTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5pbkNhbnZhc09uKSB7XG4gICAgICAvLyBFbnN1cmUgdGhlIENTUyBjbGFzcyBpcyBzZXRcbiAgICAgIHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoYGluLWNhbnZhcy1mb3ItJHt0aGlzLm9wdGlvbnMuaW5DYW52YXNPbn1gKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmluQ2FudmFzT24pIHtcbiAgICAgIHRoaXMuX2NoZWNrSW5DYW52YXMoKTtcbiAgICB9XG5cbiAgICAvLyBJbml0YWxseSByZW1vdmUgYWxsIHRyYW5zaXRpb24vcG9zaXRpb24gQ1NTIGNsYXNzZXMgZnJvbSBvZmYtY2FudmFzIGNvbnRlbnQgY29udGFpbmVyLlxuICAgIHRoaXMuX3JlbW92ZUNvbnRlbnRDbGFzc2VzKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBldmVudCBoYW5kbGVycyB0byB0aGUgb2ZmLWNhbnZhcyB3cmFwcGVyIGFuZCB0aGUgZXhpdCBvdmVybGF5LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9ldmVudHMoKSB7XG4gICAgdGhpcy4kZWxlbWVudC5vZmYoJy56Zi50cmlnZ2VyIC56Zi5vZmZDYW52YXMnKS5vbih7XG4gICAgICAnb3Blbi56Zi50cmlnZ2VyJzogdGhpcy5vcGVuLmJpbmQodGhpcyksXG4gICAgICAnY2xvc2UuemYudHJpZ2dlcic6IHRoaXMuY2xvc2UuYmluZCh0aGlzKSxcbiAgICAgICd0b2dnbGUuemYudHJpZ2dlcic6IHRoaXMudG9nZ2xlLmJpbmQodGhpcyksXG4gICAgICAna2V5ZG93bi56Zi5vZmZDYW52YXMnOiB0aGlzLl9oYW5kbGVLZXlib2FyZC5iaW5kKHRoaXMpXG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNsb3NlT25DbGljayA9PT0gdHJ1ZSkge1xuICAgICAgdmFyICR0YXJnZXQgPSB0aGlzLm9wdGlvbnMuY29udGVudE92ZXJsYXkgPyB0aGlzLiRvdmVybGF5IDogdGhpcy4kY29udGVudDtcbiAgICAgICR0YXJnZXQub24oeydjbGljay56Zi5vZmZDYW52YXMnOiB0aGlzLmNsb3NlLmJpbmQodGhpcyl9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmluQ2FudmFzT24pIHtcbiAgICAgICQod2luZG93KS5vbignY2hhbmdlZC56Zi5tZWRpYXF1ZXJ5JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0luQ2FudmFzKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIGV2ZW50IGxpc3RlbmVyIGZvciBlbGVtZW50cyB0aGF0IHdpbGwgcmV2ZWFsIGF0IGNlcnRhaW4gYnJlYWtwb2ludHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0TVFDaGVja2VyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLm9uTG9hZExpc3RlbmVyID0gb25Mb2FkKCQod2luZG93KSwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKE1lZGlhUXVlcnkuYXRMZWFzdChfdGhpcy5vcHRpb25zLnJldmVhbE9uKSkge1xuICAgICAgICBfdGhpcy5yZXZlYWwodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkKHdpbmRvdykub24oJ2NoYW5nZWQuemYubWVkaWFxdWVyeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChNZWRpYVF1ZXJ5LmF0TGVhc3QoX3RoaXMub3B0aW9ucy5yZXZlYWxPbikpIHtcbiAgICAgICAgX3RoaXMucmV2ZWFsKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMucmV2ZWFsKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgSW5DYW52YXMgb24gY3VycmVudCBicmVha3BvaW50IGFuZCBhZGp1c3Qgb2ZmLWNhbnZhcyBhY2NvcmRpbmdseVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NoZWNrSW5DYW52YXMoKSB7XG4gICAgdGhpcy5pc0luQ2FudmFzID0gTWVkaWFRdWVyeS5hdExlYXN0KHRoaXMub3B0aW9ucy5pbkNhbnZhc09uKTtcbiAgICBpZiAodGhpcy5pc0luQ2FudmFzID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIENTUyB0cmFuc2l0aW9uL3Bvc2l0aW9uIGNsYXNzZXMgb2YgdGhlIG9mZi1jYW52YXMgY29udGVudCBjb250YWluZXIuXG4gICAqIFJlbW92aW5nIHRoZSBjbGFzc2VzIGlzIGltcG9ydGFudCB3aGVuIGFub3RoZXIgb2ZmLWNhbnZhcyBnZXRzIG9wZW5lZCB0aGF0IHVzZXMgdGhlIHNhbWUgY29udGVudCBjb250YWluZXIuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaGFzUmV2ZWFsIC0gdHJ1ZSBpZiByZWxhdGVkIG9mZi1jYW52YXMgZWxlbWVudCBpcyByZXZlYWxlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW1vdmVDb250ZW50Q2xhc3NlcyhoYXNSZXZlYWwpIHtcbiAgICBpZiAodHlwZW9mIGhhc1JldmVhbCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aGlzLiRjb250ZW50LnJlbW92ZUNsYXNzKHRoaXMuY29udGVudENsYXNzZXMuYmFzZS5qb2luKCcgJykpO1xuICAgIH0gZWxzZSBpZiAoaGFzUmV2ZWFsID09PSBmYWxzZSkge1xuICAgICAgdGhpcy4kY29udGVudC5yZW1vdmVDbGFzcyhgaGFzLXJldmVhbC0ke3RoaXMucG9zaXRpb259YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIENTUyB0cmFuc2l0aW9uL3Bvc2l0aW9uIGNsYXNzZXMgb2YgdGhlIG9mZi1jYW52YXMgY29udGVudCBjb250YWluZXIsIGJhc2VkIG9uIHRoZSBvcGVuaW5nIG9mZi1jYW52YXMgZWxlbWVudC5cbiAgICogQmVmb3JlaGFuZCBhbnkgdHJhbnNpdGlvbi9wb3NpdGlvbiBjbGFzcyBnZXRzIHJlbW92ZWQuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaGFzUmV2ZWFsIC0gdHJ1ZSBpZiByZWxhdGVkIG9mZi1jYW52YXMgZWxlbWVudCBpcyByZXZlYWxlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hZGRDb250ZW50Q2xhc3NlcyhoYXNSZXZlYWwpIHtcbiAgICB0aGlzLl9yZW1vdmVDb250ZW50Q2xhc3NlcyhoYXNSZXZlYWwpO1xuICAgIGlmICh0eXBlb2YgaGFzUmV2ZWFsICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuJGNvbnRlbnQuYWRkQ2xhc3MoYGhhcy10cmFuc2l0aW9uLSR7dGhpcy5vcHRpb25zLnRyYW5zaXRpb259IGhhcy1wb3NpdGlvbi0ke3RoaXMucG9zaXRpb259YCk7XG4gICAgfSBlbHNlIGlmIChoYXNSZXZlYWwgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuJGNvbnRlbnQuYWRkQ2xhc3MoYGhhcy1yZXZlYWwtJHt0aGlzLnBvc2l0aW9ufWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVzZXJ2ZXMgdGhlIGZpeGVkIGJlaGF2aW9yIG9mIHN0aWNreSBlbGVtZW50cyBvbiBvcGVuaW5nIGFuIG9mZi1jYW52YXMgd2l0aCBwdXNoIHRyYW5zaXRpb24uXG4gICAqIFNpbmNlIHRoZSBvZmYtY2FudmFzIGNvbnRhaW5lciBoYXMgZ290IGEgdHJhbnNmb3JtIHNjb3BlIGluIHN1Y2ggYSBjYXNlLCBpdCBpcyBkb25lIGJ5IGNhbGN1bGF0aW5nIHBvc2l0aW9uIGFic29sdXRlIHZhbHVlcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9maXhTdGlja3lFbGVtZW50cygpIHtcbiAgICB0aGlzLiRzdGlja3kuZWFjaCgoXywgZWwpID0+IHtcbiAgICAgIGNvbnN0ICRlbCA9ICQoZWwpO1xuXG4gICAgICAvLyBJZiBzdGlja3kgZWxlbWVudCBpcyBjdXJyZW50bHkgZml4ZWQsIGFkanVzdCBpdHMgdG9wIHZhbHVlIHRvIG1hdGNoIGFic29sdXRlIHBvc2l0aW9uIGR1ZSB0byB0cmFuc2Zvcm0gc2NvcGVcbiAgICAgIC8vIExpbWl0IHRvIHB1c2ggdHJhbnNpdGlvbiBiZWNhdXNlIHBvc3Rpb246Zml4ZWQgd29ya3Mgd2l0aG91dCBwcm9ibGVtcyBmb3Igb3ZlcmxhcCAobm8gdHJhbnNmb3JtIHNjb3BlKVxuICAgICAgaWYgKCRlbC5jc3MoJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpIHtcblxuICAgICAgICAvLyBTYXZlIGN1cnJlbnQgaW5saW5lIHN0eWxpbmcgdG8gcmVzdG9yZSBpdCBpZiB1bmRvaW5nIHRoZSBhYnNvbHV0ZSBmaXhpbmdcbiAgICAgICAgbGV0IHRvcFZhbCA9IHBhcnNlSW50KCRlbC5jc3MoJ3RvcCcpLCAxMCk7XG4gICAgICAgICRlbC5kYXRhKCdvZmZDYW52YXNTdGlja3knLCB7IHRvcDogdG9wVmFsIH0pO1xuXG4gICAgICAgIGxldCBhYnNvbHV0ZVRvcFZhbCA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpICsgdG9wVmFsO1xuICAgICAgICAkZWwuY3NzKHsgdG9wOiBgJHthYnNvbHV0ZVRvcFZhbH1weGAsIHdpZHRoOiAnMTAwJScsIHRyYW5zaXRpb246ICdub25lJyB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN0b3JlcyB0aGUgb3JpZ2luYWwgZml4ZWQgc3R5bGluZyBvZiBzdGlja3kgZWxlbWVudHMgYWZ0ZXIgaGF2aW5nIGNsb3NlZCBhbiBvZmYtY2FudmFzIHRoYXQgZ290IHBzZXVkbyBmaXhlZCBiZWZvcmVoYW5kLlxuICAgKiBUaGlzIHJldmVydHMgdGhlIGNoYW5nZXMgb2YgX2ZpeFN0aWNreUVsZW1lbnRzKClcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91bmZpeFN0aWNreUVsZW1lbnRzKCkge1xuICAgIHRoaXMuJHN0aWNreS5lYWNoKChfLCBlbCkgPT4ge1xuICAgICAgY29uc3QgJGVsID0gJChlbCk7XG4gICAgICBsZXQgc3RpY2t5RGF0YSA9ICRlbC5kYXRhKCdvZmZDYW52YXNTdGlja3knKTtcblxuICAgICAgLy8gSWYgc3RpY2t5IGVsZW1lbnQgaGFzIGdvdCBkYXRhIG9iamVjdCB3aXRoIHByaW9yIHZhbHVlcyAobWVhbmluZyBpdCB3YXMgb3JpZ2luYWxseSBmaXhlZCkgcmVzdG9yZSB0aGVzZSB2YWx1ZXMgb25jZSBvZmYtY2FudmFzIGlzIGNsb3NlZFxuICAgICAgaWYgKHR5cGVvZiBzdGlja3lEYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAkZWwuY3NzKHsgdG9wOiBgJHtzdGlja3lEYXRhLnRvcH1weGAsIHdpZHRoOiAnJywgdHJhbnNpdGlvbjogJycgfSlcbiAgICAgICAgJGVsLmRhdGEoJ29mZkNhbnZhc1N0aWNreScsICcnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSByZXZlYWxpbmcvaGlkaW5nIHRoZSBvZmYtY2FudmFzIGF0IGJyZWFrcG9pbnRzLCBub3QgdGhlIHNhbWUgYXMgb3Blbi5cbiAgICogQHBhcmFtIHtCb29sZWFufSBpc1JldmVhbGVkIC0gdHJ1ZSBpZiBlbGVtZW50IHNob3VsZCBiZSByZXZlYWxlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICByZXZlYWwoaXNSZXZlYWxlZCkge1xuICAgIGlmIChpc1JldmVhbGVkKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB0aGlzLmlzUmV2ZWFsZWQgPSB0cnVlO1xuICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmYoJ29wZW4uemYudHJpZ2dlciB0b2dnbGUuemYudHJpZ2dlcicpO1xuICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygnaXMtY2xvc2VkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXNSZXZlYWxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZignb3Blbi56Zi50cmlnZ2VyIHRvZ2dsZS56Zi50cmlnZ2VyJykub24oe1xuICAgICAgICAnb3Blbi56Zi50cmlnZ2VyJzogdGhpcy5vcGVuLmJpbmQodGhpcyksXG4gICAgICAgICd0b2dnbGUuemYudHJpZ2dlcic6IHRoaXMudG9nZ2xlLmJpbmQodGhpcylcbiAgICAgIH0pO1xuICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcygnaXMtY2xvc2VkJyk7XG4gICAgfVxuICAgIHRoaXMuX2FkZENvbnRlbnRDbGFzc2VzKGlzUmV2ZWFsZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIHNjcm9sbGluZyBvZiB0aGUgYm9keSB3aGVuIE9mZkNhbnZhcyBpcyBvcGVuIG9uIG1vYmlsZSBTYWZhcmkgYW5kIG90aGVyIHRyb3VibGVzb21lIGJyb3dzZXJzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdG9wU2Nyb2xsaW5nKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIGN1cnJlbnQgZmluZ2VyIHktcG9zaXRpb25cbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVjb3JkU2Nyb2xsYWJsZShldmVudCkge1xuICAgIGNvbnN0IGVsZW0gPSB0aGlzO1xuICAgIGVsZW0ubGFzdFkgPSBldmVudC50b3VjaGVzWzBdLnBhZ2VZO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXZlbnQgZnVydGhlciBzY3JvbGxpbmcgd2hlbiBpdCBoaXRzIHRoZSBlZGdlc1xuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcmV2ZW50RGVmYXVsdEF0RWRnZXMoZXZlbnQpIHtcbiAgICBjb25zdCBlbGVtID0gdGhpcztcbiAgICBjb25zdCBfdGhpcyA9IGV2ZW50LmRhdGE7XG4gICAgY29uc3QgZGVsdGEgPSBlbGVtLmxhc3RZIC0gZXZlbnQudG91Y2hlc1swXS5wYWdlWTtcbiAgICBlbGVtLmxhc3RZID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWTtcblxuICAgIGlmICghX3RoaXMuX2NhblNjcm9sbChkZWx0YSwgZWxlbSkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBjb250aW51b3VzIHNjcm9sbGluZyBvZiBzY3JvbGxib3hcbiAgICogRG9uJ3QgYnViYmxlIHVwIHRvIF9wcmV2ZW50RGVmYXVsdEF0RWRnZXNcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2Nyb2xsYm94VG91Y2hNb3ZlZChldmVudCkge1xuICAgIGNvbnN0IGVsZW0gPSB0aGlzO1xuICAgIGNvbnN0IF90aGlzID0gZXZlbnQuZGF0YTtcbiAgICBjb25zdCBwYXJlbnQgPSBlbGVtLmNsb3Nlc3QoJ1tkYXRhLW9mZi1jYW52YXNdLCBbZGF0YS1vZmYtY2FudmFzLXNjcm9sbGJveC1vdXRlcl0nKTtcbiAgICBjb25zdCBkZWx0YSA9IGVsZW0ubGFzdFkgLSBldmVudC50b3VjaGVzWzBdLnBhZ2VZO1xuICAgIHBhcmVudC5sYXN0WSA9IGVsZW0ubGFzdFkgPSBldmVudC50b3VjaGVzWzBdLnBhZ2VZO1xuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBpZiAoIV90aGlzLl9jYW5TY3JvbGwoZGVsdGEsIGVsZW0pKSB7XG4gICAgICBpZiAoIV90aGlzLl9jYW5TY3JvbGwoZGVsdGEsIHBhcmVudCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5zY3JvbGxUb3AgKz0gZGVsdGE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdCBwb3NzaWJpbGl0eSBvZiBzY3JvbGxpbmdcbiAgICogQHBhcmFtIGRlbHRhXG4gICAqIEBwYXJhbSBlbGVtXG4gICAqIEByZXR1cm5zIGJvb2xlYW5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jYW5TY3JvbGwoZGVsdGEsIGVsZW0pIHtcbiAgICBjb25zdCB1cCA9IGRlbHRhIDwgMDtcbiAgICBjb25zdCBkb3duID0gZGVsdGEgPiAwO1xuICAgIGNvbnN0IGFsbG93VXAgPSBlbGVtLnNjcm9sbFRvcCA+IDA7XG4gICAgY29uc3QgYWxsb3dEb3duID0gZWxlbS5zY3JvbGxUb3AgPCBlbGVtLnNjcm9sbEhlaWdodCAtIGVsZW0uY2xpZW50SGVpZ2h0O1xuICAgIHJldHVybiB1cCAmJiBhbGxvd1VwIHx8IGRvd24gJiYgYWxsb3dEb3duO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBvZmYtY2FudmFzIG1lbnUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSBFdmVudCBvYmplY3QgcGFzc2VkIGZyb20gbGlzdGVuZXIuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSB0cmlnZ2VyIC0gZWxlbWVudCB0aGF0IHRyaWdnZXJlZCB0aGUgb2ZmLWNhbnZhcyB0byBvcGVuLlxuICAgKiBAZmlyZXMgT2ZmQ2FudmFzI29wZW5lZFxuICAgKiBAdG9kbyBhbHNvIHRyaWdnZXIgJ29wZW4nIGV2ZW50P1xuICAgKi9cbiAgb3BlbihldmVudCwgdHJpZ2dlcikge1xuICAgIGlmICh0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpcy1vcGVuJykgfHwgdGhpcy5pc1JldmVhbGVkIHx8IHRoaXMuaXNJbkNhbnZhcykgeyByZXR1cm47IH1cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRoaXMuJGxhc3RUcmlnZ2VyID0gdHJpZ2dlcjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmZvcmNlVG8gPT09ICd0b3AnKSB7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZm9yY2VUbyA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnRyYW5zaXRpb25UaW1lICYmIHRoaXMub3B0aW9ucy50cmFuc2l0aW9uICE9PSAnb3ZlcmxhcCcpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuc2libGluZ3MoJ1tkYXRhLW9mZi1jYW52YXMtY29udGVudF0nKS5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nLCB0aGlzLm9wdGlvbnMudHJhbnNpdGlvblRpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnNpYmxpbmdzKCdbZGF0YS1vZmYtY2FudmFzLWNvbnRlbnRdJykuY3NzKCd0cmFuc2l0aW9uLWR1cmF0aW9uJywgJycpO1xuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoJ2lzLW9wZW4nKS5yZW1vdmVDbGFzcygnaXMtY2xvc2VkJyk7XG5cbiAgICB0aGlzLiR0cmlnZ2Vycy5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICB0aGlzLiRjb250ZW50LmFkZENsYXNzKCdpcy1vcGVuLScgKyB0aGlzLnBvc2l0aW9uKTtcblxuICAgIC8vIElmIGBjb250ZW50U2Nyb2xsYCBpcyBzZXQgdG8gZmFsc2UsIGFkZCBjbGFzcyBhbmQgZGlzYWJsZSBzY3JvbGxpbmcgb24gdG91Y2ggZGV2aWNlcy5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRlbnRTY3JvbGwgPT09IGZhbHNlKSB7XG4gICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2lzLW9mZi1jYW52YXMtb3BlbicpLm9uKCd0b3VjaG1vdmUnLCB0aGlzLl9zdG9wU2Nyb2xsaW5nKTtcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ3RvdWNoc3RhcnQnLCB0aGlzLl9yZWNvcmRTY3JvbGxhYmxlKTtcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ3RvdWNobW92ZScsIHRoaXMsIHRoaXMuX3ByZXZlbnREZWZhdWx0QXRFZGdlcyk7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCd0b3VjaHN0YXJ0JywgJ1tkYXRhLW9mZi1jYW52YXMtc2Nyb2xsYm94XScsIHRoaXMuX3JlY29yZFNjcm9sbGFibGUpO1xuICAgICAgdGhpcy4kZWxlbWVudC5vbigndG91Y2htb3ZlJywgJ1tkYXRhLW9mZi1jYW52YXMtc2Nyb2xsYm94XScsIHRoaXMsIHRoaXMuX3Njcm9sbGJveFRvdWNoTW92ZWQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGVudE92ZXJsYXkgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuJG92ZXJsYXkuYWRkQ2xhc3MoJ2lzLXZpc2libGUnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNsb3NlT25DbGljayA9PT0gdHJ1ZSAmJiB0aGlzLm9wdGlvbnMuY29udGVudE92ZXJsYXkgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuJG92ZXJsYXkuYWRkQ2xhc3MoJ2lzLWNsb3NhYmxlJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvRm9jdXMgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub25lKHRyYW5zaXRpb25lbmQodGhpcy4kZWxlbWVudCksIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIV90aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpcy1vcGVuJykpIHtcbiAgICAgICAgICByZXR1cm47IC8vIGV4aXQgaWYgcHJlbWF0dXJlbHkgY2xvc2VkXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbnZhc0ZvY3VzID0gX3RoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtYXV0b2ZvY3VzXScpO1xuICAgICAgICBpZiAoY2FudmFzRm9jdXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYW52YXNGb2N1cy5lcSgwKS5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuJGVsZW1lbnQuZmluZCgnYSwgYnV0dG9uJykuZXEoMCkuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy50cmFwRm9jdXMgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuJGNvbnRlbnQuYXR0cigndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgIEtleWJvYXJkLnRyYXBGb2N1cyh0aGlzLiRlbGVtZW50KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnRyYW5zaXRpb24gPT09ICdwdXNoJykge1xuICAgICAgdGhpcy5fZml4U3RpY2t5RWxlbWVudHMoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9hZGRDb250ZW50Q2xhc3NlcygpO1xuXG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgb2ZmLWNhbnZhcyBtZW51IG9wZW5zLlxuICAgICAqIEBldmVudCBPZmZDYW52YXMjb3BlbmVkXG4gICAgICovXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdvcGVuZWQuemYub2ZmQ2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIHRoZSBvZmYtY2FudmFzIG1lbnUgb3BlbiB0cmFuc2l0aW9uIGlzIGRvbmUuXG4gICAgICogQGV2ZW50IE9mZkNhbnZhcyNvcGVuZWRFbmRcbiAgICAgKi9cbiAgICB0aGlzLiRlbGVtZW50Lm9uZSh0cmFuc2l0aW9uZW5kKHRoaXMuJGVsZW1lbnQpLCAoKSA9PiB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ29wZW5lZEVuZC56Zi5vZmZDYW52YXMnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIG9mZi1jYW52YXMgbWVudS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gb3B0aW9uYWwgY2IgdG8gZmlyZSBhZnRlciBjbG9zdXJlLlxuICAgKiBAZmlyZXMgT2ZmQ2FudmFzI2Nsb3NlXG4gICAqIEBmaXJlcyBPZmZDYW52YXMjY2xvc2VkXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBpZiAoIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2lzLW9wZW4nKSB8fCB0aGlzLmlzUmV2ZWFsZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIHRoZSBvZmYtY2FudmFzIG1lbnUgY2xvc2VzLlxuICAgICAqIEBldmVudCBPZmZDYW52YXMjY2xvc2VcbiAgICAgKi9cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2Nsb3NlLnpmLm9mZkNhbnZhcycpO1xuXG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygnaXMtb3BlbicpO1xuXG4gICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cbiAgICB0aGlzLiRjb250ZW50LnJlbW92ZUNsYXNzKCdpcy1vcGVuLWxlZnQgaXMtb3Blbi10b3AgaXMtb3Blbi1yaWdodCBpcy1vcGVuLWJvdHRvbScpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb250ZW50T3ZlcmxheSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy4kb3ZlcmxheS5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrID09PSB0cnVlICYmIHRoaXMub3B0aW9ucy5jb250ZW50T3ZlcmxheSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy4kb3ZlcmxheS5yZW1vdmVDbGFzcygnaXMtY2xvc2FibGUnKTtcbiAgICB9XG5cbiAgICB0aGlzLiR0cmlnZ2Vycy5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG5cblxuICAgIC8vIExpc3RlbiB0byB0cmFuc2l0aW9uRW5kOiBhZGQgY2xhc3MsIHJlLWVuYWJsZSBzY3JvbGxpbmcgYW5kIHJlbGVhc2UgZm9jdXMgd2hlbiBkb25lLlxuICAgIHRoaXMuJGVsZW1lbnQub25lKHRyYW5zaXRpb25lbmQodGhpcy4kZWxlbWVudCksICgpID0+IHtcblxuICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcygnaXMtY2xvc2VkJyk7XG4gICAgICB0aGlzLl9yZW1vdmVDb250ZW50Q2xhc3NlcygpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRyYW5zaXRpb24gPT09ICdwdXNoJykge1xuICAgICAgICB0aGlzLl91bmZpeFN0aWNreUVsZW1lbnRzKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGBjb250ZW50U2Nyb2xsYCBpcyBzZXQgdG8gZmFsc2UsIHJlbW92ZSBjbGFzcyBhbmQgcmUtZW5hYmxlIHNjcm9sbGluZyBvbiB0b3VjaCBkZXZpY2VzLlxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb250ZW50U2Nyb2xsID09PSBmYWxzZSkge1xuICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2lzLW9mZi1jYW52YXMtb3BlbicpLm9mZigndG91Y2htb3ZlJywgdGhpcy5fc3RvcFNjcm9sbGluZyk7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCd0b3VjaHN0YXJ0JywgdGhpcy5fcmVjb3JkU2Nyb2xsYWJsZSk7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCd0b3VjaG1vdmUnLCB0aGlzLl9wcmV2ZW50RGVmYXVsdEF0RWRnZXMpO1xuICAgICAgICB0aGlzLiRlbGVtZW50Lm9mZigndG91Y2hzdGFydCcsICdbZGF0YS1vZmYtY2FudmFzLXNjcm9sbGJveF0nLCB0aGlzLl9yZWNvcmRTY3JvbGxhYmxlKTtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vZmYoJ3RvdWNobW92ZScsICdbZGF0YS1vZmYtY2FudmFzLXNjcm9sbGJveF0nLCB0aGlzLl9zY3JvbGxib3hUb3VjaE1vdmVkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFwRm9jdXMgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy4kY29udGVudC5yZW1vdmVBdHRyKCd0YWJpbmRleCcpO1xuICAgICAgICBLZXlib2FyZC5yZWxlYXNlRm9jdXModGhpcy4kZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRmlyZXMgd2hlbiB0aGUgb2ZmLWNhbnZhcyBtZW51IGNsb3NlIHRyYW5zaXRpb24gaXMgZG9uZS5cbiAgICAgICAqIEBldmVudCBPZmZDYW52YXMjY2xvc2VkXG4gICAgICAgKi9cbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignY2xvc2VkLnpmLm9mZkNhbnZhcycpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIG9mZi1jYW52YXMgbWVudSBvcGVuIG9yIGNsb3NlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCAtIEV2ZW50IG9iamVjdCBwYXNzZWQgZnJvbSBsaXN0ZW5lci5cbiAgICogQHBhcmFtIHtqUXVlcnl9IHRyaWdnZXIgLSBlbGVtZW50IHRoYXQgdHJpZ2dlcmVkIHRoZSBvZmYtY2FudmFzIHRvIG9wZW4uXG4gICAqL1xuICB0b2dnbGUoZXZlbnQsIHRyaWdnZXIpIHtcbiAgICBpZiAodGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaXMtb3BlbicpKSB7XG4gICAgICB0aGlzLmNsb3NlKGV2ZW50LCB0cmlnZ2VyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLm9wZW4oZXZlbnQsIHRyaWdnZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGtleWJvYXJkIGlucHV0IHdoZW4gZGV0ZWN0ZWQuIFdoZW4gdGhlIGVzY2FwZSBrZXkgaXMgcHJlc3NlZCwgdGhlIG9mZi1jYW52YXMgbWVudSBjbG9zZXMsIGFuZCBmb2N1cyBpcyByZXN0b3JlZCB0byB0aGUgZWxlbWVudCB0aGF0IG9wZW5lZCB0aGUgbWVudS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlS2V5Ym9hcmQoZSkge1xuICAgIEtleWJvYXJkLmhhbmRsZUtleShlLCAnT2ZmQ2FudmFzJywge1xuICAgICAgY2xvc2U6ICgpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLiRsYXN0VHJpZ2dlci5mb2N1cygpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVkOiAoKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgT2ZmQ2FudmFzIHBsdWdpbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBfZGVzdHJveSgpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gICAgdGhpcy4kZWxlbWVudC5vZmYoJy56Zi50cmlnZ2VyIC56Zi5vZmZDYW52YXMnKTtcbiAgICB0aGlzLiRvdmVybGF5Lm9mZignLnpmLm9mZkNhbnZhcycpO1xuICAgIGlmICh0aGlzLm9uTG9hZExpc3RlbmVyKSAkKHdpbmRvdykub2ZmKHRoaXMub25Mb2FkTGlzdGVuZXIpO1xuICB9XG59XG5cbk9mZkNhbnZhcy5kZWZhdWx0cyA9IHtcbiAgLyoqXG4gICAqIEFsbG93IHRoZSB1c2VyIHRvIGNsaWNrIG91dHNpZGUgb2YgdGhlIG1lbnUgdG8gY2xvc2UgaXQuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGNsb3NlT25DbGljazogdHJ1ZSxcblxuICAvKipcbiAgICogQWRkcyBhbiBvdmVybGF5IG9uIHRvcCBvZiBgW2RhdGEtb2ZmLWNhbnZhcy1jb250ZW50XWAuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGNvbnRlbnRPdmVybGF5OiB0cnVlLFxuXG4gIC8qKlxuICAgKiBUYXJnZXQgYW4gb2ZmLWNhbnZhcyBjb250ZW50IGNvbnRhaW5lciBieSBJRCB0aGF0IG1heSBiZSBwbGFjZWQgYW55d2hlcmUuIElmIG51bGwgdGhlIGNsb3Nlc3QgY29udGVudCBjb250YWluZXIgd2lsbCBiZSB0YWtlbi5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgY29udGVudElkOiBudWxsLFxuXG4gIC8qKlxuICAgKiBEZWZpbmUgdGhlIG9mZi1jYW52YXMgZWxlbWVudCBpcyBuZXN0ZWQgaW4gYW4gb2ZmLWNhbnZhcyBjb250ZW50LiBUaGlzIGlzIHJlcXVpcmVkIHdoZW4gdXNpbmcgdGhlIGNvbnRlbnRJZCBvcHRpb24gZm9yIGEgbmVzdGVkIGVsZW1lbnQuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIG5lc3RlZDogbnVsbCxcblxuICAvKipcbiAgICogRW5hYmxlL2Rpc2FibGUgc2Nyb2xsaW5nIG9mIHRoZSBtYWluIGNvbnRlbnQgd2hlbiBhbiBvZmYgY2FudmFzIHBhbmVsIGlzIG9wZW4uXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGNvbnRlbnRTY3JvbGw6IHRydWUsXG5cbiAgLyoqXG4gICAqIEFtb3VudCBvZiB0aW1lIHRoZSBvcGVuIGFuZCBjbG9zZSB0cmFuc2l0aW9uIHJlcXVpcmVzLCBpbmNsdWRpbmcgdGhlIGFwcHJvcHJpYXRlIG1pbGxpc2Vjb25kcyAoYG1zYCkgb3Igc2Vjb25kcyAoYHNgKSB1bml0IChlLmcuIGA1MDBtc2AsIGAuNzVzYCkgSWYgbm9uZSBzZWxlY3RlZCwgcHVsbHMgZnJvbSBib2R5IHN0eWxlLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIHRyYW5zaXRpb25UaW1lOiBudWxsLFxuXG4gIC8qKlxuICAgKiBUeXBlIG9mIHRyYW5zaXRpb24gZm9yIHRoZSBPZmZDYW52YXMgbWVudS4gT3B0aW9ucyBhcmUgJ3B1c2gnLCAnZGV0YWNoZWQnIG9yICdzbGlkZScuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgcHVzaFxuICAgKi9cbiAgdHJhbnNpdGlvbjogJ3B1c2gnLFxuXG4gIC8qKlxuICAgKiBGb3JjZSB0aGUgcGFnZSB0byBzY3JvbGwgdG8gdG9wIG9yIGJvdHRvbSBvbiBvcGVuLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBmb3JjZVRvOiBudWxsLFxuXG4gIC8qKlxuICAgKiBBbGxvdyB0aGUgT2ZmQ2FudmFzIHRvIHJlbWFpbiBvcGVuIGZvciBjZXJ0YWluIGJyZWFrcG9pbnRzLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgaXNSZXZlYWxlZDogZmFsc2UsXG5cbiAgLyoqXG4gICAqIEJyZWFrcG9pbnQgYXQgd2hpY2ggdG8gcmV2ZWFsLiBKUyB3aWxsIHVzZSBhIFJlZ0V4cCB0byB0YXJnZXQgc3RhbmRhcmQgY2xhc3NlcywgaWYgY2hhbmdpbmcgY2xhc3NuYW1lcywgcGFzcyB5b3VyIGNsYXNzIHdpdGggdGhlIGByZXZlYWxDbGFzc2Agb3B0aW9uLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICByZXZlYWxPbjogbnVsbCxcblxuICAvKipcbiAgICogQnJlYWtwb2ludCBhdCB3aGljaCB0aGUgb2ZmLWNhbnZhcyBnZXRzIG1vdmVkIGludG8gY2FudmFzIGNvbnRlbnQgYW5kIGFjdHMgYXMgcmVndWxhciBwYWdlIGVsZW1lbnQuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUgez9zdHJpbmd9XG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIGluQ2FudmFzT246IG51bGwsXG5cbiAgLyoqXG4gICAqIEZvcmNlIGZvY3VzIHRvIHRoZSBvZmZjYW52YXMgb24gb3Blbi4gSWYgdHJ1ZSwgd2lsbCBmb2N1cyB0aGUgb3BlbmluZyB0cmlnZ2VyIG9uIGNsb3NlLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBhdXRvRm9jdXM6IHRydWUsXG5cbiAgLyoqXG4gICAqIENsYXNzIHVzZWQgdG8gZm9yY2UgYW4gT2ZmQ2FudmFzIHRvIHJlbWFpbiBvcGVuLiBGb3VuZGF0aW9uIGRlZmF1bHRzIGZvciB0aGlzIGFyZSBgcmV2ZWFsLWZvci1sYXJnZWAgJiBgcmV2ZWFsLWZvci1tZWRpdW1gLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0IHJldmVhbC1mb3ItXG4gICAqIEB0b2RvIGltcHJvdmUgdGhlIHJlZ2V4IHRlc3RpbmcgZm9yIHRoaXMuXG4gICAqL1xuICByZXZlYWxDbGFzczogJ3JldmVhbC1mb3ItJyxcblxuICAvKipcbiAgICogVHJpZ2dlcnMgb3B0aW9uYWwgZm9jdXMgdHJhcHBpbmcgd2hlbiBvcGVuaW5nIGFuIE9mZkNhbnZhcy4gU2V0cyB0YWJpbmRleCBvZiBbZGF0YS1vZmYtY2FudmFzLWNvbnRlbnRdIHRvIC0xIGZvciBhY2Nlc3NpYmlsaXR5IHB1cnBvc2VzLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdHJhcEZvY3VzOiBmYWxzZVxufVxuXG5leHBvcnQge09mZkNhbnZhc307XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC5rZXlib2FyZCc7XG5pbXBvcnQgeyBNb3Rpb24gfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC5tb3Rpb24nO1xuaW1wb3J0IHsgVGltZXIgfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC50aW1lcic7XG5pbXBvcnQgeyBvbkltYWdlc0xvYWRlZCB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLmltYWdlTG9hZGVyJztcbmltcG9ydCB7IEdldFlvRGlnaXRzIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUudXRpbHMnO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcbmltcG9ydCB7IFRvdWNoIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwudG91Y2gnXG5cblxuLyoqXG4gKiBPcmJpdCBtb2R1bGUuXG4gKiBAbW9kdWxlIGZvdW5kYXRpb24ub3JiaXRcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmRcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwubW90aW9uXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLnRpbWVyXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmltYWdlTG9hZGVyXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLnRvdWNoXG4gKi9cblxuY2xhc3MgT3JiaXQgZXh0ZW5kcyBQbHVnaW4ge1xuICAvKipcbiAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIGFuIG9yYml0IGNhcm91c2VsLlxuICAqIEBjbGFzc1xuICAqIEBuYW1lIE9yYml0XG4gICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIG1ha2UgaW50byBhbiBPcmJpdCBDYXJvdXNlbC5cbiAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlcyB0byB0aGUgZGVmYXVsdCBwbHVnaW4gc2V0dGluZ3MuXG4gICovXG4gIF9zZXR1cChlbGVtZW50LCBvcHRpb25zKXtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgT3JiaXQuZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcbiAgICB0aGlzLmNsYXNzTmFtZSA9ICdPcmJpdCc7IC8vIGllOSBiYWNrIGNvbXBhdFxuXG4gICAgVG91Y2guaW5pdCgkKTsgLy8gVG91Y2ggaW5pdCBpcyBpZGVtcG90ZW50LCB3ZSBqdXN0IG5lZWQgdG8gbWFrZSBzdXJlIGl0J3MgaW5pdGlhbGllZC5cblxuICAgIHRoaXMuX2luaXQoKTtcblxuICAgIEtleWJvYXJkLnJlZ2lzdGVyKCdPcmJpdCcsIHtcbiAgICAgICdsdHInOiB7XG4gICAgICAgICdBUlJPV19SSUdIVCc6ICduZXh0JyxcbiAgICAgICAgJ0FSUk9XX0xFRlQnOiAncHJldmlvdXMnXG4gICAgICB9LFxuICAgICAgJ3J0bCc6IHtcbiAgICAgICAgJ0FSUk9XX0xFRlQnOiAnbmV4dCcsXG4gICAgICAgICdBUlJPV19SSUdIVCc6ICdwcmV2aW91cydcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAqIEluaXRpYWxpemVzIHRoZSBwbHVnaW4gYnkgY3JlYXRpbmcgalF1ZXJ5IGNvbGxlY3Rpb25zLCBzZXR0aW5nIGF0dHJpYnV0ZXMsIGFuZCBzdGFydGluZyB0aGUgYW5pbWF0aW9uLlxuICAqIEBmdW5jdGlvblxuICAqIEBwcml2YXRlXG4gICovXG4gIF9pbml0KCkge1xuICAgIC8vIEBUT0RPOiBjb25zaWRlciBkaXNjdXNzaW9uIG9uIFBSICM5Mjc4IGFib3V0IERPTSBwb2xsdXRpb24gYnkgY2hhbmdlU2xpZGVcbiAgICB0aGlzLl9yZXNldCgpO1xuXG4gICAgdGhpcy4kd3JhcHBlciA9IHRoaXMuJGVsZW1lbnQuZmluZChgLiR7dGhpcy5vcHRpb25zLmNvbnRhaW5lckNsYXNzfWApO1xuICAgIHRoaXMuJHNsaWRlcyA9IHRoaXMuJGVsZW1lbnQuZmluZChgLiR7dGhpcy5vcHRpb25zLnNsaWRlQ2xhc3N9YCk7XG5cbiAgICB2YXIgJGltYWdlcyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW1nJyksXG4gICAgICAgIGluaXRBY3RpdmUgPSB0aGlzLiRzbGlkZXMuZmlsdGVyKCcuaXMtYWN0aXZlJyksXG4gICAgICAgIGlkID0gdGhpcy4kZWxlbWVudFswXS5pZCB8fCBHZXRZb0RpZ2l0cyg2LCAnb3JiaXQnKTtcblxuICAgIHRoaXMuJGVsZW1lbnQuYXR0cih7XG4gICAgICAnZGF0YS1yZXNpemUnOiBpZCxcbiAgICAgICdpZCc6IGlkXG4gICAgfSk7XG5cbiAgICBpZiAoIWluaXRBY3RpdmUubGVuZ3RoKSB7XG4gICAgICB0aGlzLiRzbGlkZXMuZXEoMCkuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5vcHRpb25zLnVzZU1VSSkge1xuICAgICAgdGhpcy4kc2xpZGVzLmFkZENsYXNzKCduby1tb3Rpb251aScpO1xuICAgIH1cblxuICAgIGlmICgkaW1hZ2VzLmxlbmd0aCkge1xuICAgICAgb25JbWFnZXNMb2FkZWQoJGltYWdlcywgdGhpcy5fcHJlcGFyZUZvck9yYml0LmJpbmQodGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9wcmVwYXJlRm9yT3JiaXQoKTsvL2hlaGVcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmJ1bGxldHMpIHtcbiAgICAgIHRoaXMuX2xvYWRCdWxsZXRzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZXZlbnRzKCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9QbGF5ICYmIHRoaXMuJHNsaWRlcy5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLmdlb1N5bmMoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFjY2Vzc2libGUpIHsgLy8gYWxsb3cgd3JhcHBlciB0byBiZSBmb2N1c2FibGUgdG8gZW5hYmxlIGFycm93IG5hdmlnYXRpb25cbiAgICAgIHRoaXMuJHdyYXBwZXIuYXR0cigndGFiaW5kZXgnLCAwKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBDcmVhdGVzIGEgalF1ZXJ5IGNvbGxlY3Rpb24gb2YgYnVsbGV0cywgaWYgdGhleSBhcmUgYmVpbmcgdXNlZC5cbiAgKiBAZnVuY3Rpb25cbiAgKiBAcHJpdmF0ZVxuICAqL1xuICBfbG9hZEJ1bGxldHMoKSB7XG4gICAgdGhpcy4kYnVsbGV0cyA9IHRoaXMuJGVsZW1lbnQuZmluZChgLiR7dGhpcy5vcHRpb25zLmJveE9mQnVsbGV0c31gKS5maW5kKCdidXR0b24nKTtcbiAgfVxuXG4gIC8qKlxuICAqIFNldHMgYSBgdGltZXJgIG9iamVjdCBvbiB0aGUgb3JiaXQsIGFuZCBzdGFydHMgdGhlIGNvdW50ZXIgZm9yIHRoZSBuZXh0IHNsaWRlLlxuICAqIEBmdW5jdGlvblxuICAqL1xuICBnZW9TeW5jKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy50aW1lciA9IG5ldyBUaW1lcihcbiAgICAgIHRoaXMuJGVsZW1lbnQsXG4gICAgICB7XG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMudGltZXJEZWxheSxcbiAgICAgICAgaW5maW5pdGU6IGZhbHNlXG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLmNoYW5nZVNsaWRlKHRydWUpO1xuICAgICAgfSk7XG4gICAgdGhpcy50aW1lci5zdGFydCgpO1xuICB9XG5cbiAgLyoqXG4gICogU2V0cyB3cmFwcGVyIGFuZCBzbGlkZSBoZWlnaHRzIGZvciB0aGUgb3JiaXQuXG4gICogQGZ1bmN0aW9uXG4gICogQHByaXZhdGVcbiAgKi9cbiAgX3ByZXBhcmVGb3JPcmJpdCgpIHtcbiAgICB0aGlzLl9zZXRXcmFwcGVySGVpZ2h0KCk7XG4gIH1cblxuICAvKipcbiAgKiBDYWx1bGF0ZXMgdGhlIGhlaWdodCBvZiBlYWNoIHNsaWRlIGluIHRoZSBjb2xsZWN0aW9uLCBhbmQgdXNlcyB0aGUgdGFsbGVzdCBvbmUgZm9yIHRoZSB3cmFwcGVyIGhlaWdodC5cbiAgKiBAZnVuY3Rpb25cbiAgKiBAcHJpdmF0ZVxuICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBmaXJlIHdoZW4gY29tcGxldGUuXG4gICovXG4gIF9zZXRXcmFwcGVySGVpZ2h0KGNiKSB7Ly9yZXdyaXRlIHRoaXMgdG8gYGZvcmAgbG9vcFxuICAgIHZhciBtYXggPSAwLCB0ZW1wLCBjb3VudGVyID0gMCwgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy4kc2xpZGVzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB0ZW1wID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtc2xpZGUnLCBjb3VudGVyKTtcblxuICAgICAgLy8gaGlkZSBhbGwgc2xpZGVzIGJ1dCB0aGUgYWN0aXZlIG9uZVxuICAgICAgaWYgKCEvbXVpL2cudGVzdCgkKHRoaXMpWzBdLmNsYXNzTmFtZSkgJiYgX3RoaXMuJHNsaWRlcy5maWx0ZXIoJy5pcy1hY3RpdmUnKVswXSAhPT0gX3RoaXMuJHNsaWRlcy5lcShjb3VudGVyKVswXSkge1xuICAgICAgICAkKHRoaXMpLmNzcyh7J2Rpc3BsYXknOiAnbm9uZSd9KTtcbiAgICAgIH1cbiAgICAgIG1heCA9IHRlbXAgPiBtYXggPyB0ZW1wIDogbWF4O1xuICAgICAgY291bnRlcisrO1xuICAgIH0pO1xuXG4gICAgaWYgKGNvdW50ZXIgPT09IHRoaXMuJHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuJHdyYXBwZXIuY3NzKHsnaGVpZ2h0JzogbWF4fSk7IC8vb25seSBjaGFuZ2UgdGhlIHdyYXBwZXIgaGVpZ2h0IHByb3BlcnR5IG9uY2UuXG4gICAgICBpZihjYikge2NiKG1heCk7fSAvL2ZpcmUgY2FsbGJhY2sgd2l0aCBtYXggaGVpZ2h0IGRpbWVuc2lvbi5cbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBTZXRzIHRoZSBtYXgtaGVpZ2h0IG9mIGVhY2ggc2xpZGUuXG4gICogQGZ1bmN0aW9uXG4gICogQHByaXZhdGVcbiAgKi9cbiAgX3NldFNsaWRlSGVpZ2h0KGhlaWdodCkge1xuICAgIHRoaXMuJHNsaWRlcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgJCh0aGlzKS5jc3MoJ21heC1oZWlnaHQnLCBoZWlnaHQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogQWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gYmFzaWNhbGx5IGV2ZXJ5dGhpbmcgd2l0aGluIHRoZSBlbGVtZW50LlxuICAqIEBmdW5jdGlvblxuICAqIEBwcml2YXRlXG4gICovXG4gIF9ldmVudHMoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8qKk5vdyB1c2luZyBjdXN0b20gZXZlbnQgLSB0aGFua3MgdG86KipcbiAgICAvLyoqICAgICAgWW9oYWkgQXJhcmF0IG9mIFRvcm9udG8gICAgICAqKlxuICAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy9cbiAgICB0aGlzLiRlbGVtZW50Lm9mZignLnJlc2l6ZW1lLnpmLnRyaWdnZXInKS5vbih7XG4gICAgICAncmVzaXplbWUuemYudHJpZ2dlcic6IHRoaXMuX3ByZXBhcmVGb3JPcmJpdC5iaW5kKHRoaXMpXG4gICAgfSlcbiAgICBpZiAodGhpcy4kc2xpZGVzLmxlbmd0aCA+IDEpIHtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zd2lwZSkge1xuICAgICAgICB0aGlzLiRzbGlkZXMub2ZmKCdzd2lwZWxlZnQuemYub3JiaXQgc3dpcGVyaWdodC56Zi5vcmJpdCcpXG4gICAgICAgIC5vbignc3dpcGVsZWZ0LnpmLm9yYml0JywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIF90aGlzLmNoYW5nZVNsaWRlKHRydWUpO1xuICAgICAgICB9KS5vbignc3dpcGVyaWdodC56Zi5vcmJpdCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfdGhpcy5jaGFuZ2VTbGlkZShmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvUGxheSkge1xuICAgICAgICB0aGlzLiRzbGlkZXMub24oJ2NsaWNrLnpmLm9yYml0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3RoaXMuJGVsZW1lbnQuZGF0YSgnY2xpY2tlZE9uJywgX3RoaXMuJGVsZW1lbnQuZGF0YSgnY2xpY2tlZE9uJykgPyBmYWxzZSA6IHRydWUpO1xuICAgICAgICAgIF90aGlzLnRpbWVyW190aGlzLiRlbGVtZW50LmRhdGEoJ2NsaWNrZWRPbicpID8gJ3BhdXNlJyA6ICdzdGFydCddKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGF1c2VPbkhvdmVyKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC5vbignbW91c2VlbnRlci56Zi5vcmJpdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3RoaXMudGltZXIucGF1c2UoKTtcbiAgICAgICAgICB9KS5vbignbW91c2VsZWF2ZS56Zi5vcmJpdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy4kZWxlbWVudC5kYXRhKCdjbGlja2VkT24nKSkge1xuICAgICAgICAgICAgICBfdGhpcy50aW1lci5zdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubmF2QnV0dG9ucykge1xuICAgICAgICB2YXIgJGNvbnRyb2xzID0gdGhpcy4kZWxlbWVudC5maW5kKGAuJHt0aGlzLm9wdGlvbnMubmV4dENsYXNzfSwgLiR7dGhpcy5vcHRpb25zLnByZXZDbGFzc31gKTtcbiAgICAgICAgJGNvbnRyb2xzLmF0dHIoJ3RhYmluZGV4JywgMClcbiAgICAgICAgLy9hbHNvIG5lZWQgdG8gaGFuZGxlIGVudGVyL3JldHVybiBhbmQgc3BhY2ViYXIga2V5IHByZXNzZXNcbiAgICAgICAgLm9uKCdjbGljay56Zi5vcmJpdCB0b3VjaGVuZC56Zi5vcmJpdCcsIGZ1bmN0aW9uKGUpe1xuXHQgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfdGhpcy5jaGFuZ2VTbGlkZSgkKHRoaXMpLmhhc0NsYXNzKF90aGlzLm9wdGlvbnMubmV4dENsYXNzKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmJ1bGxldHMpIHtcbiAgICAgICAgdGhpcy4kYnVsbGV0cy5vbignY2xpY2suemYub3JiaXQgdG91Y2hlbmQuemYub3JiaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoL2lzLWFjdGl2ZS9nLnRlc3QodGhpcy5jbGFzc05hbWUpKSB7IHJldHVybiBmYWxzZTsgfS8vaWYgdGhpcyBpcyBhY3RpdmUsIGtpY2sgb3V0IG9mIGZ1bmN0aW9uLlxuICAgICAgICAgIHZhciBpZHggPSAkKHRoaXMpLmRhdGEoJ3NsaWRlJyksXG4gICAgICAgICAgbHRyID0gaWR4ID4gX3RoaXMuJHNsaWRlcy5maWx0ZXIoJy5pcy1hY3RpdmUnKS5kYXRhKCdzbGlkZScpLFxuICAgICAgICAgICRzbGlkZSA9IF90aGlzLiRzbGlkZXMuZXEoaWR4KTtcblxuICAgICAgICAgIF90aGlzLmNoYW5nZVNsaWRlKGx0ciwgJHNsaWRlLCBpZHgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hY2Nlc3NpYmxlKSB7XG4gICAgICAgIHRoaXMuJHdyYXBwZXIuYWRkKHRoaXMuJGJ1bGxldHMpLm9uKCdrZXlkb3duLnpmLm9yYml0JywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIC8vIGhhbmRsZSBrZXlib2FyZCBldmVudCB3aXRoIGtleWJvYXJkIHV0aWxcbiAgICAgICAgICBLZXlib2FyZC5oYW5kbGVLZXkoZSwgJ09yYml0Jywge1xuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIF90aGlzLmNoYW5nZVNsaWRlKHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZXZpb3VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgX3RoaXMuY2hhbmdlU2xpZGUoZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhhbmRsZWQ6IGZ1bmN0aW9uKCkgeyAvLyBpZiBidWxsZXQgaXMgZm9jdXNlZCwgbWFrZSBzdXJlIGZvY3VzIG1vdmVzXG4gICAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyhfdGhpcy4kYnVsbGV0cykpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy4kYnVsbGV0cy5maWx0ZXIoJy5pcy1hY3RpdmUnKS5mb2N1cygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgT3JiaXQgc28gaXQgY2FuIGJlIHJlaW5pdGlhbGl6ZWRcbiAgICovXG4gIF9yZXNldCgpIHtcbiAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGVyZSBhcmUgbm8gc2xpZGVzIChmaXJzdCBydW4pXG4gICAgaWYgKHR5cGVvZiB0aGlzLiRzbGlkZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuJHNsaWRlcy5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBSZW1vdmUgb2xkIGV2ZW50c1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmYoJy56Zi5vcmJpdCcpLmZpbmQoJyonKS5vZmYoJy56Zi5vcmJpdCcpXG5cbiAgICAgIC8vIFJlc3RhcnQgdGltZXIgaWYgYXV0b1BsYXkgaXMgZW5hYmxlZFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvUGxheSkge1xuICAgICAgICB0aGlzLnRpbWVyLnJlc3RhcnQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVzZXQgYWxsIHNsaWRkZXNcbiAgICAgIHRoaXMuJHNsaWRlcy5lYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICQoZWwpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUgaXMtYWN0aXZlIGlzLWluJylcbiAgICAgICAgICAucmVtb3ZlQXR0cignYXJpYS1saXZlJylcbiAgICAgICAgICAuaGlkZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFNob3cgdGhlIGZpcnN0IHNsaWRlXG4gICAgICB0aGlzLiRzbGlkZXMuZmlyc3QoKS5hZGRDbGFzcygnaXMtYWN0aXZlJykuc2hvdygpO1xuXG4gICAgICAvLyBUcmlnZ2VycyB3aGVuIHRoZSBzbGlkZSBoYXMgZmluaXNoZWQgYW5pbWF0aW5nXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3NsaWRlY2hhbmdlLnpmLm9yYml0JywgW3RoaXMuJHNsaWRlcy5maXJzdCgpXSk7XG5cbiAgICAgIC8vIFNlbGVjdCBmaXJzdCBidWxsZXQgaWYgYnVsbGV0cyBhcmUgcHJlc2VudFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5idWxsZXRzKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUJ1bGxldHMoMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogQ2hhbmdlcyB0aGUgY3VycmVudCBzbGlkZSB0byBhIG5ldyBvbmUuXG4gICogQGZ1bmN0aW9uXG4gICogQHBhcmFtIHtCb29sZWFufSBpc0xUUiAtIGlmIHRydWUgdGhlIHNsaWRlIG1vdmVzIGZyb20gcmlnaHQgdG8gbGVmdCwgaWYgZmFsc2UgdGhlIHNsaWRlIG1vdmVzIGZyb20gbGVmdCB0byByaWdodC5cbiAgKiBAcGFyYW0ge2pRdWVyeX0gY2hvc2VuU2xpZGUgLSB0aGUgalF1ZXJ5IGVsZW1lbnQgb2YgdGhlIHNsaWRlIHRvIHNob3cgbmV4dCwgaWYgb25lIGlzIHNlbGVjdGVkLlxuICAqIEBwYXJhbSB7TnVtYmVyfSBpZHggLSB0aGUgaW5kZXggb2YgdGhlIG5ldyBzbGlkZSBpbiBpdHMgY29sbGVjdGlvbiwgaWYgb25lIGNob3Nlbi5cbiAgKiBAZmlyZXMgT3JiaXQjc2xpZGVjaGFuZ2VcbiAgKi9cbiAgY2hhbmdlU2xpZGUoaXNMVFIsIGNob3NlblNsaWRlLCBpZHgpIHtcbiAgICBpZiAoIXRoaXMuJHNsaWRlcykge3JldHVybjsgfSAvLyBEb24ndCBmcmVhayBvdXQgaWYgd2UncmUgaW4gdGhlIG1pZGRsZSBvZiBjbGVhbnVwXG4gICAgdmFyICRjdXJTbGlkZSA9IHRoaXMuJHNsaWRlcy5maWx0ZXIoJy5pcy1hY3RpdmUnKS5lcSgwKTtcblxuICAgIGlmICgvbXVpL2cudGVzdCgkY3VyU2xpZGVbMF0uY2xhc3NOYW1lKSkgeyByZXR1cm4gZmFsc2U7IH0gLy9pZiB0aGUgc2xpZGUgaXMgY3VycmVudGx5IGFuaW1hdGluZywga2ljayBvdXQgb2YgdGhlIGZ1bmN0aW9uXG5cbiAgICB2YXIgJGZpcnN0U2xpZGUgPSB0aGlzLiRzbGlkZXMuZmlyc3QoKSxcbiAgICAkbGFzdFNsaWRlID0gdGhpcy4kc2xpZGVzLmxhc3QoKSxcbiAgICBkaXJJbiA9IGlzTFRSID8gJ1JpZ2h0JyA6ICdMZWZ0JyxcbiAgICBkaXJPdXQgPSBpc0xUUiA/ICdMZWZ0JyA6ICdSaWdodCcsXG4gICAgX3RoaXMgPSB0aGlzLFxuICAgICRuZXdTbGlkZTtcblxuICAgIGlmICghY2hvc2VuU2xpZGUpIHsgLy9tb3N0IG9mIHRoZSB0aW1lLCB0aGlzIHdpbGwgYmUgYXV0byBwbGF5ZWQgb3IgY2xpY2tlZCBmcm9tIHRoZSBuYXZCdXR0b25zLlxuICAgICAgJG5ld1NsaWRlID0gaXNMVFIgPyAvL2lmIHdyYXBwaW5nIGVuYWJsZWQsIGNoZWNrIHRvIHNlZSBpZiB0aGVyZSBpcyBhIGBuZXh0YCBvciBgcHJldmAgc2libGluZywgaWYgbm90LCBzZWxlY3QgdGhlIGZpcnN0IG9yIGxhc3Qgc2xpZGUgdG8gZmlsbCBpbi4gaWYgd3JhcHBpbmcgbm90IGVuYWJsZWQsIGF0dGVtcHQgdG8gc2VsZWN0IGBuZXh0YCBvciBgcHJldmAsIGlmIHRoZXJlJ3Mgbm90aGluZyB0aGVyZSwgdGhlIGZ1bmN0aW9uIHdpbGwga2ljayBvdXQgb24gbmV4dCBzdGVwLiBDUkFaWSBORVNURUQgVEVSTkFSSUVTISEhISFcbiAgICAgICh0aGlzLm9wdGlvbnMuaW5maW5pdGVXcmFwID8gJGN1clNsaWRlLm5leHQoYC4ke3RoaXMub3B0aW9ucy5zbGlkZUNsYXNzfWApLmxlbmd0aCA/ICRjdXJTbGlkZS5uZXh0KGAuJHt0aGlzLm9wdGlvbnMuc2xpZGVDbGFzc31gKSA6ICRmaXJzdFNsaWRlIDogJGN1clNsaWRlLm5leHQoYC4ke3RoaXMub3B0aW9ucy5zbGlkZUNsYXNzfWApKS8vcGljayBuZXh0IHNsaWRlIGlmIG1vdmluZyBsZWZ0IHRvIHJpZ2h0XG4gICAgICA6XG4gICAgICAodGhpcy5vcHRpb25zLmluZmluaXRlV3JhcCA/ICRjdXJTbGlkZS5wcmV2KGAuJHt0aGlzLm9wdGlvbnMuc2xpZGVDbGFzc31gKS5sZW5ndGggPyAkY3VyU2xpZGUucHJldihgLiR7dGhpcy5vcHRpb25zLnNsaWRlQ2xhc3N9YCkgOiAkbGFzdFNsaWRlIDogJGN1clNsaWRlLnByZXYoYC4ke3RoaXMub3B0aW9ucy5zbGlkZUNsYXNzfWApKTsvL3BpY2sgcHJldiBzbGlkZSBpZiBtb3ZpbmcgcmlnaHQgdG8gbGVmdFxuICAgIH0gZWxzZSB7XG4gICAgICAkbmV3U2xpZGUgPSBjaG9zZW5TbGlkZTtcbiAgICB9XG5cbiAgICBpZiAoJG5ld1NsaWRlLmxlbmd0aCkge1xuICAgICAgLyoqXG4gICAgICAqIFRyaWdnZXJzIGJlZm9yZSB0aGUgbmV4dCBzbGlkZSBzdGFydHMgYW5pbWF0aW5nIGluIGFuZCBvbmx5IGlmIGEgbmV4dCBzbGlkZSBoYXMgYmVlbiBmb3VuZC5cbiAgICAgICogQGV2ZW50IE9yYml0I2JlZm9yZXNsaWRlY2hhbmdlXG4gICAgICAqL1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdiZWZvcmVzbGlkZWNoYW5nZS56Zi5vcmJpdCcsIFskY3VyU2xpZGUsICRuZXdTbGlkZV0pO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmJ1bGxldHMpIHtcbiAgICAgICAgaWR4ID0gaWR4IHx8IHRoaXMuJHNsaWRlcy5pbmRleCgkbmV3U2xpZGUpOyAvL2dyYWIgaW5kZXggdG8gdXBkYXRlIGJ1bGxldHNcbiAgICAgICAgdGhpcy5fdXBkYXRlQnVsbGV0cyhpZHgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnVzZU1VSSAmJiAhdGhpcy4kZWxlbWVudC5pcygnOmhpZGRlbicpKSB7XG4gICAgICAgIE1vdGlvbi5hbmltYXRlSW4oXG4gICAgICAgICAgJG5ld1NsaWRlLmFkZENsYXNzKCdpcy1hY3RpdmUnKSxcbiAgICAgICAgICB0aGlzLm9wdGlvbnNbYGFuaW1JbkZyb20ke2RpcklufWBdLFxuICAgICAgICAgIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkbmV3U2xpZGUuY3NzKHsnZGlzcGxheSc6ICdibG9jayd9KS5hdHRyKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIE1vdGlvbi5hbmltYXRlT3V0KFxuICAgICAgICAgICRjdXJTbGlkZS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyksXG4gICAgICAgICAgdGhpcy5vcHRpb25zW2BhbmltT3V0VG8ke2Rpck91dH1gXSxcbiAgICAgICAgICBmdW5jdGlvbigpe1xuICAgICAgICAgICAgJGN1clNsaWRlLnJlbW92ZUF0dHIoJ2FyaWEtbGl2ZScpO1xuICAgICAgICAgICAgaWYoX3RoaXMub3B0aW9ucy5hdXRvUGxheSAmJiAhX3RoaXMudGltZXIuaXNQYXVzZWQpe1xuICAgICAgICAgICAgICBfdGhpcy50aW1lci5yZXN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2RvIHN0dWZmP1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGN1clNsaWRlLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUgaXMtaW4nKS5yZW1vdmVBdHRyKCdhcmlhLWxpdmUnKS5oaWRlKCk7XG4gICAgICAgICRuZXdTbGlkZS5hZGRDbGFzcygnaXMtYWN0aXZlIGlzLWluJykuYXR0cignYXJpYS1saXZlJywgJ3BvbGl0ZScpLnNob3coKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvUGxheSAmJiAhdGhpcy50aW1lci5pc1BhdXNlZCkge1xuICAgICAgICAgIHRoaXMudGltZXIucmVzdGFydCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgLyoqXG4gICAgKiBUcmlnZ2VycyB3aGVuIHRoZSBzbGlkZSBoYXMgZmluaXNoZWQgYW5pbWF0aW5nIGluLlxuICAgICogQGV2ZW50IE9yYml0I3NsaWRlY2hhbmdlXG4gICAgKi9cbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignc2xpZGVjaGFuZ2UuemYub3JiaXQnLCBbJG5ld1NsaWRlXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogVXBkYXRlcyB0aGUgYWN0aXZlIHN0YXRlIG9mIHRoZSBidWxsZXRzLCBpZiBkaXNwbGF5ZWQuXG4gICogTW92ZSB0aGUgZGVzY3JpcHRvciBvZiB0aGUgY3VycmVudCBzbGlkZSBgW2RhdGEtc2xpZGUtYWN0aXZlLWxhYmVsXWAgdG8gdGhlIG5ld2x5IGFjdGl2ZSBidWxsZXQuXG4gICogSWYgbm8gYFtkYXRhLXNsaWRlLWFjdGl2ZS1sYWJlbF1gIGlzIHNldCwgd2lsbCBtb3ZlIHRoZSBleGNlZWRpbmcgYHNwYW5gIGVsZW1lbnQuXG4gICpcbiAgKiBAZnVuY3Rpb25cbiAgKiBAcHJpdmF0ZVxuICAqIEBwYXJhbSB7TnVtYmVyfSBpZHggLSB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgc2xpZGUuXG4gICovXG4gIF91cGRhdGVCdWxsZXRzKGlkeCkge1xuICAgIHZhciAkb2xkQnVsbGV0ID0gdGhpcy4kYnVsbGV0cy5maWx0ZXIoJy5pcy1hY3RpdmUnKTtcbiAgICB2YXIgJG90aGVyc0J1bGxldHMgPSB0aGlzLiRidWxsZXRzLm5vdCgnLmlzLWFjdGl2ZScpO1xuICAgIHZhciAkbmV3QnVsbGV0ID0gdGhpcy4kYnVsbGV0cy5lcShpZHgpO1xuXG4gICAgJG9sZEJ1bGxldC5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJykuYmx1cigpO1xuICAgICRuZXdCdWxsZXQuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXG4gICAgLy8gRmluZCB0aGUgZGVzY3JpcHRvciBmb3IgdGhlIGN1cnJlbnQgc2xpZGUgdG8gbW92ZSBpdCB0byB0aGUgbmV3IHNsaWRlIGJ1dHRvblxuICAgIHZhciBhY3RpdmVTdGF0ZURlc2NyaXB0b3IgPSAkb2xkQnVsbGV0LmNoaWxkcmVuKCdbZGF0YS1zbGlkZS1hY3RpdmUtbGFiZWxdJykubGFzdCgpO1xuXG4gICAgLy8gSWYgbm90IGV4cGxpY2l0ZWx5IGdpdmVuLCBzZWFyY2ggZm9yIHRoZSBsYXN0IFwiZXhjZWVkaW5nXCIgc3BhbiBlbGVtZW50IChjb21wYXJlZCB0byBvdGhlcnMgYnVsbGV0cykuXG4gICAgaWYgKCFhY3RpdmVTdGF0ZURlc2NyaXB0b3IubGVuZ3RoKSB7XG4gICAgICB2YXIgc3BhbnMgPSAkb2xkQnVsbGV0LmNoaWxkcmVuKCdzcGFuJyk7XG4gICAgICB2YXIgc3BhbkNvdW50SW5PdGhlcnNCdWxsZXRzID0gJG90aGVyc0J1bGxldHMudG9BcnJheSgpLm1hcChiID0+ICQoYikuY2hpbGRyZW4oJ3NwYW4nKS5sZW5ndGgpO1xuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBhbiBleGNlZWRpbmcgc3BhbiBlbGVtZW50LCB1c2UgaXQgYXMgY3VycmVudCBzbGlkZSBkZXNjcmlwdG9yXG4gICAgICBpZiAoc3BhbkNvdW50SW5PdGhlcnNCdWxsZXRzLmV2ZXJ5KGNvdW50ID0+IGNvdW50IDwgc3BhbnMubGVuZ3RoKSkge1xuICAgICAgICBhY3RpdmVTdGF0ZURlc2NyaXB0b3IgPSBzcGFucy5sYXN0KCk7XG4gICAgICAgIGFjdGl2ZVN0YXRlRGVzY3JpcHRvci5hdHRyKCdkYXRhLXNsaWRlLWFjdGl2ZS1sYWJlbCcsICcnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNb3ZlIHRoZSBjdXJyZW50IHNsaWRlIGRlc2NyaXB0b3IgdG8gdGhlIG5ldyBzbGlkZSBidXR0b25cbiAgICBpZiAoYWN0aXZlU3RhdGVEZXNjcmlwdG9yLmxlbmd0aCkge1xuICAgICAgYWN0aXZlU3RhdGVEZXNjcmlwdG9yLmRldGFjaCgpO1xuICAgICAgJG5ld0J1bGxldC5hcHBlbmQoYWN0aXZlU3RhdGVEZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBEZXN0cm95cyB0aGUgY2Fyb3VzZWwgYW5kIGhpZGVzIHRoZSBlbGVtZW50LlxuICAqIEBmdW5jdGlvblxuICAqL1xuICBfZGVzdHJveSgpIHtcbiAgICB0aGlzLiRlbGVtZW50Lm9mZignLnpmLm9yYml0JykuZmluZCgnKicpLm9mZignLnpmLm9yYml0JykuZW5kKCkuaGlkZSgpO1xuICB9XG59XG5cbk9yYml0LmRlZmF1bHRzID0ge1xuICAvKipcbiAgKiBUZWxscyB0aGUgSlMgdG8gbG9vayBmb3IgYW5kIGxvYWRCdWxsZXRzLlxuICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICogQGRlZmF1bHQgdHJ1ZVxuICAqL1xuICBidWxsZXRzOiB0cnVlLFxuICAvKipcbiAgKiBUZWxscyB0aGUgSlMgdG8gYXBwbHkgZXZlbnQgbGlzdGVuZXJzIHRvIG5hdiBidXR0b25zXG4gICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgKiBAZGVmYXVsdCB0cnVlXG4gICovXG4gIG5hdkJ1dHRvbnM6IHRydWUsXG4gIC8qKlxuICAqIG1vdGlvbi11aSBhbmltYXRpb24gY2xhc3MgdG8gYXBwbHlcbiAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICogQGRlZmF1bHQgJ3NsaWRlLWluLXJpZ2h0J1xuICAqL1xuICBhbmltSW5Gcm9tUmlnaHQ6ICdzbGlkZS1pbi1yaWdodCcsXG4gIC8qKlxuICAqIG1vdGlvbi11aSBhbmltYXRpb24gY2xhc3MgdG8gYXBwbHlcbiAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICogQGRlZmF1bHQgJ3NsaWRlLW91dC1yaWdodCdcbiAgKi9cbiAgYW5pbU91dFRvUmlnaHQ6ICdzbGlkZS1vdXQtcmlnaHQnLFxuICAvKipcbiAgKiBtb3Rpb24tdWkgYW5pbWF0aW9uIGNsYXNzIHRvIGFwcGx5XG4gICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAqIEBkZWZhdWx0ICdzbGlkZS1pbi1sZWZ0J1xuICAqXG4gICovXG4gIGFuaW1JbkZyb21MZWZ0OiAnc2xpZGUtaW4tbGVmdCcsXG4gIC8qKlxuICAqIG1vdGlvbi11aSBhbmltYXRpb24gY2xhc3MgdG8gYXBwbHlcbiAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICogQGRlZmF1bHQgJ3NsaWRlLW91dC1sZWZ0J1xuICAqL1xuICBhbmltT3V0VG9MZWZ0OiAnc2xpZGUtb3V0LWxlZnQnLFxuICAvKipcbiAgKiBBbGxvd3MgT3JiaXQgdG8gYXV0b21hdGljYWxseSBhbmltYXRlIG9uIHBhZ2UgbG9hZC5cbiAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAqIEBkZWZhdWx0IHRydWVcbiAgKi9cbiAgYXV0b1BsYXk6IHRydWUsXG4gIC8qKlxuICAqIEFtb3VudCBvZiB0aW1lLCBpbiBtcywgYmV0d2VlbiBzbGlkZSB0cmFuc2l0aW9uc1xuICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgKiBAZGVmYXVsdCA1MDAwXG4gICovXG4gIHRpbWVyRGVsYXk6IDUwMDAsXG4gIC8qKlxuICAqIEFsbG93cyBPcmJpdCB0byBpbmZpbml0ZWx5IGxvb3AgdGhyb3VnaCB0aGUgc2xpZGVzXG4gICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgKiBAZGVmYXVsdCB0cnVlXG4gICovXG4gIGluZmluaXRlV3JhcDogdHJ1ZSxcbiAgLyoqXG4gICogQWxsb3dzIHRoZSBPcmJpdCBzbGlkZXMgdG8gYmluZCB0byBzd2lwZSBldmVudHMgZm9yIG1vYmlsZSwgcmVxdWlyZXMgYW4gYWRkaXRpb25hbCB1dGlsIGxpYnJhcnlcbiAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAqIEBkZWZhdWx0IHRydWVcbiAgKi9cbiAgc3dpcGU6IHRydWUsXG4gIC8qKlxuICAqIEFsbG93cyB0aGUgdGltaW5nIGZ1bmN0aW9uIHRvIHBhdXNlIGFuaW1hdGlvbiBvbiBob3Zlci5cbiAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAqIEBkZWZhdWx0IHRydWVcbiAgKi9cbiAgcGF1c2VPbkhvdmVyOiB0cnVlLFxuICAvKipcbiAgKiBBbGxvd3MgT3JiaXQgdG8gYmluZCBrZXlib2FyZCBldmVudHMgdG8gdGhlIHNsaWRlciwgdG8gYW5pbWF0ZSBmcmFtZXMgd2l0aCBhcnJvdyBrZXlzXG4gICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgKiBAZGVmYXVsdCB0cnVlXG4gICovXG4gIGFjY2Vzc2libGU6IHRydWUsXG4gIC8qKlxuICAqIENsYXNzIGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lciBvZiBPcmJpdFxuICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgKiBAZGVmYXVsdCAnb3JiaXQtY29udGFpbmVyJ1xuICAqL1xuICBjb250YWluZXJDbGFzczogJ29yYml0LWNvbnRhaW5lcicsXG4gIC8qKlxuICAqIENsYXNzIGFwcGxpZWQgdG8gaW5kaXZpZHVhbCBzbGlkZXMuXG4gICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAqIEBkZWZhdWx0ICdvcmJpdC1zbGlkZSdcbiAgKi9cbiAgc2xpZGVDbGFzczogJ29yYml0LXNsaWRlJyxcbiAgLyoqXG4gICogQ2xhc3MgYXBwbGllZCB0byB0aGUgYnVsbGV0IGNvbnRhaW5lci4gWW91J3JlIHdlbGNvbWUuXG4gICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAqIEBkZWZhdWx0ICdvcmJpdC1idWxsZXRzJ1xuICAqL1xuICBib3hPZkJ1bGxldHM6ICdvcmJpdC1idWxsZXRzJyxcbiAgLyoqXG4gICogQ2xhc3MgYXBwbGllZCB0byB0aGUgYG5leHRgIG5hdmlnYXRpb24gYnV0dG9uLlxuICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgKiBAZGVmYXVsdCAnb3JiaXQtbmV4dCdcbiAgKi9cbiAgbmV4dENsYXNzOiAnb3JiaXQtbmV4dCcsXG4gIC8qKlxuICAqIENsYXNzIGFwcGxpZWQgdG8gdGhlIGBwcmV2aW91c2AgbmF2aWdhdGlvbiBidXR0b24uXG4gICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAqIEBkZWZhdWx0ICdvcmJpdC1wcmV2aW91cydcbiAgKi9cbiAgcHJldkNsYXNzOiAnb3JiaXQtcHJldmlvdXMnLFxuICAvKipcbiAgKiBCb29sZWFuIHRvIGZsYWcgdGhlIGpzIHRvIHVzZSBtb3Rpb24gdWkgY2xhc3NlcyBvciBub3QuIERlZmF1bHQgdG8gdHJ1ZSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgKiBAZGVmYXVsdCB0cnVlXG4gICovXG4gIHVzZU1VSTogdHJ1ZVxufTtcblxuZXhwb3J0IHtPcmJpdH07XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5pbXBvcnQgeyBNZWRpYVF1ZXJ5IH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwubWVkaWFRdWVyeSc7XG5pbXBvcnQgeyBHZXRZb0RpZ2l0cyB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnV0aWxzJztcbmltcG9ydCB7IFBsdWdpbiB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnBsdWdpbic7XG5cbmltcG9ydCB7IERyb3Bkb3duTWVudSB9IGZyb20gJy4vZm91bmRhdGlvbi5kcm9wZG93bk1lbnUnO1xuaW1wb3J0IHsgRHJpbGxkb3duIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmRyaWxsZG93bic7XG5pbXBvcnQgeyBBY2NvcmRpb25NZW51IH0gZnJvbSAnLi9mb3VuZGF0aW9uLmFjY29yZGlvbk1lbnUnO1xuXG5sZXQgTWVudVBsdWdpbnMgPSB7XG4gIGRyb3Bkb3duOiB7XG4gICAgY3NzQ2xhc3M6ICdkcm9wZG93bicsXG4gICAgcGx1Z2luOiBEcm9wZG93bk1lbnVcbiAgfSxcbiBkcmlsbGRvd246IHtcbiAgICBjc3NDbGFzczogJ2RyaWxsZG93bicsXG4gICAgcGx1Z2luOiBEcmlsbGRvd25cbiAgfSxcbiAgYWNjb3JkaW9uOiB7XG4gICAgY3NzQ2xhc3M6ICdhY2NvcmRpb24tbWVudScsXG4gICAgcGx1Z2luOiBBY2NvcmRpb25NZW51XG4gIH1cbn07XG5cbiAgLy8gaW1wb3J0IFwiZm91bmRhdGlvbi51dGlsLnRyaWdnZXJzLmpzXCI7XG5cblxuLyoqXG4gKiBSZXNwb25zaXZlTWVudSBtb2R1bGUuXG4gKiBAbW9kdWxlIGZvdW5kYXRpb24ucmVzcG9uc2l2ZU1lbnVcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwudHJpZ2dlcnNcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwubWVkaWFRdWVyeVxuICovXG5cbmNsYXNzIFJlc3BvbnNpdmVNZW51IGV4dGVuZHMgUGx1Z2luIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgYSByZXNwb25zaXZlIG1lbnUuXG4gICAqIEBjbGFzc1xuICAgKiBAbmFtZSBSZXNwb25zaXZlTWVudVxuICAgKiBAZmlyZXMgUmVzcG9uc2l2ZU1lbnUjaW5pdFxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gbWFrZSBpbnRvIGEgZHJvcGRvd24gbWVudS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgX3NldHVwKGVsZW1lbnQpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICB0aGlzLnJ1bGVzID0gdGhpcy4kZWxlbWVudC5kYXRhKCdyZXNwb25zaXZlLW1lbnUnKTtcbiAgICB0aGlzLmN1cnJlbnRNcSA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50UGx1Z2luID0gbnVsbDtcbiAgICB0aGlzLmNsYXNzTmFtZSA9ICdSZXNwb25zaXZlTWVudSc7IC8vIGllOSBiYWNrIGNvbXBhdFxuXG4gICAgdGhpcy5faW5pdCgpO1xuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBNZW51IGJ5IHBhcnNpbmcgdGhlIGNsYXNzZXMgZnJvbSB0aGUgJ2RhdGEtUmVzcG9uc2l2ZU1lbnUnIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcblxuICAgIE1lZGlhUXVlcnkuX2luaXQoKTtcbiAgICAvLyBUaGUgZmlyc3QgdGltZSBhbiBJbnRlcmNoYW5nZSBwbHVnaW4gaXMgaW5pdGlhbGl6ZWQsIHRoaXMucnVsZXMgaXMgY29udmVydGVkIGZyb20gYSBzdHJpbmcgb2YgXCJjbGFzc2VzXCIgdG8gYW4gb2JqZWN0IG9mIHJ1bGVzXG4gICAgaWYgKHR5cGVvZiB0aGlzLnJ1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgbGV0IHJ1bGVzVHJlZSA9IHt9O1xuXG4gICAgICAvLyBQYXJzZSBydWxlcyBmcm9tIFwiY2xhc3Nlc1wiIHB1bGxlZCBmcm9tIGRhdGEgYXR0cmlidXRlXG4gICAgICBsZXQgcnVsZXMgPSB0aGlzLnJ1bGVzLnNwbGl0KCcgJyk7XG5cbiAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBldmVyeSBydWxlIGZvdW5kXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBydWxlID0gcnVsZXNbaV0uc3BsaXQoJy0nKTtcbiAgICAgICAgbGV0IHJ1bGVTaXplID0gcnVsZS5sZW5ndGggPiAxID8gcnVsZVswXSA6ICdzbWFsbCc7XG4gICAgICAgIGxldCBydWxlUGx1Z2luID0gcnVsZS5sZW5ndGggPiAxID8gcnVsZVsxXSA6IHJ1bGVbMF07XG5cbiAgICAgICAgaWYgKE1lbnVQbHVnaW5zW3J1bGVQbHVnaW5dICE9PSBudWxsKSB7XG4gICAgICAgICAgcnVsZXNUcmVlW3J1bGVTaXplXSA9IE1lbnVQbHVnaW5zW3J1bGVQbHVnaW5dO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMucnVsZXMgPSBydWxlc1RyZWU7XG4gICAgfVxuXG4gICAgaWYgKCEkLmlzRW1wdHlPYmplY3QodGhpcy5ydWxlcykpIHtcbiAgICAgIHRoaXMuX2NoZWNrTWVkaWFRdWVyaWVzKCk7XG4gICAgfVxuICAgIC8vIEFkZCBkYXRhLW11dGF0ZSBzaW5jZSBjaGlsZHJlbiBtYXkgbmVlZCBpdC5cbiAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2RhdGEtbXV0YXRlJywgKHRoaXMuJGVsZW1lbnQuYXR0cignZGF0YS1tdXRhdGUnKSB8fCBHZXRZb0RpZ2l0cyg2LCAncmVzcG9uc2l2ZS1tZW51JykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBldmVudHMgZm9yIHRoZSBNZW51LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9ldmVudHMoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICQod2luZG93KS5vbignY2hhbmdlZC56Zi5tZWRpYXF1ZXJ5JywgZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5fY2hlY2tNZWRpYVF1ZXJpZXMoKTtcbiAgICB9KTtcbiAgICAvLyAkKHdpbmRvdykub24oJ3Jlc2l6ZS56Zi5SZXNwb25zaXZlTWVudScsIGZ1bmN0aW9uKCkge1xuICAgIC8vICAgX3RoaXMuX2NoZWNrTWVkaWFRdWVyaWVzKCk7XG4gICAgLy8gfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHRoZSBjdXJyZW50IHNjcmVlbiB3aWR0aCBhZ2FpbnN0IGF2YWlsYWJsZSBtZWRpYSBxdWVyaWVzLiBJZiB0aGUgbWVkaWEgcXVlcnkgaGFzIGNoYW5nZWQsIGFuZCB0aGUgcGx1Z2luIG5lZWRlZCBoYXMgY2hhbmdlZCwgdGhlIHBsdWdpbnMgd2lsbCBzd2FwIG91dC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2hlY2tNZWRpYVF1ZXJpZXMoKSB7XG4gICAgdmFyIG1hdGNoZWRNcSwgX3RoaXMgPSB0aGlzO1xuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBlYWNoIHJ1bGUgYW5kIGZpbmQgdGhlIGxhc3QgbWF0Y2hpbmcgcnVsZVxuICAgICQuZWFjaCh0aGlzLnJ1bGVzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmIChNZWRpYVF1ZXJ5LmF0TGVhc3Qoa2V5KSkge1xuICAgICAgICBtYXRjaGVkTXEgPSBrZXk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBObyBtYXRjaD8gTm8gZGljZVxuICAgIGlmICghbWF0Y2hlZE1xKSByZXR1cm47XG5cbiAgICAvLyBQbHVnaW4gYWxyZWFkeSBpbml0aWFsaXplZD8gV2UgZ29vZFxuICAgIGlmICh0aGlzLmN1cnJlbnRQbHVnaW4gaW5zdGFuY2VvZiB0aGlzLnJ1bGVzW21hdGNoZWRNcV0ucGx1Z2luKSByZXR1cm47XG5cbiAgICAvLyBSZW1vdmUgZXhpc3RpbmcgcGx1Z2luLXNwZWNpZmljIENTUyBjbGFzc2VzXG4gICAgJC5lYWNoKE1lbnVQbHVnaW5zLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICBfdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh2YWx1ZS5jc3NDbGFzcyk7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgdGhlIENTUyBjbGFzcyBmb3IgdGhlIG5ldyBwbHVnaW5cbiAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMucnVsZXNbbWF0Y2hlZE1xXS5jc3NDbGFzcyk7XG5cbiAgICAvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIG5ldyBwbHVnaW5cbiAgICBpZiAodGhpcy5jdXJyZW50UGx1Z2luKSB0aGlzLmN1cnJlbnRQbHVnaW4uZGVzdHJveSgpO1xuICAgIHRoaXMuY3VycmVudFBsdWdpbiA9IG5ldyB0aGlzLnJ1bGVzW21hdGNoZWRNcV0ucGx1Z2luKHRoaXMuJGVsZW1lbnQsIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgaW5zdGFuY2Ugb2YgdGhlIGN1cnJlbnQgcGx1Z2luIG9uIHRoaXMgZWxlbWVudCwgYXMgd2VsbCBhcyB0aGUgd2luZG93IHJlc2l6ZSBoYW5kbGVyIHRoYXQgc3dpdGNoZXMgdGhlIHBsdWdpbnMgb3V0LlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIF9kZXN0cm95KCkge1xuICAgIHRoaXMuY3VycmVudFBsdWdpbi5kZXN0cm95KCk7XG4gICAgJCh3aW5kb3cpLm9mZignLnpmLlJlc3BvbnNpdmVNZW51Jyk7XG4gIH1cbn1cblxuUmVzcG9uc2l2ZU1lbnUuZGVmYXVsdHMgPSB7fTtcblxuZXhwb3J0IHtSZXNwb25zaXZlTWVudX07XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5pbXBvcnQgeyBNZWRpYVF1ZXJ5IH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwubWVkaWFRdWVyeSc7XG5pbXBvcnQgeyBNb3Rpb24gfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC5tb3Rpb24nO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcblxuLyoqXG4gKiBSZXNwb25zaXZlVG9nZ2xlIG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi5yZXNwb25zaXZlVG9nZ2xlXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm1lZGlhUXVlcnlcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwubW90aW9uXG4gKi9cblxuY2xhc3MgUmVzcG9uc2l2ZVRvZ2dsZSBleHRlbmRzIFBsdWdpbiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRhYiBCYXIuXG4gICAqIEBjbGFzc1xuICAgKiBAbmFtZSBSZXNwb25zaXZlVG9nZ2xlXG4gICAqIEBmaXJlcyBSZXNwb25zaXZlVG9nZ2xlI2luaXRcbiAgICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIGF0dGFjaCB0YWIgYmFyIGZ1bmN0aW9uYWxpdHkgdG8uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3ZlcnJpZGVzIHRvIHRoZSBkZWZhdWx0IHBsdWdpbiBzZXR0aW5ncy5cbiAgICovXG4gIF9zZXR1cChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCA9ICQoZWxlbWVudCk7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIFJlc3BvbnNpdmVUb2dnbGUuZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcbiAgICB0aGlzLmNsYXNzTmFtZSA9ICdSZXNwb25zaXZlVG9nZ2xlJzsgLy8gaWU5IGJhY2sgY29tcGF0XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gICAgdGhpcy5fZXZlbnRzKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHRhYiBiYXIgYnkgZmluZGluZyB0aGUgdGFyZ2V0IGVsZW1lbnQsIHRvZ2dsaW5nIGVsZW1lbnQsIGFuZCBydW5uaW5nIHVwZGF0ZSgpLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0KCkge1xuICAgIE1lZGlhUXVlcnkuX2luaXQoKTtcbiAgICB2YXIgdGFyZ2V0SUQgPSB0aGlzLiRlbGVtZW50LmRhdGEoJ3Jlc3BvbnNpdmUtdG9nZ2xlJyk7XG4gICAgaWYgKCF0YXJnZXRJRCkge1xuICAgICAgY29uc29sZS5lcnJvcignWW91ciB0YWIgYmFyIG5lZWRzIGFuIElEIG9mIGEgTWVudSBhcyB0aGUgdmFsdWUgb2YgZGF0YS10YWItYmFyLicpO1xuICAgIH1cblxuICAgIHRoaXMuJHRhcmdldE1lbnUgPSAkKGAjJHt0YXJnZXRJRH1gKTtcbiAgICB0aGlzLiR0b2dnbGVyID0gdGhpcy4kZWxlbWVudC5maW5kKCdbZGF0YS10b2dnbGVdJykuZmlsdGVyKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRhcmdldCA9ICQodGhpcykuZGF0YSgndG9nZ2xlJyk7XG4gICAgICByZXR1cm4gKHRhcmdldCA9PT0gdGFyZ2V0SUQgfHwgdGFyZ2V0ID09PSBcIlwiKTtcbiAgICB9KTtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB0aGlzLiR0YXJnZXRNZW51LmRhdGEoKSk7XG5cbiAgICAvLyBJZiB0aGV5IHdlcmUgc2V0LCBwYXJzZSB0aGUgYW5pbWF0aW9uIGNsYXNzZXNcbiAgICBpZih0aGlzLm9wdGlvbnMuYW5pbWF0ZSkge1xuICAgICAgbGV0IGlucHV0ID0gdGhpcy5vcHRpb25zLmFuaW1hdGUuc3BsaXQoJyAnKTtcblxuICAgICAgdGhpcy5hbmltYXRpb25JbiA9IGlucHV0WzBdO1xuICAgICAgdGhpcy5hbmltYXRpb25PdXQgPSBpbnB1dFsxXSB8fCBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgbmVjZXNzYXJ5IGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgdGFiIGJhciB0byB3b3JrLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9ldmVudHMoKSB7XG4gICAgdGhpcy5fdXBkYXRlTXFIYW5kbGVyID0gdGhpcy5fdXBkYXRlLmJpbmQodGhpcyk7XG5cbiAgICAkKHdpbmRvdykub24oJ2NoYW5nZWQuemYubWVkaWFxdWVyeScsIHRoaXMuX3VwZGF0ZU1xSGFuZGxlcik7XG5cbiAgICB0aGlzLiR0b2dnbGVyLm9uKCdjbGljay56Zi5yZXNwb25zaXZlVG9nZ2xlJywgdGhpcy50b2dnbGVNZW51LmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB0aGUgY3VycmVudCBtZWRpYSBxdWVyeSB0byBkZXRlcm1pbmUgaWYgdGhlIHRhYiBiYXIgc2hvdWxkIGJlIHZpc2libGUgb3IgaGlkZGVuLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGUoKSB7XG4gICAgLy8gTW9iaWxlXG4gICAgaWYgKCFNZWRpYVF1ZXJ5LmF0TGVhc3QodGhpcy5vcHRpb25zLmhpZGVGb3IpKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnNob3coKTtcbiAgICAgIHRoaXMuJHRhcmdldE1lbnUuaGlkZSgpO1xuICAgIH1cblxuICAgIC8vIERlc2t0b3BcbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuaGlkZSgpO1xuICAgICAgdGhpcy4kdGFyZ2V0TWVudS5zaG93KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIGVsZW1lbnQgYXR0YWNoZWQgdG8gdGhlIHRhYiBiYXIuIFRoZSB0b2dnbGUgb25seSBoYXBwZW5zIGlmIHRoZSBzY3JlZW4gaXMgc21hbGwgZW5vdWdoIHRvIGFsbG93IGl0LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQGZpcmVzIFJlc3BvbnNpdmVUb2dnbGUjdG9nZ2xlZFxuICAgKi9cbiAgdG9nZ2xlTWVudSgpIHtcbiAgICBpZiAoIU1lZGlhUXVlcnkuYXRMZWFzdCh0aGlzLm9wdGlvbnMuaGlkZUZvcikpIHtcbiAgICAgIC8qKlxuICAgICAgICogRmlyZXMgd2hlbiB0aGUgZWxlbWVudCBhdHRhY2hlZCB0byB0aGUgdGFiIGJhciB0b2dnbGVzLlxuICAgICAgICogQGV2ZW50IFJlc3BvbnNpdmVUb2dnbGUjdG9nZ2xlZFxuICAgICAgICovXG4gICAgICBpZih0aGlzLm9wdGlvbnMuYW5pbWF0ZSkge1xuICAgICAgICBpZiAodGhpcy4kdGFyZ2V0TWVudS5pcygnOmhpZGRlbicpKSB7XG4gICAgICAgICAgTW90aW9uLmFuaW1hdGVJbih0aGlzLiR0YXJnZXRNZW51LCB0aGlzLmFuaW1hdGlvbkluLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3RvZ2dsZWQuemYucmVzcG9uc2l2ZVRvZ2dsZScpO1xuICAgICAgICAgICAgdGhpcy4kdGFyZ2V0TWVudS5maW5kKCdbZGF0YS1tdXRhdGVdJykudHJpZ2dlckhhbmRsZXIoJ211dGF0ZW1lLnpmLnRyaWdnZXInKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBNb3Rpb24uYW5pbWF0ZU91dCh0aGlzLiR0YXJnZXRNZW51LCB0aGlzLmFuaW1hdGlvbk91dCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCd0b2dnbGVkLnpmLnJlc3BvbnNpdmVUb2dnbGUnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuJHRhcmdldE1lbnUudG9nZ2xlKDApO1xuICAgICAgICB0aGlzLiR0YXJnZXRNZW51LmZpbmQoJ1tkYXRhLW11dGF0ZV0nKS50cmlnZ2VyKCdtdXRhdGVtZS56Zi50cmlnZ2VyJyk7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigndG9nZ2xlZC56Zi5yZXNwb25zaXZlVG9nZ2xlJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9kZXN0cm95KCkge1xuICAgIHRoaXMuJGVsZW1lbnQub2ZmKCcuemYucmVzcG9uc2l2ZVRvZ2dsZScpO1xuICAgIHRoaXMuJHRvZ2dsZXIub2ZmKCcuemYucmVzcG9uc2l2ZVRvZ2dsZScpO1xuXG4gICAgJCh3aW5kb3cpLm9mZignY2hhbmdlZC56Zi5tZWRpYXF1ZXJ5JywgdGhpcy5fdXBkYXRlTXFIYW5kbGVyKTtcbiAgfVxufVxuXG5SZXNwb25zaXZlVG9nZ2xlLmRlZmF1bHRzID0ge1xuICAvKipcbiAgICogVGhlIGJyZWFrcG9pbnQgYWZ0ZXIgd2hpY2ggdGhlIG1lbnUgaXMgYWx3YXlzIHNob3duLCBhbmQgdGhlIHRhYiBiYXIgaXMgaGlkZGVuLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0ICdtZWRpdW0nXG4gICAqL1xuICBoaWRlRm9yOiAnbWVkaXVtJyxcblxuICAvKipcbiAgICogVG8gZGVjaWRlIGlmIHRoZSB0b2dnbGUgc2hvdWxkIGJlIGFuaW1hdGVkIG9yIG5vdC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGFuaW1hdGU6IGZhbHNlXG59O1xuXG5leHBvcnQgeyBSZXNwb25zaXZlVG9nZ2xlIH07XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcbmltcG9ydCB7IG9uTG9hZCB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnV0aWxzJztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmQnO1xuaW1wb3J0IHsgTWVkaWFRdWVyeSB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLm1lZGlhUXVlcnknO1xuaW1wb3J0IHsgTW90aW9uIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwubW90aW9uJztcbmltcG9ydCB7IFRyaWdnZXJzIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwudHJpZ2dlcnMnO1xuaW1wb3J0IHsgVG91Y2ggfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC50b3VjaCdcblxuLyoqXG4gKiBSZXZlYWwgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLnJldmVhbFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5rZXlib2FyZFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50b3VjaFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50cmlnZ2Vyc1xuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tZWRpYVF1ZXJ5XG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm1vdGlvbiBpZiB1c2luZyBhbmltYXRpb25zXG4gKi9cblxuY2xhc3MgUmV2ZWFsIGV4dGVuZHMgUGx1Z2luIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgUmV2ZWFsLlxuICAgKiBAY2xhc3NcbiAgICogQG5hbWUgUmV2ZWFsXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCB0byB1c2UgZm9yIHRoZSBtb2RhbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25hbCBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgX3NldHVwKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgUmV2ZWFsLmRlZmF1bHRzLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucyk7XG4gICAgdGhpcy5jbGFzc05hbWUgPSAnUmV2ZWFsJzsgLy8gaWU5IGJhY2sgY29tcGF0XG4gICAgdGhpcy5faW5pdCgpO1xuXG4gICAgLy8gVG91Y2ggYW5kIFRyaWdnZXJzIGluaXQgYXJlIGlkZW1wb3RlbnQsIGp1c3QgbmVlZCB0byBtYWtlIHN1cmUgdGhleSBhcmUgaW5pdGlhbGl6ZWRcbiAgICBUb3VjaC5pbml0KCQpO1xuICAgIFRyaWdnZXJzLmluaXQoJCk7XG5cbiAgICBLZXlib2FyZC5yZWdpc3RlcignUmV2ZWFsJywge1xuICAgICAgJ0VTQ0FQRSc6ICdjbG9zZScsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIG1vZGFsIGJ5IGFkZGluZyB0aGUgb3ZlcmxheSBhbmQgY2xvc2UgYnV0dG9ucywgKGlmIHNlbGVjdGVkKS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0KCkge1xuICAgIE1lZGlhUXVlcnkuX2luaXQoKTtcbiAgICB0aGlzLmlkID0gdGhpcy4kZWxlbWVudC5hdHRyKCdpZCcpO1xuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmNhY2hlZCA9IHttcTogTWVkaWFRdWVyeS5jdXJyZW50fTtcblxuICAgIHRoaXMuJGFuY2hvciA9ICQoYFtkYXRhLW9wZW49XCIke3RoaXMuaWR9XCJdYCkubGVuZ3RoID8gJChgW2RhdGEtb3Blbj1cIiR7dGhpcy5pZH1cIl1gKSA6ICQoYFtkYXRhLXRvZ2dsZT1cIiR7dGhpcy5pZH1cIl1gKTtcbiAgICB0aGlzLiRhbmNob3IuYXR0cih7XG4gICAgICAnYXJpYS1jb250cm9scyc6IHRoaXMuaWQsXG4gICAgICAnYXJpYS1oYXNwb3B1cCc6ICdkaWFsb2cnLFxuICAgICAgJ3RhYmluZGV4JzogMFxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsU2NyZWVuIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2Z1bGwnKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmZ1bGxTY3JlZW4gPSB0cnVlO1xuICAgICAgdGhpcy5vcHRpb25zLm92ZXJsYXkgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5vdmVybGF5ICYmICF0aGlzLiRvdmVybGF5KSB7XG4gICAgICB0aGlzLiRvdmVybGF5ID0gdGhpcy5fbWFrZU92ZXJsYXkodGhpcy5pZCk7XG4gICAgfVxuXG4gICAgdGhpcy4kZWxlbWVudC5hdHRyKHtcbiAgICAgICAgJ3JvbGUnOiAnZGlhbG9nJyxcbiAgICAgICAgJ2FyaWEtaGlkZGVuJzogdHJ1ZSxcbiAgICAgICAgJ2RhdGEteWV0aS1ib3gnOiB0aGlzLmlkLFxuICAgICAgICAnZGF0YS1yZXNpemUnOiB0aGlzLmlkXG4gICAgfSk7XG5cbiAgICBpZih0aGlzLiRvdmVybGF5KSB7XG4gICAgICB0aGlzLiRlbGVtZW50LmRldGFjaCgpLmFwcGVuZFRvKHRoaXMuJG92ZXJsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRlbGVtZW50LmRldGFjaCgpLmFwcGVuZFRvKCQodGhpcy5vcHRpb25zLmFwcGVuZFRvKSk7XG4gICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCd3aXRob3V0LW92ZXJsYXknKTtcbiAgICB9XG4gICAgdGhpcy5fZXZlbnRzKCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5kZWVwTGluayAmJiB3aW5kb3cubG9jYXRpb24uaGFzaCA9PT0gKCBgIyR7dGhpcy5pZH1gKSkge1xuICAgICAgdGhpcy5vbkxvYWRMaXN0ZW5lciA9IG9uTG9hZCgkKHdpbmRvdyksICgpID0+IHRoaXMub3BlbigpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBvdmVybGF5IGRpdiB0byBkaXNwbGF5IGJlaGluZCB0aGUgbW9kYWwuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfbWFrZU92ZXJsYXkoKSB7XG4gICAgdmFyIGFkZGl0aW9uYWxPdmVybGF5Q2xhc3NlcyA9ICcnO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hZGRpdGlvbmFsT3ZlcmxheUNsYXNzZXMpIHtcbiAgICAgIGFkZGl0aW9uYWxPdmVybGF5Q2xhc3NlcyA9ICcgJyArIHRoaXMub3B0aW9ucy5hZGRpdGlvbmFsT3ZlcmxheUNsYXNzZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuICQoJzxkaXY+PC9kaXY+JylcbiAgICAgIC5hZGRDbGFzcygncmV2ZWFsLW92ZXJsYXknICsgYWRkaXRpb25hbE92ZXJsYXlDbGFzc2VzKVxuICAgICAgLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5hcHBlbmRUbyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBwb3NpdGlvbiBvZiBtb2RhbFxuICAgKiBUT0RPOiAgRmlndXJlIG91dCBpZiB3ZSBhY3R1YWxseSBuZWVkIHRvIGNhY2hlIHRoZXNlIHZhbHVlcyBvciBpZiBpdCBkb2Vzbid0IG1hdHRlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZVBvc2l0aW9uKCkge1xuICAgIHZhciB3aWR0aCA9IHRoaXMuJGVsZW1lbnQub3V0ZXJXaWR0aCgpO1xuICAgIHZhciBvdXRlcldpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG4gICAgdmFyIGhlaWdodCA9IHRoaXMuJGVsZW1lbnQub3V0ZXJIZWlnaHQoKTtcbiAgICB2YXIgb3V0ZXJIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG4gICAgdmFyIGxlZnQsIHRvcCA9IG51bGw7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5oT2Zmc2V0ID09PSAnYXV0bycpIHtcbiAgICAgIGxlZnQgPSBwYXJzZUludCgob3V0ZXJXaWR0aCAtIHdpZHRoKSAvIDIsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGVmdCA9IHBhcnNlSW50KHRoaXMub3B0aW9ucy5oT2Zmc2V0LCAxMCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMudk9mZnNldCA9PT0gJ2F1dG8nKSB7XG4gICAgICBpZiAoaGVpZ2h0ID4gb3V0ZXJIZWlnaHQpIHtcbiAgICAgICAgdG9wID0gcGFyc2VJbnQoTWF0aC5taW4oMTAwLCBvdXRlckhlaWdodCAvIDEwKSwgMTApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9wID0gcGFyc2VJbnQoKG91dGVySGVpZ2h0IC0gaGVpZ2h0KSAvIDQsIDEwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy52T2Zmc2V0ICE9PSBudWxsKSB7XG4gICAgICB0b3AgPSBwYXJzZUludCh0aGlzLm9wdGlvbnMudk9mZnNldCwgMTApO1xuICAgIH1cblxuICAgIGlmICh0b3AgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKHt0b3A6IHRvcCArICdweCd9KTtcbiAgICB9XG5cbiAgICAvLyBvbmx5IHdvcnJ5IGFib3V0IGxlZnQgaWYgd2UgZG9uJ3QgaGF2ZSBhbiBvdmVybGF5IG9yIHdlIGhhdmUgYSBob3Jpem9udGFsIG9mZnNldCxcbiAgICAvLyBvdGhlcndpc2Ugd2UncmUgcGVyZmVjdGx5IGluIHRoZSBtaWRkbGVcbiAgICBpZiAoIXRoaXMuJG92ZXJsYXkgfHwgKHRoaXMub3B0aW9ucy5oT2Zmc2V0ICE9PSAnYXV0bycpKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LmNzcyh7bGVmdDogbGVmdCArICdweCd9KTtcbiAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKHttYXJnaW46ICcwcHgnfSk7XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogQWRkcyBldmVudCBoYW5kbGVycyBmb3IgdGhlIG1vZGFsLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2V2ZW50cygpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy4kZWxlbWVudC5vbih7XG4gICAgICAnb3Blbi56Zi50cmlnZ2VyJzogdGhpcy5vcGVuLmJpbmQodGhpcyksXG4gICAgICAnY2xvc2UuemYudHJpZ2dlcic6IChldmVudCwgJGVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKChldmVudC50YXJnZXQgPT09IF90aGlzLiRlbGVtZW50WzBdKSB8fFxuICAgICAgICAgICAgKCQoZXZlbnQudGFyZ2V0KS5wYXJlbnRzKCdbZGF0YS1jbG9zYWJsZV0nKVswXSA9PT0gJGVsZW1lbnQpKSB7IC8vIG9ubHkgY2xvc2UgcmV2ZWFsIHdoZW4gaXQncyBleHBsaWNpdGx5IGNhbGxlZFxuICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NlLmFwcGx5KHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgJ3RvZ2dsZS56Zi50cmlnZ2VyJzogdGhpcy50b2dnbGUuYmluZCh0aGlzKSxcbiAgICAgICdyZXNpemVtZS56Zi50cmlnZ2VyJzogZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2sgJiYgdGhpcy5vcHRpb25zLm92ZXJsYXkpIHtcbiAgICAgIHRoaXMuJG92ZXJsYXkub2ZmKCcuemYucmV2ZWFsJykub24oJ2NsaWNrLnpmLmRyb3Bkb3duIHRhcC56Zi5kcm9wZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBfdGhpcy4kZWxlbWVudFswXSB8fFxuICAgICAgICAgICQuY29udGFpbnMoX3RoaXMuJGVsZW1lbnRbMF0sIGUudGFyZ2V0KSB8fFxuICAgICAgICAgICAgISQuY29udGFpbnMoZG9jdW1lbnQsIGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmRlZXBMaW5rKSB7XG4gICAgICAkKHdpbmRvdykub24oYGhhc2hjaGFuZ2UuemYucmV2ZWFsOiR7dGhpcy5pZH1gLCB0aGlzLl9oYW5kbGVTdGF0ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBtb2RhbCBtZXRob2RzIG9uIGJhY2svZm9yd2FyZCBidXR0b24gY2xpY2tzIG9yIGFueSBvdGhlciBldmVudCB0aGF0IHRyaWdnZXJzIGhhc2hjaGFuZ2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlU3RhdGUoKSB7XG4gICAgaWYod2luZG93LmxvY2F0aW9uLmhhc2ggPT09ICggJyMnICsgdGhpcy5pZCkgJiYgIXRoaXMuaXNBY3RpdmUpeyB0aGlzLm9wZW4oKTsgfVxuICAgIGVsc2V7IHRoaXMuY2xvc2UoKTsgfVxuICB9XG5cbiAgLyoqXG4gICogRGlzYWJsZXMgdGhlIHNjcm9sbCB3aGVuIFJldmVhbCBpcyBzaG93biB0byBwcmV2ZW50IHRoZSBiYWNrZ3JvdW5kIGZyb20gc2hpZnRpbmdcbiAgKiBAcGFyYW0ge251bWJlcn0gc2Nyb2xsVG9wIC0gU2Nyb2xsIHRvIHZpc3VhbGx5IGFwcGx5LCB3aW5kb3cgY3VycmVudCBzY3JvbGwgYnkgZGVmYXVsdFxuICAqL1xuICBfZGlzYWJsZVNjcm9sbChzY3JvbGxUb3ApIHtcbiAgICBzY3JvbGxUb3AgPSBzY3JvbGxUb3AgfHwgJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgIGlmICgkKGRvY3VtZW50KS5oZWlnaHQoKSA+ICQod2luZG93KS5oZWlnaHQoKSkge1xuICAgICAgJChcImh0bWxcIilcbiAgICAgICAgLmNzcyhcInRvcFwiLCAtc2Nyb2xsVG9wKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBSZWVuYWJsZXMgdGhlIHNjcm9sbCB3aGVuIFJldmVhbCBjbG9zZXNcbiAgKiBAcGFyYW0ge251bWJlcn0gc2Nyb2xsVG9wIC0gU2Nyb2xsIHRvIHJlc3RvcmUsIGh0bWwgXCJ0b3BcIiBwcm9wZXJ0eSBieSBkZWZhdWx0IChhcyBzZXQgYnkgYF9kaXNhYmxlU2Nyb2xsYClcbiAgKi9cbiAgX2VuYWJsZVNjcm9sbChzY3JvbGxUb3ApIHtcbiAgICBzY3JvbGxUb3AgPSBzY3JvbGxUb3AgfHwgcGFyc2VJbnQoJChcImh0bWxcIikuY3NzKFwidG9wXCIpLCAxMCk7XG4gICAgaWYgKCQoZG9jdW1lbnQpLmhlaWdodCgpID4gJCh3aW5kb3cpLmhlaWdodCgpKSB7XG4gICAgICAkKFwiaHRtbFwiKVxuICAgICAgICAuY3NzKFwidG9wXCIsIFwiXCIpO1xuICAgICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgtc2Nyb2xsVG9wKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgbW9kYWwgY29udHJvbGxlZCBieSBgdGhpcy4kYW5jaG9yYCwgYW5kIGNsb3NlcyBhbGwgb3RoZXJzIGJ5IGRlZmF1bHQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAZmlyZXMgUmV2ZWFsI2Nsb3NlbWVcbiAgICogQGZpcmVzIFJldmVhbCNvcGVuXG4gICAqL1xuICBvcGVuKCkge1xuICAgIC8vIGVpdGhlciB1cGRhdGUgb3IgcmVwbGFjZSBicm93c2VyIGhpc3RvcnlcbiAgICBjb25zdCBoYXNoID0gYCMke3RoaXMuaWR9YDtcbiAgICBpZiAodGhpcy5vcHRpb25zLmRlZXBMaW5rICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoICE9PSBoYXNoKSB7XG5cbiAgICAgIGlmICh3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy51cGRhdGVIaXN0b3J5KSB7XG4gICAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgaGFzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAnJywgaGFzaCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1lbWJlciBhbmNob3IgdGhhdCBvcGVuZWQgaXQgdG8gc2V0IGZvY3VzIGJhY2sgbGF0ZXIsIGhhdmUgZ2VuZXJhbCBhbmNob3JzIGFzIGZhbGxiYWNrXG4gICAgdGhpcy4kYWN0aXZlQW5jaG9yID0gJChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5pcyh0aGlzLiRhbmNob3IpID8gJChkb2N1bWVudC5hY3RpdmVFbGVtZW50KSA6IHRoaXMuJGFuY2hvcjtcblxuICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgLy8gTWFrZSBlbGVtZW50cyBpbnZpc2libGUsIGJ1dCByZW1vdmUgZGlzcGxheTogbm9uZSBzbyB3ZSBjYW4gZ2V0IHNpemUgYW5kIHBvc2l0aW9uaW5nXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuY3NzKHsgJ3Zpc2liaWxpdHknOiAnaGlkZGVuJyB9KVxuICAgICAgICAuc2hvdygpXG4gICAgICAgIC5zY3JvbGxUb3AoMCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5vdmVybGF5KSB7XG4gICAgICB0aGlzLiRvdmVybGF5LmNzcyh7J3Zpc2liaWxpdHknOiAnaGlkZGVuJ30pLnNob3coKTtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLmhpZGUoKVxuICAgICAgLmNzcyh7ICd2aXNpYmlsaXR5JzogJycgfSk7XG5cbiAgICBpZih0aGlzLiRvdmVybGF5KSB7XG4gICAgICB0aGlzLiRvdmVybGF5LmNzcyh7J3Zpc2liaWxpdHknOiAnJ30pLmhpZGUoKTtcbiAgICAgIGlmKHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2Zhc3QnKSkge1xuICAgICAgICB0aGlzLiRvdmVybGF5LmFkZENsYXNzKCdmYXN0Jyk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3Nsb3cnKSkge1xuICAgICAgICB0aGlzLiRvdmVybGF5LmFkZENsYXNzKCdzbG93Jyk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5tdWx0aXBsZU9wZW5lZCkge1xuICAgICAgLyoqXG4gICAgICAgKiBGaXJlcyBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIG1vZGFsIG9wZW5zLlxuICAgICAgICogQ2xvc2VzIGFueSBvdGhlciBtb2RhbHMgdGhhdCBhcmUgY3VycmVudGx5IG9wZW5cbiAgICAgICAqIEBldmVudCBSZXZlYWwjY2xvc2VtZVxuICAgICAgICovXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2Nsb3NlbWUuemYucmV2ZWFsJywgdGhpcy5pZCk7XG4gICAgfVxuXG4gICAgaWYgKCQoJy5yZXZlYWw6dmlzaWJsZScpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fZGlzYWJsZVNjcm9sbCgpO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAvLyBNb3Rpb24gVUkgbWV0aG9kIG9mIHJldmVhbFxuICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uSW4pIHtcbiAgICAgIGZ1bmN0aW9uIGFmdGVyQW5pbWF0aW9uKCl7XG4gICAgICAgIF90aGlzLiRlbGVtZW50XG4gICAgICAgICAgLmF0dHIoe1xuICAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogZmFsc2UsXG4gICAgICAgICAgICAndGFiaW5kZXgnOiAtMVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZvY3VzKCk7XG4gICAgICAgIF90aGlzLl9hZGRHbG9iYWxDbGFzc2VzKCk7XG4gICAgICAgIEtleWJvYXJkLnRyYXBGb2N1cyhfdGhpcy4kZWxlbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLm92ZXJsYXkpIHtcbiAgICAgICAgTW90aW9uLmFuaW1hdGVJbih0aGlzLiRvdmVybGF5LCAnZmFkZS1pbicpO1xuICAgICAgfVxuICAgICAgTW90aW9uLmFuaW1hdGVJbih0aGlzLiRlbGVtZW50LCB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uSW4sICgpID0+IHtcbiAgICAgICAgaWYodGhpcy4kZWxlbWVudCkgeyAvLyBwcm90ZWN0IGFnYWluc3Qgb2JqZWN0IGhhdmluZyBiZWVuIHJlbW92ZWRcbiAgICAgICAgICB0aGlzLmZvY3VzYWJsZUVsZW1lbnRzID0gS2V5Ym9hcmQuZmluZEZvY3VzYWJsZSh0aGlzLiRlbGVtZW50KTtcbiAgICAgICAgICBhZnRlckFuaW1hdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8galF1ZXJ5IG1ldGhvZCBvZiByZXZlYWxcbiAgICBlbHNlIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMub3ZlcmxheSkge1xuICAgICAgICB0aGlzLiRvdmVybGF5LnNob3coMCk7XG4gICAgICB9XG4gICAgICB0aGlzLiRlbGVtZW50LnNob3codGhpcy5vcHRpb25zLnNob3dEZWxheSk7XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIGFjY2Vzc2liaWxpdHlcbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAuYXR0cih7XG4gICAgICAgICdhcmlhLWhpZGRlbic6IGZhbHNlLFxuICAgICAgICAndGFiaW5kZXgnOiAtMVxuICAgICAgfSlcbiAgICAgIC5mb2N1cygpO1xuICAgIEtleWJvYXJkLnRyYXBGb2N1cyh0aGlzLiRlbGVtZW50KTtcblxuICAgIHRoaXMuX2FkZEdsb2JhbENsYXNzZXMoKTtcblxuICAgIHRoaXMuX2FkZEdsb2JhbExpc3RlbmVycygpO1xuXG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgbW9kYWwgaGFzIHN1Y2Nlc3NmdWxseSBvcGVuZWQuXG4gICAgICogQGV2ZW50IFJldmVhbCNvcGVuXG4gICAgICovXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdvcGVuLnpmLnJldmVhbCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgY2xhc3NlcyBhbmQgbGlzdGVuZXJzIG9uIGRvY3VtZW50IHJlcXVpcmVkIGJ5IG9wZW4gbW9kYWxzLlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCB1cGRhdGVkOlxuICAgKiAtIGAuaXMtcmV2ZWFsLW9wZW5gIC0gUHJldmVudHMgdGhlIHNjcm9sbCBvbiBkb2N1bWVudFxuICAgKiAtIGAuemYtaGFzLXNjcm9sbGAgIC0gRGlzcGxheXMgYSBkaXNhYmxlZCBzY3JvbGxiYXIgb24gZG9jdW1lbnQgaWYgcmVxdWlyZWQgbGlrZSBpZiB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbCB3YXMgbm90IGRpc2FibGVkLiBUaGlzIHByZXZlbnQgYSBcInNoaWZ0XCIgb2YgdGhlIHBhZ2UgY29udGVudCBkdWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHRoZSBzY3JvbGxiYXIgZGlzYXBwZWFyaW5nIHdoZW4gdGhlIG1vZGFsIG9wZW5zLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FkZEdsb2JhbENsYXNzZXMoKSB7XG4gICAgY29uc3QgdXBkYXRlU2Nyb2xsYmFyQ2xhc3MgPSAoKSA9PiB7XG4gICAgICAkKCdodG1sJykudG9nZ2xlQ2xhc3MoJ3pmLWhhcy1zY3JvbGwnLCAhISgkKGRvY3VtZW50KS5oZWlnaHQoKSA+ICQod2luZG93KS5oZWlnaHQoKSkpO1xuICAgIH07XG5cbiAgICB0aGlzLiRlbGVtZW50Lm9uKCdyZXNpemVtZS56Zi50cmlnZ2VyLnJldmVhbFNjcm9sbGJhckxpc3RlbmVyJywgKCkgPT4gdXBkYXRlU2Nyb2xsYmFyQ2xhc3MoKSk7XG4gICAgdXBkYXRlU2Nyb2xsYmFyQ2xhc3MoKTtcbiAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ2lzLXJldmVhbC1vcGVuJyk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBjbGFzc2VzIGFuZCBsaXN0ZW5lcnMgb24gZG9jdW1lbnQgdGhhdCB3ZXJlIHJlcXVpcmVkIGJ5IG9wZW4gbW9kYWxzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbW92ZUdsb2JhbENsYXNzZXMoKSB7XG4gICAgdGhpcy4kZWxlbWVudC5vZmYoJ3Jlc2l6ZW1lLnpmLnRyaWdnZXIucmV2ZWFsU2Nyb2xsYmFyTGlzdGVuZXInKTtcbiAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ2lzLXJldmVhbC1vcGVuJyk7XG4gICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCd6Zi1oYXMtc2Nyb2xsJyk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBleHRyYSBldmVudCBoYW5kbGVycyBmb3IgdGhlIGJvZHkgYW5kIHdpbmRvdyBpZiBuZWNlc3NhcnkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYWRkR2xvYmFsTGlzdGVuZXJzKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgaWYoIXRoaXMuJGVsZW1lbnQpIHsgcmV0dXJuOyB9IC8vIElmIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgY2xlYW51cCwgZG9uJ3QgZnJlYWsgb3V0XG4gICAgdGhpcy5mb2N1c2FibGVFbGVtZW50cyA9IEtleWJvYXJkLmZpbmRGb2N1c2FibGUodGhpcy4kZWxlbWVudCk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5vdmVybGF5ICYmIHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2sgJiYgIXRoaXMub3B0aW9ucy5mdWxsU2NyZWVuKSB7XG4gICAgICAkKCdib2R5Jykub24oJ2NsaWNrLnpmLmRyb3Bkb3duIHRhcC56Zi5kcm9wZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBfdGhpcy4kZWxlbWVudFswXSB8fFxuICAgICAgICAgICQuY29udGFpbnMoX3RoaXMuJGVsZW1lbnRbMF0sIGUudGFyZ2V0KSB8fFxuICAgICAgICAgICAgISQuY29udGFpbnMoZG9jdW1lbnQsIGUudGFyZ2V0KSkgeyByZXR1cm47IH1cbiAgICAgICAgX3RoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbkVzYykge1xuICAgICAgJCh3aW5kb3cpLm9uKCdrZXlkb3duLnpmLnJldmVhbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgS2V5Ym9hcmQuaGFuZGxlS2V5KGUsICdSZXZlYWwnLCB7XG4gICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuY2xvc2VPbkVzYykge1xuICAgICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBtb2RhbC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBmaXJlcyBSZXZlYWwjY2xvc2VkXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNBY3RpdmUgfHwgIXRoaXMuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vIE1vdGlvbiBVSSBtZXRob2Qgb2YgaGlkaW5nXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb25PdXQpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMub3ZlcmxheSkge1xuICAgICAgICBNb3Rpb24uYW5pbWF0ZU91dCh0aGlzLiRvdmVybGF5LCAnZmFkZS1vdXQnKTtcbiAgICAgIH1cblxuICAgICAgTW90aW9uLmFuaW1hdGVPdXQodGhpcy4kZWxlbWVudCwgdGhpcy5vcHRpb25zLmFuaW1hdGlvbk91dCwgZmluaXNoVXApO1xuICAgIH1cbiAgICAvLyBqUXVlcnkgbWV0aG9kIG9mIGhpZGluZ1xuICAgIGVsc2Uge1xuICAgICAgdGhpcy4kZWxlbWVudC5oaWRlKHRoaXMub3B0aW9ucy5oaWRlRGVsYXkpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLm92ZXJsYXkpIHtcbiAgICAgICAgdGhpcy4kb3ZlcmxheS5oaWRlKDAsIGZpbmlzaFVwKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmaW5pc2hVcCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbmRpdGlvbmFscyB0byByZW1vdmUgZXh0cmEgZXZlbnQgbGlzdGVuZXJzIGFkZGVkIG9uIG9wZW5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNsb3NlT25Fc2MpIHtcbiAgICAgICQod2luZG93KS5vZmYoJ2tleWRvd24uemYucmV2ZWFsJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMub3ZlcmxheSAmJiB0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrKSB7XG4gICAgICAkKCdib2R5Jykub2ZmKCdjbGljay56Zi5kcm9wZG93biB0YXAuemYuZHJvcGRvd24nKTtcbiAgICB9XG5cbiAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5ZG93bi56Zi5yZXZlYWwnKTtcblxuICAgIGZ1bmN0aW9uIGZpbmlzaFVwKCkge1xuXG4gICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgdG9wIGJlZm9yZSB0aGUgbW9kYWwgaXMgY2xvc2VkIGFuZCByZXN0b3JlIHRoZSBzY3JvbGwgYWZ0ZXIuXG4gICAgICAvLyBUT0RPOiB1c2UgY29tcG9uZW50IHByb3BlcnRpZXMgaW5zdGVhZCBvZiBIVE1MIHByb3BlcnRpZXNcbiAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZm91bmRhdGlvbi9mb3VuZGF0aW9uLXNpdGVzL3B1bGwvMTA3ODZcbiAgICAgIHZhciBzY3JvbGxUb3AgPSBwYXJzZUludCgkKFwiaHRtbFwiKS5jc3MoXCJ0b3BcIiksIDEwKTtcblxuICAgICAgaWYgKCQoJy5yZXZlYWw6dmlzaWJsZScpLmxlbmd0aCAgPT09IDApIHtcbiAgICAgICAgX3RoaXMuX3JlbW92ZUdsb2JhbENsYXNzZXMoKTsgLy8gYWxzbyByZW1vdmUgLmlzLXJldmVhbC1vcGVuIGZyb20gdGhlIGh0bWwgZWxlbWVudCB3aGVuIHRoZXJlIGlzIG5vIG9wZW5lZCByZXZlYWxcbiAgICAgIH1cblxuICAgICAgS2V5Ym9hcmQucmVsZWFzZUZvY3VzKF90aGlzLiRlbGVtZW50KTtcblxuICAgICAgX3RoaXMuJGVsZW1lbnQuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKTtcblxuICAgICAgaWYgKCQoJy5yZXZlYWw6dmlzaWJsZScpLmxlbmd0aCAgPT09IDApIHtcbiAgICAgICAgX3RoaXMuX2VuYWJsZVNjcm9sbChzY3JvbGxUb3ApO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICogRmlyZXMgd2hlbiB0aGUgbW9kYWwgaXMgZG9uZSBjbG9zaW5nLlxuICAgICAgKiBAZXZlbnQgUmV2ZWFsI2Nsb3NlZFxuICAgICAgKi9cbiAgICAgIF90aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2Nsb3NlZC56Zi5yZXZlYWwnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFJlc2V0cyB0aGUgbW9kYWwgY29udGVudFxuICAgICogVGhpcyBwcmV2ZW50cyBhIHJ1bm5pbmcgdmlkZW8gdG8ga2VlcCBnb2luZyBpbiB0aGUgYmFja2dyb3VuZFxuICAgICovXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZXNldE9uQ2xvc2UpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuaHRtbCh0aGlzLiRlbGVtZW50Lmh0bWwoKSk7XG4gICAgfVxuXG4gICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIC8vIElmIGRlZXBMaW5rIGFuZCB3ZSBkaWQgbm90IHN3aXRjaGVkIHRvIGFuIG90aGVyIG1vZGFsLi4uXG4gICAgaWYgKF90aGlzLm9wdGlvbnMuZGVlcExpbmsgJiYgd2luZG93LmxvY2F0aW9uLmhhc2ggPT09IGAjJHt0aGlzLmlkfWApIHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgaGlzdG9yeSBoYXNoXG4gICAgICBpZiAod2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHVybFdpdGhvdXRIYXNoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy51cGRhdGVIaXN0b3J5KSB7XG4gICAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgdXJsV2l0aG91dEhhc2gpOyAvLyByZW1vdmUgdGhlIGhhc2hcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoJycsIGRvY3VtZW50LnRpdGxlLCB1cmxXaXRob3V0SGFzaCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJyc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy4kYWN0aXZlQW5jaG9yLmZvY3VzKCk7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgb3Blbi9jbG9zZWQgc3RhdGUgb2YgYSBtb2RhbC5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICB0b2dnbGUoKSB7XG4gICAgaWYgKHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyBhbiBpbnN0YW5jZSBvZiBhIG1vZGFsLlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIF9kZXN0cm95KCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMub3ZlcmxheSkge1xuICAgICAgdGhpcy4kZWxlbWVudC5hcHBlbmRUbygkKHRoaXMub3B0aW9ucy5hcHBlbmRUbykpOyAvLyBtb3ZlICRlbGVtZW50IG91dHNpZGUgb2YgJG92ZXJsYXkgdG8gcHJldmVudCBlcnJvciB1bnJlZ2lzdGVyUGx1Z2luKClcbiAgICAgIHRoaXMuJG92ZXJsYXkuaGlkZSgpLm9mZigpLnJlbW92ZSgpO1xuICAgIH1cbiAgICB0aGlzLiRlbGVtZW50LmhpZGUoKS5vZmYoKTtcbiAgICB0aGlzLiRhbmNob3Iub2ZmKCcuemYnKTtcbiAgICAkKHdpbmRvdykub2ZmKGAuemYucmV2ZWFsOiR7dGhpcy5pZH1gKVxuICAgIGlmICh0aGlzLm9uTG9hZExpc3RlbmVyKSAkKHdpbmRvdykub2ZmKHRoaXMub25Mb2FkTGlzdGVuZXIpO1xuXG4gICAgaWYgKCQoJy5yZXZlYWw6dmlzaWJsZScpLmxlbmd0aCAgPT09IDApIHtcbiAgICAgIHRoaXMuX3JlbW92ZUdsb2JhbENsYXNzZXMoKTsgLy8gYWxzbyByZW1vdmUgLmlzLXJldmVhbC1vcGVuIGZyb20gdGhlIGh0bWwgZWxlbWVudCB3aGVuIHRoZXJlIGlzIG5vIG9wZW5lZCByZXZlYWxcbiAgICB9XG4gIH07XG59XG5cblJldmVhbC5kZWZhdWx0cyA9IHtcbiAgLyoqXG4gICAqIE1vdGlvbi1VSSBjbGFzcyB0byB1c2UgZm9yIGFuaW1hdGVkIGVsZW1lbnRzLiBJZiBub25lIHVzZWQsIGRlZmF1bHRzIHRvIHNpbXBsZSBzaG93L2hpZGUuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJydcbiAgICovXG4gIGFuaW1hdGlvbkluOiAnJyxcbiAgLyoqXG4gICAqIE1vdGlvbi1VSSBjbGFzcyB0byB1c2UgZm9yIGFuaW1hdGVkIGVsZW1lbnRzLiBJZiBub25lIHVzZWQsIGRlZmF1bHRzIHRvIHNpbXBsZSBzaG93L2hpZGUuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJydcbiAgICovXG4gIGFuaW1hdGlvbk91dDogJycsXG4gIC8qKlxuICAgKiBUaW1lLCBpbiBtcywgdG8gZGVsYXkgdGhlIG9wZW5pbmcgb2YgYSBtb2RhbCBhZnRlciBhIGNsaWNrIGlmIG5vIGFuaW1hdGlvbiB1c2VkLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIHNob3dEZWxheTogMCxcbiAgLyoqXG4gICAqIFRpbWUsIGluIG1zLCB0byBkZWxheSB0aGUgY2xvc2luZyBvZiBhIG1vZGFsIGFmdGVyIGEgY2xpY2sgaWYgbm8gYW5pbWF0aW9uIHVzZWQuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgaGlkZURlbGF5OiAwLFxuICAvKipcbiAgICogQWxsb3dzIGEgY2xpY2sgb24gdGhlIGJvZHkvb3ZlcmxheSB0byBjbG9zZSB0aGUgbW9kYWwuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGNsb3NlT25DbGljazogdHJ1ZSxcbiAgLyoqXG4gICAqIEFsbG93cyB0aGUgbW9kYWwgdG8gY2xvc2UgaWYgdGhlIHVzZXIgcHJlc3NlcyB0aGUgYEVTQ0FQRWAga2V5LlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBjbG9zZU9uRXNjOiB0cnVlLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgYWxsb3dzIG11bHRpcGxlIG1vZGFscyB0byBiZSBkaXNwbGF5ZWQgYXQgb25jZS5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIG11bHRpcGxlT3BlbmVkOiBmYWxzZSxcbiAgLyoqXG4gICAqIERpc3RhbmNlLCBpbiBwaXhlbHMsIHRoZSBtb2RhbCBzaG91bGQgcHVzaCBkb3duIGZyb20gdGhlIHRvcCBvZiB0aGUgc2NyZWVuLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ8c3RyaW5nfVxuICAgKiBAZGVmYXVsdCBhdXRvXG4gICAqL1xuICB2T2Zmc2V0OiAnYXV0bycsXG4gIC8qKlxuICAgKiBEaXN0YW5jZSwgaW4gcGl4ZWxzLCB0aGUgbW9kYWwgc2hvdWxkIHB1c2ggaW4gZnJvbSB0aGUgc2lkZSBvZiB0aGUgc2NyZWVuLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ8c3RyaW5nfVxuICAgKiBAZGVmYXVsdCBhdXRvXG4gICAqL1xuICBoT2Zmc2V0OiAnYXV0bycsXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIG1vZGFsIHRvIGJlIGZ1bGxzY3JlZW4sIGNvbXBsZXRlbHkgYmxvY2tpbmcgb3V0IHRoZSByZXN0IG9mIHRoZSB2aWV3LiBKUyBjaGVja3MgZm9yIHRoaXMgYXMgd2VsbC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGZ1bGxTY3JlZW46IGZhbHNlLFxuICAvKipcbiAgICogQWxsb3dzIHRoZSBtb2RhbCB0byBnZW5lcmF0ZSBhbiBvdmVybGF5IGRpdiwgd2hpY2ggd2lsbCBjb3ZlciB0aGUgdmlldyB3aGVuIG1vZGFsIG9wZW5zLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBvdmVybGF5OiB0cnVlLFxuICAvKipcbiAgICogQWxsb3dzIHRoZSBtb2RhbCB0byByZW1vdmUgYW5kIHJlaW5qZWN0IG1hcmt1cCBvbiBjbG9zZS4gU2hvdWxkIGJlIHRydWUgaWYgdXNpbmcgdmlkZW8gZWxlbWVudHMgdy9vIHVzaW5nIHByb3ZpZGVyJ3MgYXBpLCBvdGhlcndpc2UsIHZpZGVvcyB3aWxsIGNvbnRpbnVlIHRvIHBsYXkgaW4gdGhlIGJhY2tncm91bmQuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZXNldE9uQ2xvc2U6IGZhbHNlLFxuICAvKipcbiAgICogTGluayB0aGUgbG9jYXRpb24gaGFzaCB0byB0aGUgbW9kYWwuXG4gICAqIFNldCB0aGUgbG9jYXRpb24gaGFzaCB3aGVuIHRoZSBtb2RhbCBpcyBvcGVuZWQvY2xvc2VkLCBhbmQgb3Blbi9jbG9zZSB0aGUgbW9kYWwgd2hlbiB0aGUgbG9jYXRpb24gY2hhbmdlcy5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRlZXBMaW5rOiBmYWxzZSxcbiAgLyoqXG4gICAqIElmIGBkZWVwTGlua2AgaXMgZW5hYmxlZCwgdXBkYXRlIHRoZSBicm93c2VyIGhpc3Rvcnkgd2l0aCB0aGUgb3BlbiBtb2RhbFxuICAgKiBAb3B0aW9uXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB1cGRhdGVIaXN0b3J5OiBmYWxzZSxcbiAgICAvKipcbiAgICogQWxsb3dzIHRoZSBtb2RhbCB0byBhcHBlbmQgdG8gY3VzdG9tIGRpdi5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCBcImJvZHlcIlxuICAgKi9cbiAgYXBwZW5kVG86IFwiYm9keVwiLFxuICAvKipcbiAgICogQWxsb3dzIGFkZGluZyBhZGRpdGlvbmFsIGNsYXNzIG5hbWVzIHRvIHRoZSByZXZlYWwgb3ZlcmxheS5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnJ1xuICAgKi9cbiAgYWRkaXRpb25hbE92ZXJsYXlDbGFzc2VzOiAnJ1xufTtcblxuZXhwb3J0IHtSZXZlYWx9O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmQnO1xuaW1wb3J0IHsgTW92ZSB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLm1vdGlvbic7XG5pbXBvcnQgeyBHZXRZb0RpZ2l0cywgcnRsIGFzIFJ0bCB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnV0aWxzJztcblxuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcblxuaW1wb3J0IHsgVG91Y2ggfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC50b3VjaCc7XG5cbmltcG9ydCB7IFRyaWdnZXJzIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwudHJpZ2dlcnMnO1xuLyoqXG4gKiBTbGlkZXIgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLnNsaWRlclxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tb3Rpb25cbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwudHJpZ2dlcnNcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmRcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwudG91Y2hcbiAqL1xuXG5jbGFzcyBTbGlkZXIgZXh0ZW5kcyBQbHVnaW4ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBhIHNsaWRlciBjb250cm9sLlxuICAgKiBAY2xhc3NcbiAgICogQG5hbWUgU2xpZGVyXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCB0byBtYWtlIGludG8gYSBzbGlkZXIgY29udHJvbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgX3NldHVwKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgU2xpZGVyLmRlZmF1bHRzLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucyk7XG4gICAgdGhpcy5jbGFzc05hbWUgPSAnU2xpZGVyJzsgLy8gaWU5IGJhY2sgY29tcGF0XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gIC8vIFRvdWNoIGFuZCBUcmlnZ2VycyBpbml0cyBhcmUgaWRlbXBvdGVudCwgd2UganVzdCBuZWVkIHRvIG1ha2Ugc3VyZSBpdCdzIGluaXRpYWxpZWQuXG4gICAgVG91Y2guaW5pdCgkKTtcbiAgICBUcmlnZ2Vycy5pbml0KCQpO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gICAgS2V5Ym9hcmQucmVnaXN0ZXIoJ1NsaWRlcicsIHtcbiAgICAgICdsdHInOiB7XG4gICAgICAgICdBUlJPV19SSUdIVCc6ICdpbmNyZWFzZScsXG4gICAgICAgICdBUlJPV19VUCc6ICdpbmNyZWFzZScsXG4gICAgICAgICdBUlJPV19ET1dOJzogJ2RlY3JlYXNlJyxcbiAgICAgICAgJ0FSUk9XX0xFRlQnOiAnZGVjcmVhc2UnLFxuICAgICAgICAnU0hJRlRfQVJST1dfUklHSFQnOiAnaW5jcmVhc2VGYXN0JyxcbiAgICAgICAgJ1NISUZUX0FSUk9XX1VQJzogJ2luY3JlYXNlRmFzdCcsXG4gICAgICAgICdTSElGVF9BUlJPV19ET1dOJzogJ2RlY3JlYXNlRmFzdCcsXG4gICAgICAgICdTSElGVF9BUlJPV19MRUZUJzogJ2RlY3JlYXNlRmFzdCcsXG4gICAgICAgICdIT01FJzogJ21pbicsXG4gICAgICAgICdFTkQnOiAnbWF4J1xuICAgICAgfSxcbiAgICAgICdydGwnOiB7XG4gICAgICAgICdBUlJPV19MRUZUJzogJ2luY3JlYXNlJyxcbiAgICAgICAgJ0FSUk9XX1JJR0hUJzogJ2RlY3JlYXNlJyxcbiAgICAgICAgJ1NISUZUX0FSUk9XX0xFRlQnOiAnaW5jcmVhc2VGYXN0JyxcbiAgICAgICAgJ1NISUZUX0FSUk9XX1JJR0hUJzogJ2RlY3JlYXNlRmFzdCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWxpemVzIHRoZSBwbHVnaW4gYnkgcmVhZGluZy9zZXR0aW5nIGF0dHJpYnV0ZXMsIGNyZWF0aW5nIGNvbGxlY3Rpb25zIGFuZCBzZXR0aW5nIHRoZSBpbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBoYW5kbGUocykuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgdGhpcy5pbnB1dHMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2lucHV0Jyk7XG4gICAgdGhpcy5oYW5kbGVzID0gdGhpcy4kZWxlbWVudC5maW5kKCdbZGF0YS1zbGlkZXItaGFuZGxlXScpO1xuXG4gICAgdGhpcy4kaGFuZGxlID0gdGhpcy5oYW5kbGVzLmVxKDApO1xuICAgIHRoaXMuJGlucHV0ID0gdGhpcy5pbnB1dHMubGVuZ3RoID8gdGhpcy5pbnB1dHMuZXEoMCkgOiAkKGAjJHt0aGlzLiRoYW5kbGUuYXR0cignYXJpYS1jb250cm9scycpfWApO1xuICAgIHRoaXMuJGZpbGwgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ1tkYXRhLXNsaWRlci1maWxsXScpLmNzcyh0aGlzLm9wdGlvbnMudmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCcsIDApO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kaXNhYmxlZCB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKHRoaXMub3B0aW9ucy5kaXNhYmxlZENsYXNzKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmRpc2FibGVkQ2xhc3MpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaW5wdXRzLmxlbmd0aCkge1xuICAgICAgdGhpcy5pbnB1dHMgPSAkKCkuYWRkKHRoaXMuJGlucHV0KTtcbiAgICAgIHRoaXMub3B0aW9ucy5iaW5kaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRJbml0QXR0cigwKTtcblxuICAgIGlmICh0aGlzLmhhbmRsZXNbMV0pIHtcbiAgICAgIHRoaXMub3B0aW9ucy5kb3VibGVTaWRlZCA9IHRydWU7XG4gICAgICB0aGlzLiRoYW5kbGUyID0gdGhpcy5oYW5kbGVzLmVxKDEpO1xuICAgICAgdGhpcy4kaW5wdXQyID0gdGhpcy5pbnB1dHMubGVuZ3RoID4gMSA/IHRoaXMuaW5wdXRzLmVxKDEpIDogJChgIyR7dGhpcy4kaGFuZGxlMi5hdHRyKCdhcmlhLWNvbnRyb2xzJyl9YCk7XG5cbiAgICAgIGlmICghdGhpcy5pbnB1dHNbMV0pIHtcbiAgICAgICAgdGhpcy5pbnB1dHMgPSB0aGlzLmlucHV0cy5hZGQodGhpcy4kaW5wdXQyKTtcbiAgICAgIH1cblxuICAgICAgLy8gdGhpcy4kaGFuZGxlLnRyaWdnZXJIYW5kbGVyKCdjbGljay56Zi5zbGlkZXInKTtcbiAgICAgIHRoaXMuX3NldEluaXRBdHRyKDEpO1xuICAgIH1cblxuICAgIC8vIFNldCBoYW5kbGUgcG9zaXRpb25zXG4gICAgdGhpcy5zZXRIYW5kbGVzKCk7XG5cbiAgICB0aGlzLl9ldmVudHMoKTtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuXG4gIHNldEhhbmRsZXMoKSB7XG4gICAgaWYodGhpcy5oYW5kbGVzWzFdKSB7XG4gICAgICB0aGlzLl9zZXRIYW5kbGVQb3ModGhpcy4kaGFuZGxlLCB0aGlzLmlucHV0cy5lcSgwKS52YWwoKSwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9zZXRIYW5kbGVQb3ModGhpcy4kaGFuZGxlMiwgdGhpcy5pbnB1dHMuZXEoMSkudmFsKCkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NldEhhbmRsZVBvcyh0aGlzLiRoYW5kbGUsIHRoaXMuaW5wdXRzLmVxKDApLnZhbCgpKTtcbiAgICB9XG4gIH1cblxuICBfcmVmbG93KCkge1xuICAgIHRoaXMuc2V0SGFuZGxlcygpO1xuICB9XG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEBwcml2YXRlXG4gICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIC0gZmxvYXRpbmcgcG9pbnQgKHRoZSB2YWx1ZSkgdG8gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdG8gYSByZWxhdGl2ZSBwb3NpdGlvbiBvbiB0aGUgc2xpZGVyICh0aGUgaW52ZXJzZSBvZiBfdmFsdWUpXG4gICovXG4gIF9wY3RPZkJhcih2YWx1ZSkge1xuICAgIHZhciBwY3RPZkJhciA9IHBlcmNlbnQodmFsdWUgLSB0aGlzLm9wdGlvbnMuc3RhcnQsIHRoaXMub3B0aW9ucy5lbmQgLSB0aGlzLm9wdGlvbnMuc3RhcnQpXG5cbiAgICBzd2l0Y2godGhpcy5vcHRpb25zLnBvc2l0aW9uVmFsdWVGdW5jdGlvbikge1xuICAgIGNhc2UgXCJwb3dcIjpcbiAgICAgIHBjdE9mQmFyID0gdGhpcy5fbG9nVHJhbnNmb3JtKHBjdE9mQmFyKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJsb2dcIjpcbiAgICAgIHBjdE9mQmFyID0gdGhpcy5fcG93VHJhbnNmb3JtKHBjdE9mQmFyKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBwY3RPZkJhci50b0ZpeGVkKDIpXG4gIH1cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAcHJpdmF0ZVxuICAqIEBwYXJhbSB7TnVtYmVyfSBwY3RPZkJhciAtIGZsb2F0aW5nIHBvaW50LCB0aGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIHNsaWRlciAodHlwaWNhbGx5IGJldHdlZW4gMC0xKSB0byBiZSB0cmFuc2Zvcm1lZCB0byBhIHZhbHVlXG4gICovXG4gIF92YWx1ZShwY3RPZkJhcikge1xuICAgIHN3aXRjaCh0aGlzLm9wdGlvbnMucG9zaXRpb25WYWx1ZUZ1bmN0aW9uKSB7XG4gICAgY2FzZSBcInBvd1wiOlxuICAgICAgcGN0T2ZCYXIgPSB0aGlzLl9wb3dUcmFuc2Zvcm0ocGN0T2ZCYXIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxvZ1wiOlxuICAgICAgcGN0T2ZCYXIgPSB0aGlzLl9sb2dUcmFuc2Zvcm0ocGN0T2ZCYXIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlXG4gICAgaWYgKHRoaXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgLy8gbGluZWFyIGludGVycG9sYXRpb24gd2hpY2ggaXMgd29ya2luZyB3aXRoIG5lZ2F0aXZlIHZhbHVlcyBmb3Igc3RhcnRcbiAgICAgIC8vIGh0dHBzOi8vbWF0aC5zdGFja2V4Y2hhbmdlLmNvbS9hLzEwMTkwODRcbiAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh0aGlzLm9wdGlvbnMuZW5kKSArIHBjdE9mQmFyICogKHRoaXMub3B0aW9ucy5zdGFydCAtIHRoaXMub3B0aW9ucy5lbmQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gKHRoaXMub3B0aW9ucy5lbmQgLSB0aGlzLm9wdGlvbnMuc3RhcnQpICogcGN0T2ZCYXIgKyBwYXJzZUZsb2F0KHRoaXMub3B0aW9ucy5zdGFydCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAcHJpdmF0ZVxuICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSAtIGZsb2F0aW5nIHBvaW50ICh0eXBpY2FsbHkgYmV0d2VlbiAwLTEpIHRvIGJlIHRyYW5zZm9ybWVkIHVzaW5nIHRoZSBsb2cgZnVuY3Rpb25cbiAgKi9cbiAgX2xvZ1RyYW5zZm9ybSh2YWx1ZSkge1xuICAgIHJldHVybiBiYXNlTG9nKHRoaXMub3B0aW9ucy5ub25MaW5lYXJCYXNlLCAoKHZhbHVlKih0aGlzLm9wdGlvbnMubm9uTGluZWFyQmFzZS0xKSkrMSkpXG4gIH1cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAcHJpdmF0ZVxuICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSAtIGZsb2F0aW5nIHBvaW50ICh0eXBpY2FsbHkgYmV0d2VlbiAwLTEpIHRvIGJlIHRyYW5zZm9ybWVkIHVzaW5nIHRoZSBwb3dlciBmdW5jdGlvblxuICAqL1xuICBfcG93VHJhbnNmb3JtKHZhbHVlKSB7XG4gICAgcmV0dXJuIChNYXRoLnBvdyh0aGlzLm9wdGlvbnMubm9uTGluZWFyQmFzZSwgdmFsdWUpIC0gMSkgLyAodGhpcy5vcHRpb25zLm5vbkxpbmVhckJhc2UgLSAxKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSBzZWxlY3RlZCBoYW5kbGUgYW5kIGZpbGwgYmFyLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtqUXVlcnl9ICRobmRsIC0gdGhlIHNlbGVjdGVkIGhhbmRsZSB0byBtb3ZlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gbG9jYXRpb24gLSBmbG9hdGluZyBwb2ludCBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgZW5kIHZhbHVlcyBvZiB0aGUgc2xpZGVyIGJhci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBjYWxsYmFjayBmdW5jdGlvbiB0byBmaXJlIG9uIGNvbXBsZXRpb24uXG4gICAqIEBmaXJlcyBTbGlkZXIjbW92ZWRcbiAgICogQGZpcmVzIFNsaWRlciNjaGFuZ2VkXG4gICAqL1xuICBfc2V0SGFuZGxlUG9zKCRobmRsLCBsb2NhdGlvbiwgY2IpIHtcbiAgICAvLyBkb24ndCBtb3ZlIGlmIHRoZSBzbGlkZXIgaGFzIGJlZW4gZGlzYWJsZWQgc2luY2UgaXRzIGluaXRpYWxpemF0aW9uXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3ModGhpcy5vcHRpb25zLmRpc2FibGVkQ2xhc3MpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vbWlnaHQgbmVlZCB0byBhbHRlciB0aGF0IHNsaWdodGx5IGZvciBiYXJzIHRoYXQgd2lsbCBoYXZlIG9kZCBudW1iZXIgc2VsZWN0aW9ucy5cbiAgICBsb2NhdGlvbiA9IHBhcnNlRmxvYXQobG9jYXRpb24pOy8vb24gaW5wdXQgY2hhbmdlIGV2ZW50cywgY29udmVydCBzdHJpbmcgdG8gbnVtYmVyLi4uZ3J1bWJsZS5cblxuICAgIC8vIHByZXZlbnQgc2xpZGVyIGZyb20gcnVubmluZyBvdXQgb2YgYm91bmRzLCBpZiB2YWx1ZSBleGNlZWRzIHRoZSBsaW1pdHMgc2V0IHRocm91Z2ggb3B0aW9ucywgb3ZlcnJpZGUgdGhlIHZhbHVlIHRvIG1pbi9tYXhcbiAgICBpZiAobG9jYXRpb24gPCB0aGlzLm9wdGlvbnMuc3RhcnQpIHsgbG9jYXRpb24gPSB0aGlzLm9wdGlvbnMuc3RhcnQ7IH1cbiAgICBlbHNlIGlmIChsb2NhdGlvbiA+IHRoaXMub3B0aW9ucy5lbmQpIHsgbG9jYXRpb24gPSB0aGlzLm9wdGlvbnMuZW5kOyB9XG5cbiAgICB2YXIgaXNEYmwgPSB0aGlzLm9wdGlvbnMuZG91YmxlU2lkZWQ7XG5cbiAgICBpZiAoaXNEYmwpIHsgLy90aGlzIGJsb2NrIGlzIHRvIHByZXZlbnQgMiBoYW5kbGVzIGZyb20gY3Jvc3NpbmcgZWFjaG90aGVyLiBDb3VsZC9zaG91bGQgYmUgaW1wcm92ZWQuXG4gICAgICBpZiAodGhpcy5oYW5kbGVzLmluZGV4KCRobmRsKSA9PT0gMCkge1xuICAgICAgICB2YXIgaDJWYWwgPSBwYXJzZUZsb2F0KHRoaXMuJGhhbmRsZTIuYXR0cignYXJpYS12YWx1ZW5vdycpKTtcbiAgICAgICAgbG9jYXRpb24gPSBsb2NhdGlvbiA+PSBoMlZhbCA/IGgyVmFsIC0gdGhpcy5vcHRpb25zLnN0ZXAgOiBsb2NhdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBoMVZhbCA9IHBhcnNlRmxvYXQodGhpcy4kaGFuZGxlLmF0dHIoJ2FyaWEtdmFsdWVub3cnKSk7XG4gICAgICAgIGxvY2F0aW9uID0gbG9jYXRpb24gPD0gaDFWYWwgPyBoMVZhbCArIHRoaXMub3B0aW9ucy5zdGVwIDogbG9jYXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgdmVydCA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCxcbiAgICAgICAgaE9yVyA9IHZlcnQgPyAnaGVpZ2h0JyA6ICd3aWR0aCcsXG4gICAgICAgIGxPclQgPSB2ZXJ0ID8gJ3RvcCcgOiAnbGVmdCcsXG4gICAgICAgIGhhbmRsZURpbSA9ICRobmRsWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2hPclddLFxuICAgICAgICBlbGVtRGltID0gdGhpcy4kZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtoT3JXXSxcbiAgICAgICAgLy9wZXJjZW50YWdlIG9mIGJhciBtaW4vbWF4IHZhbHVlIGJhc2VkIG9uIGNsaWNrIG9yIGRyYWcgcG9pbnRcbiAgICAgICAgcGN0T2ZCYXIgPSB0aGlzLl9wY3RPZkJhcihsb2NhdGlvbiksXG4gICAgICAgIC8vbnVtYmVyIG9mIGFjdHVhbCBwaXhlbHMgdG8gc2hpZnQgdGhlIGhhbmRsZSwgYmFzZWQgb24gdGhlIHBlcmNlbnRhZ2Ugb2J0YWluZWQgYWJvdmVcbiAgICAgICAgcHhUb01vdmUgPSAoZWxlbURpbSAtIGhhbmRsZURpbSkgKiBwY3RPZkJhcixcbiAgICAgICAgLy9wZXJjZW50YWdlIG9mIGJhciB0byBzaGlmdCB0aGUgaGFuZGxlXG4gICAgICAgIG1vdmVtZW50ID0gKHBlcmNlbnQocHhUb01vdmUsIGVsZW1EaW0pICogMTAwKS50b0ZpeGVkKHRoaXMub3B0aW9ucy5kZWNpbWFsKTtcbiAgICAgICAgLy9maXhpbmcgdGhlIGRlY2ltYWwgdmFsdWUgZm9yIHRoZSBsb2NhdGlvbiBudW1iZXIsIGlzIHBhc3NlZCB0byBvdGhlciBtZXRob2RzIGFzIGEgZml4ZWQgZmxvYXRpbmctcG9pbnQgdmFsdWVcbiAgICAgICAgbG9jYXRpb24gPSBwYXJzZUZsb2F0KGxvY2F0aW9uLnRvRml4ZWQodGhpcy5vcHRpb25zLmRlY2ltYWwpKTtcbiAgICAgICAgLy8gZGVjbGFyZSBlbXB0eSBvYmplY3QgZm9yIGNzcyBhZGp1c3RtZW50cywgb25seSB1c2VkIHdpdGggMiBoYW5kbGVkLXNsaWRlcnNcbiAgICB2YXIgY3NzID0ge307XG5cbiAgICB0aGlzLl9zZXRWYWx1ZXMoJGhuZGwsIGxvY2F0aW9uKTtcblxuICAgIC8vIFRPRE8gdXBkYXRlIHRvIGNhbGN1bGF0ZSBiYXNlZCBvbiB2YWx1ZXMgc2V0IHRvIHJlc3BlY3RpdmUgaW5wdXRzPz9cbiAgICBpZiAoaXNEYmwpIHtcbiAgICAgIHZhciBpc0xlZnRIbmRsID0gdGhpcy5oYW5kbGVzLmluZGV4KCRobmRsKSA9PT0gMCxcbiAgICAgICAgICAvL2VtcHR5IHZhcmlhYmxlLCB3aWxsIGJlIHVzZWQgZm9yIG1pbi1oZWlnaHQvd2lkdGggZm9yIGZpbGwgYmFyXG4gICAgICAgICAgZGltLFxuICAgICAgICAgIC8vcGVyY2VudGFnZSB3L2ggb2YgdGhlIGhhbmRsZSBjb21wYXJlZCB0byB0aGUgc2xpZGVyIGJhclxuICAgICAgICAgIGhhbmRsZVBjdCA9ICBNYXRoLmZsb29yKHBlcmNlbnQoaGFuZGxlRGltLCBlbGVtRGltKSAqIDEwMCk7XG4gICAgICAvL2lmIGxlZnQgaGFuZGxlLCB0aGUgbWF0aCBpcyBzbGlnaHRseSBkaWZmZXJlbnQgdGhhbiBpZiBpdCdzIHRoZSByaWdodCBoYW5kbGUsIGFuZCB0aGUgbGVmdC90b3AgcHJvcGVydHkgbmVlZHMgdG8gYmUgY2hhbmdlZCBmb3IgdGhlIGZpbGwgYmFyXG4gICAgICBpZiAoaXNMZWZ0SG5kbCkge1xuICAgICAgICAvL2xlZnQgb3IgdG9wIHBlcmNlbnRhZ2UgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIGZpbGwgYmFyLlxuICAgICAgICBjc3NbbE9yVF0gPSBgJHttb3ZlbWVudH0lYDtcbiAgICAgICAgLy9jYWxjdWxhdGUgdGhlIG5ldyBtaW4taGVpZ2h0L3dpZHRoIGZvciB0aGUgZmlsbCBiYXIuXG4gICAgICAgIGRpbSA9IHBhcnNlRmxvYXQodGhpcy4kaGFuZGxlMlswXS5zdHlsZVtsT3JUXSkgLSBtb3ZlbWVudCArIGhhbmRsZVBjdDtcbiAgICAgICAgLy90aGlzIGNhbGxiYWNrIGlzIG5lY2Vzc2FyeSB0byBwcmV2ZW50IGVycm9ycyBhbmQgYWxsb3cgdGhlIHByb3BlciBwbGFjZW1lbnQgYW5kIGluaXRpYWxpemF0aW9uIG9mIGEgMi1oYW5kbGVkIHNsaWRlclxuICAgICAgICAvL3BsdXMsIGl0IG1lYW5zIHdlIGRvbid0IGNhcmUgaWYgJ2RpbScgaXNOYU4gb24gaW5pdCwgaXQgd29uJ3QgYmUgaW4gdGhlIGZ1dHVyZS5cbiAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykgeyBjYigpOyB9Ly90aGlzIGlzIG9ubHkgbmVlZGVkIGZvciB0aGUgaW5pdGlhbGl6YXRpb24gb2YgMiBoYW5kbGVkIHNsaWRlcnNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vanVzdCBjYWNoaW5nIHRoZSB2YWx1ZSBvZiB0aGUgbGVmdC9ib3R0b20gaGFuZGxlJ3MgbGVmdC90b3AgcHJvcGVydHlcbiAgICAgICAgdmFyIGhhbmRsZVBvcyA9IHBhcnNlRmxvYXQodGhpcy4kaGFuZGxlWzBdLnN0eWxlW2xPclRdKTtcbiAgICAgICAgLy9jYWxjdWxhdGUgdGhlIG5ldyBtaW4taGVpZ2h0L3dpZHRoIGZvciB0aGUgZmlsbCBiYXIuIFVzZSBpc05hTiB0byBwcmV2ZW50IGZhbHNlIHBvc2l0aXZlcyBmb3IgbnVtYmVycyA8PSAwXG4gICAgICAgIC8vYmFzZWQgb24gdGhlIHBlcmNlbnRhZ2Ugb2YgbW92ZW1lbnQgb2YgdGhlIGhhbmRsZSBiZWluZyBtYW5pcHVsYXRlZCwgbGVzcyB0aGUgb3Bwb3NpbmcgaGFuZGxlJ3MgbGVmdC90b3AgcG9zaXRpb24sIHBsdXMgdGhlIHBlcmNlbnRhZ2Ugdy9oIG9mIHRoZSBoYW5kbGUgaXRzZWxmXG4gICAgICAgIGRpbSA9IG1vdmVtZW50IC0gKGlzTmFOKGhhbmRsZVBvcykgPyAodGhpcy5vcHRpb25zLmluaXRpYWxTdGFydCAtIHRoaXMub3B0aW9ucy5zdGFydCkvKCh0aGlzLm9wdGlvbnMuZW5kLXRoaXMub3B0aW9ucy5zdGFydCkvMTAwKSA6IGhhbmRsZVBvcykgKyBoYW5kbGVQY3Q7XG4gICAgICB9XG4gICAgICAvLyBhc3NpZ24gdGhlIG1pbi1oZWlnaHQvd2lkdGggdG8gb3VyIGNzcyBvYmplY3RcbiAgICAgIGNzc1tgbWluLSR7aE9yV31gXSA9IGAke2RpbX0lYDtcbiAgICB9XG5cbiAgICAvL2JlY2F1c2Ugd2UgZG9uJ3Qga25vdyBleGFjdGx5IGhvdyB0aGUgaGFuZGxlIHdpbGwgYmUgbW92ZWQsIGNoZWNrIHRoZSBhbW91bnQgb2YgdGltZSBpdCBzaG91bGQgdGFrZSB0byBtb3ZlLlxuICAgIHZhciBtb3ZlVGltZSA9IHRoaXMuJGVsZW1lbnQuZGF0YSgnZHJhZ2dpbmcnKSA/IDEwMDAvNjAgOiB0aGlzLm9wdGlvbnMubW92ZVRpbWU7XG5cbiAgICBNb3ZlKG1vdmVUaW1lLCAkaG5kbCwgZnVuY3Rpb24oKSB7XG4gICAgICAvLyBhZGp1c3RpbmcgdGhlIGxlZnQvdG9wIHByb3BlcnR5IG9mIHRoZSBoYW5kbGUsIGJhc2VkIG9uIHRoZSBwZXJjZW50YWdlIGNhbGN1bGF0ZWQgYWJvdmVcbiAgICAgIC8vIGlmIG1vdmVtZW50IGlzTmFOLCB0aGF0IGlzIGJlY2F1c2UgdGhlIHNsaWRlciBpcyBoaWRkZW4gYW5kIHdlIGNhbm5vdCBkZXRlcm1pbmUgaGFuZGxlIHdpZHRoLFxuICAgICAgLy8gZmFsbCBiYWNrIHRvIG5leHQgYmVzdCBndWVzcy5cbiAgICAgIGlmIChpc05hTihtb3ZlbWVudCkpIHtcbiAgICAgICAgJGhuZGwuY3NzKGxPclQsIGAke3BjdE9mQmFyICogMTAwfSVgKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAkaG5kbC5jc3MobE9yVCwgYCR7bW92ZW1lbnR9JWApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIV90aGlzLm9wdGlvbnMuZG91YmxlU2lkZWQpIHtcbiAgICAgICAgLy9pZiBzaW5nbGUtaGFuZGxlZCwgYSBzaW1wbGUgbWV0aG9kIHRvIGV4cGFuZCB0aGUgZmlsbCBiYXJcbiAgICAgICAgX3RoaXMuJGZpbGwuY3NzKGhPclcsIGAke3BjdE9mQmFyICogMTAwfSVgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vb3RoZXJ3aXNlLCB1c2UgdGhlIGNzcyBvYmplY3Qgd2UgY3JlYXRlZCBhYm92ZVxuICAgICAgICBfdGhpcy4kZmlsbC5jc3MoY3NzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9uZSgnZmluaXNoZWQuemYuYW5pbWF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgaGFuZGxlIGlzIGRvbmUgbW92aW5nLlxuICAgICAgICAgKiBAZXZlbnQgU2xpZGVyI21vdmVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdtb3ZlZC56Zi5zbGlkZXInLCBbJGhuZGxdKTtcbiAgICAgIH0pO1xuICAgICAgLyoqXG4gICAgICAgKiBGaXJlcyB3aGVuIHRoZSB2YWx1ZSBoYXMgbm90IGJlZW4gY2hhbmdlIGZvciBhIGdpdmVuIHRpbWUuXG4gICAgICAgKiBAZXZlbnQgU2xpZGVyI2NoYW5nZWRcbiAgICAgICAqL1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVvdXQpO1xuICAgICAgX3RoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgX3RoaXMuJGVsZW1lbnQudHJpZ2dlcignY2hhbmdlZC56Zi5zbGlkZXInLCBbJGhuZGxdKTtcbiAgICAgIH0sIF90aGlzLm9wdGlvbnMuY2hhbmdlZERlbGF5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaW5pdGlhbCBhdHRyaWJ1dGUgZm9yIHRoZSBzbGlkZXIgZWxlbWVudC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpZHggLSBpbmRleCBvZiB0aGUgY3VycmVudCBoYW5kbGUvaW5wdXQgdG8gdXNlLlxuICAgKi9cbiAgX3NldEluaXRBdHRyKGlkeCkge1xuICAgIHZhciBpbml0VmFsID0gKGlkeCA9PT0gMCA/IHRoaXMub3B0aW9ucy5pbml0aWFsU3RhcnQgOiB0aGlzLm9wdGlvbnMuaW5pdGlhbEVuZClcbiAgICB2YXIgaWQgPSB0aGlzLmlucHV0cy5lcShpZHgpLmF0dHIoJ2lkJykgfHwgR2V0WW9EaWdpdHMoNiwgJ3NsaWRlcicpO1xuICAgIHRoaXMuaW5wdXRzLmVxKGlkeCkuYXR0cih7XG4gICAgICAnaWQnOiBpZCxcbiAgICAgICdtYXgnOiB0aGlzLm9wdGlvbnMuZW5kLFxuICAgICAgJ21pbic6IHRoaXMub3B0aW9ucy5zdGFydCxcbiAgICAgICdzdGVwJzogdGhpcy5vcHRpb25zLnN0ZXBcbiAgICB9KTtcbiAgICB0aGlzLmlucHV0cy5lcShpZHgpLnZhbChpbml0VmFsKTtcbiAgICB0aGlzLmhhbmRsZXMuZXEoaWR4KS5hdHRyKHtcbiAgICAgICdyb2xlJzogJ3NsaWRlcicsXG4gICAgICAnYXJpYS1jb250cm9scyc6IGlkLFxuICAgICAgJ2FyaWEtdmFsdWVtYXgnOiB0aGlzLm9wdGlvbnMuZW5kLFxuICAgICAgJ2FyaWEtdmFsdWVtaW4nOiB0aGlzLm9wdGlvbnMuc3RhcnQsXG4gICAgICAnYXJpYS12YWx1ZW5vdyc6IGluaXRWYWwsXG4gICAgICAnYXJpYS1vcmllbnRhdGlvbic6IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCcsXG4gICAgICAndGFiaW5kZXgnOiAwXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaW5wdXQgYW5kIGBhcmlhLXZhbHVlbm93YCB2YWx1ZXMgZm9yIHRoZSBzbGlkZXIgZWxlbWVudC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkaGFuZGxlIC0gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBoYW5kbGUuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2YWwgLSBmbG9hdGluZyBwb2ludCBvZiB0aGUgbmV3IHZhbHVlLlxuICAgKi9cbiAgX3NldFZhbHVlcygkaGFuZGxlLCB2YWwpIHtcbiAgICB2YXIgaWR4ID0gdGhpcy5vcHRpb25zLmRvdWJsZVNpZGVkID8gdGhpcy5oYW5kbGVzLmluZGV4KCRoYW5kbGUpIDogMDtcbiAgICB0aGlzLmlucHV0cy5lcShpZHgpLnZhbCh2YWwpO1xuICAgICRoYW5kbGUuYXR0cignYXJpYS12YWx1ZW5vdycsIHZhbCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBldmVudHMgb24gdGhlIHNsaWRlciBlbGVtZW50LlxuICAgKiBDYWxjdWxhdGVzIHRoZSBuZXcgbG9jYXRpb24gb2YgdGhlIGN1cnJlbnQgaGFuZGxlLlxuICAgKiBJZiB0aGVyZSBhcmUgdHdvIGhhbmRsZXMgYW5kIHRoZSBiYXIgd2FzIGNsaWNrZWQsIGl0IGRldGVybWluZXMgd2hpY2ggaGFuZGxlIHRvIG1vdmUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gZSAtIHRoZSBgZXZlbnRgIG9iamVjdCBwYXNzZWQgZnJvbSB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkaGFuZGxlIC0gdGhlIGN1cnJlbnQgaGFuZGxlIHRvIGNhbGN1bGF0ZSBmb3IsIGlmIHNlbGVjdGVkLlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmFsIC0gZmxvYXRpbmcgcG9pbnQgbnVtYmVyIGZvciB0aGUgbmV3IHZhbHVlIG9mIHRoZSBzbGlkZXIuXG4gICAqIFRPRE8gY2xlYW4gdGhpcyB1cCwgdGhlcmUncyBhIGxvdCBvZiByZXBlYXRlZCBjb2RlIGJldHdlZW4gdGhpcyBhbmQgdGhlIF9zZXRIYW5kbGVQb3MgZm4uXG4gICAqL1xuICBfaGFuZGxlRXZlbnQoZSwgJGhhbmRsZSwgdmFsKSB7XG4gICAgdmFyIHZhbHVlO1xuICAgIGlmICghdmFsKSB7Ly9jbGljayBvciBkcmFnIGV2ZW50c1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgICB2ZXJ0aWNhbCA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCxcbiAgICAgICAgICBwYXJhbSA9IHZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnLFxuICAgICAgICAgIGRpcmVjdGlvbiA9IHZlcnRpY2FsID8gJ3RvcCcgOiAnbGVmdCcsXG4gICAgICAgICAgZXZlbnRPZmZzZXQgPSB2ZXJ0aWNhbCA/IGUucGFnZVkgOiBlLnBhZ2VYLFxuICAgICAgICAgIGJhckRpbSA9IHRoaXMuJGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbcGFyYW1dLFxuICAgICAgICAgIHdpbmRvd1Njcm9sbCA9IHZlcnRpY2FsID8gJCh3aW5kb3cpLnNjcm9sbFRvcCgpIDogJCh3aW5kb3cpLnNjcm9sbExlZnQoKTtcblxuICAgICAgdmFyIGVsZW1PZmZzZXQgPSB0aGlzLiRlbGVtZW50Lm9mZnNldCgpW2RpcmVjdGlvbl07XG5cbiAgICAgIC8vIHRvdWNoIGV2ZW50cyBlbXVsYXRlZCBieSB0aGUgdG91Y2ggdXRpbCBnaXZlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHNjcmVlbiwgYWRkIHdpbmRvdy5zY3JvbGwgdG8gZXZlbnQgY29vcmRpbmF0ZXMuLi5cbiAgICAgIC8vIGJlc3Qgd2F5IHRvIGd1ZXNzIHRoaXMgaXMgc2ltdWxhdGVkIGlzIGlmIGNsaWVudFkgPT0gcGFnZVlcbiAgICAgIGlmIChlLmNsaWVudFkgPT09IGUucGFnZVkpIHsgZXZlbnRPZmZzZXQgPSBldmVudE9mZnNldCArIHdpbmRvd1Njcm9sbDsgfVxuICAgICAgdmFyIGV2ZW50RnJvbUJhciA9IGV2ZW50T2Zmc2V0IC0gZWxlbU9mZnNldDtcbiAgICAgIHZhciBiYXJYWTtcbiAgICAgIGlmIChldmVudEZyb21CYXIgPCAwKSB7XG4gICAgICAgIGJhclhZID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnRGcm9tQmFyID4gYmFyRGltKSB7XG4gICAgICAgIGJhclhZID0gYmFyRGltO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFyWFkgPSBldmVudEZyb21CYXI7XG4gICAgICB9XG4gICAgICB2YXIgb2Zmc2V0UGN0ID0gcGVyY2VudChiYXJYWSwgYmFyRGltKTtcblxuICAgICAgdmFsdWUgPSB0aGlzLl92YWx1ZShvZmZzZXRQY3QpO1xuXG4gICAgICAvLyB0dXJuIGV2ZXJ5dGhpbmcgYXJvdW5kIGZvciBSVEwsIHlheSBtYXRoIVxuICAgICAgaWYgKFJ0bCgpICYmICF0aGlzLm9wdGlvbnMudmVydGljYWwpIHt2YWx1ZSA9IHRoaXMub3B0aW9ucy5lbmQgLSB2YWx1ZTt9XG5cbiAgICAgIHZhbHVlID0gX3RoaXMuX2FkanVzdFZhbHVlKG51bGwsIHZhbHVlKTtcblxuICAgICAgaWYgKCEkaGFuZGxlKSB7Ly9maWd1cmUgb3V0IHdoaWNoIGhhbmRsZSBpdCBpcywgcGFzcyBpdCB0byB0aGUgbmV4dCBmdW5jdGlvbi5cbiAgICAgICAgdmFyIGZpcnN0SG5kbFBvcyA9IGFic1Bvc2l0aW9uKHRoaXMuJGhhbmRsZSwgZGlyZWN0aW9uLCBiYXJYWSwgcGFyYW0pLFxuICAgICAgICAgICAgc2VjbmRIbmRsUG9zID0gYWJzUG9zaXRpb24odGhpcy4kaGFuZGxlMiwgZGlyZWN0aW9uLCBiYXJYWSwgcGFyYW0pO1xuICAgICAgICAgICAgJGhhbmRsZSA9IGZpcnN0SG5kbFBvcyA8PSBzZWNuZEhuZGxQb3MgPyB0aGlzLiRoYW5kbGUgOiB0aGlzLiRoYW5kbGUyO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHsvL2NoYW5nZSBldmVudCBvbiBpbnB1dFxuICAgICAgdmFsdWUgPSB0aGlzLl9hZGp1c3RWYWx1ZShudWxsLCB2YWwpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEhhbmRsZVBvcygkaGFuZGxlLCB2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQWRqdXN0ZXMgdmFsdWUgZm9yIGhhbmRsZSBpbiByZWdhcmQgdG8gc3RlcCB2YWx1ZS4gcmV0dXJucyBhZGp1c3RlZCB2YWx1ZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtqUXVlcnl9ICRoYW5kbGUgLSB0aGUgc2VsZWN0ZWQgaGFuZGxlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgLSB2YWx1ZSB0byBhZGp1c3QuIHVzZWQgaWYgJGhhbmRsZSBpcyBmYWxzeVxuICAgKi9cbiAgX2FkanVzdFZhbHVlKCRoYW5kbGUsIHZhbHVlKSB7XG4gICAgdmFyIHZhbCxcbiAgICAgIHN0ZXAgPSB0aGlzLm9wdGlvbnMuc3RlcCxcbiAgICAgIGRpdiA9IHBhcnNlRmxvYXQoc3RlcC8yKSxcbiAgICAgIGxlZnQsIHByZXZpb3VzVmFsLCBuZXh0VmFsO1xuICAgIGlmICghISRoYW5kbGUpIHtcbiAgICAgIHZhbCA9IHBhcnNlRmxvYXQoJGhhbmRsZS5hdHRyKCdhcmlhLXZhbHVlbm93JykpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhbCA9IHZhbHVlO1xuICAgIH1cbiAgICBpZiAodmFsID49IDApIHtcbiAgICAgIGxlZnQgPSB2YWwgJSBzdGVwO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZWZ0ID0gc3RlcCArICh2YWwgJSBzdGVwKTtcbiAgICB9XG4gICAgcHJldmlvdXNWYWwgPSB2YWwgLSBsZWZ0O1xuICAgIG5leHRWYWwgPSBwcmV2aW91c1ZhbCArIHN0ZXA7XG4gICAgaWYgKGxlZnQgPT09IDApIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHZhbCA9IHZhbCA+PSBwcmV2aW91c1ZhbCArIGRpdiA/IG5leHRWYWwgOiBwcmV2aW91c1ZhbDtcbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBzbGlkZXIgZWxlbWVudHMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2V2ZW50cygpIHtcbiAgICB0aGlzLl9ldmVudHNGb3JIYW5kbGUodGhpcy4kaGFuZGxlKTtcbiAgICBpZih0aGlzLmhhbmRsZXNbMV0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c0ZvckhhbmRsZSh0aGlzLiRoYW5kbGUyKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50IGxpc3RlbmVycyBhIHBhcnRpY3VsYXIgaGFuZGxlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGhhbmRsZSAtIHRoZSBjdXJyZW50IGhhbmRsZSB0byBhcHBseSBsaXN0ZW5lcnMgdG8uXG4gICAqL1xuICBfZXZlbnRzRm9ySGFuZGxlKCRoYW5kbGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBjdXJIYW5kbGU7XG5cbiAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZUV2ZW50ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBjb25zdCBpZHggPSBfdGhpcy5pbnB1dHMuaW5kZXgoJCh0aGlzKSk7XG4gICAgICAgIF90aGlzLl9oYW5kbGVFdmVudChlLCBfdGhpcy5oYW5kbGVzLmVxKGlkeCksICQodGhpcykudmFsKCkpO1xuICAgICAgfTtcblxuICAgICAgLy8gSUUgb25seSB0cmlnZ2VycyB0aGUgY2hhbmdlIGV2ZW50IHdoZW4gdGhlIGlucHV0IGxvc2VzIGZvY3VzIHdoaWNoIHN0cmljdGx5IGZvbGxvd3MgdGhlIEhUTUwgc3BlY2lmaWNhdGlvblxuICAgICAgLy8gbGlzdGVuIGZvciB0aGUgZW50ZXIga2V5IGFuZCB0cmlnZ2VyIGEgY2hhbmdlXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2lucHV0Lmh0bWwjY29tbW9uLWlucHV0LWVsZW1lbnQtZXZlbnRzXG4gICAgICB0aGlzLmlucHV0cy5vZmYoJ2tleXVwLnpmLnNsaWRlcicpLm9uKCdrZXl1cC56Zi5zbGlkZXInLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZihlLmtleUNvZGUgPT09IDEzKSBoYW5kbGVDaGFuZ2VFdmVudC5jYWxsKHRoaXMsIGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuaW5wdXRzLm9mZignY2hhbmdlLnpmLnNsaWRlcicpLm9uKCdjaGFuZ2UuemYuc2xpZGVyJywgaGFuZGxlQ2hhbmdlRXZlbnQpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmNsaWNrU2VsZWN0KSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdjbGljay56Zi5zbGlkZXInKS5vbignY2xpY2suemYuc2xpZGVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGlmIChfdGhpcy4kZWxlbWVudC5kYXRhKCdkcmFnZ2luZycpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgaWYgKCEkKGUudGFyZ2V0KS5pcygnW2RhdGEtc2xpZGVyLWhhbmRsZV0nKSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuZG91YmxlU2lkZWQpIHtcbiAgICAgICAgICAgICAgX3RoaXMuX2hhbmRsZUV2ZW50KGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuX2hhbmRsZUV2ZW50KGUsIF90aGlzLiRoYW5kbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRyYWdnYWJsZSkge1xuICAgICAgdGhpcy5oYW5kbGVzLmFkZFRvdWNoKCk7XG5cbiAgICAgIHZhciAkYm9keSA9ICQoJ2JvZHknKTtcbiAgICAgICRoYW5kbGVcbiAgICAgICAgLm9mZignbW91c2Vkb3duLnpmLnNsaWRlcicpXG4gICAgICAgIC5vbignbW91c2Vkb3duLnpmLnNsaWRlcicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAkaGFuZGxlLmFkZENsYXNzKCdpcy1kcmFnZ2luZycpO1xuICAgICAgICAgIF90aGlzLiRmaWxsLmFkZENsYXNzKCdpcy1kcmFnZ2luZycpOy8vXG4gICAgICAgICAgX3RoaXMuJGVsZW1lbnQuZGF0YSgnZHJhZ2dpbmcnLCB0cnVlKTtcblxuICAgICAgICAgIGN1ckhhbmRsZSA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAgICAgICAgICRib2R5Lm9uKCdtb3VzZW1vdmUuemYuc2xpZGVyJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBfdGhpcy5faGFuZGxlRXZlbnQoZXYsIGN1ckhhbmRsZSk7XG5cbiAgICAgICAgICB9KS5vbignbW91c2V1cC56Zi5zbGlkZXInLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgX3RoaXMuX2hhbmRsZUV2ZW50KGV2LCBjdXJIYW5kbGUpO1xuXG4gICAgICAgICAgICAkaGFuZGxlLnJlbW92ZUNsYXNzKCdpcy1kcmFnZ2luZycpO1xuICAgICAgICAgICAgX3RoaXMuJGZpbGwucmVtb3ZlQ2xhc3MoJ2lzLWRyYWdnaW5nJyk7XG4gICAgICAgICAgICBfdGhpcy4kZWxlbWVudC5kYXRhKCdkcmFnZ2luZycsIGZhbHNlKTtcblxuICAgICAgICAgICAgJGJvZHkub2ZmKCdtb3VzZW1vdmUuemYuc2xpZGVyIG1vdXNldXAuemYuc2xpZGVyJyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLy8gcHJldmVudCBldmVudHMgdHJpZ2dlcmVkIGJ5IHRvdWNoXG4gICAgICAub24oJ3NlbGVjdHN0YXJ0LnpmLnNsaWRlciB0b3VjaG1vdmUuemYuc2xpZGVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkaGFuZGxlLm9mZigna2V5ZG93bi56Zi5zbGlkZXInKS5vbigna2V5ZG93bi56Zi5zbGlkZXInLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgXyRoYW5kbGUgPSAkKHRoaXMpLFxuICAgICAgICAgIGlkeCA9IF90aGlzLm9wdGlvbnMuZG91YmxlU2lkZWQgPyBfdGhpcy5oYW5kbGVzLmluZGV4KF8kaGFuZGxlKSA6IDAsXG4gICAgICAgICAgb2xkVmFsdWUgPSBwYXJzZUZsb2F0KCRoYW5kbGUuYXR0cignYXJpYS12YWx1ZW5vdycpKSxcbiAgICAgICAgICBuZXdWYWx1ZTtcblxuICAgICAgLy8gaGFuZGxlIGtleWJvYXJkIGV2ZW50IHdpdGgga2V5Ym9hcmQgdXRpbFxuICAgICAgS2V5Ym9hcmQuaGFuZGxlS2V5KGUsICdTbGlkZXInLCB7XG4gICAgICAgIGRlY3JlYXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9sZFZhbHVlIC0gX3RoaXMub3B0aW9ucy5zdGVwO1xuICAgICAgICB9LFxuICAgICAgICBpbmNyZWFzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvbGRWYWx1ZSArIF90aGlzLm9wdGlvbnMuc3RlcDtcbiAgICAgICAgfSxcbiAgICAgICAgZGVjcmVhc2VGYXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9sZFZhbHVlIC0gX3RoaXMub3B0aW9ucy5zdGVwICogMTA7XG4gICAgICAgIH0sXG4gICAgICAgIGluY3JlYXNlRmFzdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvbGRWYWx1ZSArIF90aGlzLm9wdGlvbnMuc3RlcCAqIDEwO1xuICAgICAgICB9LFxuICAgICAgICBtaW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gX3RoaXMub3B0aW9ucy5zdGFydDtcbiAgICAgICAgfSxcbiAgICAgICAgbWF4OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IF90aGlzLm9wdGlvbnMuZW5kO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVkOiBmdW5jdGlvbigpIHsgLy8gb25seSBzZXQgaGFuZGxlIHBvcyB3aGVuIGV2ZW50IHdhcyBoYW5kbGVkIHNwZWNpYWxseVxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfdGhpcy5fc2V0SGFuZGxlUG9zKF8kaGFuZGxlLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLyppZiAobmV3VmFsdWUpIHsgLy8gaWYgcHJlc3NlZCBrZXkgaGFzIHNwZWNpYWwgZnVuY3Rpb24sIHVwZGF0ZSB2YWx1ZVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIF90aGlzLl9zZXRIYW5kbGVQb3MoXyRoYW5kbGUsIG5ld1ZhbHVlKTtcbiAgICAgIH0qL1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSBzbGlkZXIgcGx1Z2luLlxuICAgKi9cbiAgX2Rlc3Ryb3koKSB7XG4gICAgdGhpcy5oYW5kbGVzLm9mZignLnpmLnNsaWRlcicpO1xuICAgIHRoaXMuaW5wdXRzLm9mZignLnpmLnNsaWRlcicpO1xuICAgIHRoaXMuJGVsZW1lbnQub2ZmKCcuemYuc2xpZGVyJyk7XG5cbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgfVxufVxuXG5TbGlkZXIuZGVmYXVsdHMgPSB7XG4gIC8qKlxuICAgKiBNaW5pbXVtIHZhbHVlIGZvciB0aGUgc2xpZGVyIHNjYWxlLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIHN0YXJ0OiAwLFxuICAvKipcbiAgICogTWF4aW11bSB2YWx1ZSBmb3IgdGhlIHNsaWRlciBzY2FsZS5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxMDBcbiAgICovXG4gIGVuZDogMTAwLFxuICAvKipcbiAgICogTWluaW11bSB2YWx1ZSBjaGFuZ2UgcGVyIGNoYW5nZSBldmVudC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICBzdGVwOiAxLFxuICAvKipcbiAgICogVmFsdWUgYXQgd2hpY2ggdGhlIGhhbmRsZS9pbnB1dCAqKGxlZnQgaGFuZGxlL2ZpcnN0IGlucHV0KSogc2hvdWxkIGJlIHNldCB0byBvbiBpbml0aWFsaXphdGlvbi5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBpbml0aWFsU3RhcnQ6IDAsXG4gIC8qKlxuICAgKiBWYWx1ZSBhdCB3aGljaCB0aGUgcmlnaHQgaGFuZGxlL3NlY29uZCBpbnB1dCBzaG91bGQgYmUgc2V0IHRvIG9uIGluaXRpYWxpemF0aW9uLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDEwMFxuICAgKi9cbiAgaW5pdGlhbEVuZDogMTAwLFxuICAvKipcbiAgICogQWxsb3dzIHRoZSBpbnB1dCB0byBiZSBsb2NhdGVkIG91dHNpZGUgdGhlIGNvbnRhaW5lciBhbmQgdmlzaWJsZS4gU2V0IHRvIGJ5IHRoZSBKU1xuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYmluZGluZzogZmFsc2UsXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHVzZXIgdG8gY2xpY2svdGFwIG9uIHRoZSBzbGlkZXIgYmFyIHRvIHNlbGVjdCBhIHZhbHVlLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBjbGlja1NlbGVjdDogdHJ1ZSxcbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIGFuZCB1c2UgdGhlIGB2ZXJ0aWNhbGAgY2xhc3MgdG8gY2hhbmdlIGFsaWdubWVudCB0byB2ZXJ0aWNhbC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHZlcnRpY2FsOiBmYWxzZSxcbiAgLyoqXG4gICAqIEFsbG93cyB0aGUgdXNlciB0byBkcmFnIHRoZSBzbGlkZXIgaGFuZGxlKHMpIHRvIHNlbGVjdCBhIHZhbHVlLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBkcmFnZ2FibGU6IHRydWUsXG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgc2xpZGVyIGFuZCBwcmV2ZW50cyBldmVudCBsaXN0ZW5lcnMgZnJvbSBiZWluZyBhcHBsaWVkLiBEb3VibGUgY2hlY2tlZCBieSBKUyB3aXRoIGBkaXNhYmxlZENsYXNzYC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgLyoqXG4gICAqIEFsbG93cyB0aGUgdXNlIG9mIHR3byBoYW5kbGVzLiBEb3VibGUgY2hlY2tlZCBieSB0aGUgSlMuIENoYW5nZXMgc29tZSBsb2dpYyBoYW5kbGluZy5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRvdWJsZVNpZGVkOiBmYWxzZSxcbiAgLyoqXG4gICAqIFBvdGVudGlhbCBmdXR1cmUgZmVhdHVyZS5cbiAgICovXG4gIC8vIHN0ZXBzOiAxMDAsXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdGhlIHBsdWdpbiBzaG91bGQgZ28gdG8gZm9yIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbi5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAyXG4gICAqL1xuICBkZWNpbWFsOiAyLFxuICAvKipcbiAgICogVGltZSBkZWxheSBmb3IgZHJhZ2dlZCBlbGVtZW50cy5cbiAgICovXG4gIC8vIGRyYWdEZWxheTogMCxcbiAgLyoqXG4gICAqIFRpbWUsIGluIG1zLCB0byBhbmltYXRlIHRoZSBtb3ZlbWVudCBvZiBhIHNsaWRlciBoYW5kbGUgaWYgdXNlciBjbGlja3MvdGFwcyBvbiB0aGUgYmFyLiBOZWVkcyB0byBiZSBtYW51YWxseSBzZXQgaWYgdXBkYXRpbmcgdGhlIHRyYW5zaXRpb24gdGltZSBpbiB0aGUgU2FzcyBzZXR0aW5ncy5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAyMDBcbiAgICovXG4gIG1vdmVUaW1lOiAyMDAsLy91cGRhdGUgdGhpcyBpZiBjaGFuZ2luZyB0aGUgdHJhbnNpdGlvbiB0aW1lIGluIHRoZSBzYXNzXG4gIC8qKlxuICAgKiBDbGFzcyBhcHBsaWVkIHRvIGRpc2FibGVkIHNsaWRlcnMuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJ2Rpc2FibGVkJ1xuICAgKi9cbiAgZGlzYWJsZWRDbGFzczogJ2Rpc2FibGVkJyxcbiAgLyoqXG4gICAqIFdpbGwgaW52ZXJ0IHRoZSBkZWZhdWx0IGxheW91dCBmb3IgYSB2ZXJ0aWNhbDxzcGFuIGRhdGEtdG9vbHRpcCB0aXRsZT1cIndobyB3b3VsZCBkbyB0aGlzPz8/XCI+IDwvc3Bhbj5zbGlkZXIuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBpbnZlcnRWZXJ0aWNhbDogZmFsc2UsXG4gIC8qKlxuICAgKiBNaWxsaXNlY29uZHMgYmVmb3JlIHRoZSBgY2hhbmdlZC56Zi1zbGlkZXJgIGV2ZW50IGlzIHRyaWdnZXJlZCBhZnRlciB2YWx1ZSBjaGFuZ2UuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgNTAwXG4gICAqL1xuICBjaGFuZ2VkRGVsYXk6IDUwMCxcbiAgLyoqXG4gICogQmFzZXZhbHVlIGZvciBub24tbGluZWFyIHNsaWRlcnNcbiAgKiBAb3B0aW9uXG4gICogQHR5cGUge251bWJlcn1cbiAgKiBAZGVmYXVsdCA1XG4gICovXG4gIG5vbkxpbmVhckJhc2U6IDUsXG4gIC8qKlxuICAqIEJhc2V2YWx1ZSBmb3Igbm9uLWxpbmVhciBzbGlkZXJzLCBwb3NzaWJsZSB2YWx1ZXMgYXJlOiBgJ2xpbmVhcidgLCBgJ3BvdydgICYgYCdsb2cnYC4gUG93IGFuZCBMb2cgdXNlIHRoZSBub25MaW5lYXJCYXNlIHNldHRpbmcuXG4gICogQG9wdGlvblxuICAqIEB0eXBlIHtzdHJpbmd9XG4gICogQGRlZmF1bHQgJ2xpbmVhcidcbiAgKi9cbiAgcG9zaXRpb25WYWx1ZUZ1bmN0aW9uOiAnbGluZWFyJyxcbn07XG5cbmZ1bmN0aW9uIHBlcmNlbnQoZnJhYywgbnVtKSB7XG4gIHJldHVybiAoZnJhYyAvIG51bSk7XG59XG5mdW5jdGlvbiBhYnNQb3NpdGlvbigkaGFuZGxlLCBkaXIsIGNsaWNrUG9zLCBwYXJhbSkge1xuICByZXR1cm4gTWF0aC5hYnMoKCRoYW5kbGUucG9zaXRpb24oKVtkaXJdICsgKCRoYW5kbGVbcGFyYW1dKCkgLyAyKSkgLSBjbGlja1Bvcyk7XG59XG5mdW5jdGlvbiBiYXNlTG9nKGJhc2UsIHZhbHVlKSB7XG4gIHJldHVybiBNYXRoLmxvZyh2YWx1ZSkvTWF0aC5sb2coYmFzZSlcbn1cblxuZXhwb3J0IHtTbGlkZXJ9O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IFBsdWdpbiB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnBsdWdpbic7XG5pbXBvcnQgeyBvbkxvYWQsIEdldFlvRGlnaXRzIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUudXRpbHMnO1xuaW1wb3J0IHsgTWVkaWFRdWVyeSB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLm1lZGlhUXVlcnknO1xuaW1wb3J0IHsgVHJpZ2dlcnMgfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC50cmlnZ2Vycyc7XG5cbi8qKlxuICogU3RpY2t5IG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi5zdGlja3lcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwudHJpZ2dlcnNcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwubWVkaWFRdWVyeVxuICovXG5cbmNsYXNzIFN0aWNreSBleHRlbmRzIFBsdWdpbiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIGEgc3RpY2t5IHRoaW5nLlxuICAgKiBAY2xhc3NcbiAgICogQG5hbWUgU3RpY2t5XG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCB0byBtYWtlIHN0aWNreS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIG9iamVjdCBwYXNzZWQgd2hlbiBjcmVhdGluZyB0aGUgZWxlbWVudCBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKi9cbiAgX3NldHVwKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgU3RpY2t5LmRlZmF1bHRzLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucyk7XG4gICAgdGhpcy5jbGFzc05hbWUgPSAnU3RpY2t5JzsgLy8gaWU5IGJhY2sgY29tcGF0XG5cbiAgICAvLyBUcmlnZ2VycyBpbml0IGlzIGlkZW1wb3RlbnQsIGp1c3QgbmVlZCB0byBtYWtlIHN1cmUgaXQgaXMgaW5pdGlhbGl6ZWRcbiAgICBUcmlnZ2Vycy5pbml0KCQpO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBzdGlja3kgZWxlbWVudCBieSBhZGRpbmcgY2xhc3NlcywgZ2V0dGluZy9zZXR0aW5nIGRpbWVuc2lvbnMsIGJyZWFrcG9pbnRzIGFuZCBhdHRyaWJ1dGVzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgTWVkaWFRdWVyeS5faW5pdCgpO1xuXG4gICAgdmFyICRwYXJlbnQgPSB0aGlzLiRlbGVtZW50LnBhcmVudCgnW2RhdGEtc3RpY2t5LWNvbnRhaW5lcl0nKSxcbiAgICAgICAgaWQgPSB0aGlzLiRlbGVtZW50WzBdLmlkIHx8IEdldFlvRGlnaXRzKDYsICdzdGlja3knKSxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYoJHBhcmVudC5sZW5ndGgpe1xuICAgICAgdGhpcy4kY29udGFpbmVyID0gJHBhcmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53YXNXcmFwcGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuJGVsZW1lbnQud3JhcCh0aGlzLm9wdGlvbnMuY29udGFpbmVyKTtcbiAgICAgIHRoaXMuJGNvbnRhaW5lciA9IHRoaXMuJGVsZW1lbnQucGFyZW50KCk7XG4gICAgfVxuICAgIHRoaXMuJGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY29udGFpbmVyQ2xhc3MpO1xuXG4gICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuc3RpY2t5Q2xhc3MpLmF0dHIoeyAnZGF0YS1yZXNpemUnOiBpZCwgJ2RhdGEtbXV0YXRlJzogaWQgfSk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbmNob3IgIT09ICcnKSB7XG4gICAgICAgICQoJyMnICsgX3RoaXMub3B0aW9ucy5hbmNob3IpLmF0dHIoeyAnZGF0YS1tdXRhdGUnOiBpZCB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnNjcm9sbENvdW50ID0gdGhpcy5vcHRpb25zLmNoZWNrRXZlcnk7XG4gICAgdGhpcy5pc1N0dWNrID0gZmFsc2U7XG4gICAgdGhpcy5vbkxvYWRMaXN0ZW5lciA9IG9uTG9hZCgkKHdpbmRvdyksIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vV2UgY2FsY3VsYXRlIHRoZSBjb250YWluZXIgaGVpZ2h0IHRvIGhhdmUgY29ycmVjdCB2YWx1ZXMgZm9yIGFuY2hvciBwb2ludHMgb2Zmc2V0IGNhbGN1bGF0aW9uLlxuICAgICAgX3RoaXMuY29udGFpbmVySGVpZ2h0ID0gX3RoaXMuJGVsZW1lbnQuY3NzKFwiZGlzcGxheVwiKSA9PT0gXCJub25lXCIgPyAwIDogX3RoaXMuJGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgX3RoaXMuJGNvbnRhaW5lci5jc3MoJ2hlaWdodCcsIF90aGlzLmNvbnRhaW5lckhlaWdodCk7XG4gICAgICBfdGhpcy5lbGVtSGVpZ2h0ID0gX3RoaXMuY29udGFpbmVySGVpZ2h0O1xuICAgICAgaWYgKF90aGlzLm9wdGlvbnMuYW5jaG9yICE9PSAnJykge1xuICAgICAgICBfdGhpcy4kYW5jaG9yID0gJCgnIycgKyBfdGhpcy5vcHRpb25zLmFuY2hvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5fcGFyc2VQb2ludHMoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX3NldFNpemVzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjcm9sbCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgX3RoaXMuX2NhbGMoZmFsc2UsIHNjcm9sbCk7XG4gICAgICAgIC8vVW5zdGljayB0aGUgZWxlbWVudCB3aWxsIGVuc3VyZSB0aGF0IHByb3BlciBjbGFzc2VzIGFyZSBzZXQuXG4gICAgICAgIGlmICghX3RoaXMuaXNTdHVjaykge1xuICAgICAgICAgIF90aGlzLl9yZW1vdmVTdGlja3koKHNjcm9sbCA+PSBfdGhpcy50b3BQb2ludCkgPyBmYWxzZSA6IHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIF90aGlzLl9ldmVudHMoaWQuc3BsaXQoJy0nKS5yZXZlcnNlKCkuam9pbignLScpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB1c2luZyBtdWx0aXBsZSBlbGVtZW50cyBhcyBhbmNob3JzLCBjYWxjdWxhdGVzIHRoZSB0b3AgYW5kIGJvdHRvbSBwaXhlbCB2YWx1ZXMgdGhlIHN0aWNreSB0aGluZyBzaG91bGQgc3RpY2sgYW5kIHVuc3RpY2sgb24uXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3BhcnNlUG9pbnRzKCkge1xuICAgIHZhciB0b3AgPSB0aGlzLm9wdGlvbnMudG9wQW5jaG9yID09PSBcIlwiID8gMSA6IHRoaXMub3B0aW9ucy50b3BBbmNob3IsXG4gICAgICAgIGJ0bSA9IHRoaXMub3B0aW9ucy5idG1BbmNob3IgPT09IFwiXCIgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IDogdGhpcy5vcHRpb25zLmJ0bUFuY2hvcixcbiAgICAgICAgcHRzID0gW3RvcCwgYnRtXSxcbiAgICAgICAgYnJlYWtzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHB0cy5sZW5ndGg7IGkgPCBsZW4gJiYgcHRzW2ldOyBpKyspIHtcbiAgICAgIHZhciBwdDtcbiAgICAgIGlmICh0eXBlb2YgcHRzW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICBwdCA9IHB0c1tpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwbGFjZSA9IHB0c1tpXS5zcGxpdCgnOicpLFxuICAgICAgICAgICAgYW5jaG9yID0gJChgIyR7cGxhY2VbMF19YCk7XG5cbiAgICAgICAgcHQgPSBhbmNob3Iub2Zmc2V0KCkudG9wO1xuICAgICAgICBpZiAocGxhY2VbMV0gJiYgcGxhY2VbMV0udG9Mb3dlckNhc2UoKSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICBwdCArPSBhbmNob3JbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVha3NbaV0gPSBwdDtcbiAgICB9XG5cblxuICAgIHRoaXMucG9pbnRzID0gYnJlYWtzO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgc2Nyb2xsaW5nIGVsZW1lbnQuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHBzZXVkby1yYW5kb20gaWQgZm9yIHVuaXF1ZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIuXG4gICAqL1xuICBfZXZlbnRzKGlkKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgc2Nyb2xsTGlzdGVuZXIgPSB0aGlzLnNjcm9sbExpc3RlbmVyID0gYHNjcm9sbC56Zi4ke2lkfWA7XG4gICAgaWYgKHRoaXMuaXNPbikgeyByZXR1cm47IH1cbiAgICBpZiAodGhpcy5jYW5TdGljaykge1xuICAgICAgdGhpcy5pc09uID0gdHJ1ZTtcbiAgICAgICQod2luZG93KS5vZmYoc2Nyb2xsTGlzdGVuZXIpXG4gICAgICAgICAgICAgICAub24oc2Nyb2xsTGlzdGVuZXIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc2Nyb2xsQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICBfdGhpcy5zY3JvbGxDb3VudCA9IF90aGlzLm9wdGlvbnMuY2hlY2tFdmVyeTtcbiAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2V0U2l6ZXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY2FsYyhmYWxzZSwgd2luZG93LnBhZ2VZT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICBfdGhpcy5zY3JvbGxDb3VudC0tO1xuICAgICAgICAgICAgICAgICAgIF90aGlzLl9jYWxjKGZhbHNlLCB3aW5kb3cucGFnZVlPZmZzZXQpO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdyZXNpemVtZS56Zi50cmlnZ2VyJylcbiAgICAgICAgICAgICAgICAgLm9uKCdyZXNpemVtZS56Zi50cmlnZ2VyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9ldmVudHNIYW5kbGVyKGlkKTtcbiAgICB9KTtcblxuICAgIHRoaXMuJGVsZW1lbnQub24oJ211dGF0ZW1lLnpmLnRyaWdnZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLl9ldmVudHNIYW5kbGVyKGlkKTtcbiAgICB9KTtcblxuICAgIGlmKHRoaXMuJGFuY2hvcikge1xuICAgICAgdGhpcy4kYW5jaG9yLm9uKCdtdXRhdGVtZS56Zi50cmlnZ2VyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLl9ldmVudHNIYW5kbGVyKGlkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVyIGZvciBldmVudHMuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHBzZXVkby1yYW5kb20gaWQgZm9yIHVuaXF1ZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIuXG4gICAqL1xuICBfZXZlbnRzSGFuZGxlcihpZCkge1xuICAgICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgIHNjcm9sbExpc3RlbmVyID0gdGhpcy5zY3JvbGxMaXN0ZW5lciA9IGBzY3JvbGwuemYuJHtpZH1gO1xuXG4gICAgICAgX3RoaXMuX3NldFNpemVzKGZ1bmN0aW9uKCkge1xuICAgICAgIF90aGlzLl9jYWxjKGZhbHNlKTtcbiAgICAgICBpZiAoX3RoaXMuY2FuU3RpY2spIHtcbiAgICAgICAgIGlmICghX3RoaXMuaXNPbikge1xuICAgICAgICAgICBfdGhpcy5fZXZlbnRzKGlkKTtcbiAgICAgICAgIH1cbiAgICAgICB9IGVsc2UgaWYgKF90aGlzLmlzT24pIHtcbiAgICAgICAgIF90aGlzLl9wYXVzZUxpc3RlbmVycyhzY3JvbGxMaXN0ZW5lcik7XG4gICAgICAgfVxuICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXJzIGZvciBzY3JvbGwgYW5kIGNoYW5nZSBldmVudHMgb24gYW5jaG9yLlxuICAgKiBAZmlyZXMgU3RpY2t5I3BhdXNlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzY3JvbGxMaXN0ZW5lciAtIHVuaXF1ZSwgbmFtZXNwYWNlZCBzY3JvbGwgbGlzdGVuZXIgYXR0YWNoZWQgdG8gYHdpbmRvd2BcbiAgICovXG4gIF9wYXVzZUxpc3RlbmVycyhzY3JvbGxMaXN0ZW5lcikge1xuICAgIHRoaXMuaXNPbiA9IGZhbHNlO1xuICAgICQod2luZG93KS5vZmYoc2Nyb2xsTGlzdGVuZXIpO1xuXG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgcGx1Z2luIGlzIHBhdXNlZCBkdWUgdG8gcmVzaXplIGV2ZW50IHNocmlua2luZyB0aGUgdmlldy5cbiAgICAgKiBAZXZlbnQgU3RpY2t5I3BhdXNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdwYXVzZS56Zi5zdGlja3knKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgb24gZXZlcnkgYHNjcm9sbGAgZXZlbnQgYW5kIG9uIGBfaW5pdGBcbiAgICogZmlyZXMgZnVuY3Rpb25zIGJhc2VkIG9uIGJvb2xlYW5zIGFuZCBjYWNoZWQgdmFsdWVzXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gY2hlY2tTaXplcyAtIHRydWUgaWYgcGx1Z2luIHNob3VsZCByZWNhbGN1bGF0ZSBzaXplcyBhbmQgYnJlYWtwb2ludHMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY3JvbGwgLSBjdXJyZW50IHNjcm9sbCBwb3NpdGlvbiBwYXNzZWQgZnJvbSBzY3JvbGwgZXZlbnQgY2IgZnVuY3Rpb24uIElmIG5vdCBwYXNzZWQsIGRlZmF1bHRzIHRvIGB3aW5kb3cucGFnZVlPZmZzZXRgLlxuICAgKi9cbiAgX2NhbGMoY2hlY2tTaXplcywgc2Nyb2xsKSB7XG4gICAgaWYgKGNoZWNrU2l6ZXMpIHsgdGhpcy5fc2V0U2l6ZXMoKTsgfVxuXG4gICAgaWYgKCF0aGlzLmNhblN0aWNrKSB7XG4gICAgICBpZiAodGhpcy5pc1N0dWNrKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVN0aWNreSh0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXNjcm9sbCkgeyBzY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQ7IH1cblxuICAgIGlmIChzY3JvbGwgPj0gdGhpcy50b3BQb2ludCkge1xuICAgICAgaWYgKHNjcm9sbCA8PSB0aGlzLmJvdHRvbVBvaW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0dWNrKSB7XG4gICAgICAgICAgdGhpcy5fc2V0U3RpY2t5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3R1Y2spIHtcbiAgICAgICAgICB0aGlzLl9yZW1vdmVTdGlja3koZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmlzU3R1Y2spIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlU3RpY2t5KHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYXVzZXMgdGhlICRlbGVtZW50IHRvIGJlY29tZSBzdHVjay5cbiAgICogQWRkcyBgcG9zaXRpb246IGZpeGVkO2AsIGFuZCBoZWxwZXIgY2xhc3Nlcy5cbiAgICogQGZpcmVzIFN0aWNreSNzdHVja3RvXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFN0aWNreSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBzdGlja1RvID0gdGhpcy5vcHRpb25zLnN0aWNrVG8sXG4gICAgICAgIG1yZ24gPSBzdGlja1RvID09PSAndG9wJyA/ICdtYXJnaW5Ub3AnIDogJ21hcmdpbkJvdHRvbScsXG4gICAgICAgIG5vdFN0dWNrVG8gPSBzdGlja1RvID09PSAndG9wJyA/ICdib3R0b20nIDogJ3RvcCcsXG4gICAgICAgIGNzcyA9IHt9O1xuXG4gICAgY3NzW21yZ25dID0gYCR7dGhpcy5vcHRpb25zW21yZ25dfWVtYDtcbiAgICBjc3Nbc3RpY2tUb10gPSAwO1xuICAgIGNzc1tub3RTdHVja1RvXSA9ICdhdXRvJztcbiAgICB0aGlzLmlzU3R1Y2sgPSB0cnVlO1xuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoYGlzLWFuY2hvcmVkIGlzLWF0LSR7bm90U3R1Y2tUb31gKVxuICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoYGlzLXN0dWNrIGlzLWF0LSR7c3RpY2tUb31gKVxuICAgICAgICAgICAgICAgICAuY3NzKGNzcylcbiAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAqIEZpcmVzIHdoZW4gdGhlICRlbGVtZW50IGhhcyBiZWNvbWUgYHBvc2l0aW9uOiBmaXhlZDtgXG4gICAgICAgICAgICAgICAgICAqIE5hbWVzcGFjZWQgdG8gYHRvcGAgb3IgYGJvdHRvbWAsIGUuZy4gYHN0aWNreS56Zi5zdHVja3RvOnRvcGBcbiAgICAgICAgICAgICAgICAgICogQGV2ZW50IFN0aWNreSNzdHVja3RvXG4gICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAudHJpZ2dlcihgc3RpY2t5LnpmLnN0dWNrdG86JHtzdGlja1RvfWApO1xuICAgIHRoaXMuJGVsZW1lbnQub24oXCJ0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQgTVNUcmFuc2l0aW9uRW5kXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgX3RoaXMuX3NldFNpemVzKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2F1c2VzIHRoZSAkZWxlbWVudCB0byBiZWNvbWUgdW5zdHVjay5cbiAgICogUmVtb3ZlcyBgcG9zaXRpb246IGZpeGVkO2AsIGFuZCBoZWxwZXIgY2xhc3Nlcy5cbiAgICogQWRkcyBvdGhlciBoZWxwZXIgY2xhc3Nlcy5cbiAgICogQHBhcmFtIHtCb29sZWFufSBpc1RvcCAtIHRlbGxzIHRoZSBmdW5jdGlvbiBpZiB0aGUgJGVsZW1lbnQgc2hvdWxkIGFuY2hvciB0byB0aGUgdG9wIG9yIGJvdHRvbSBvZiBpdHMgJGFuY2hvciBlbGVtZW50LlxuICAgKiBAZmlyZXMgU3RpY2t5I3Vuc3R1Y2tmcm9tXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVtb3ZlU3RpY2t5KGlzVG9wKSB7XG4gICAgdmFyIHN0aWNrVG8gPSB0aGlzLm9wdGlvbnMuc3RpY2tUbyxcbiAgICAgICAgc3RpY2tUb1RvcCA9IHN0aWNrVG8gPT09ICd0b3AnLFxuICAgICAgICBjc3MgPSB7fSxcbiAgICAgICAgYW5jaG9yUHQgPSAodGhpcy5wb2ludHMgPyB0aGlzLnBvaW50c1sxXSAtIHRoaXMucG9pbnRzWzBdIDogdGhpcy5hbmNob3JIZWlnaHQpIC0gdGhpcy5lbGVtSGVpZ2h0LFxuICAgICAgICBtcmduID0gc3RpY2tUb1RvcCA/ICdtYXJnaW5Ub3AnIDogJ21hcmdpbkJvdHRvbScsXG4gICAgICAgIHRvcE9yQm90dG9tID0gaXNUb3AgPyAndG9wJyA6ICdib3R0b20nO1xuXG4gICAgY3NzW21yZ25dID0gMDtcblxuICAgIGNzcy5ib3R0b20gPSAnYXV0byc7XG4gICAgaWYoaXNUb3ApIHtcbiAgICAgIGNzcy50b3AgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBjc3MudG9wID0gYW5jaG9yUHQ7XG4gICAgfVxuXG4gICAgdGhpcy5pc1N0dWNrID0gZmFsc2U7XG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhgaXMtc3R1Y2sgaXMtYXQtJHtzdGlja1RvfWApXG4gICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhgaXMtYW5jaG9yZWQgaXMtYXQtJHt0b3BPckJvdHRvbX1gKVxuICAgICAgICAgICAgICAgICAuY3NzKGNzcylcbiAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAqIEZpcmVzIHdoZW4gdGhlICRlbGVtZW50IGhhcyBiZWNvbWUgYW5jaG9yZWQuXG4gICAgICAgICAgICAgICAgICAqIE5hbWVzcGFjZWQgdG8gYHRvcGAgb3IgYGJvdHRvbWAsIGUuZy4gYHN0aWNreS56Zi51bnN0dWNrZnJvbTpib3R0b21gXG4gICAgICAgICAgICAgICAgICAqIEBldmVudCBTdGlja3kjdW5zdHVja2Zyb21cbiAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgIC50cmlnZ2VyKGBzdGlja3kuemYudW5zdHVja2Zyb206JHt0b3BPckJvdHRvbX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSAkZWxlbWVudCBhbmQgJGNvbnRhaW5lciBzaXplcyBmb3IgcGx1Z2luLlxuICAgKiBDYWxscyBgX3NldEJyZWFrUG9pbnRzYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBvcHRpb25hbCBjYWxsYmFjayBmdW5jdGlvbiB0byBmaXJlIG9uIGNvbXBsZXRpb24gb2YgYF9zZXRCcmVha1BvaW50c2AuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0U2l6ZXMoY2IpIHtcbiAgICB0aGlzLmNhblN0aWNrID0gTWVkaWFRdWVyeS5pcyh0aGlzLm9wdGlvbnMuc3RpY2t5T24pO1xuICAgIGlmICghdGhpcy5jYW5TdGljaykge1xuICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykgeyBjYigpOyB9XG4gICAgfVxuXG4gICAgdmFyIG5ld0VsZW1XaWR0aCA9IHRoaXMuJGNvbnRhaW5lclswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxcbiAgICAgIGNvbXAgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLiRjb250YWluZXJbMF0pLFxuICAgICAgcGRuZ2wgPSBwYXJzZUludChjb21wWydwYWRkaW5nLWxlZnQnXSwgMTApLFxuICAgICAgcGRuZ3IgPSBwYXJzZUludChjb21wWydwYWRkaW5nLXJpZ2h0J10sIDEwKTtcblxuICAgIGlmICh0aGlzLiRhbmNob3IgJiYgdGhpcy4kYW5jaG9yLmxlbmd0aCkge1xuICAgICAgdGhpcy5hbmNob3JIZWlnaHQgPSB0aGlzLiRhbmNob3JbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9wYXJzZVBvaW50cygpO1xuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQuY3NzKHtcbiAgICAgICdtYXgtd2lkdGgnOiBgJHtuZXdFbGVtV2lkdGggLSBwZG5nbCAtIHBkbmdyfXB4YFxuICAgIH0pO1xuXG4gICAgLy8gUmVjYWxjdWxhdGUgdGhlIGhlaWdodCBvbmx5IGlmIGl0IGlzIFwiZHluYW1pY1wiXG4gICAgaWYgKHRoaXMub3B0aW9ucy5keW5hbWljSGVpZ2h0IHx8ICF0aGlzLmNvbnRhaW5lckhlaWdodCkge1xuICAgICAgLy8gR2V0IHRoZSBzdGlja2VkIGVsZW1lbnQgaGVpZ2h0IGFuZCBhcHBseSBpdCB0byB0aGUgY29udGFpbmVyIHRvIFwiaG9sZCB0aGUgcGxhY2VcIlxuICAgICAgdmFyIG5ld0NvbnRhaW5lckhlaWdodCA9IHRoaXMuJGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IHx8IHRoaXMuY29udGFpbmVySGVpZ2h0O1xuICAgICAgbmV3Q29udGFpbmVySGVpZ2h0ID0gdGhpcy4kZWxlbWVudC5jc3MoXCJkaXNwbGF5XCIpID09PSBcIm5vbmVcIiA/IDAgOiBuZXdDb250YWluZXJIZWlnaHQ7XG4gICAgICB0aGlzLiRjb250YWluZXIuY3NzKCdoZWlnaHQnLCBuZXdDb250YWluZXJIZWlnaHQpO1xuICAgICAgdGhpcy5jb250YWluZXJIZWlnaHQgPSBuZXdDb250YWluZXJIZWlnaHQ7XG4gICAgfVxuICAgIHRoaXMuZWxlbUhlaWdodCA9IHRoaXMuY29udGFpbmVySGVpZ2h0O1xuXG4gICAgaWYgKCF0aGlzLmlzU3R1Y2spIHtcbiAgICAgIGlmICh0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpcy1hdC1ib3R0b20nKSkge1xuICAgICAgICB2YXIgYW5jaG9yUHQgPSAodGhpcy5wb2ludHMgPyB0aGlzLnBvaW50c1sxXSAtIHRoaXMuJGNvbnRhaW5lci5vZmZzZXQoKS50b3AgOiB0aGlzLmFuY2hvckhlaWdodCkgLSB0aGlzLmVsZW1IZWlnaHQ7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKCd0b3AnLCBhbmNob3JQdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0QnJlYWtQb2ludHModGhpcy5jb250YWluZXJIZWlnaHQsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykgeyBjYigpOyB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdXBwZXIgYW5kIGxvd2VyIGJyZWFrcG9pbnRzIGZvciB0aGUgZWxlbWVudCB0byBiZWNvbWUgc3RpY2t5L3Vuc3RpY2t5LlxuICAgKiBAcGFyYW0ge051bWJlcn0gZWxlbUhlaWdodCAtIHB4IHZhbHVlIGZvciBzdGlja3kuJGVsZW1lbnQgaGVpZ2h0LCBjYWxjdWxhdGVkIGJ5IGBfc2V0U2l6ZXNgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIG9wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBjb21wbGV0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldEJyZWFrUG9pbnRzKGVsZW1IZWlnaHQsIGNiKSB7XG4gICAgaWYgKCF0aGlzLmNhblN0aWNrKSB7XG4gICAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7IGNiKCk7IH1cbiAgICAgIGVsc2UgeyByZXR1cm4gZmFsc2U7IH1cbiAgICB9XG4gICAgdmFyIG1Ub3AgPSBlbUNhbGModGhpcy5vcHRpb25zLm1hcmdpblRvcCksXG4gICAgICAgIG1CdG0gPSBlbUNhbGModGhpcy5vcHRpb25zLm1hcmdpbkJvdHRvbSksXG4gICAgICAgIHRvcFBvaW50ID0gdGhpcy5wb2ludHMgPyB0aGlzLnBvaW50c1swXSA6IHRoaXMuJGFuY2hvci5vZmZzZXQoKS50b3AsXG4gICAgICAgIGJvdHRvbVBvaW50ID0gdGhpcy5wb2ludHMgPyB0aGlzLnBvaW50c1sxXSA6IHRvcFBvaW50ICsgdGhpcy5hbmNob3JIZWlnaHQsXG4gICAgICAgIC8vIHRvcFBvaW50ID0gdGhpcy4kYW5jaG9yLm9mZnNldCgpLnRvcCB8fCB0aGlzLnBvaW50c1swXSxcbiAgICAgICAgLy8gYm90dG9tUG9pbnQgPSB0b3BQb2ludCArIHRoaXMuYW5jaG9ySGVpZ2h0IHx8IHRoaXMucG9pbnRzWzFdLFxuICAgICAgICB3aW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnN0aWNrVG8gPT09ICd0b3AnKSB7XG4gICAgICB0b3BQb2ludCAtPSBtVG9wO1xuICAgICAgYm90dG9tUG9pbnQgLT0gKGVsZW1IZWlnaHQgKyBtVG9wKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zdGlja1RvID09PSAnYm90dG9tJykge1xuICAgICAgdG9wUG9pbnQgLT0gKHdpbkhlaWdodCAtIChlbGVtSGVpZ2h0ICsgbUJ0bSkpO1xuICAgICAgYm90dG9tUG9pbnQgLT0gKHdpbkhlaWdodCAtIG1CdG0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL3RoaXMgd291bGQgYmUgdGhlIHN0aWNrVG86IGJvdGggb3B0aW9uLi4uIHRyaWNreVxuICAgIH1cblxuICAgIHRoaXMudG9wUG9pbnQgPSB0b3BQb2ludDtcbiAgICB0aGlzLmJvdHRvbVBvaW50ID0gYm90dG9tUG9pbnQ7XG5cbiAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7IGNiKCk7IH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgY3VycmVudCBzdGlja3kgZWxlbWVudC5cbiAgICogUmVzZXRzIHRoZSBlbGVtZW50IHRvIHRoZSB0b3AgcG9zaXRpb24gZmlyc3QuXG4gICAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzLCBKUy1hZGRlZCBjc3MgcHJvcGVydGllcyBhbmQgY2xhc3NlcywgYW5kIHVud3JhcHMgdGhlICRlbGVtZW50IGlmIHRoZSBKUyBhZGRlZCB0aGUgJGNvbnRhaW5lci5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBfZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVTdGlja3kodHJ1ZSk7XG5cbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKGAke3RoaXMub3B0aW9ucy5zdGlja3lDbGFzc30gaXMtYW5jaG9yZWQgaXMtYXQtdG9wYClcbiAgICAgICAgICAgICAgICAgLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnJyxcbiAgICAgICAgICAgICAgICAgICB0b3A6ICcnLFxuICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJycsXG4gICAgICAgICAgICAgICAgICAgJ21heC13aWR0aCc6ICcnXG4gICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgIC5vZmYoJ3Jlc2l6ZW1lLnpmLnRyaWdnZXInKVxuICAgICAgICAgICAgICAgICAub2ZmKCdtdXRhdGVtZS56Zi50cmlnZ2VyJyk7XG4gICAgaWYgKHRoaXMuJGFuY2hvciAmJiB0aGlzLiRhbmNob3IubGVuZ3RoKSB7XG4gICAgICB0aGlzLiRhbmNob3Iub2ZmKCdjaGFuZ2UuemYuc3RpY2t5Jyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnNjcm9sbExpc3RlbmVyKSAkKHdpbmRvdykub2ZmKHRoaXMuc2Nyb2xsTGlzdGVuZXIpXG4gICAgaWYgKHRoaXMub25Mb2FkTGlzdGVuZXIpICQod2luZG93KS5vZmYodGhpcy5vbkxvYWRMaXN0ZW5lcilcblxuICAgIGlmICh0aGlzLndhc1dyYXBwZWQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudW53cmFwKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJGNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuY29udGFpbmVyQ2xhc3MpXG4gICAgICAgICAgICAgICAgICAgICAuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnJ1xuICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cblN0aWNreS5kZWZhdWx0cyA9IHtcbiAgLyoqXG4gICAqIEN1c3RvbWl6YWJsZSBjb250YWluZXIgdGVtcGxhdGUuIEFkZCB5b3VyIG93biBjbGFzc2VzIGZvciBzdHlsaW5nIGFuZCBzaXppbmcuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJyZsdDtkaXYgZGF0YS1zdGlja3ktY29udGFpbmVyJmd0OyZsdDsvZGl2Jmd0OydcbiAgICovXG4gIGNvbnRhaW5lcjogJzxkaXYgZGF0YS1zdGlja3ktY29udGFpbmVyPjwvZGl2PicsXG4gIC8qKlxuICAgKiBMb2NhdGlvbiBpbiB0aGUgdmlldyB0aGUgZWxlbWVudCBzdGlja3MgdG8uIENhbiBiZSBgJ3RvcCdgIG9yIGAnYm90dG9tJ2AuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJ3RvcCdcbiAgICovXG4gIHN0aWNrVG86ICd0b3AnLFxuICAvKipcbiAgICogSWYgYW5jaG9yZWQgdG8gYSBzaW5nbGUgZWxlbWVudCwgdGhlIGlkIG9mIHRoYXQgZWxlbWVudC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnJ1xuICAgKi9cbiAgYW5jaG9yOiAnJyxcbiAgLyoqXG4gICAqIElmIHVzaW5nIG1vcmUgdGhhbiBvbmUgZWxlbWVudCBhcyBhbmNob3IgcG9pbnRzLCB0aGUgaWQgb2YgdGhlIHRvcCBhbmNob3IuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJydcbiAgICovXG4gIHRvcEFuY2hvcjogJycsXG4gIC8qKlxuICAgKiBJZiB1c2luZyBtb3JlIHRoYW4gb25lIGVsZW1lbnQgYXMgYW5jaG9yIHBvaW50cywgdGhlIGlkIG9mIHRoZSBib3R0b20gYW5jaG9yLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0ICcnXG4gICAqL1xuICBidG1BbmNob3I6ICcnLFxuICAvKipcbiAgICogTWFyZ2luLCBpbiBgZW1gJ3MgdG8gYXBwbHkgdG8gdGhlIHRvcCBvZiB0aGUgZWxlbWVudCB3aGVuIGl0IGJlY29tZXMgc3RpY2t5LlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDFcbiAgICovXG4gIG1hcmdpblRvcDogMSxcbiAgLyoqXG4gICAqIE1hcmdpbiwgaW4gYGVtYCdzIHRvIGFwcGx5IHRvIHRoZSBib3R0b20gb2YgdGhlIGVsZW1lbnQgd2hlbiBpdCBiZWNvbWVzIHN0aWNreS5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICBtYXJnaW5Cb3R0b206IDEsXG4gIC8qKlxuICAgKiBCcmVha3BvaW50IHN0cmluZyB0aGF0IGlzIHRoZSBtaW5pbXVtIHNjcmVlbiBzaXplIGFuIGVsZW1lbnQgc2hvdWxkIGJlY29tZSBzdGlja3kuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJ21lZGl1bSdcbiAgICovXG4gIHN0aWNreU9uOiAnbWVkaXVtJyxcbiAgLyoqXG4gICAqIENsYXNzIGFwcGxpZWQgdG8gc3RpY2t5IGVsZW1lbnQsIGFuZCByZW1vdmVkIG9uIGRlc3RydWN0aW9uLiBGb3VuZGF0aW9uIGRlZmF1bHRzIHRvIGBzdGlja3lgLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0ICdzdGlja3knXG4gICAqL1xuICBzdGlja3lDbGFzczogJ3N0aWNreScsXG4gIC8qKlxuICAgKiBDbGFzcyBhcHBsaWVkIHRvIHN0aWNreSBjb250YWluZXIuIEZvdW5kYXRpb24gZGVmYXVsdHMgdG8gYHN0aWNreS1jb250YWluZXJgLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0ICdzdGlja3ktY29udGFpbmVyJ1xuICAgKi9cbiAgY29udGFpbmVyQ2xhc3M6ICdzdGlja3ktY29udGFpbmVyJyxcbiAgLyoqXG4gICAqIElmIHRydWUgKGJ5IGRlZmF1bHQpLCBrZWVwIHRoZSBzdGlja3kgY29udGFpbmVyIHRoZSBzYW1lIGhlaWdodCBhcyB0aGUgZWxlbWVudC4gT3RoZXJ3aXNlLCB0aGUgY29udGFpbmVyIGhlaWdodCBpcyBzZXQgb25jZSBhbmQgZG9lcyBub3QgY2hhbmdlLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBkeW5hbWljSGVpZ2h0OiB0cnVlLFxuICAvKipcbiAgICogTnVtYmVyIG9mIHNjcm9sbCBldmVudHMgYmV0d2VlbiB0aGUgcGx1Z2luJ3MgcmVjYWxjdWxhdGluZyBzdGlja3kgcG9pbnRzLiBTZXR0aW5nIGl0IHRvIGAwYCB3aWxsIGNhdXNlIGl0IHRvIHJlY2FsYyBldmVyeSBzY3JvbGwgZXZlbnQsIHNldHRpbmcgaXQgdG8gYC0xYCB3aWxsIHByZXZlbnQgcmVjYWxjIG9uIHNjcm9sbC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAtMVxuICAgKi9cbiAgY2hlY2tFdmVyeTogLTFcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSBlbSB2YWx1ZXNcbiAqIEBwYXJhbSBOdW1iZXIge2VtfSAtIG51bWJlciBvZiBlbSdzIHRvIGNhbGN1bGF0ZSBpbnRvIHBpeGVsc1xuICovXG5mdW5jdGlvbiBlbUNhbGMoZW0pIHtcbiAgcmV0dXJuIHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHksIG51bGwpLmZvbnRTaXplLCAxMCkgKiBlbTtcbn1cblxuZXhwb3J0IHtTdGlja3l9O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IFBsdWdpbiB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnBsdWdpbic7XG5pbXBvcnQgeyBvbkxvYWQgfSBmcm9tICcuL2ZvdW5kYXRpb24uY29yZS51dGlscyc7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLmtleWJvYXJkJztcbmltcG9ydCB7IG9uSW1hZ2VzTG9hZGVkIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwuaW1hZ2VMb2FkZXInO1xuLyoqXG4gKiBUYWJzIG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi50YWJzXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmtleWJvYXJkXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmltYWdlTG9hZGVyIGlmIHRhYnMgY29udGFpbiBpbWFnZXNcbiAqL1xuXG5jbGFzcyBUYWJzIGV4dGVuZHMgUGx1Z2luIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGFicy5cbiAgICogQGNsYXNzXG4gICAqIEBuYW1lIFRhYnNcbiAgICogQGZpcmVzIFRhYnMjaW5pdFxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gbWFrZSBpbnRvIHRhYnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3ZlcnJpZGVzIHRvIHRoZSBkZWZhdWx0IHBsdWdpbiBzZXR0aW5ncy5cbiAgICovXG4gIF9zZXR1cChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIFRhYnMuZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcbiAgICB0aGlzLmNsYXNzTmFtZSA9ICdUYWJzJzsgLy8gaWU5IGJhY2sgY29tcGF0XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gICAgS2V5Ym9hcmQucmVnaXN0ZXIoJ1RhYnMnLCB7XG4gICAgICAnRU5URVInOiAnb3BlbicsXG4gICAgICAnU1BBQ0UnOiAnb3BlbicsXG4gICAgICAnQVJST1dfUklHSFQnOiAnbmV4dCcsXG4gICAgICAnQVJST1dfVVAnOiAncHJldmlvdXMnLFxuICAgICAgJ0FSUk9XX0RPV04nOiAnbmV4dCcsXG4gICAgICAnQVJST1dfTEVGVCc6ICdwcmV2aW91cydcbiAgICAgIC8vICdUQUInOiAnbmV4dCcsXG4gICAgICAvLyAnU0hJRlRfVEFCJzogJ3ByZXZpb3VzJ1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSB0YWJzIGJ5IHNob3dpbmcgYW5kIGZvY3VzaW5nIChpZiBhdXRvRm9jdXM9dHJ1ZSkgdGhlIHByZXNldCBhY3RpdmUgdGFiLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB0aGlzLl9pc0luaXRpYWxpemluZyA9IHRydWU7XG5cbiAgICB0aGlzLiRlbGVtZW50LmF0dHIoeydyb2xlJzogJ3RhYmxpc3QnfSk7XG4gICAgdGhpcy4kdGFiVGl0bGVzID0gdGhpcy4kZWxlbWVudC5maW5kKGAuJHt0aGlzLm9wdGlvbnMubGlua0NsYXNzfWApO1xuICAgIHRoaXMuJHRhYkNvbnRlbnQgPSAkKGBbZGF0YS10YWJzLWNvbnRlbnQ9XCIke3RoaXMuJGVsZW1lbnRbMF0uaWR9XCJdYCk7XG5cbiAgICB0aGlzLiR0YWJUaXRsZXMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgdmFyICRlbGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAkbGluayA9ICRlbGVtLmZpbmQoJ2EnKSxcbiAgICAgICAgICBpc0FjdGl2ZSA9ICRlbGVtLmhhc0NsYXNzKGAke190aGlzLm9wdGlvbnMubGlua0FjdGl2ZUNsYXNzfWApLFxuICAgICAgICAgIGhhc2ggPSAkbGluay5hdHRyKCdkYXRhLXRhYnMtdGFyZ2V0JykgfHwgJGxpbmtbMF0uaGFzaC5zbGljZSgxKSxcbiAgICAgICAgICBsaW5rSWQgPSAkbGlua1swXS5pZCA/ICRsaW5rWzBdLmlkIDogYCR7aGFzaH0tbGFiZWxgLFxuICAgICAgICAgICR0YWJDb250ZW50ID0gJChgIyR7aGFzaH1gKTtcblxuICAgICAgJGVsZW0uYXR0cih7J3JvbGUnOiAncHJlc2VudGF0aW9uJ30pO1xuXG4gICAgICAkbGluay5hdHRyKHtcbiAgICAgICAgJ3JvbGUnOiAndGFiJyxcbiAgICAgICAgJ2FyaWEtY29udHJvbHMnOiBoYXNoLFxuICAgICAgICAnYXJpYS1zZWxlY3RlZCc6IGlzQWN0aXZlLFxuICAgICAgICAnaWQnOiBsaW5rSWQsXG4gICAgICAgICd0YWJpbmRleCc6IGlzQWN0aXZlID8gJzAnIDogJy0xJ1xuICAgICAgfSk7XG5cbiAgICAgICR0YWJDb250ZW50LmF0dHIoe1xuICAgICAgICAncm9sZSc6ICd0YWJwYW5lbCcsXG4gICAgICAgICdhcmlhLWxhYmVsbGVkYnknOiBsaW5rSWRcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTYXZlIHVwIHRoZSBpbml0aWFsIGhhc2ggdG8gcmV0dXJuIHRvIGl0IGxhdGVyIHdoZW4gZ29pbmcgYmFjayBpbiBoaXN0b3J5XG4gICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgX3RoaXMuX2luaXRpYWxBbmNob3IgPSBgIyR7aGFzaH1gO1xuICAgICAgfVxuXG4gICAgICBpZighaXNBY3RpdmUpIHtcbiAgICAgICAgJHRhYkNvbnRlbnQuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgfVxuXG4gICAgICBpZihpc0FjdGl2ZSAmJiBfdGhpcy5vcHRpb25zLmF1dG9Gb2N1cyl7XG4gICAgICAgIF90aGlzLm9uTG9hZExpc3RlbmVyID0gb25Mb2FkKCQod2luZG93KSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6ICRlbGVtLm9mZnNldCgpLnRvcCB9LCBfdGhpcy5vcHRpb25zLmRlZXBMaW5rU211ZGdlRGVsYXksICgpID0+IHtcbiAgICAgICAgICAgICRsaW5rLmZvY3VzKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYodGhpcy5vcHRpb25zLm1hdGNoSGVpZ2h0KSB7XG4gICAgICB2YXIgJGltYWdlcyA9IHRoaXMuJHRhYkNvbnRlbnQuZmluZCgnaW1nJyk7XG5cbiAgICAgIGlmICgkaW1hZ2VzLmxlbmd0aCkge1xuICAgICAgICBvbkltYWdlc0xvYWRlZCgkaW1hZ2VzLCB0aGlzLl9zZXRIZWlnaHQuYmluZCh0aGlzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXRIZWlnaHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAgLy8gQ3VycmVudCBjb250ZXh0LWJvdW5kIGZ1bmN0aW9uIHRvIG9wZW4gdGFicyBvbiBwYWdlIGxvYWQgb3IgaGlzdG9yeSBoYXNoY2hhbmdlXG4gICAgdGhpcy5fY2hlY2tEZWVwTGluayA9ICgpID0+IHtcbiAgICAgIHZhciBhbmNob3IgPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcblxuICAgICAgaWYgKCFhbmNob3IubGVuZ3RoKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBzdGlsbCBpbml0aWFsaXppbmcgYW5kIHRoZXJlIGlzIG5vIGFuY2hvciwgdGhlbiB0aGVyZSBpcyBub3RoaW5nIHRvIGRvXG4gICAgICAgIGlmICh0aGlzLl9pc0luaXRpYWxpemluZykgcmV0dXJuO1xuICAgICAgICAvLyBPdGhlcndpc2UsIG1vdmUgdG8gdGhlIGluaXRpYWwgYW5jaG9yXG4gICAgICAgIGlmICh0aGlzLl9pbml0aWFsQW5jaG9yKSBhbmNob3IgPSB0aGlzLl9pbml0aWFsQW5jaG9yO1xuICAgICAgfVxuXG4gICAgICB2YXIgYW5jaG9yTm9IYXNoID0gYW5jaG9yLmluZGV4T2YoJyMnKSA+PSAwID8gYW5jaG9yLnNsaWNlKDEpIDogYW5jaG9yO1xuICAgICAgdmFyICRhbmNob3IgPSBhbmNob3JOb0hhc2ggJiYgJChgIyR7YW5jaG9yTm9IYXNofWApO1xuICAgICAgdmFyICRsaW5rID0gYW5jaG9yICYmIHRoaXMuJGVsZW1lbnQuZmluZChgW2hyZWYkPVwiJHthbmNob3J9XCJdLFtkYXRhLXRhYnMtdGFyZ2V0PVwiJHthbmNob3JOb0hhc2h9XCJdYCkuZmlyc3QoKTtcbiAgICAgIC8vIFdoZXRoZXIgdGhlIGFuY2hvciBlbGVtZW50IHRoYXQgaGFzIGJlZW4gZm91bmQgaXMgcGFydCBvZiB0aGlzIGVsZW1lbnRcbiAgICAgIHZhciBpc093bkFuY2hvciA9ICEhKCRhbmNob3IubGVuZ3RoICYmICRsaW5rLmxlbmd0aCk7XG5cbiAgICAgIGlmIChpc093bkFuY2hvcikge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBhbmNob3IgZm9yIHRoZSBoYXNoLCBzZWxlY3QgaXRcbiAgICAgICAgaWYgKCRhbmNob3IgJiYgJGFuY2hvci5sZW5ndGggJiYgJGxpbmsgJiYgJGxpbmsubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RUYWIoJGFuY2hvciwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBjb2xsYXBzZSBldmVyeXRoaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2NvbGxhcHNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSb2xsIHVwIGEgbGl0dGxlIHRvIHNob3cgdGhlIHRpdGxlc1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRlZXBMaW5rU211ZGdlKSB7XG4gICAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KCk7XG4gICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IG9mZnNldC50b3AgLSB0aGlzLm9wdGlvbnMuZGVlcExpbmtTbXVkZ2VPZmZzZXR9LCB0aGlzLm9wdGlvbnMuZGVlcExpbmtTbXVkZ2VEZWxheSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgcGx1Z2luIGhhcyBkZWVwbGlua2VkIGF0IHBhZ2Vsb2FkXG4gICAgICAgICAqIEBldmVudCBUYWJzI2RlZXBsaW5rXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2RlZXBsaW5rLnpmLnRhYnMnLCBbJGxpbmssICRhbmNob3JdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL3VzZSBicm93c2VyIHRvIG9wZW4gYSB0YWIsIGlmIGl0IGV4aXN0cyBpbiB0aGlzIHRhYnNldFxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGVlcExpbmspIHtcbiAgICAgIHRoaXMuX2NoZWNrRGVlcExpbmsoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9ldmVudHMoKTtcblxuICAgIHRoaXMuX2lzSW5pdGlhbGl6aW5nID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBldmVudCBoYW5kbGVycyBmb3IgaXRlbXMgd2l0aGluIHRoZSB0YWJzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2V2ZW50cygpIHtcbiAgICB0aGlzLl9hZGRLZXlIYW5kbGVyKCk7XG4gICAgdGhpcy5fYWRkQ2xpY2tIYW5kbGVyKCk7XG4gICAgdGhpcy5fc2V0SGVpZ2h0TXFIYW5kbGVyID0gbnVsbDtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMubWF0Y2hIZWlnaHQpIHtcbiAgICAgIHRoaXMuX3NldEhlaWdodE1xSGFuZGxlciA9IHRoaXMuX3NldEhlaWdodC5iaW5kKHRoaXMpO1xuXG4gICAgICAkKHdpbmRvdykub24oJ2NoYW5nZWQuemYubWVkaWFxdWVyeScsIHRoaXMuX3NldEhlaWdodE1xSGFuZGxlcik7XG4gICAgfVxuXG4gICAgaWYodGhpcy5vcHRpb25zLmRlZXBMaW5rKSB7XG4gICAgICAkKHdpbmRvdykub24oJ2hhc2hjaGFuZ2UnLCB0aGlzLl9jaGVja0RlZXBMaW5rKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBjbGljayBoYW5kbGVycyBmb3IgaXRlbXMgd2l0aGluIHRoZSB0YWJzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FkZENsaWNrSGFuZGxlcigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9mZignY2xpY2suemYudGFicycpXG4gICAgICAub24oJ2NsaWNrLnpmLnRhYnMnLCBgLiR7dGhpcy5vcHRpb25zLmxpbmtDbGFzc31gLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBfdGhpcy5faGFuZGxlVGFiQ2hhbmdlKCQodGhpcykpO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBrZXlib2FyZCBldmVudCBoYW5kbGVycyBmb3IgaXRlbXMgd2l0aGluIHRoZSB0YWJzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FkZEtleUhhbmRsZXIoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMuJHRhYlRpdGxlcy5vZmYoJ2tleWRvd24uemYudGFicycpLm9uKCdrZXlkb3duLnpmLnRhYnMnLCBmdW5jdGlvbihlKXtcbiAgICAgIGlmIChlLndoaWNoID09PSA5KSByZXR1cm47XG5cblxuICAgICAgdmFyICRlbGVtZW50ID0gJCh0aGlzKSxcbiAgICAgICAgJGVsZW1lbnRzID0gJGVsZW1lbnQucGFyZW50KCd1bCcpLmNoaWxkcmVuKCdsaScpLFxuICAgICAgICAkcHJldkVsZW1lbnQsXG4gICAgICAgICRuZXh0RWxlbWVudDtcblxuICAgICAgJGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICBpZiAoJCh0aGlzKS5pcygkZWxlbWVudCkpIHtcbiAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy53cmFwT25LZXlzKSB7XG4gICAgICAgICAgICAkcHJldkVsZW1lbnQgPSBpID09PSAwID8gJGVsZW1lbnRzLmxhc3QoKSA6ICRlbGVtZW50cy5lcShpLTEpO1xuICAgICAgICAgICAgJG5leHRFbGVtZW50ID0gaSA9PT0gJGVsZW1lbnRzLmxlbmd0aCAtMSA/ICRlbGVtZW50cy5maXJzdCgpIDogJGVsZW1lbnRzLmVxKGkrMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRwcmV2RWxlbWVudCA9ICRlbGVtZW50cy5lcShNYXRoLm1heCgwLCBpLTEpKTtcbiAgICAgICAgICAgICRuZXh0RWxlbWVudCA9ICRlbGVtZW50cy5lcShNYXRoLm1pbihpKzEsICRlbGVtZW50cy5sZW5ndGgtMSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBoYW5kbGUga2V5Ym9hcmQgZXZlbnQgd2l0aCBrZXlib2FyZCB1dGlsXG4gICAgICBLZXlib2FyZC5oYW5kbGVLZXkoZSwgJ1RhYnMnLCB7XG4gICAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRlbGVtZW50LmZpbmQoJ1tyb2xlPVwidGFiXCJdJykuZm9jdXMoKTtcbiAgICAgICAgICBfdGhpcy5faGFuZGxlVGFiQ2hhbmdlKCRlbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJldmlvdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRwcmV2RWxlbWVudC5maW5kKCdbcm9sZT1cInRhYlwiXScpLmZvY3VzKCk7XG4gICAgICAgICAgX3RoaXMuX2hhbmRsZVRhYkNoYW5nZSgkcHJldkVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkbmV4dEVsZW1lbnQuZmluZCgnW3JvbGU9XCJ0YWJcIl0nKS5mb2N1cygpO1xuICAgICAgICAgIF90aGlzLl9oYW5kbGVUYWJDaGFuZ2UoJG5leHRFbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgdGFiIGAkdGFyZ2V0Q29udGVudGAgZGVmaW5lZCBieSBgJHRhcmdldGAuIENvbGxhcHNlcyBhY3RpdmUgdGFiLlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJHRhcmdldCAtIFRhYiB0byBvcGVuLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpc3RvcnlIYW5kbGVkIC0gYnJvd3NlciBoYXMgYWxyZWFkeSBoYW5kbGVkIGEgaGlzdG9yeSB1cGRhdGVcbiAgICogQGZpcmVzIFRhYnMjY2hhbmdlXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgX2hhbmRsZVRhYkNoYW5nZSgkdGFyZ2V0LCBoaXN0b3J5SGFuZGxlZCkge1xuXG4gICAgLy8gV2l0aCBgYWN0aXZlQ29sbGFwc2VgLCBpZiB0aGUgdGFyZ2V0IGlzIHRoZSBhY3RpdmUgVGFiLCBjb2xsYXBzZSBpdC5cbiAgICBpZiAoJHRhcmdldC5oYXNDbGFzcyhgJHt0aGlzLm9wdGlvbnMubGlua0FjdGl2ZUNsYXNzfWApKSB7XG4gICAgICAgIGlmKHRoaXMub3B0aW9ucy5hY3RpdmVDb2xsYXBzZSkge1xuICAgICAgICAgICAgdGhpcy5fY29sbGFwc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyICRvbGRUYWIgPSB0aGlzLiRlbGVtZW50LlxuICAgICAgICAgIGZpbmQoYC4ke3RoaXMub3B0aW9ucy5saW5rQ2xhc3N9LiR7dGhpcy5vcHRpb25zLmxpbmtBY3RpdmVDbGFzc31gKSxcbiAgICAgICAgICAkdGFiTGluayA9ICR0YXJnZXQuZmluZCgnW3JvbGU9XCJ0YWJcIl0nKSxcbiAgICAgICAgICB0YXJnZXQgPSAkdGFiTGluay5hdHRyKCdkYXRhLXRhYnMtdGFyZ2V0JyksXG4gICAgICAgICAgYW5jaG9yID0gdGFyZ2V0ICYmIHRhcmdldC5sZW5ndGggPyBgIyR7dGFyZ2V0fWAgOiAkdGFiTGlua1swXS5oYXNoLFxuICAgICAgICAgICR0YXJnZXRDb250ZW50ID0gdGhpcy4kdGFiQ29udGVudC5maW5kKGFuY2hvcik7XG5cbiAgICAvL2Nsb3NlIG9sZCB0YWJcbiAgICB0aGlzLl9jb2xsYXBzZVRhYigkb2xkVGFiKTtcblxuICAgIC8vb3BlbiBuZXcgdGFiXG4gICAgdGhpcy5fb3BlblRhYigkdGFyZ2V0KTtcblxuICAgIC8vZWl0aGVyIHJlcGxhY2Ugb3IgdXBkYXRlIGJyb3dzZXIgaGlzdG9yeVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGVlcExpbmsgJiYgIWhpc3RvcnlIYW5kbGVkKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnVwZGF0ZUhpc3RvcnkpIHtcbiAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCBhbmNob3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sICcnLCBhbmNob3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpcmVzIHdoZW4gdGhlIHBsdWdpbiBoYXMgc3VjY2Vzc2Z1bGx5IGNoYW5nZWQgdGFicy5cbiAgICAgKiBAZXZlbnQgVGFicyNjaGFuZ2VcbiAgICAgKi9cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2NoYW5nZS56Zi50YWJzJywgWyR0YXJnZXQsICR0YXJnZXRDb250ZW50XSk7XG5cbiAgICAvL2ZpcmUgdG8gY2hpbGRyZW4gYSBtdXRhdGlvbiBldmVudFxuICAgICR0YXJnZXRDb250ZW50LmZpbmQoXCJbZGF0YS1tdXRhdGVdXCIpLnRyaWdnZXIoXCJtdXRhdGVtZS56Zi50cmlnZ2VyXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSB0YWIgYCR0YXJnZXRDb250ZW50YCBkZWZpbmVkIGJ5IGAkdGFyZ2V0YC5cbiAgICogQHBhcmFtIHtqUXVlcnl9ICR0YXJnZXQgLSBUYWIgdG8gb3Blbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBfb3BlblRhYigkdGFyZ2V0KSB7XG4gICAgICB2YXIgJHRhYkxpbmsgPSAkdGFyZ2V0LmZpbmQoJ1tyb2xlPVwidGFiXCJdJyksXG4gICAgICAgICAgaGFzaCA9ICR0YWJMaW5rLmF0dHIoJ2RhdGEtdGFicy10YXJnZXQnKSB8fCAkdGFiTGlua1swXS5oYXNoLnNsaWNlKDEpLFxuICAgICAgICAgICR0YXJnZXRDb250ZW50ID0gdGhpcy4kdGFiQ29udGVudC5maW5kKGAjJHtoYXNofWApO1xuXG4gICAgICAkdGFyZ2V0LmFkZENsYXNzKGAke3RoaXMub3B0aW9ucy5saW5rQWN0aXZlQ2xhc3N9YCk7XG5cbiAgICAgICR0YWJMaW5rLmF0dHIoe1xuICAgICAgICAnYXJpYS1zZWxlY3RlZCc6ICd0cnVlJyxcbiAgICAgICAgJ3RhYmluZGV4JzogJzAnXG4gICAgICB9KTtcblxuICAgICAgJHRhcmdldENvbnRlbnRcbiAgICAgICAgLmFkZENsYXNzKGAke3RoaXMub3B0aW9ucy5wYW5lbEFjdGl2ZUNsYXNzfWApLnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuJyk7XG4gIH1cblxuICAvKipcbiAgICogQ29sbGFwc2VzIGAkdGFyZ2V0Q29udGVudGAgZGVmaW5lZCBieSBgJHRhcmdldGAuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkdGFyZ2V0IC0gVGFiIHRvIGNvbGxhcHNlLlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIF9jb2xsYXBzZVRhYigkdGFyZ2V0KSB7XG4gICAgdmFyICR0YXJnZXRBbmNob3IgPSAkdGFyZ2V0XG4gICAgICAucmVtb3ZlQ2xhc3MoYCR7dGhpcy5vcHRpb25zLmxpbmtBY3RpdmVDbGFzc31gKVxuICAgICAgLmZpbmQoJ1tyb2xlPVwidGFiXCJdJylcbiAgICAgIC5hdHRyKHtcbiAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiAnZmFsc2UnLFxuICAgICAgICAndGFiaW5kZXgnOiAtMVxuICAgICAgfSk7XG5cbiAgICAkKGAjJHskdGFyZ2V0QW5jaG9yLmF0dHIoJ2FyaWEtY29udHJvbHMnKX1gKVxuICAgICAgLnJlbW92ZUNsYXNzKGAke3RoaXMub3B0aW9ucy5wYW5lbEFjdGl2ZUNsYXNzfWApXG4gICAgICAuYXR0cih7ICdhcmlhLWhpZGRlbic6ICd0cnVlJyB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENvbGxhcHNlcyB0aGUgYWN0aXZlIFRhYi5cbiAgICogQGZpcmVzIFRhYnMjY29sbGFwc2VcbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBfY29sbGFwc2UoKSB7XG4gICAgdmFyICRhY3RpdmVUYWIgPSB0aGlzLiRlbGVtZW50LmZpbmQoYC4ke3RoaXMub3B0aW9ucy5saW5rQ2xhc3N9LiR7dGhpcy5vcHRpb25zLmxpbmtBY3RpdmVDbGFzc31gKTtcblxuICAgIGlmICgkYWN0aXZlVGFiLmxlbmd0aCkge1xuICAgICAgdGhpcy5fY29sbGFwc2VUYWIoJGFjdGl2ZVRhYik7XG5cbiAgICAgIC8qKlxuICAgICAgKiBGaXJlcyB3aGVuIHRoZSBwbHVnaW4gaGFzIHN1Y2Nlc3NmdWxseSBjb2xsYXBzZWQgdGFicy5cbiAgICAgICogQGV2ZW50IFRhYnMjY29sbGFwc2VcbiAgICAgICovXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2NvbGxhcHNlLnpmLnRhYnMnLCBbJGFjdGl2ZVRhYl0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgbWV0aG9kIGZvciBzZWxlY3RpbmcgYSBjb250ZW50IHBhbmUgdG8gZGlzcGxheS5cbiAgICogQHBhcmFtIHtqUXVlcnkgfCBTdHJpbmd9IGVsZW0gLSBqUXVlcnkgb2JqZWN0IG9yIHN0cmluZyBvZiB0aGUgaWQgb2YgdGhlIHBhbmUgdG8gZGlzcGxheS5cbiAgICogQHBhcmFtIHtib29sZWFufSBoaXN0b3J5SGFuZGxlZCAtIGJyb3dzZXIgaGFzIGFscmVhZHkgaGFuZGxlZCBhIGhpc3RvcnkgdXBkYXRlXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgc2VsZWN0VGFiKGVsZW0sIGhpc3RvcnlIYW5kbGVkKSB7XG4gICAgdmFyIGlkU3RyLCBoYXNoSWRTdHI7XG5cbiAgICBpZiAodHlwZW9mIGVsZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICBpZFN0ciA9IGVsZW1bMF0uaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkU3RyID0gZWxlbTtcbiAgICB9XG5cbiAgICBpZiAoaWRTdHIuaW5kZXhPZignIycpIDwgMCkge1xuICAgICAgaGFzaElkU3RyID0gYCMke2lkU3RyfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhc2hJZFN0ciA9IGlkU3RyO1xuICAgICAgaWRTdHIgPSBpZFN0ci5zbGljZSgxKTtcbiAgICB9XG5cbiAgICB2YXIgJHRhcmdldCA9IHRoaXMuJHRhYlRpdGxlcy5oYXMoYFtocmVmJD1cIiR7aGFzaElkU3RyfVwiXSxbZGF0YS10YWJzLXRhcmdldD1cIiR7aWRTdHJ9XCJdYCkuZmlyc3QoKTtcblxuICAgIHRoaXMuX2hhbmRsZVRhYkNoYW5nZSgkdGFyZ2V0LCBoaXN0b3J5SGFuZGxlZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGhlaWdodCBvZiBlYWNoIHBhbmVsIHRvIHRoZSBoZWlnaHQgb2YgdGhlIHRhbGxlc3QgcGFuZWwuXG4gICAqIElmIGVuYWJsZWQgaW4gb3B0aW9ucywgZ2V0cyBjYWxsZWQgb24gbWVkaWEgcXVlcnkgY2hhbmdlLlxuICAgKiBJZiBsb2FkaW5nIGNvbnRlbnQgdmlhIGV4dGVybmFsIHNvdXJjZSwgY2FuIGJlIGNhbGxlZCBkaXJlY3RseSBvciB3aXRoIF9yZWZsb3cuXG4gICAqIElmIGVuYWJsZWQgd2l0aCBgZGF0YS1tYXRjaC1oZWlnaHQ9XCJ0cnVlXCJgLCB0YWJzIHNldHMgdG8gZXF1YWwgaGVpZ2h0XG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldEhlaWdodCgpIHtcbiAgICB2YXIgbWF4ID0gMCxcbiAgICAgICAgX3RoaXMgPSB0aGlzOyAvLyBMb2NrIGRvd24gdGhlIGB0aGlzYCB2YWx1ZSBmb3IgdGhlIHJvb3QgdGFicyBvYmplY3RcblxuICAgIGlmICghdGhpcy4kdGFiQ29udGVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuJHRhYkNvbnRlbnRcbiAgICAgIC5maW5kKGAuJHt0aGlzLm9wdGlvbnMucGFuZWxDbGFzc31gKVxuICAgICAgLmNzcygnbWluLWhlaWdodCcsICcnKVxuICAgICAgLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHBhbmVsID0gJCh0aGlzKSxcbiAgICAgICAgICAgIGlzQWN0aXZlID0gcGFuZWwuaGFzQ2xhc3MoYCR7X3RoaXMub3B0aW9ucy5wYW5lbEFjdGl2ZUNsYXNzfWApOyAvLyBnZXQgdGhlIG9wdGlvbnMgZnJvbSB0aGUgcGFyZW50IGluc3RlYWQgb2YgdHJ5aW5nIHRvIGdldCB0aGVtIGZyb20gdGhlIGNoaWxkXG5cbiAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICAgIHBhbmVsLmNzcyh7J3Zpc2liaWxpdHknOiAnaGlkZGVuJywgJ2Rpc3BsYXknOiAnYmxvY2snfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGVtcCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgICBwYW5lbC5jc3Moe1xuICAgICAgICAgICAgJ3Zpc2liaWxpdHknOiAnJyxcbiAgICAgICAgICAgICdkaXNwbGF5JzogJydcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1heCA9IHRlbXAgPiBtYXggPyB0ZW1wIDogbWF4O1xuICAgICAgfSlcbiAgICAgIC5jc3MoJ21pbi1oZWlnaHQnLCBgJHttYXh9cHhgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyBhbiBpbnN0YW5jZSBvZiB0YWJzLlxuICAgKiBAZmlyZXMgVGFicyNkZXN0cm95ZWRcbiAgICovXG4gIF9kZXN0cm95KCkge1xuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5maW5kKGAuJHt0aGlzLm9wdGlvbnMubGlua0NsYXNzfWApXG4gICAgICAub2ZmKCcuemYudGFicycpLmhpZGUoKS5lbmQoKVxuICAgICAgLmZpbmQoYC4ke3RoaXMub3B0aW9ucy5wYW5lbENsYXNzfWApXG4gICAgICAuaGlkZSgpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5tYXRjaEhlaWdodCkge1xuICAgICAgaWYgKHRoaXMuX3NldEhlaWdodE1xSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAkKHdpbmRvdykub2ZmKCdjaGFuZ2VkLnpmLm1lZGlhcXVlcnknLCB0aGlzLl9zZXRIZWlnaHRNcUhhbmRsZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGVlcExpbmspIHtcbiAgICAgICQod2luZG93KS5vZmYoJ2hhc2hjaGFuZ2UnLCB0aGlzLl9jaGVja0RlZXBMaW5rKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vbkxvYWRMaXN0ZW5lcikge1xuICAgICAgJCh3aW5kb3cpLm9mZih0aGlzLm9uTG9hZExpc3RlbmVyKTtcbiAgICB9XG4gIH1cbn1cblxuVGFicy5kZWZhdWx0cyA9IHtcbiAgLyoqXG4gICAqIExpbmsgdGhlIGxvY2F0aW9uIGhhc2ggdG8gdGhlIGFjdGl2ZSBwYW5lLlxuICAgKiBTZXQgdGhlIGxvY2F0aW9uIGhhc2ggd2hlbiB0aGUgYWN0aXZlIHBhbmUgY2hhbmdlcywgYW5kIG9wZW4gdGhlIGNvcnJlc3BvbmRpbmcgcGFuZSB3aGVuIHRoZSBsb2NhdGlvbiBjaGFuZ2VzLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGVlcExpbms6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBJZiBgZGVlcExpbmtgIGlzIGVuYWJsZWQsIGFkanVzdCB0aGUgZGVlcCBsaW5rIHNjcm9sbCB0byBtYWtlIHN1cmUgdGhlIHRvcCBvZiB0aGUgdGFiIHBhbmVsIGlzIHZpc2libGVcbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRlZXBMaW5rU211ZGdlOiBmYWxzZSxcblxuICAvKipcbiAgICogSWYgYGRlZXBMaW5rU211ZGdlYCBpcyBlbmFibGVkLCBhbmltYXRpb24gdGltZSAobXMpIGZvciB0aGUgZGVlcCBsaW5rIGFkanVzdG1lbnRcbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAzMDBcbiAgICovXG4gIGRlZXBMaW5rU211ZGdlRGVsYXk6IDMwMCxcblxuICAvKipcbiAgICogSWYgYGRlZXBMaW5rU211ZGdlYCBpcyBlbmFibGVkLCBhbmltYXRpb24gb2Zmc2V0IGZyb20gdGhlIHRvcCBmb3IgdGhlIGRlZXAgbGluayBhZGp1c3RtZW50XG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgZGVlcExpbmtTbXVkZ2VPZmZzZXQ6IDAsXG5cbiAgLyoqXG4gICAqIElmIGBkZWVwTGlua2AgaXMgZW5hYmxlZCwgdXBkYXRlIHRoZSBicm93c2VyIGhpc3Rvcnkgd2l0aCB0aGUgb3BlbiB0YWJcbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHVwZGF0ZUhpc3Rvcnk6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHdpbmRvdyB0byBzY3JvbGwgdG8gY29udGVudCBvZiBhY3RpdmUgcGFuZSBvbiBsb2FkLlxuICAgKiBOb3QgcmVjb21tZW5kZWQgaWYgbW9yZSB0aGFuIG9uZSB0YWIgcGFuZWwgcGVyIHBhZ2UuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhdXRvRm9jdXM6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBBbGxvd3Mga2V5Ym9hcmQgaW5wdXQgdG8gJ3dyYXAnIGFyb3VuZCB0aGUgdGFiIGxpbmtzLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICB3cmFwT25LZXlzOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHRhYiBjb250ZW50IHBhbmVzIHRvIG1hdGNoIGhlaWdodHMgaWYgc2V0IHRvIHRydWUuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBtYXRjaEhlaWdodDogZmFsc2UsXG5cbiAgLyoqXG4gICAqIEFsbG93cyBhY3RpdmUgdGFicyB0byBjb2xsYXBzZSB3aGVuIGNsaWNrZWQuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhY3RpdmVDb2xsYXBzZTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIENsYXNzIGFwcGxpZWQgdG8gYGxpYCdzIGluIHRhYiBsaW5rIGxpc3QuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJ3RhYnMtdGl0bGUnXG4gICAqL1xuICBsaW5rQ2xhc3M6ICd0YWJzLXRpdGxlJyxcblxuICAvKipcbiAgICogQ2xhc3MgYXBwbGllZCB0byB0aGUgYWN0aXZlIGBsaWAgaW4gdGFiIGxpbmsgbGlzdC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnaXMtYWN0aXZlJ1xuICAgKi9cbiAgbGlua0FjdGl2ZUNsYXNzOiAnaXMtYWN0aXZlJyxcblxuICAvKipcbiAgICogQ2xhc3MgYXBwbGllZCB0byB0aGUgY29udGVudCBjb250YWluZXJzLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBkZWZhdWx0ICd0YWJzLXBhbmVsJ1xuICAgKi9cbiAgcGFuZWxDbGFzczogJ3RhYnMtcGFuZWwnLFxuXG4gIC8qKlxuICAgKiBDbGFzcyBhcHBsaWVkIHRvIHRoZSBhY3RpdmUgY29udGVudCBjb250YWluZXIuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJ2lzLWFjdGl2ZSdcbiAgICovXG4gIHBhbmVsQWN0aXZlQ2xhc3M6ICdpcy1hY3RpdmUnXG59O1xuXG5leHBvcnQge1RhYnN9O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IE1vdGlvbiB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLm1vdGlvbic7XG5pbXBvcnQgeyBQbHVnaW4gfSBmcm9tICcuL2ZvdW5kYXRpb24uY29yZS5wbHVnaW4nO1xuaW1wb3J0IHsgUmVnRXhwRXNjYXBlIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUudXRpbHMnO1xuaW1wb3J0IHsgVHJpZ2dlcnMgfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC50cmlnZ2Vycyc7XG5cbi8qKlxuICogVG9nZ2xlciBtb2R1bGUuXG4gKiBAbW9kdWxlIGZvdW5kYXRpb24udG9nZ2xlclxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tb3Rpb25cbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwudHJpZ2dlcnNcbiAqL1xuXG5jbGFzcyBUb2dnbGVyIGV4dGVuZHMgUGx1Z2luIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVG9nZ2xlci5cbiAgICogQGNsYXNzXG4gICAqIEBuYW1lIFRvZ2dsZXJcbiAgICogQGZpcmVzIFRvZ2dsZXIjaW5pdFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gYWRkIHRoZSB0cmlnZ2VyIHRvLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlcyB0byB0aGUgZGVmYXVsdCBwbHVnaW4gc2V0dGluZ3MuXG4gICAqL1xuICBfc2V0dXAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBUb2dnbGVyLmRlZmF1bHRzLCBlbGVtZW50LmRhdGEoKSwgb3B0aW9ucyk7XG4gICAgdGhpcy5jbGFzc05hbWUgPSAnJztcbiAgICB0aGlzLmNsYXNzTmFtZSA9ICdUb2dnbGVyJzsgLy8gaWU5IGJhY2sgY29tcGF0XG5cbiAgICAvLyBUcmlnZ2VycyBpbml0IGlzIGlkZW1wb3RlbnQsIGp1c3QgbmVlZCB0byBtYWtlIHN1cmUgaXQgaXMgaW5pdGlhbGl6ZWRcbiAgICBUcmlnZ2Vycy5pbml0KCQpO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBUb2dnbGVyIHBsdWdpbiBieSBwYXJzaW5nIHRoZSB0b2dnbGUgY2xhc3MgZnJvbSBkYXRhLXRvZ2dsZXIsIG9yIGFuaW1hdGlvbiBjbGFzc2VzIGZyb20gZGF0YS1hbmltYXRlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0KCkge1xuICAgIC8vIENvbGxlY3QgdHJpZ2dlcnMgdG8gc2V0IEFSSUEgYXR0cmlidXRlcyB0b1xuICAgIHZhciBpZCA9IHRoaXMuJGVsZW1lbnRbMF0uaWQsXG4gICAgICAkdHJpZ2dlcnMgPSAkKGBbZGF0YS1vcGVufj1cIiR7aWR9XCJdLCBbZGF0YS1jbG9zZX49XCIke2lkfVwiXSwgW2RhdGEtdG9nZ2xlfj1cIiR7aWR9XCJdYCk7XG5cbiAgICB2YXIgaW5wdXQ7XG4gICAgLy8gUGFyc2UgYW5pbWF0aW9uIGNsYXNzZXMgaWYgdGhleSB3ZXJlIHNldFxuICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0ZSkge1xuICAgICAgaW5wdXQgPSB0aGlzLm9wdGlvbnMuYW5pbWF0ZS5zcGxpdCgnICcpO1xuXG4gICAgICB0aGlzLmFuaW1hdGlvbkluID0gaW5wdXRbMF07XG4gICAgICB0aGlzLmFuaW1hdGlvbk91dCA9IGlucHV0WzFdIHx8IG51bGw7XG5cbiAgICAgIC8vIC0gYXJpYS1leHBhbmRlZDogYWNjb3JkaW5nIHRvIHRoZSBlbGVtZW50IHZpc2liaWxpdHkuXG4gICAgICAkdHJpZ2dlcnMuYXR0cignYXJpYS1leHBhbmRlZCcsICF0aGlzLiRlbGVtZW50LmlzKCc6aGlkZGVuJykpO1xuICAgIH1cbiAgICAvLyBPdGhlcndpc2UsIHBhcnNlIHRvZ2dsZSBjbGFzc1xuICAgIGVsc2Uge1xuICAgICAgaW5wdXQgPSB0aGlzLm9wdGlvbnMudG9nZ2xlcjtcbiAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnIHx8ICFpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgJ3RvZ2dsZXInIG9wdGlvbiBjb250YWluaW5nIHRoZSB0YXJnZXQgY2xhc3MgaXMgcmVxdWlyZWQsIGdvdCBcIiR7aW5wdXR9XCJgKTtcbiAgICAgIH1cbiAgICAgIC8vIEFsbG93IGZvciBhIC4gYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgc3RyaW5nXG4gICAgICB0aGlzLmNsYXNzTmFtZSA9IGlucHV0WzBdID09PSAnLicgPyBpbnB1dC5zbGljZSgxKSA6IGlucHV0O1xuXG4gICAgICAvLyAtIGFyaWEtZXhwYW5kZWQ6IGFjY29yZGluZyB0byB0aGUgZWxlbWVudHMgY2xhc3Mgc2V0LlxuICAgICAgJHRyaWdnZXJzLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKHRoaXMuY2xhc3NOYW1lKSk7XG4gICAgfVxuXG4gICAgLy8gLSBhcmlhLWNvbnRyb2xzOiBhZGRpbmcgdGhlIGVsZW1lbnQgaWQgdG8gaXQgaWYgbm90IGFscmVhZHkgaW4gaXQuXG4gICAgJHRyaWdnZXJzLmVhY2goKGluZGV4LCB0cmlnZ2VyKSA9PiB7XG4gICAgICBjb25zdCAkdHJpZ2dlciA9ICQodHJpZ2dlcik7XG4gICAgICBjb25zdCBjb250cm9scyA9ICR0cmlnZ2VyLmF0dHIoJ2FyaWEtY29udHJvbHMnKSB8fCAnJztcblxuICAgICAgY29uc3QgY29udGFpbnNJZCA9IG5ldyBSZWdFeHAoYFxcXFxiJHtSZWdFeHBFc2NhcGUoaWQpfVxcXFxiYCkudGVzdChjb250cm9scyk7XG4gICAgICBpZiAoIWNvbnRhaW5zSWQpICR0cmlnZ2VyLmF0dHIoJ2FyaWEtY29udHJvbHMnLCBjb250cm9scyA/IGAke2NvbnRyb2xzfSAke2lkfWAgOiBpZCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgZXZlbnRzIGZvciB0aGUgdG9nZ2xlIHRyaWdnZXIuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2V2ZW50cygpIHtcbiAgICB0aGlzLiRlbGVtZW50Lm9mZigndG9nZ2xlLnpmLnRyaWdnZXInKS5vbigndG9nZ2xlLnpmLnRyaWdnZXInLCB0aGlzLnRvZ2dsZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSB0YXJnZXQgY2xhc3Mgb24gdGhlIHRhcmdldCBlbGVtZW50LiBBbiBldmVudCBpcyBmaXJlZCBmcm9tIHRoZSBvcmlnaW5hbCB0cmlnZ2VyIGRlcGVuZGluZyBvbiBpZiB0aGUgcmVzdWx0YW50IHN0YXRlIHdhcyBcIm9uXCIgb3IgXCJvZmZcIi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBmaXJlcyBUb2dnbGVyI29uXG4gICAqIEBmaXJlcyBUb2dnbGVyI29mZlxuICAgKi9cbiAgdG9nZ2xlKCkge1xuICAgIHRoaXNbIHRoaXMub3B0aW9ucy5hbmltYXRlID8gJ190b2dnbGVBbmltYXRlJyA6ICdfdG9nZ2xlQ2xhc3MnXSgpO1xuICB9XG5cbiAgX3RvZ2dsZUNsYXNzKCkge1xuICAgIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3ModGhpcy5jbGFzc05hbWUpO1xuXG4gICAgdmFyIGlzT24gPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKHRoaXMuY2xhc3NOYW1lKTtcbiAgICBpZiAoaXNPbikge1xuICAgICAgLyoqXG4gICAgICAgKiBGaXJlcyBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaGFzIHRoZSBjbGFzcyBhZnRlciBhIHRvZ2dsZS5cbiAgICAgICAqIEBldmVudCBUb2dnbGVyI29uXG4gICAgICAgKi9cbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignb24uemYudG9nZ2xlcicpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8qKlxuICAgICAgICogRmlyZXMgaWYgdGhlIHRhcmdldCBlbGVtZW50IGRvZXMgbm90IGhhdmUgdGhlIGNsYXNzIGFmdGVyIGEgdG9nZ2xlLlxuICAgICAgICogQGV2ZW50IFRvZ2dsZXIjb2ZmXG4gICAgICAgKi9cbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignb2ZmLnpmLnRvZ2dsZXInKTtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVBUklBKGlzT24pO1xuICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtbXV0YXRlXScpLnRyaWdnZXIoJ211dGF0ZW1lLnpmLnRyaWdnZXInKTtcbiAgfVxuXG4gIF90b2dnbGVBbmltYXRlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy4kZWxlbWVudC5pcygnOmhpZGRlbicpKSB7XG4gICAgICBNb3Rpb24uYW5pbWF0ZUluKHRoaXMuJGVsZW1lbnQsIHRoaXMuYW5pbWF0aW9uSW4sIGZ1bmN0aW9uKCkge1xuICAgICAgICBfdGhpcy5fdXBkYXRlQVJJQSh0cnVlKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdvbi56Zi50b2dnbGVyJyk7XG4gICAgICAgIHRoaXMuZmluZCgnW2RhdGEtbXV0YXRlXScpLnRyaWdnZXIoJ211dGF0ZW1lLnpmLnRyaWdnZXInKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIE1vdGlvbi5hbmltYXRlT3V0KHRoaXMuJGVsZW1lbnQsIHRoaXMuYW5pbWF0aW9uT3V0LCBmdW5jdGlvbigpIHtcbiAgICAgICAgX3RoaXMuX3VwZGF0ZUFSSUEoZmFsc2UpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ29mZi56Zi50b2dnbGVyJyk7XG4gICAgICAgIHRoaXMuZmluZCgnW2RhdGEtbXV0YXRlXScpLnRyaWdnZXIoJ211dGF0ZW1lLnpmLnRyaWdnZXInKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF91cGRhdGVBUklBKGlzT24pIHtcbiAgICB2YXIgaWQgPSB0aGlzLiRlbGVtZW50WzBdLmlkO1xuICAgICQoYFtkYXRhLW9wZW49XCIke2lkfVwiXSwgW2RhdGEtY2xvc2U9XCIke2lkfVwiXSwgW2RhdGEtdG9nZ2xlPVwiJHtpZH1cIl1gKVxuICAgICAgLmF0dHIoe1xuICAgICAgICAnYXJpYS1leHBhbmRlZCc6IGlzT24gPyB0cnVlIDogZmFsc2VcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSBpbnN0YW5jZSBvZiBUb2dnbGVyIG9uIHRoZSBlbGVtZW50LlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIF9kZXN0cm95KCkge1xuICAgIHRoaXMuJGVsZW1lbnQub2ZmKCcuemYudG9nZ2xlcicpO1xuICB9XG59XG5cblRvZ2dsZXIuZGVmYXVsdHMgPSB7XG4gIC8qKlxuICAgKiBDbGFzcyBvZiB0aGUgZWxlbWVudCB0byB0b2dnbGUuIEl0IGNhbiBiZSBwcm92aWRlZCB3aXRoIG9yIHdpdGhvdXQgXCIuXCJcbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgdG9nZ2xlcjogdW5kZWZpbmVkLFxuICAvKipcbiAgICogVGVsbHMgdGhlIHBsdWdpbiBpZiB0aGUgZWxlbWVudCBzaG91bGQgYW5pbWF0ZWQgd2hlbiB0b2dnbGVkLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYW5pbWF0ZTogZmFsc2Vcbn07XG5cbmV4cG9ydCB7VG9nZ2xlcn07XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHsgR2V0WW9EaWdpdHMsIGlnbm9yZU1vdXNlZGlzYXBwZWFyIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUudXRpbHMnO1xuaW1wb3J0IHsgTWVkaWFRdWVyeSB9IGZyb20gJy4vZm91bmRhdGlvbi51dGlsLm1lZGlhUXVlcnknO1xuaW1wb3J0IHsgVHJpZ2dlcnMgfSBmcm9tICcuL2ZvdW5kYXRpb24udXRpbC50cmlnZ2Vycyc7XG5pbXBvcnQgeyBQb3NpdGlvbmFibGUgfSBmcm9tICcuL2ZvdW5kYXRpb24ucG9zaXRpb25hYmxlJztcblxuLyoqXG4gKiBUb29sdGlwIG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi50b29sdGlwXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmJveFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tZWRpYVF1ZXJ5XG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLnRyaWdnZXJzXG4gKi9cblxuY2xhc3MgVG9vbHRpcCBleHRlbmRzIFBvc2l0aW9uYWJsZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIGEgVG9vbHRpcC5cbiAgICogQGNsYXNzXG4gICAqIEBuYW1lIFRvb2x0aXBcbiAgICogQGZpcmVzIFRvb2x0aXAjaW5pdFxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gYXR0YWNoIGEgdG9vbHRpcCB0by5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvYmplY3QgdG8gZXh0ZW5kIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uXG4gICAqL1xuICBfc2V0dXAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBUb29sdGlwLmRlZmF1bHRzLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucyk7XG4gICAgdGhpcy5jbGFzc05hbWUgPSAnVG9vbHRpcCc7IC8vIGllOSBiYWNrIGNvbXBhdFxuXG4gICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuaXNDbGljayA9IGZhbHNlO1xuXG4gICAgLy8gVHJpZ2dlcnMgaW5pdCBpcyBpZGVtcG90ZW50LCBqdXN0IG5lZWQgdG8gbWFrZSBzdXJlIGl0IGlzIGluaXRpYWxpemVkXG4gICAgVHJpZ2dlcnMuaW5pdCgkKTtcblxuICAgIHRoaXMuX2luaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgdG9vbHRpcCBieSBzZXR0aW5nIHRoZSBjcmVhdGluZyB0aGUgdGlwIGVsZW1lbnQsIGFkZGluZyBpdCdzIHRleHQsIHNldHRpbmcgcHJpdmF0ZSB2YXJpYWJsZXMgYW5kIHNldHRpbmcgYXR0cmlidXRlcyBvbiB0aGUgYW5jaG9yLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgTWVkaWFRdWVyeS5faW5pdCgpO1xuICAgIHZhciBlbGVtSWQgPSB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKSB8fCBHZXRZb0RpZ2l0cyg2LCAndG9vbHRpcCcpO1xuXG4gICAgdGhpcy5vcHRpb25zLnRpcFRleHQgPSB0aGlzLm9wdGlvbnMudGlwVGV4dCB8fCB0aGlzLiRlbGVtZW50LmF0dHIoJ3RpdGxlJyk7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRoaXMub3B0aW9ucy50ZW1wbGF0ZSA/ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKSA6IHRoaXMuX2J1aWxkVGVtcGxhdGUoZWxlbUlkKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dIdG1sKSB7XG4gICAgICB0aGlzLnRlbXBsYXRlLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpXG4gICAgICAgIC5odG1sKHRoaXMub3B0aW9ucy50aXBUZXh0KVxuICAgICAgICAuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRlbXBsYXRlLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpXG4gICAgICAgIC50ZXh0KHRoaXMub3B0aW9ucy50aXBUZXh0KVxuICAgICAgICAuaGlkZSgpO1xuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQuYXR0cih7XG4gICAgICAndGl0bGUnOiAnJyxcbiAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogZWxlbUlkLFxuICAgICAgJ2RhdGEteWV0aS1ib3gnOiBlbGVtSWQsXG4gICAgICAnZGF0YS10b2dnbGUnOiBlbGVtSWQsXG4gICAgICAnZGF0YS1yZXNpemUnOiBlbGVtSWRcbiAgICB9KS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudHJpZ2dlckNsYXNzKTtcblxuICAgIHN1cGVyLl9pbml0KCk7XG4gICAgdGhpcy5fZXZlbnRzKCk7XG4gIH1cblxuICBfZ2V0RGVmYXVsdFBvc2l0aW9uKCkge1xuICAgIC8vIGhhbmRsZSBsZWdhY3kgY2xhc3NuYW1lc1xuICAgIHZhciBlbGVtZW50Q2xhc3NOYW1lID0gdGhpcy4kZWxlbWVudFswXS5jbGFzc05hbWU7XG4gICAgaWYgKHRoaXMuJGVsZW1lbnRbMF0gaW5zdGFuY2VvZiBTVkdFbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnRDbGFzc05hbWUgPSBlbGVtZW50Q2xhc3NOYW1lLmJhc2VWYWw7XG4gICAgfVxuICAgIHZhciBwb3NpdGlvbiA9IGVsZW1lbnRDbGFzc05hbWUubWF0Y2goL1xcYih0b3B8bGVmdHxyaWdodHxib3R0b20pXFxiL2cpO1xuICAgIHJldHVybiBwb3NpdGlvbiA/IHBvc2l0aW9uWzBdIDogJ3RvcCc7XG4gIH1cblxuICBfZ2V0RGVmYXVsdEFsaWdubWVudCgpIHtcbiAgICByZXR1cm4gJ2NlbnRlcic7XG4gIH1cblxuICBfZ2V0SE9mZnNldCgpIHtcbiAgICBpZih0aGlzLnBvc2l0aW9uID09PSAnbGVmdCcgfHwgdGhpcy5wb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5oT2Zmc2V0ICsgdGhpcy5vcHRpb25zLnRvb2x0aXBXaWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5oT2Zmc2V0XG4gICAgfVxuICB9XG5cbiAgX2dldFZPZmZzZXQoKSB7XG4gICAgaWYodGhpcy5wb3NpdGlvbiA9PT0gJ3RvcCcgfHwgdGhpcy5wb3NpdGlvbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMudk9mZnNldCArIHRoaXMub3B0aW9ucy50b29sdGlwSGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnZPZmZzZXRcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogYnVpbGRzIHRoZSB0b29sdGlwIGVsZW1lbnQsIGFkZHMgYXR0cmlidXRlcywgYW5kIHJldHVybnMgdGhlIHRlbXBsYXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2J1aWxkVGVtcGxhdGUoaWQpIHtcbiAgICB2YXIgdGVtcGxhdGVDbGFzc2VzID0gKGAke3RoaXMub3B0aW9ucy50b29sdGlwQ2xhc3N9ICR7dGhpcy5vcHRpb25zLnRlbXBsYXRlQ2xhc3Nlc31gKS50cmltKCk7XG4gICAgdmFyICR0ZW1wbGF0ZSA9ICAkKCc8ZGl2PjwvZGl2PicpLmFkZENsYXNzKHRlbXBsYXRlQ2xhc3NlcykuYXR0cih7XG4gICAgICAncm9sZSc6ICd0b29sdGlwJyxcbiAgICAgICdhcmlhLWhpZGRlbic6IHRydWUsXG4gICAgICAnZGF0YS1pcy1hY3RpdmUnOiBmYWxzZSxcbiAgICAgICdkYXRhLWlzLWZvY3VzJzogZmFsc2UsXG4gICAgICAnaWQnOiBpZFxuICAgIH0pO1xuICAgIHJldHVybiAkdGVtcGxhdGU7XG4gIH1cblxuICAvKipcbiAgICogc2V0cyB0aGUgcG9zaXRpb24gY2xhc3Mgb2YgYW4gZWxlbWVudCBhbmQgcmVjdXJzaXZlbHkgY2FsbHMgaXRzZWxmIHVudGlsIHRoZXJlIGFyZSBubyBtb3JlIHBvc3NpYmxlIHBvc2l0aW9ucyB0byBhdHRlbXB0LCBvciB0aGUgdG9vbHRpcCBlbGVtZW50IGlzIG5vIGxvbmdlciBjb2xsaWRpbmcuXG4gICAqIGlmIHRoZSB0b29sdGlwIGlzIGxhcmdlciB0aGFuIHRoZSBzY3JlZW4gd2lkdGgsIGRlZmF1bHQgdG8gZnVsbCB3aWR0aCAtIGFueSB1c2VyIHNlbGVjdGVkIG1hcmdpblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFBvc2l0aW9uKCkge1xuICAgIHN1cGVyLl9zZXRQb3NpdGlvbih0aGlzLiRlbGVtZW50LCB0aGlzLnRlbXBsYXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXZlYWxzIHRoZSB0b29sdGlwLCBhbmQgZmlyZXMgYW4gZXZlbnQgdG8gY2xvc2UgYW55IG90aGVyIG9wZW4gdG9vbHRpcHMgb24gdGhlIHBhZ2VcbiAgICogQGZpcmVzIFRvb2x0aXAjY2xvc2VtZVxuICAgKiBAZmlyZXMgVG9vbHRpcCNzaG93XG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgc2hvdygpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dPbiAhPT0gJ2FsbCcgJiYgIU1lZGlhUXVlcnkuaXModGhpcy5vcHRpb25zLnNob3dPbikpIHtcbiAgICAgIC8vIGNvbnNvbGUuZXJyb3IoJ1RoZSBzY3JlZW4gaXMgdG9vIHNtYWxsIHRvIGRpc3BsYXkgdGhpcyB0b29sdGlwJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB0aGlzLnRlbXBsYXRlLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKS5zaG93KCk7XG4gICAgdGhpcy5fc2V0UG9zaXRpb24oKTtcbiAgICB0aGlzLnRlbXBsYXRlLnJlbW92ZUNsYXNzKCd0b3AgYm90dG9tIGxlZnQgcmlnaHQnKS5hZGRDbGFzcyh0aGlzLnBvc2l0aW9uKVxuICAgIHRoaXMudGVtcGxhdGUucmVtb3ZlQ2xhc3MoJ2FsaWduLXRvcCBhbGlnbi1ib3R0b20gYWxpZ24tbGVmdCBhbGlnbi1yaWdodCBhbGlnbi1jZW50ZXInKS5hZGRDbGFzcygnYWxpZ24tJyArIHRoaXMuYWxpZ25tZW50KTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVzIHRvIGNsb3NlIGFsbCBvdGhlciBvcGVuIHRvb2x0aXBzIG9uIHRoZSBwYWdlXG4gICAgICogQGV2ZW50IENsb3NlbWUjdG9vbHRpcFxuICAgICAqL1xuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignY2xvc2VtZS56Zi50b29sdGlwJywgdGhpcy50ZW1wbGF0ZS5hdHRyKCdpZCcpKTtcblxuXG4gICAgdGhpcy50ZW1wbGF0ZS5hdHRyKHtcbiAgICAgICdkYXRhLWlzLWFjdGl2ZSc6IHRydWUsXG4gICAgICAnYXJpYS1oaWRkZW4nOiBmYWxzZVxuICAgIH0pO1xuICAgIF90aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICB0aGlzLnRlbXBsYXRlLnN0b3AoKS5oaWRlKCkuY3NzKCd2aXNpYmlsaXR5JywgJycpLmZhZGVJbih0aGlzLm9wdGlvbnMuZmFkZUluRHVyYXRpb24sIGZ1bmN0aW9uKCkge1xuICAgICAgLy9tYXliZSBkbyBzdHVmZj9cbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIHRoZSB0b29sdGlwIGlzIHNob3duXG4gICAgICogQGV2ZW50IFRvb2x0aXAjc2hvd1xuICAgICAqL1xuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignc2hvdy56Zi50b29sdGlwJyk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZXMgdGhlIGN1cnJlbnQgdG9vbHRpcCwgYW5kIHJlc2V0cyB0aGUgcG9zaXRpb25pbmcgY2xhc3MgaWYgaXQgd2FzIGNoYW5nZWQgZHVlIHRvIGNvbGxpc2lvblxuICAgKiBAZmlyZXMgVG9vbHRpcCNoaWRlXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMudGVtcGxhdGUuc3RvcCgpLmF0dHIoe1xuICAgICAgJ2FyaWEtaGlkZGVuJzogdHJ1ZSxcbiAgICAgICdkYXRhLWlzLWFjdGl2ZSc6IGZhbHNlXG4gICAgfSkuZmFkZU91dCh0aGlzLm9wdGlvbnMuZmFkZU91dER1cmF0aW9uLCBmdW5jdGlvbigpIHtcbiAgICAgIF90aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICBfdGhpcy5pc0NsaWNrID0gZmFsc2U7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogZmlyZXMgd2hlbiB0aGUgdG9vbHRpcCBpcyBoaWRkZW5cbiAgICAgKiBAZXZlbnQgVG9vbHRpcCNoaWRlXG4gICAgICovXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdoaWRlLnpmLnRvb2x0aXAnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBhZGRzIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIHRvb2x0aXAgYW5kIGl0cyBhbmNob3JcbiAgICogVE9ETyBjb21iaW5lIHNvbWUgb2YgdGhlIGxpc3RlbmVycyBsaWtlIGZvY3VzIGFuZCBtb3VzZWVudGVyLCBldGMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZXZlbnRzKCkge1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICBjb25zdCBoYXNUb3VjaCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKTtcbiAgICB2YXIgaXNGb2N1cyA9IGZhbHNlO1xuXG4gICAgLy8gYGRpc2FibGVGb3JUb3VjaDogRnVsbHkgZGlzYWJsZSB0aGUgdG9vbHRpcCBvbiB0b3VjaCBkZXZpY2VzXG4gICAgaWYgKGhhc1RvdWNoICYmIHRoaXMub3B0aW9ucy5kaXNhYmxlRm9yVG91Y2gpIHJldHVybjtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmRpc2FibGVIb3Zlcikge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uKCdtb3VzZWVudGVyLnpmLnRvb2x0aXAnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5pc0FjdGl2ZSkge1xuICAgICAgICAgIF90aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xuICAgICAgICAgIH0sIF90aGlzLm9wdGlvbnMuaG92ZXJEZWxheSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbGVhdmUuemYudG9vbHRpcCcsIGlnbm9yZU1vdXNlZGlzYXBwZWFyKGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZW91dCk7XG4gICAgICAgIGlmICghaXNGb2N1cyB8fCAoX3RoaXMuaXNDbGljayAmJiAhX3RoaXMub3B0aW9ucy5jbGlja09wZW4pKSB7XG4gICAgICAgICAgX3RoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgaWYgKGhhc1RvdWNoKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAub24oJ3RhcC56Zi50b29sdGlwIHRvdWNoZW5kLnpmLnRvb2x0aXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmlzQWN0aXZlID8gX3RoaXMuaGlkZSgpIDogX3RoaXMuc2hvdygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jbGlja09wZW4pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ21vdXNlZG93bi56Zi50b29sdGlwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChfdGhpcy5pc0NsaWNrKSB7XG4gICAgICAgICAgLy9fdGhpcy5oaWRlKCk7XG4gICAgICAgICAgLy8gX3RoaXMuaXNDbGljayA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLmlzQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgIGlmICgoX3RoaXMub3B0aW9ucy5kaXNhYmxlSG92ZXIgfHwgIV90aGlzLiRlbGVtZW50LmF0dHIoJ3RhYmluZGV4JykpICYmICFfdGhpcy5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ21vdXNlZG93bi56Zi50b29sdGlwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLmlzQ2xpY2sgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy4kZWxlbWVudC5vbih7XG4gICAgICAvLyAndG9nZ2xlLnpmLnRyaWdnZXInOiB0aGlzLnRvZ2dsZS5iaW5kKHRoaXMpLFxuICAgICAgLy8gJ2Nsb3NlLnpmLnRyaWdnZXInOiB0aGlzLmhpZGUuYmluZCh0aGlzKVxuICAgICAgJ2Nsb3NlLnpmLnRyaWdnZXInOiB0aGlzLmhpZGUuYmluZCh0aGlzKVxuICAgIH0pO1xuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uKCdmb2N1cy56Zi50b29sdGlwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzRm9jdXMgPSB0cnVlO1xuICAgICAgICBpZiAoX3RoaXMuaXNDbGljaykge1xuICAgICAgICAgIC8vIElmIHdlJ3JlIG5vdCBzaG93aW5nIG9wZW4gb24gY2xpY2tzLCB3ZSBuZWVkIHRvIHByZXRlbmQgYSBjbGljay1sYXVuY2hlZCBmb2N1cyBpc24ndFxuICAgICAgICAgIC8vIGEgcmVhbCBmb2N1cywgb3RoZXJ3aXNlIG9uIGhvdmVyIGFuZCBjb21lIGJhY2sgd2UgZ2V0IGJhZCBiZWhhdmlvclxuICAgICAgICAgIGlmKCFfdGhpcy5vcHRpb25zLmNsaWNrT3BlbikgeyBpc0ZvY3VzID0gZmFsc2U7IH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuc2hvdygpO1xuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAub24oJ2ZvY3Vzb3V0LnpmLnRvb2x0aXAnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaXNGb2N1cyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc0NsaWNrID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhpZGUoKTtcbiAgICAgIH0pXG5cbiAgICAgIC5vbigncmVzaXplbWUuemYudHJpZ2dlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoX3RoaXMuaXNBY3RpdmUpIHtcbiAgICAgICAgICBfdGhpcy5fc2V0UG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogYWRkcyBhIHRvZ2dsZSBtZXRob2QsIGluIGFkZGl0aW9uIHRvIHRoZSBzdGF0aWMgc2hvdygpICYgaGlkZSgpIGZ1bmN0aW9uc1xuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIHRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyBhbiBpbnN0YW5jZSBvZiB0b29sdGlwLCByZW1vdmVzIHRlbXBsYXRlIGVsZW1lbnQgZnJvbSB0aGUgdmlldy5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBfZGVzdHJveSgpIHtcbiAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ3RpdGxlJywgdGhpcy50ZW1wbGF0ZS50ZXh0KCkpXG4gICAgICAgICAgICAgICAgIC5vZmYoJy56Zi50cmlnZ2VyIC56Zi50b29sdGlwJylcbiAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy50cmlnZ2VyQ2xhc3MpXG4gICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygndG9wIHJpZ2h0IGxlZnQgYm90dG9tJylcbiAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnkgZGF0YS1kaXNhYmxlLWhvdmVyIGRhdGEtcmVzaXplIGRhdGEtdG9nZ2xlIGRhdGEtdG9vbHRpcCBkYXRhLXlldGktYm94Jyk7XG5cbiAgICB0aGlzLnRlbXBsYXRlLnJlbW92ZSgpO1xuICB9XG59XG5cblRvb2x0aXAuZGVmYXVsdHMgPSB7XG4gIC8qKlxuICAgKiBUaW1lLCBpbiBtcywgYmVmb3JlIGEgdG9vbHRpcCBzaG91bGQgb3BlbiBvbiBob3Zlci5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAyMDBcbiAgICovXG4gIGhvdmVyRGVsYXk6IDIwMCxcbiAgLyoqXG4gICAqIFRpbWUsIGluIG1zLCBhIHRvb2x0aXAgc2hvdWxkIHRha2UgdG8gZmFkZSBpbnRvIHZpZXcuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMTUwXG4gICAqL1xuICBmYWRlSW5EdXJhdGlvbjogMTUwLFxuICAvKipcbiAgICogVGltZSwgaW4gbXMsIGEgdG9vbHRpcCBzaG91bGQgdGFrZSB0byBmYWRlIG91dCBvZiB2aWV3LlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDE1MFxuICAgKi9cbiAgZmFkZU91dER1cmF0aW9uOiAxNTAsXG4gIC8qKlxuICAgKiBEaXNhYmxlcyBob3ZlciBldmVudHMgZnJvbSBvcGVuaW5nIHRoZSB0b29sdGlwIGlmIHNldCB0byB0cnVlXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlSG92ZXI6IGZhbHNlLFxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgdG9vbHRpcCBmb3IgdG91Y2ggZGV2aWNlcy5cbiAgICogVGhpcyBjYW4gYmUgdXNlZnVsIHRvIG1ha2UgZWxlbWVudHMgd2l0aCBhIHRvb2x0aXAgb24gaXQgdHJpZ2dlciB0aGVpclxuICAgKiBhY3Rpb24gb24gdGhlIGZpcnN0IHRhcCBpbnN0ZWFkIG9mIGRpc3BsYXlpbmcgdGhlIHRvb2x0aXAuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2VsYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlRm9yVG91Y2g6IGZhbHNlLFxuICAvKipcbiAgICogT3B0aW9uYWwgYWRkdGlvbmFsIGNsYXNzZXMgdG8gYXBwbHkgdG8gdGhlIHRvb2x0aXAgdGVtcGxhdGUgb24gaW5pdC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnJ1xuICAgKi9cbiAgdGVtcGxhdGVDbGFzc2VzOiAnJyxcbiAgLyoqXG4gICAqIE5vbi1vcHRpb25hbCBjbGFzcyBhZGRlZCB0byB0b29sdGlwIHRlbXBsYXRlcy4gRm91bmRhdGlvbiBkZWZhdWx0IGlzICd0b29sdGlwJy5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAndG9vbHRpcCdcbiAgICovXG4gIHRvb2x0aXBDbGFzczogJ3Rvb2x0aXAnLFxuICAvKipcbiAgICogQ2xhc3MgYXBwbGllZCB0byB0aGUgdG9vbHRpcCBhbmNob3IgZWxlbWVudC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnaGFzLXRpcCdcbiAgICovXG4gIHRyaWdnZXJDbGFzczogJ2hhcy10aXAnLFxuICAvKipcbiAgICogTWluaW11bSBicmVha3BvaW50IHNpemUgYXQgd2hpY2ggdG8gb3BlbiB0aGUgdG9vbHRpcC5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnc21hbGwnXG4gICAqL1xuICBzaG93T246ICdzbWFsbCcsXG4gIC8qKlxuICAgKiBDdXN0b20gdGVtcGxhdGUgdG8gYmUgdXNlZCB0byBnZW5lcmF0ZSBtYXJrdXAgZm9yIHRvb2x0aXAuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJydcbiAgICovXG4gIHRlbXBsYXRlOiAnJyxcbiAgLyoqXG4gICAqIFRleHQgZGlzcGxheWVkIGluIHRoZSB0b29sdGlwIHRlbXBsYXRlIG9uIG9wZW4uXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJydcbiAgICovXG4gIHRpcFRleHQ6ICcnLFxuICB0b3VjaENsb3NlVGV4dDogJ1RhcCB0byBjbG9zZS4nLFxuICAvKipcbiAgICogQWxsb3dzIHRoZSB0b29sdGlwIHRvIHJlbWFpbiBvcGVuIGlmIHRyaWdnZXJlZCB3aXRoIGEgY2xpY2sgb3IgdG91Y2ggZXZlbnQuXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGNsaWNrT3BlbjogdHJ1ZSxcbiAgLyoqXG4gICAqIFBvc2l0aW9uIG9mIHRvb2x0aXAuIENhbiBiZSBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG9yIGF1dG8uXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJ2F1dG8nXG4gICAqL1xuICBwb3NpdGlvbjogJ2F1dG8nLFxuICAvKipcbiAgICogQWxpZ25tZW50IG9mIHRvb2x0aXAgcmVsYXRpdmUgdG8gYW5jaG9yLiBDYW4gYmUgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBjZW50ZXIsIG9yIGF1dG8uXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQGRlZmF1bHQgJ2F1dG8nXG4gICAqL1xuICBhbGlnbm1lbnQ6ICdhdXRvJyxcbiAgLyoqXG4gICAqIEFsbG93IG92ZXJsYXAgb2YgY29udGFpbmVyL3dpbmRvdy4gSWYgZmFsc2UsIHRvb2x0aXAgd2lsbCBmaXJzdCB0cnkgdG9cbiAgICogcG9zaXRpb24gYXMgZGVmaW5lZCBieSBkYXRhLXBvc2l0aW9uIGFuZCBkYXRhLWFsaWdubWVudCwgYnV0IHJlcG9zaXRpb24gaWZcbiAgICogaXQgd291bGQgY2F1c2UgYW4gb3ZlcmZsb3cuICBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYWxsb3dPdmVybGFwOiBmYWxzZSxcbiAgLyoqXG4gICAqIEFsbG93IG92ZXJsYXAgb2Ygb25seSB0aGUgYm90dG9tIG9mIHRoZSBjb250YWluZXIuIFRoaXMgaXMgdGhlIG1vc3QgY29tbW9uXG4gICAqIGJlaGF2aW9yIGZvciBkcm9wZG93bnMsIGFsbG93aW5nIHRoZSBkcm9wZG93biB0byBleHRlbmQgdGhlIGJvdHRvbSBvZiB0aGVcbiAgICogc2NyZWVuIGJ1dCBub3Qgb3RoZXJ3aXNlIGluZmx1ZW5jZSBvciBicmVhayBvdXQgb2YgdGhlIGNvbnRhaW5lci5cbiAgICogTGVzcyBjb21tb24gZm9yIHRvb2x0aXBzLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYWxsb3dCb3R0b21PdmVybGFwOiBmYWxzZSxcbiAgLyoqXG4gICAqIERpc3RhbmNlLCBpbiBwaXhlbHMsIHRoZSB0ZW1wbGF0ZSBzaG91bGQgcHVzaCBhd2F5IGZyb20gdGhlIGFuY2hvciBvbiB0aGUgWSBheGlzLlxuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIHZPZmZzZXQ6IDAsXG4gIC8qKlxuICAgKiBEaXN0YW5jZSwgaW4gcGl4ZWxzLCB0aGUgdGVtcGxhdGUgc2hvdWxkIHB1c2ggYXdheSBmcm9tIHRoZSBhbmNob3Igb24gdGhlIFggYXhpc1xuICAgKiBAb3B0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIGhPZmZzZXQ6IDAsXG4gIC8qKlxuICAgKiBEaXN0YW5jZSwgaW4gcGl4ZWxzLCB0aGUgdGVtcGxhdGUgc3BhY2luZyBhdXRvLWFkanVzdCBmb3IgYSB2ZXJ0aWNhbCB0b29sdGlwXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMTRcbiAgICovXG4gIHRvb2x0aXBIZWlnaHQ6IDE0LFxuICAvKipcbiAgICogRGlzdGFuY2UsIGluIHBpeGVscywgdGhlIHRlbXBsYXRlIHNwYWNpbmcgYXV0by1hZGp1c3QgZm9yIGEgaG9yaXpvbnRhbCB0b29sdGlwXG4gICAqIEBvcHRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMTJcbiAgICovXG4gIHRvb2x0aXBXaWR0aDogMTIsXG4gICAgLyoqXG4gICAqIEFsbG93IEhUTUwgaW4gdG9vbHRpcC4gV2FybmluZzogSWYgeW91IGFyZSBsb2FkaW5nIHVzZXItZ2VuZXJhdGVkIGNvbnRlbnQgaW50byB0b29sdGlwcyxcbiAgICogYWxsb3dpbmcgSFRNTCBtYXkgb3BlbiB5b3Vyc2VsZiB1cCB0byBYU1MgYXR0YWNrcy5cbiAgICogQG9wdGlvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGFsbG93SHRtbDogZmFsc2Vcbn07XG5cbi8qKlxuICogVE9ETyB1dGlsaXplIHJlc2l6ZSBldmVudCB0cmlnZ2VyXG4gKi9cblxuZXhwb3J0IHtUb29sdGlwfTtcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgeyBNZWRpYVF1ZXJ5IH0gZnJvbSAnLi9mb3VuZGF0aW9uLnV0aWwubWVkaWFRdWVyeSc7XG5pbXBvcnQgeyBHZXRZb0RpZ2l0cyB9IGZyb20gJy4vZm91bmRhdGlvbi5jb3JlLnV0aWxzJztcbmltcG9ydCB7IFBsdWdpbiB9ZnJvbSAnLi9mb3VuZGF0aW9uLmNvcmUucGx1Z2luJztcblxuaW1wb3J0IHsgQWNjb3JkaW9uIH0gZnJvbSAnLi9mb3VuZGF0aW9uLmFjY29yZGlvbic7XG5pbXBvcnQgeyBUYWJzIH0gZnJvbSAnLi9mb3VuZGF0aW9uLnRhYnMnO1xuXG4vLyBUaGUgcGx1Z2luIG1hdGNoZXMgdGhlIHBsdWdpbiBjbGFzc2VzIHdpdGggdGhlc2UgcGx1Z2luIGluc3RhbmNlcy5cbnZhciBNZW51UGx1Z2lucyA9IHtcbiAgdGFiczoge1xuICAgIGNzc0NsYXNzOiAndGFicycsXG4gICAgcGx1Z2luOiAgIFRhYnMsXG4gICAgb3BlbjogICAgIChwbHVnaW4sIHRhcmdldCkgPT4gcGx1Z2luLnNlbGVjdFRhYih0YXJnZXQpLFxuICAgIGNsb3NlOiAgICBudWxsIC8qIG5vdCBzdXBwb3J0ZWQgKi8sXG4gICAgdG9nZ2xlOiAgIG51bGwgLyogbm90IHN1cHBvcnRlZCAqLyxcbiAgfSxcbiAgYWNjb3JkaW9uOiB7XG4gICAgY3NzQ2xhc3M6ICdhY2NvcmRpb24nLFxuICAgIHBsdWdpbjogICBBY2NvcmRpb24sXG4gICAgb3BlbjogICAgIChwbHVnaW4sIHRhcmdldCkgPT4gcGx1Z2luLmRvd24oJCh0YXJnZXQpKSxcbiAgICBjbG9zZTogICAgKHBsdWdpbiwgdGFyZ2V0KSA9PiBwbHVnaW4udXAoJCh0YXJnZXQpKSxcbiAgICB0b2dnbGU6ICAgKHBsdWdpbiwgdGFyZ2V0KSA9PiBwbHVnaW4udG9nZ2xlKCQodGFyZ2V0KSksXG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZXNwb25zaXZlQWNjb3JkaW9uVGFicyBtb2R1bGUuXG4gKiBAbW9kdWxlIGZvdW5kYXRpb24ucmVzcG9uc2l2ZUFjY29yZGlvblRhYnNcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwubW90aW9uXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi5hY2NvcmRpb25cbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnRhYnNcbiAqL1xuXG5jbGFzcyBSZXNwb25zaXZlQWNjb3JkaW9uVGFicyBleHRlbmRzIFBsdWdpbntcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHN1cGVyKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucmVmbG93ICYmIHRoaXMuc3RvcmV6ZkRhdGEgfHwgdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIGEgcmVzcG9uc2l2ZSBhY2NvcmRpb24gdGFicy5cbiAgICogQGNsYXNzXG4gICAqIEBuYW1lIFJlc3BvbnNpdmVBY2NvcmRpb25UYWJzXG4gICAqIEBmaXJlcyBSZXNwb25zaXZlQWNjb3JkaW9uVGFicyNpbml0XG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCB0byBtYWtlIGludG8gUmVzcG9uc2l2ZSBBY2NvcmRpb24gVGFicy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgX3NldHVwKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICB0aGlzLiRlbGVtZW50LmRhdGEoJ3pmUGx1Z2luQmFzZScsIHRoaXMpO1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBSZXNwb25zaXZlQWNjb3JkaW9uVGFicy5kZWZhdWx0cywgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5ydWxlcyA9IHRoaXMuJGVsZW1lbnQuZGF0YSgncmVzcG9uc2l2ZS1hY2NvcmRpb24tdGFicycpO1xuICAgIHRoaXMuY3VycmVudE1xID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRSdWxlID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRQbHVnaW4gPSBudWxsO1xuICAgIHRoaXMuY2xhc3NOYW1lID0gJ1Jlc3BvbnNpdmVBY2NvcmRpb25UYWJzJzsgLy8gaWU5IGJhY2sgY29tcGF0XG4gICAgaWYgKCF0aGlzLiRlbGVtZW50LmF0dHIoJ2lkJykpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignaWQnLEdldFlvRGlnaXRzKDYsICdyZXNwb25zaXZlYWNjb3JkaW9udGFicycpKTtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gICAgdGhpcy5fZXZlbnRzKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIE1lbnUgYnkgcGFyc2luZyB0aGUgY2xhc3NlcyBmcm9tIHRoZSAnZGF0YS1yZXNwb25zaXZlLWFjY29yZGlvbi10YWJzJyBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgTWVkaWFRdWVyeS5faW5pdCgpO1xuXG4gICAgLy8gVGhlIGZpcnN0IHRpbWUgYW4gSW50ZXJjaGFuZ2UgcGx1Z2luIGlzIGluaXRpYWxpemVkLCB0aGlzLnJ1bGVzIGlzIGNvbnZlcnRlZCBmcm9tIGEgc3RyaW5nIG9mIFwiY2xhc3Nlc1wiIHRvIGFuIG9iamVjdCBvZiBydWxlc1xuICAgIGlmICh0eXBlb2YgdGhpcy5ydWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxldCBydWxlc1RyZWUgPSB7fTtcblxuICAgICAgLy8gUGFyc2UgcnVsZXMgZnJvbSBcImNsYXNzZXNcIiBwdWxsZWQgZnJvbSBkYXRhIGF0dHJpYnV0ZVxuICAgICAgbGV0IHJ1bGVzID0gdGhpcy5ydWxlcy5zcGxpdCgnICcpO1xuXG4gICAgICAvLyBJdGVyYXRlIHRocm91Z2ggZXZlcnkgcnVsZSBmb3VuZFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcnVsZSA9IHJ1bGVzW2ldLnNwbGl0KCctJyk7XG4gICAgICAgIGxldCBydWxlU2l6ZSA9IHJ1bGUubGVuZ3RoID4gMSA/IHJ1bGVbMF0gOiAnc21hbGwnO1xuICAgICAgICBsZXQgcnVsZVBsdWdpbiA9IHJ1bGUubGVuZ3RoID4gMSA/IHJ1bGVbMV0gOiBydWxlWzBdO1xuXG4gICAgICAgIGlmIChNZW51UGx1Z2luc1tydWxlUGx1Z2luXSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJ1bGVzVHJlZVtydWxlU2l6ZV0gPSBNZW51UGx1Z2luc1tydWxlUGx1Z2luXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnJ1bGVzID0gcnVsZXNUcmVlO1xuICAgIH1cblxuICAgIHRoaXMuX2dldEFsbE9wdGlvbnMoKTtcblxuICAgIGlmICghJC5pc0VtcHR5T2JqZWN0KHRoaXMucnVsZXMpKSB7XG4gICAgICB0aGlzLl9jaGVja01lZGlhUXVlcmllcygpO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRBbGxPcHRpb25zKCkge1xuICAgIC8vZ2V0IGFsbCBkZWZhdWx0cyBhbmQgb3B0aW9uc1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMuYWxsT3B0aW9ucyA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBNZW51UGx1Z2lucykge1xuICAgICAgaWYgKE1lbnVQbHVnaW5zLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgdmFyIG9iaiA9IE1lbnVQbHVnaW5zW2tleV07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGR1bW15UGx1Z2luID0gJCgnPHVsPjwvdWw+Jyk7XG4gICAgICAgICAgdmFyIHRtcFBsdWdpbiA9IG5ldyBvYmoucGx1Z2luKGR1bW15UGx1Z2luLF90aGlzLm9wdGlvbnMpO1xuICAgICAgICAgIGZvciAodmFyIGtleUtleSBpbiB0bXBQbHVnaW4ub3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKHRtcFBsdWdpbi5vcHRpb25zLmhhc093blByb3BlcnR5KGtleUtleSkgJiYga2V5S2V5ICE9PSAnemZQbHVnaW4nKSB7XG4gICAgICAgICAgICAgIHZhciBvYmpPYmogPSB0bXBQbHVnaW4ub3B0aW9uc1trZXlLZXldO1xuICAgICAgICAgICAgICBfdGhpcy5hbGxPcHRpb25zW2tleUtleV0gPSBvYmpPYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRtcFBsdWdpbi5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgV2FybmluZzogUHJvYmxlbXMgZ2V0dGluZyBBY2NvcmRpb24vVGFiIG9wdGlvbnM6ICR7ZX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBldmVudHMgZm9yIHRoZSBNZW51LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9ldmVudHMoKSB7XG4gICAgdGhpcy5fY2hhbmdlZFpmTWVkaWFRdWVyeUhhbmRsZXIgPSB0aGlzLl9jaGVja01lZGlhUXVlcmllcy5iaW5kKHRoaXMpO1xuICAgICQod2luZG93KS5vbignY2hhbmdlZC56Zi5tZWRpYXF1ZXJ5JywgdGhpcy5fY2hhbmdlZFpmTWVkaWFRdWVyeUhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB0aGUgY3VycmVudCBzY3JlZW4gd2lkdGggYWdhaW5zdCBhdmFpbGFibGUgbWVkaWEgcXVlcmllcy4gSWYgdGhlIG1lZGlhIHF1ZXJ5IGhhcyBjaGFuZ2VkLCBhbmQgdGhlIHBsdWdpbiBuZWVkZWQgaGFzIGNoYW5nZWQsIHRoZSBwbHVnaW5zIHdpbGwgc3dhcCBvdXQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NoZWNrTWVkaWFRdWVyaWVzKCkge1xuICAgIHZhciBtYXRjaGVkTXEsIF90aGlzID0gdGhpcztcbiAgICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBydWxlIGFuZCBmaW5kIHRoZSBsYXN0IG1hdGNoaW5nIHJ1bGVcbiAgICAkLmVhY2godGhpcy5ydWxlcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZiAoTWVkaWFRdWVyeS5hdExlYXN0KGtleSkpIHtcbiAgICAgICAgbWF0Y2hlZE1xID0ga2V5O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTm8gbWF0Y2g/IE5vIGRpY2VcbiAgICBpZiAoIW1hdGNoZWRNcSkgcmV0dXJuO1xuXG4gICAgLy8gUGx1Z2luIGFscmVhZHkgaW5pdGlhbGl6ZWQ/IFdlIGdvb2RcbiAgICBpZiAodGhpcy5jdXJyZW50UGx1Z2luIGluc3RhbmNlb2YgdGhpcy5ydWxlc1ttYXRjaGVkTXFdLnBsdWdpbikgcmV0dXJuO1xuXG4gICAgLy8gUmVtb3ZlIGV4aXN0aW5nIHBsdWdpbi1zcGVjaWZpYyBDU1MgY2xhc3Nlc1xuICAgICQuZWFjaChNZW51UGx1Z2lucywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgX3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3ModmFsdWUuY3NzQ2xhc3MpO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIHRoZSBDU1MgY2xhc3MgZm9yIHRoZSBuZXcgcGx1Z2luXG4gICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLnJ1bGVzW21hdGNoZWRNcV0uY3NzQ2xhc3MpO1xuXG4gICAgLy8gQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBuZXcgcGx1Z2luXG4gICAgaWYgKHRoaXMuY3VycmVudFBsdWdpbikge1xuICAgICAgLy9kb24ndCBrbm93IHdoeSBidXQgb24gbmVzdGVkIGVsZW1lbnRzIGRhdGEgemZQbHVnaW4gZ2V0J3MgbG9zdFxuICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQbHVnaW4uJGVsZW1lbnQuZGF0YSgnemZQbHVnaW4nKSAmJiB0aGlzLnN0b3JlemZEYXRhKSB0aGlzLmN1cnJlbnRQbHVnaW4uJGVsZW1lbnQuZGF0YSgnemZQbHVnaW4nLHRoaXMuc3RvcmV6ZkRhdGEpO1xuICAgICAgdGhpcy5jdXJyZW50UGx1Z2luLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5faGFuZGxlTWFya3VwKHRoaXMucnVsZXNbbWF0Y2hlZE1xXS5jc3NDbGFzcyk7XG4gICAgdGhpcy5jdXJyZW50UnVsZSA9IHRoaXMucnVsZXNbbWF0Y2hlZE1xXTtcbiAgICB0aGlzLmN1cnJlbnRQbHVnaW4gPSBuZXcgdGhpcy5jdXJyZW50UnVsZS5wbHVnaW4odGhpcy4kZWxlbWVudCwgdGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLnN0b3JlemZEYXRhID0gdGhpcy5jdXJyZW50UGx1Z2luLiRlbGVtZW50LmRhdGEoJ3pmUGx1Z2luJyk7XG5cbiAgfVxuXG4gIF9oYW5kbGVNYXJrdXAodG9TZXQpe1xuICAgIHZhciBfdGhpcyA9IHRoaXMsIGZyb21TdHJpbmcgPSAnYWNjb3JkaW9uJztcbiAgICB2YXIgJHBhbmVscyA9ICQoJ1tkYXRhLXRhYnMtY29udGVudD0nK3RoaXMuJGVsZW1lbnQuYXR0cignaWQnKSsnXScpO1xuICAgIGlmICgkcGFuZWxzLmxlbmd0aCkgZnJvbVN0cmluZyA9ICd0YWJzJztcbiAgICBpZiAoZnJvbVN0cmluZyA9PT0gdG9TZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGFic1RpdGxlID0gX3RoaXMuYWxsT3B0aW9ucy5saW5rQ2xhc3M/X3RoaXMuYWxsT3B0aW9ucy5saW5rQ2xhc3M6J3RhYnMtdGl0bGUnO1xuICAgIHZhciB0YWJzUGFuZWwgPSBfdGhpcy5hbGxPcHRpb25zLnBhbmVsQ2xhc3M/X3RoaXMuYWxsT3B0aW9ucy5wYW5lbENsYXNzOid0YWJzLXBhbmVsJztcblxuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cigncm9sZScpO1xuICAgIHZhciAkbGlIZWFkcyA9IHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oJy4nK3RhYnNUaXRsZSsnLFtkYXRhLWFjY29yZGlvbi1pdGVtXScpLnJlbW92ZUNsYXNzKHRhYnNUaXRsZSkucmVtb3ZlQ2xhc3MoJ2FjY29yZGlvbi1pdGVtJykucmVtb3ZlQXR0cignZGF0YS1hY2NvcmRpb24taXRlbScpO1xuICAgIHZhciAkbGlIZWFkc0EgPSAkbGlIZWFkcy5jaGlsZHJlbignYScpLnJlbW92ZUNsYXNzKCdhY2NvcmRpb24tdGl0bGUnKTtcblxuICAgIGlmIChmcm9tU3RyaW5nID09PSAndGFicycpIHtcbiAgICAgICRwYW5lbHMgPSAkcGFuZWxzLmNoaWxkcmVuKCcuJyt0YWJzUGFuZWwpLnJlbW92ZUNsYXNzKHRhYnNQYW5lbCkucmVtb3ZlQXR0cigncm9sZScpLnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuJykucmVtb3ZlQXR0cignYXJpYS1sYWJlbGxlZGJ5Jyk7XG4gICAgICAkcGFuZWxzLmNoaWxkcmVuKCdhJykucmVtb3ZlQXR0cigncm9sZScpLnJlbW92ZUF0dHIoJ2FyaWEtY29udHJvbHMnKS5yZW1vdmVBdHRyKCdhcmlhLXNlbGVjdGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRwYW5lbHMgPSAkbGlIZWFkcy5jaGlsZHJlbignW2RhdGEtdGFiLWNvbnRlbnRdJykucmVtb3ZlQ2xhc3MoJ2FjY29yZGlvbi1jb250ZW50Jyk7XG4gICAgfVxuXG4gICAgJHBhbmVscy5jc3Moe2Rpc3BsYXk6JycsdmlzaWJpbGl0eTonJ30pO1xuICAgICRsaUhlYWRzLmNzcyh7ZGlzcGxheTonJyx2aXNpYmlsaXR5OicnfSk7XG4gICAgaWYgKHRvU2V0ID09PSAnYWNjb3JkaW9uJykge1xuICAgICAgJHBhbmVscy5lYWNoKGZ1bmN0aW9uKGtleSx2YWx1ZSl7XG4gICAgICAgICQodmFsdWUpLmFwcGVuZFRvKCRsaUhlYWRzLmdldChrZXkpKS5hZGRDbGFzcygnYWNjb3JkaW9uLWNvbnRlbnQnKS5hdHRyKCdkYXRhLXRhYi1jb250ZW50JywnJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpLmNzcyh7aGVpZ2h0OicnfSk7XG4gICAgICAgICQoJ1tkYXRhLXRhYnMtY29udGVudD0nK190aGlzLiRlbGVtZW50LmF0dHIoJ2lkJykrJ10nKS5hZnRlcignPGRpdiBpZD1cInRhYnMtcGxhY2Vob2xkZXItJytfdGhpcy4kZWxlbWVudC5hdHRyKCdpZCcpKydcIj48L2Rpdj4nKS5kZXRhY2goKTtcbiAgICAgICAgJGxpSGVhZHMuYWRkQ2xhc3MoJ2FjY29yZGlvbi1pdGVtJykuYXR0cignZGF0YS1hY2NvcmRpb24taXRlbScsJycpO1xuICAgICAgICAkbGlIZWFkc0EuYWRkQ2xhc3MoJ2FjY29yZGlvbi10aXRsZScpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0b1NldCA9PT0gJ3RhYnMnKSB7XG4gICAgICB2YXIgJHRhYnNDb250ZW50ID0gJCgnW2RhdGEtdGFicy1jb250ZW50PScrX3RoaXMuJGVsZW1lbnQuYXR0cignaWQnKSsnXScpO1xuICAgICAgdmFyICRwbGFjZWhvbGRlciA9ICQoJyN0YWJzLXBsYWNlaG9sZGVyLScrX3RoaXMuJGVsZW1lbnQuYXR0cignaWQnKSk7XG4gICAgICBpZiAoJHBsYWNlaG9sZGVyLmxlbmd0aCkge1xuICAgICAgICAkdGFic0NvbnRlbnQgPSAkKCc8ZGl2IGNsYXNzPVwidGFicy1jb250ZW50XCI+PC9kaXY+JykuaW5zZXJ0QWZ0ZXIoJHBsYWNlaG9sZGVyKS5hdHRyKCdkYXRhLXRhYnMtY29udGVudCcsX3RoaXMuJGVsZW1lbnQuYXR0cignaWQnKSk7XG4gICAgICAgICRwbGFjZWhvbGRlci5yZW1vdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICR0YWJzQ29udGVudCA9ICQoJzxkaXYgY2xhc3M9XCJ0YWJzLWNvbnRlbnRcIj48L2Rpdj4nKS5pbnNlcnRBZnRlcihfdGhpcy4kZWxlbWVudCkuYXR0cignZGF0YS10YWJzLWNvbnRlbnQnLF90aGlzLiRlbGVtZW50LmF0dHIoJ2lkJykpO1xuICAgICAgfVxuICAgICAgJHBhbmVscy5lYWNoKGZ1bmN0aW9uKGtleSx2YWx1ZSl7XG4gICAgICAgIHZhciB0ZW1wVmFsdWUgPSAkKHZhbHVlKS5hcHBlbmRUbygkdGFic0NvbnRlbnQpLmFkZENsYXNzKHRhYnNQYW5lbCk7XG4gICAgICAgIHZhciBoYXNoID0gJGxpSGVhZHNBLmdldChrZXkpLmhhc2guc2xpY2UoMSk7XG4gICAgICAgIHZhciBpZCA9ICQodmFsdWUpLmF0dHIoJ2lkJykgfHwgR2V0WW9EaWdpdHMoNiwgJ2FjY29yZGlvbicpO1xuICAgICAgICBpZiAoaGFzaCAhPT0gaWQpIHtcbiAgICAgICAgICBpZiAoaGFzaCAhPT0gJycpIHtcbiAgICAgICAgICAgICQodmFsdWUpLmF0dHIoJ2lkJyxoYXNoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFzaCA9IGlkO1xuICAgICAgICAgICAgJCh2YWx1ZSkuYXR0cignaWQnLGhhc2gpO1xuICAgICAgICAgICAgJCgkbGlIZWFkc0EuZ2V0KGtleSkpLmF0dHIoJ2hyZWYnLCQoJGxpSGVhZHNBLmdldChrZXkpKS5hdHRyKCdocmVmJykucmVwbGFjZSgnIycsJycpKycjJytoYXNoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzQWN0aXZlID0gJCgkbGlIZWFkcy5nZXQoa2V5KSkuaGFzQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0ZW1wVmFsdWUuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgICRsaUhlYWRzLmFkZENsYXNzKHRhYnNUaXRsZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgcGx1Z2luIHBhbmUgZGVmaW5lZCBieSBgdGFyZ2V0YC5cbiAgICogQHBhcmFtIHtqUXVlcnkgfCBTdHJpbmd9IHRhcmdldCAtIGpRdWVyeSBvYmplY3Qgb3Igc3RyaW5nIG9mIHRoZSBpZCBvZiB0aGUgcGFuZSB0byBvcGVuLlxuICAgKiBAc2VlIEFjY29yZGlvbi5kb3duXG4gICAqIEBzZWUgVGFicy5zZWxlY3RUYWJcbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBvcGVuKCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRSdWxlICYmIHR5cGVvZiB0aGlzLmN1cnJlbnRSdWxlLm9wZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRSdWxlLm9wZW4odGhpcy5jdXJyZW50UGx1Z2luLCAuLi5hcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIHBsdWdpbiBwYW5lIGRlZmluZWQgYnkgYHRhcmdldGAuIE5vdCBhdmFpbGFpYmxlIGZvciBUYWJzLlxuICAgKiBAcGFyYW0ge2pRdWVyeSB8IFN0cmluZ30gdGFyZ2V0IC0galF1ZXJ5IG9iamVjdCBvciBzdHJpbmcgb2YgdGhlIGlkIG9mIHRoZSBwYW5lIHRvIGNsb3NlLlxuICAgKiBAc2VlIEFjY29yZGlvbi51cFxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIGNsb3NlKCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRSdWxlICYmIHR5cGVvZiB0aGlzLmN1cnJlbnRSdWxlLmNsb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50UnVsZS5jbG9zZSh0aGlzLmN1cnJlbnRQbHVnaW4sIC4uLmFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIHBsdWdpbiBwYW5lIGRlZmluZWQgYnkgYHRhcmdldGAuIE5vdCBhdmFpbGFpYmxlIGZvciBUYWJzLlxuICAgKiBAcGFyYW0ge2pRdWVyeSB8IFN0cmluZ30gdGFyZ2V0IC0galF1ZXJ5IG9iamVjdCBvciBzdHJpbmcgb2YgdGhlIGlkIG9mIHRoZSBwYW5lIHRvIHRvZ2dsZS5cbiAgICogQHNlZSBBY2NvcmRpb24udG9nZ2xlXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgdG9nZ2xlKCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRSdWxlICYmIHR5cGVvZiB0aGlzLmN1cnJlbnRSdWxlLnRvZ2dsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFJ1bGUudG9nZ2xlKHRoaXMuY3VycmVudFBsdWdpbiwgLi4uYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIGluc3RhbmNlIG9mIHRoZSBjdXJyZW50IHBsdWdpbiBvbiB0aGlzIGVsZW1lbnQsIGFzIHdlbGwgYXMgdGhlIHdpbmRvdyByZXNpemUgaGFuZGxlciB0aGF0IHN3aXRjaGVzIHRoZSBwbHVnaW5zIG91dC5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBfZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGx1Z2luKSB0aGlzLmN1cnJlbnRQbHVnaW4uZGVzdHJveSgpO1xuICAgICQod2luZG93KS5vZmYoJ2NoYW5nZWQuemYubWVkaWFxdWVyeScsIHRoaXMuX2NoYW5nZWRaZk1lZGlhUXVlcnlIYW5kbGVyKTtcbiAgfVxufVxuXG5SZXNwb25zaXZlQWNjb3JkaW9uVGFicy5kZWZhdWx0cyA9IHt9O1xuXG5leHBvcnQge1Jlc3BvbnNpdmVBY2NvcmRpb25UYWJzfTtcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbmltcG9ydCB7IEZvdW5kYXRpb24gfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24uY29yZSc7XG5pbXBvcnQgKiBhcyBDb3JlVXRpbHMgZnJvbSAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLmNvcmUudXRpbHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnV0aWwuYm94J1xuaW1wb3J0IHsgb25JbWFnZXNMb2FkZWQgfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24udXRpbC5pbWFnZUxvYWRlcic7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gJ2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi51dGlsLmtleWJvYXJkJztcbmltcG9ydCB7IE1lZGlhUXVlcnkgfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24udXRpbC5tZWRpYVF1ZXJ5JztcbmltcG9ydCB7IE1vdGlvbiwgTW92ZSB9IGZyb20gJ2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi51dGlsLm1vdGlvbic7XG5pbXBvcnQgeyBOZXN0IH0gZnJvbSAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnV0aWwubmVzdCc7XG5pbXBvcnQgeyBUaW1lciB9IGZyb20gJ2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi51dGlsLnRpbWVyJztcbmltcG9ydCB7IFRvdWNoIH0gZnJvbSAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnV0aWwudG91Y2gnO1xuaW1wb3J0IHsgVHJpZ2dlcnMgfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24udXRpbC50cmlnZ2Vycyc7XG5pbXBvcnQgeyBBYmlkZSB9IGZyb20gJ2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5hYmlkZSc7XG5pbXBvcnQgeyBBY2NvcmRpb24gfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24uYWNjb3JkaW9uJztcbmltcG9ydCB7IEFjY29yZGlvbk1lbnUgfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24uYWNjb3JkaW9uTWVudSc7XG5pbXBvcnQgeyBEcmlsbGRvd24gfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24uZHJpbGxkb3duJztcbmltcG9ydCB7IERyb3Bkb3duIH0gZnJvbSAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLmRyb3Bkb3duJztcbmltcG9ydCB7IERyb3Bkb3duTWVudSB9IGZyb20gJ2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5kcm9wZG93bk1lbnUnO1xuaW1wb3J0IHsgRXF1YWxpemVyIH0gZnJvbSAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLmVxdWFsaXplcic7XG5pbXBvcnQgeyBJbnRlcmNoYW5nZSB9IGZyb20gJ2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5pbnRlcmNoYW5nZSc7XG5pbXBvcnQgeyBNYWdlbGxhbiB9IGZyb20gJ2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5tYWdlbGxhbic7XG5pbXBvcnQgeyBPZmZDYW52YXMgfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24ub2ZmY2FudmFzJztcbmltcG9ydCB7IE9yYml0IH0gZnJvbSAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLm9yYml0JztcbmltcG9ydCB7IFJlc3BvbnNpdmVNZW51IH0gZnJvbSAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnJlc3BvbnNpdmVNZW51JztcbmltcG9ydCB7IFJlc3BvbnNpdmVUb2dnbGUgfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24ucmVzcG9uc2l2ZVRvZ2dsZSc7XG5pbXBvcnQgeyBSZXZlYWwgfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24ucmV2ZWFsJztcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gJ2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi5zbGlkZXInO1xuaW1wb3J0IHsgU21vb3RoU2Nyb2xsIH0gZnJvbSAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnNtb290aFNjcm9sbCc7XG5pbXBvcnQgeyBTdGlja3kgfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24uc3RpY2t5JztcbmltcG9ydCB7IFRhYnMgfSBmcm9tICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24udGFicyc7XG5pbXBvcnQgeyBUb2dnbGVyIH0gZnJvbSAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnRvZ2dsZXInO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi50b29sdGlwJztcbmltcG9ydCB7IFJlc3BvbnNpdmVBY2NvcmRpb25UYWJzIH0gZnJvbSAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnJlc3BvbnNpdmVBY2NvcmRpb25UYWJzJztcblxuRm91bmRhdGlvbi5hZGRUb0pxdWVyeSgkKTtcblxuLy8gQWRkIEZvdW5kYXRpb24gVXRpbHMgdG8gRm91bmRhdGlvbiBnbG9iYWwgbmFtZXNwYWNlIGZvciBiYWNrd2FyZHNcbi8vIGNvbXBhdGliaWxpdHkuXG5Gb3VuZGF0aW9uLnJ0bCA9IENvcmVVdGlscy5ydGw7XG5Gb3VuZGF0aW9uLkdldFlvRGlnaXRzID0gQ29yZVV0aWxzLkdldFlvRGlnaXRzO1xuRm91bmRhdGlvbi50cmFuc2l0aW9uZW5kID0gQ29yZVV0aWxzLnRyYW5zaXRpb25lbmQ7XG5Gb3VuZGF0aW9uLlJlZ0V4cEVzY2FwZSA9IENvcmVVdGlscy5SZWdFeHBFc2NhcGU7XG5Gb3VuZGF0aW9uLm9uTG9hZCA9IENvcmVVdGlscy5vbkxvYWQ7XG5cbkZvdW5kYXRpb24uQm94ID0gQm94O1xuRm91bmRhdGlvbi5vbkltYWdlc0xvYWRlZCA9IG9uSW1hZ2VzTG9hZGVkO1xuRm91bmRhdGlvbi5LZXlib2FyZCA9IEtleWJvYXJkO1xuRm91bmRhdGlvbi5NZWRpYVF1ZXJ5ID0gTWVkaWFRdWVyeTtcbkZvdW5kYXRpb24uTW90aW9uID0gTW90aW9uO1xuRm91bmRhdGlvbi5Nb3ZlID0gTW92ZTtcbkZvdW5kYXRpb24uTmVzdCA9IE5lc3Q7XG5Gb3VuZGF0aW9uLlRpbWVyID0gVGltZXI7XG5cbi8vIFRvdWNoIGFuZCBUcmlnZ2VycyBwcmV2aW91c2x5IHdlcmUgYWxtb3N0IHB1cmVseSBzZWRlIGVmZmVjdCBkcml2ZW4sXG4vLyBzbyBubyBuZWVkIHRvIGFkZCBpdCB0byBGb3VuZGF0aW9uLCBqdXN0IGluaXQgdGhlbS5cblRvdWNoLmluaXQoJCk7XG5UcmlnZ2Vycy5pbml0KCQsIEZvdW5kYXRpb24pO1xuTWVkaWFRdWVyeS5faW5pdCgpO1xuXG5Gb3VuZGF0aW9uLnBsdWdpbihBYmlkZSwgJ0FiaWRlJyk7XG5Gb3VuZGF0aW9uLnBsdWdpbihBY2NvcmRpb24sICdBY2NvcmRpb24nKTtcbkZvdW5kYXRpb24ucGx1Z2luKEFjY29yZGlvbk1lbnUsICdBY2NvcmRpb25NZW51Jyk7XG5Gb3VuZGF0aW9uLnBsdWdpbihEcmlsbGRvd24sICdEcmlsbGRvd24nKTtcbkZvdW5kYXRpb24ucGx1Z2luKERyb3Bkb3duLCAnRHJvcGRvd24nKTtcbkZvdW5kYXRpb24ucGx1Z2luKERyb3Bkb3duTWVudSwgJ0Ryb3Bkb3duTWVudScpO1xuRm91bmRhdGlvbi5wbHVnaW4oRXF1YWxpemVyLCAnRXF1YWxpemVyJyk7XG5Gb3VuZGF0aW9uLnBsdWdpbihJbnRlcmNoYW5nZSwgJ0ludGVyY2hhbmdlJyk7XG5Gb3VuZGF0aW9uLnBsdWdpbihNYWdlbGxhbiwgJ01hZ2VsbGFuJyk7XG5Gb3VuZGF0aW9uLnBsdWdpbihPZmZDYW52YXMsICdPZmZDYW52YXMnKTtcbkZvdW5kYXRpb24ucGx1Z2luKE9yYml0LCAnT3JiaXQnKTtcbkZvdW5kYXRpb24ucGx1Z2luKFJlc3BvbnNpdmVNZW51LCAnUmVzcG9uc2l2ZU1lbnUnKTtcbkZvdW5kYXRpb24ucGx1Z2luKFJlc3BvbnNpdmVUb2dnbGUsICdSZXNwb25zaXZlVG9nZ2xlJyk7XG5Gb3VuZGF0aW9uLnBsdWdpbihSZXZlYWwsICdSZXZlYWwnKTtcbkZvdW5kYXRpb24ucGx1Z2luKFNsaWRlciwgJ1NsaWRlcicpO1xuRm91bmRhdGlvbi5wbHVnaW4oU21vb3RoU2Nyb2xsLCAnU21vb3RoU2Nyb2xsJyk7XG5Gb3VuZGF0aW9uLnBsdWdpbihTdGlja3ksICdTdGlja3knKTtcbkZvdW5kYXRpb24ucGx1Z2luKFRhYnMsICdUYWJzJyk7XG5Gb3VuZGF0aW9uLnBsdWdpbihUb2dnbGVyLCAnVG9nZ2xlcicpO1xuRm91bmRhdGlvbi5wbHVnaW4oVG9vbHRpcCwgJ1Rvb2x0aXAnKTtcbkZvdW5kYXRpb24ucGx1Z2luKFJlc3BvbnNpdmVBY2NvcmRpb25UYWJzLCAnUmVzcG9uc2l2ZUFjY29yZGlvblRhYnMnKTtcblxuZXhwb3J0IHsgRm91bmRhdGlvbiB9O1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB3aGF0SW5wdXQgZnJvbSAnd2hhdC1pbnB1dCc7XG5cbndpbmRvdy4kID0gJDtcblxuaW1wb3J0ICcuL2xpYi9mb3VuZGF0aW9uLWV4cGxpY2l0LXBpZWNlcyc7XG5pbXBvcnQgJy4vbGliL3N0aWNreS1oZWFkZXIuanMnO1xuaW1wb3J0ICcuL2xpYi9tb2JpbGUtbWVudS5qcyc7XG5pbXBvcnQgJy4vbGliL2FjY291bnQtbWVudS5qcyc7XG5pbXBvcnQgJy4vbGliL2FjY291bnQtdGFicy5qcyc7XG5pbXBvcnQgJy4vbGliL3Bhc3N3b3JkLXRvZ2dsZS5qcyc7XG5pbXBvcnQgJy4vbGliL3RhYnMuanMnO1xuaW1wb3J0ICcuL2xpYi9jb21tZW50cy5qcyc7XG5pbXBvcnQgJy4vbGliL2JmLWNvdW50ZG93bi5qcyc7XG5pbXBvcnQgJy4vbGliL2NhdGFsb2ctc2VhcmNoLmpzJztcbmltcG9ydCAnLi9saWIvdmltZW8tcHJvZ3Jlc3MuanMnO1xuaW1wb3J0ICcuL2xpYi9mYXZvcml0ZXMtbGlzdC5qcyc7XG4vLyBpbXBvcnQgJy4vbGliL2xhenktbG9hZGluZy5qcyc7XG5cbiQoZG9jdW1lbnQpLmZvdW5kYXRpb24oKTtcblxuLyogY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLnN3aXBlcicsIHtcbiAgc2xpZGVzUGVyVmlldzogMS4yLFxuICBzcGFjZUJldHdlZW46IDE2LFxuICBicmVha3BvaW50czoge1xuICAgIDY0MDoge1xuICAgICAgc2xpZGVzUGVyVmlldzogMlxuICAgIH0sXG4gICAgOTAwOiB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAzXG4gICAgfSxcbiAgICAxMjAwOiB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiA0XG4gICAgfSxcbiAgICAxNDAwOiB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiA1XG4gICAgfSxcbiAgICAxNjAwOiB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiA2XG4gICAgfVxuICB9LFxuICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6IFwiLnN3aXBlci1wYWdpbmF0aW9uXCIsXG4gICAgdHlwZTogXCJmcmFjdGlvblwiLFxuICB9LFxuICBuYXZpZ2F0aW9uOiB7XG4gICAgbmV4dEVsOiBcIi5zd2lwZXItYnV0dG9uLW5leHRcIixcbiAgICBwcmV2RWw6IFwiLnN3aXBlci1idXR0b24tcHJldlwiLFxuICB9LFxuICBvbjoge1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXItc2xpZGUnKTtcbiAgICAgIHNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICB0cmFuc2l0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXItc2xpZGUnKTtcbiAgICAgIHNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICAgIHNsaWRlLmNsYXNzTGlzdC5hZGQoJ3N3aXBlci1uby1jbGljaycpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICB0cmFuc2l0aW9uRW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB2YXIgc2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN3aXBlci1zbGlkZScpO1xuICAgICAgICBzbGlkZXMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSkge1xuICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ3N3aXBlci1uby1jbGljaycpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIDIwMCk7XG4gICAgfSxcbiAgfSxcbn0pOyAqL1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICBjb25zdCBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lcHItaW52b2ljZS1wcmludCB+IGEnKTsgLy8gc2VsZWt0aXJhIGxpbmsgbmFrb24gZ3VtYmEgXCJJc3BpxaFpXCJcbiAgaWYgKGxpbmspIHtcbiAgICBsaW5rLnRleHRDb250ZW50ID0gJ1phcG/EjW5pIHRyZW5pcmF0aSc7XG4gICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnL2thdGFsb2cvJyk7XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbImpRdWVyeSIsIiQiLCIkdHJpZ2dlciIsIiRkcm9wZG93biIsImNsb3NlTWVudSIsInJlbW92ZUNsYXNzIiwiYXR0ciIsImxlbmd0aCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsImRvY3VtZW50IiwidGFyZ2V0IiwiY2xvc2VzdCIsImtleSIsImZvY3VzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiY29udGFpbmVyIiwidGFicyIsIkFycmF5IiwiZnJvbSIsInBhbmVscyIsInNldEFjdGl2ZSIsIm5hbWUiLCJ0YWIiLCJpc0FjdGl2ZSIsImRhdGFzZXQiLCJhY2NvdW50VGFiIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic2V0QXR0cmlidXRlIiwidGFiSW5kZXgiLCJwYW5lbCIsImFjY291bnRQYW5lbCIsImhpZGRlbiIsImluaXRpYWxUYWIiLCJmaW5kIiwiY29udGFpbnMiLCJVTklUX0tFWVMiLCJIT1VSX0lOX01TIiwiTUlOVVRFX0lOX01TIiwiREFZX0lOX01TIiwiZm9ybWF0VmFsdWUiLCJ2YWx1ZSIsIlN0cmluZyIsInBhZFN0YXJ0IiwiZW5zdXJlVGV4dE5vZGUiLCJlbGVtZW50IiwiZXhpc3RpbmdUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJub2RlIiwibm9kZVR5cGUiLCJOb2RlIiwiVEVYVF9OT0RFIiwidGV4dE5vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJpbml0Q291bnRkb3duIiwiY291bnRkb3duIiwiZGVhZGxpbmVBdHRyIiwiZ2V0QXR0cmlidXRlIiwiZGVhZGxpbmUiLCJEYXRlIiwiTnVtYmVyIiwiaXNOYU4iLCJnZXRUaW1lIiwidW5pdE5vZGVzIiwicmVkdWNlIiwiYWNjIiwicXVlcnlTZWxlY3RvciIsImNvbmNhdCIsInVwZGF0ZSIsIl91bml0Tm9kZXMkZGF5cyIsIl91bml0Tm9kZXMkaG91cnMiLCJfdW5pdE5vZGVzJG1pbnV0ZXMiLCJfdW5pdE5vZGVzJHNlY29uZHMiLCJub3ciLCJkaWZmIiwiZGF5cyIsIk1hdGgiLCJmbG9vciIsImhvdXJzIiwibWludXRlcyIsIlNFQ09ORF9JTl9NUyIsInNlY29uZHMiLCJub2RlVmFsdWUiLCJhZGQiLCJpbnRlcnZhbElkIiwid2luZG93Iiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwibW91bnRDb3VudGRvd25zIiwicmVhZHlTdGF0ZSIsImZvcm0iLCJpbnB1dCIsInJlc3VsdHMiLCJlbmRwb2ludCIsInBsYWNlaG9sZGVySW1hZ2UiLCJhYm9ydENvbnRyb2xsZXIiLCJkZWJvdW5jZUlkIiwibGFzdFF1ZXJ5IiwiY2xvc2VSZXN1bHRzIiwicmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwiaW5uZXJIVE1MIiwib3BlblJlc3VsdHMiLCJmZXRjaFJlc3VsdHMiLCJxdWVyeSIsImFib3J0IiwiQWJvcnRDb250cm9sbGVyIiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmV0Y2giLCJzaWduYWwiLCJjcmVkZW50aWFscyIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwiRXJyb3IiLCJqc29uIiwiZGF0YSIsInRyaW0iLCJpc0FycmF5IiwiaXRlbXMiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJpdGVtIiwibGluayIsImh0bWwiLCJ0ZW1wIiwidGl0bGVIdG1sIiwidGl0bGUiLCJyZW5kZXJlZCIsInRpdGxlVGV4dCIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImlubmVyVGV4dCIsImltYWdlVXJsIiwiX2VtYmVkZGVkIiwibWVkaWEiLCJzaXplcyIsIm1lZGlhX2RldGFpbHMiLCJwcmVmZXJyZWQiLCJtZWRpdW0iLCJ0aHVtYm5haWwiLCJzb3VyY2VfdXJsIiwiZ2V0SW1hZ2VVcmwiLCJjbGFzc05hbWUiLCJocmVmIiwidGh1bWIiLCJpbWciLCJzcmMiLCJhbHQiLCJsb2FkaW5nIiwiYXBwZW5kQ2hpbGQiLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyb3IiLCJzY2hlZHVsZUZldGNoIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImV2ZW50IiwiYmx1ciIsImVtb2ppUGlja2VySW5pdGlhbGl6ZWQiLCJ0b2dnbGVFbW9qaVBpY2tlciIsImdldEVsZW1lbnRCeUlkIiwiYWRkRW1vamkiLCJlbW9qaSIsInRleHRhcmVhIiwic3RhcnQiLCJzZWxlY3Rpb25TdGFydCIsImVuZCIsInNlbGVjdGlvbkVuZCIsInRleHQiLCJiZWZvcmUiLCJzdWJzdHJpbmciLCJhZnRlciIsImF1dG9SZXNpemVUZXh0YXJlYSIsInN0eWxlIiwiaGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwidG9nZ2xlTGlrZSIsImJ1dHRvbiIsImNvdW50IiwiY3VycmVudExpa2VzIiwicGFyc2VJbnQiLCJtYXgiLCJ0aGlzIiwiZW1vamlQaWNrZXIiLCJlbW9qaVBhbmVsIiwib3JpZ2luYWwiLCJkaXNhYmxlZCIsImhhc0F0dHJpYnV0ZSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiYWN0aXZlRWxlbWVudCIsIlBpbGF0ZXNDb21tZW50cyIsImluaXRpYWxpemVOZXdDb21tZW50cyIsInRvZ2dsZUJ0biIsImJ0biIsImZhdm9yaXRlcyIsInBvc3RJZCIsInNpdGVJZCIsInN0YXR1cyIsImNhcmQiLCJsaXN0IiwiY2hpbGRyZW4iLCJlbXB0eSIsImRpc3BsYXkiLCJjdXJyZW50IiwicmVwbGFjZSIsInRvZ2dsZU1lbnUiLCJ0b2dnbGVDbGFzcyIsImlzT3BlbiIsImNzcyIsImNsaWNrIiwiZ3JvdXAiLCJpc1Zpc2libGUiLCJ0eXBlIiwidG9TdHJpbmciLCJib2R5Iiwic2Nyb2xsVXAiLCJzY3JvbGxEb3duIiwibGFzdFNjcm9sbCIsImN1cnJlbnRTY3JvbGwiLCJwYWdlWU9mZnNldCIsImluaXRUYWJzIiwiZWwiLCJzdGFydFgiLCJzY3JvbGxMZWZ0IiwiaXNEb3duIiwiaGFzRHJhZ2dlZCIsIm9uUG9pbnRlclVwIiwidGFic0JhciIsInJlbGVhc2VQb2ludGVyQ2FwdHVyZSIsInBvaW50ZXJJZCIsImVyciIsImV2dCIsImNhcHR1cmUiLCJvbmNlIiwicG9pbnRlclR5cGUiLCJwYWdlWCIsIm9mZnNldExlZnQiLCJ3YWxrIiwiYWJzIiwic2V0UG9pbnRlckNhcHR1cmUiLCJzZXRBY3RpdmVUYWIiLCJfcmVmJHVwZGF0ZUhhc2giLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJ1cGRhdGVIYXNoIiwidGFiVGFyZ2V0IiwidGFyZ2V0SGFzaCIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJsb2NhdGlvbiIsImhhc2giLCJhY3RpdmF0ZUZyb21IYXNoIiwiYW5jaG9yIiwiaWQiLCJzb21lIiwiY29udGFpbmVycyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiVmltZW8iLCJQbGF5ZXIiLCJleGlzdGluZ1NjcmlwdCIsInNjcmlwdCIsImFzeW5jIiwiZGVmZXIiLCJoZWFkIiwiaWZyYW1lIiwibm9uY2UiLCJwcm9ncmFtSWQiLCJwbGF5ZXIiLCJoYXNTdGFydGVkIiwibGFzdFNlbnRBdCIsImxhc3RTZW50UHJvZ3Jlc3MiLCJzZW5kUHJvZ3Jlc3MiLCJwcm9ncmVzcyIsImNvbXBsZXRlZCIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwicHJvZ3JhbV9pZCIsInBlcmNlbnQiLCJpbml0VmltZW9Qcm9ncmVzc1BsYXllciIsImZhY3RvcnkiLCJtb2R1bGVzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJhc2siLCJpZ25vcmVLZXlzIiwic3BlY2lmaWNLZXlzIiwicmVnaXN0ZXJPbkNoYW5nZSIsInVuUmVnaXN0ZXJPbkNoYW5nZSIsImRvY0VsZW0iLCJkb2N1bWVudEVsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsImN1cnJlbnRJbnB1dCIsImN1cnJlbnRJbnRlbnQiLCJjdXJyZW50VGltZXN0YW1wIiwic2hvdWxkUGVyc2lzdCIsImZvcm1JbnB1dHMiLCJmdW5jdGlvbkxpc3QiLCJpZ25vcmVNYXAiLCJzcGVjaWZpY01hcCIsImlucHV0TWFwIiwia2V5ZG93biIsImtleXVwIiwibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwiTVNQb2ludGVyRG93biIsIk1TUG9pbnRlck1vdmUiLCJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwidG91Y2hzdGFydCIsInRvdWNoZW5kIiwiaXNTY3JvbGxpbmciLCJtb3VzZVBvcyIsIngiLCJ5IiwicG9pbnRlck1hcCIsInN1cHBvcnRzUGFzc2l2ZSIsIm9wdHMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsIm9wdGlvbnMiLCJzZXRQZXJzaXN0Iiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwiZG9VcGRhdGUiLCJzZXRJbnB1dCIsImV2ZW50S2V5Iiwid2hpY2giLCJpZ25vcmVNYXRjaCIsImluZGV4T2YiLCJzcGVjaWZpY01hdGNoIiwic2hvdWxkVXBkYXRlIiwidmFsaWRhdGVUb3VjaCIsInBlcnNpc3RJbnB1dCIsImFjdGl2ZUVsZW0iLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwiY2hlY2tDbG9zZXN0IiwiZmlyZUZ1bmN0aW9ucyIsInNldEludGVudCIsImRldGVjdFNjcm9sbGluZyIsInNldEVsZW1lbnQiLCJjbGVhckVsZW1lbnQiLCJzZXRJdGVtIiwidGltZXN0YW1wIiwidG91Y2hJc1ZhbGlkIiwiZGV0ZWN0V2hlZWwiLCJvbm1vdXNld2hlZWwiLCJpIiwibGVuIiwiZm4iLCJzY3JlZW5YIiwic2NyZWVuWSIsImVsZW0iLCJ0YWciLCJFbGVtZW50UHJvdG90eXBlIiwiRWxlbWVudCIsInByb3RvdHlwZSIsIm1hdGNoZXMiLCJtc01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsInBhcmVudEVsZW1lbnQiLCJwYXJlbnROb2RlIiwicGFzc2l2ZSIsIlBvaW50ZXJFdmVudCIsIk1TUG9pbnRlckV2ZW50Iiwib3B0IiwiYXJyIiwiZXZlbnRUeXBlIiwicHVzaCIsInBvc2l0aW9uIiwibWF0Y2giLCJvYmpQb3MiLCJzcGxpY2UiLCJjbGVhclN0b3JhZ2UiLCJjbGVhciIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsInJ0bCIsIkdldFlvRGlnaXRzIiwibmFtZXNwYWNlIiwic3RyIiwiY2hhcnMiLCJyYW5kb20iLCJSZWdFeHBFc2NhcGUiLCJ0cmFuc2l0aW9uZW5kIiwiJGVsZW0iLCJ0cmFuc2l0aW9ucyIsInRyYW5zaXRpb24iLCJ0cmlnZ2VySGFuZGxlciIsIm9uTG9hZCIsImhhbmRsZXIiLCJkaWRMb2FkIiwiY2IiLCJvbmUiLCJpZ25vcmVNb3VzZWRpc2FwcGVhciIsImlnbm9yZUxlYXZlV2luZG93IiwiaWdub3JlUmVhcHBlYXIiLCJlTGVhdmUiLCJyZXN0IiwiY2FsbGJhY2siLCJiaW5kIiwicmVsYXRlZFRhcmdldCIsImhhc0ZvY3VzIiwiZVJlZW50ZXIiLCJjdXJyZW50VGFyZ2V0IiwiaGFzIiwibWF0Y2hNZWRpYSIsInN0eWxlTWVkaWEiLCJpbmZvIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRDb21wdXRlZFN0eWxlIiwiY3VycmVudFN0eWxlIiwibWF0Y2hNZWRpdW0iLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsIndpZHRoIiwiTWVkaWFRdWVyeSIsInF1ZXJpZXMiLCJfaW5pdCIsImlzSW5pdGlhbGl6ZWQiLCJhcHBlbmRUbyIsIm5hbWVkUXVlcmllcyIsInN0eWxlT2JqZWN0IiwiZXh0cmFjdGVkU3R5bGVzIiwic2xpY2UiLCJzcGxpdCIsInJldCIsInBhcmFtIiwicGFydHMiLCJ2YWwiLCJkZWNvZGVVUklDb21wb25lbnQiLCJfZ2V0Q3VycmVudFNpemUiLCJfd2F0Y2hlciIsIl9yZUluaXQiLCJhdExlYXN0Iiwic2l6ZSIsIm9ubHkiLCJ1cFRvIiwibmV4dFNpemUiLCJuZXh0IiwiaXMiLCJmaWx0ZXIiLCJicFNpemUiLCJicE1vZGlmaWVyIiwicXVlcnlJbmRleCIsImZpbmRJbmRleCIsInEiLCJfZ2V0UXVlcnlOYW1lIiwibmV4dFF1ZXJ5IiwiVHlwZUVycm9yIiwibWF0Y2hlZCIsIm5ld1NpemUiLCJjdXJyZW50U2l6ZSIsInRyaWdnZXIiLCJGb3VuZGF0aW9uIiwidmVyc2lvbiIsIl9wbHVnaW5zIiwiX3V1aWRzIiwicGx1Z2luIiwiZnVuY3Rpb25OYW1lIiwiYXR0ck5hbWUiLCJoeXBoZW5hdGUiLCJyZWdpc3RlclBsdWdpbiIsInBsdWdpbk5hbWUiLCJjb25zdHJ1Y3RvciIsInV1aWQiLCIkZWxlbWVudCIsInVucmVnaXN0ZXJQbHVnaW4iLCJyZW1vdmVBdHRyIiwicmVtb3ZlRGF0YSIsInJlSW5pdCIsInBsdWdpbnMiLCJpc0pRIiwiZWFjaCIsIl90aGlzIiwicGxncyIsImZvdW5kYXRpb24iLCJvYmplY3QiLCJrZXlzIiwiY29uc29sZSIsInJlZmxvdyIsImFkZEJhY2siLCIkZWwiLCJvcHRpb24iLCJtYXAiLCJwYXJzZUZsb2F0IiwiZXIiLCJnZXRGbk5hbWUiLCJhZGRUb0pxdWVyeSIsIiRub0pTIiwiYXJncyIsInBsdWdDbGFzcyIsIlJlZmVyZW5jZUVycm9yIiwiYXBwbHkiLCJGdW5jdGlvbiIsImV4ZWMiLCJ1dGlsIiwidGhyb3R0bGUiLCJmdW5jIiwiZGVsYXkiLCJ0aW1lciIsImNvbnRleHQiLCJ2ZW5kb3JzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidnAiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJsYXN0VGltZSIsIm5leHRUaW1lIiwicGVyZm9ybWFuY2UiLCJvVGhpcyIsImFBcmdzIiwiZlRvQmluZCIsImZOT1AiLCJmQm91bmQiLCJCb3giLCJJbU5vdFRvdWNoaW5nWW91IiwicGFyZW50IiwibHJPbmx5IiwidGJPbmx5IiwiaWdub3JlQm90dG9tIiwiT3ZlcmxhcEFyZWEiLCJHZXREaW1lbnNpb25zIiwiR2V0RXhwbGljaXRPZmZzZXRzIiwiYWxpZ25tZW50Iiwidk9mZnNldCIsImhPZmZzZXQiLCJpc092ZXJmbG93IiwidG9wVmFsIiwibGVmdFZhbCIsIiRlbGVEaW1zIiwiJGFuY2hvckRpbXMiLCJvZmZzZXQiLCJ0b3AiLCJsZWZ0IiwidG9wT3ZlciIsImJvdHRvbU92ZXIiLCJsZWZ0T3ZlciIsInJpZ2h0T3ZlciIsImVsZURpbXMiLCJwYXJEaW1zIiwid2luZG93RGltcyIsIm1pbiIsInNxcnQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFyUmVjdCIsIndpblJlY3QiLCJ3aW5ZIiwid2luWCIsInBhZ2VYT2Zmc2V0IiwicGFyZW50RGltcyIsIm9uSW1hZ2VzTG9hZGVkIiwiaW1hZ2VzIiwidW5sb2FkZWQiLCJzaW5nbGVJbWFnZUxvYWRlZCIsImNvbXBsZXRlIiwibmF0dXJhbFdpZHRoIiwiaW1hZ2UiLCJJbWFnZSIsImV2ZW50cyIsIm1lIiwib2ZmIiwia2V5Q29kZXMiLCJjb21tYW5kcyIsImZpbmRGb2N1c2FibGUiLCJzb3J0IiwiYiIsImFUYWJJbmRleCIsImJUYWJJbmRleCIsInBhcnNlS2V5Iiwia2V5Q29kZSIsImZyb21DaGFyQ29kZSIsInRvVXBwZXJDYXNlIiwic2hpZnRLZXkiLCJhbHRLZXkiLCJLZXlib2FyZCIsImtjcyIsImsiLCJrYyIsImdldEtleUNvZGVzIiwiaGFuZGxlS2V5IiwiY29tcG9uZW50IiwiZnVuY3Rpb25zIiwiY29tbWFuZExpc3QiLCJ3YXJuIiwiemZJc0tleUhhbmRsZWQiLCJsdHIiLCJSdGwiLCJyZXR1cm5WYWx1ZSIsImhhbmRsZWQiLCJ1bmhhbmRsZWQiLCJyZWdpc3RlciIsImNvbXBvbmVudE5hbWUiLCJjbWRzIiwidHJhcEZvY3VzIiwiJGZvY3VzYWJsZSIsIiRmaXJzdEZvY3VzYWJsZSIsImVxIiwiJGxhc3RGb2N1c2FibGUiLCJyZWxlYXNlRm9jdXMiLCJpbml0Q2xhc3NlcyIsImFjdGl2ZUNsYXNzZXMiLCJNb3Rpb24iLCJhbmltYXRlSW4iLCJhbmltYXRpb24iLCJhbmltYXRlIiwiYW5pbWF0ZU91dCIsIk1vdmUiLCJkdXJhdGlvbiIsImFuaW0iLCJwcm9nIiwibW92ZSIsInRzIiwiaXNJbiIsImluaXRDbGFzcyIsImFjdGl2ZUNsYXNzIiwicmVzZXQiLCJzaG93Iiwib2Zmc2V0V2lkdGgiLCJoaWRlIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwiTmVzdCIsIkZlYXRoZXIiLCJtZW51Iiwic3ViTWVudUNsYXNzIiwic3ViSXRlbUNsYXNzIiwiaGFzU3ViQ2xhc3MiLCJhcHBseUFyaWEiLCIkaXRlbSIsIiRzdWIiLCJmaXJzdEl0ZW0iLCJCdXJuIiwiVGltZXIiLCJuYW1lU3BhY2UiLCJyZW1haW4iLCJpc1BhdXNlZCIsInJlc3RhcnQiLCJpbmZpbml0ZSIsInBhdXNlIiwic3RhcnRQb3NYIiwic3RhcnRUaW1lIiwiZWxhcHNlZFRpbWUiLCJzdGFydEV2ZW50IiwiVG91Y2giLCJpc01vdmluZyIsImRpZE1vdmVkIiwib25Ub3VjaEVuZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvblRvdWNoTW92ZSIsInRhcEV2ZW50IiwiZGlyIiwidG91Y2hlcyIsImR4IiwibW92ZVRocmVzaG9sZCIsInRpbWVUaHJlc2hvbGQiLCJhc3NpZ24iLCJvblRvdWNoU3RhcnQiLCJpbml0IiwiU3BvdFN3aXBlIiwiZW5hYmxlZCIsInNwZWNpYWwiLCJzd2lwZSIsInNldHVwIiwidGFwIiwic2V0dXBTcG90U3dpcGUiLCJzZXR1cFRvdWNoSGFuZGxlciIsImFkZFRvdWNoIiwiaGFuZGxlVG91Y2giLCJzaW11bGF0ZWRFdmVudCIsImZpcnN0IiwiY2hhbmdlZFRvdWNoZXMiLCJ0b3VjaG1vdmUiLCJNb3VzZUV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJjcmVhdGVFdmVudCIsImluaXRNb3VzZUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJwcmVmaXhlcyIsInRyaWdnZXJzIiwiVHJpZ2dlcnMiLCJMaXN0ZW5lcnMiLCJCYXNpYyIsIkdsb2JhbCIsIkluaXRpYWxpemVycyIsImRlYm91bmNlR2xvYmFsTGlzdGVuZXIiLCJkZWJvdW5jZSIsImxpc3RlbmVyIiwib3Blbkxpc3RlbmVyIiwiY2xvc2VMaXN0ZW5lciIsInRvZ2dsZUxpc3RlbmVyIiwiY2xvc2VhYmxlTGlzdGVuZXIiLCJmYWRlT3V0IiwidG9nZ2xlRm9jdXNMaXN0ZW5lciIsImFkZE9wZW5MaXN0ZW5lciIsImFkZENsb3NlTGlzdGVuZXIiLCJhZGRUb2dnbGVMaXN0ZW5lciIsImFkZENsb3NlYWJsZUxpc3RlbmVyIiwiYWRkVG9nZ2xlRm9jdXNMaXN0ZW5lciIsInJlc2l6ZUxpc3RlbmVyIiwiJG5vZGVzIiwic2Nyb2xsTGlzdGVuZXIiLCJjbG9zZU1lTGlzdGVuZXIiLCJwbHVnaW5JZCIsIm5vdCIsImFkZENsb3NlbWVMaXN0ZW5lciIsInlldGlCb3hlcyIsInBsdWdOYW1lcyIsImxpc3RlbmVycyIsImpvaW4iLCJhZGRSZXNpemVMaXN0ZW5lciIsImFkZFNjcm9sbExpc3RlbmVyIiwiYWRkTXV0YXRpb25FdmVudHNMaXN0ZW5lciIsImxpc3RlbmluZ0VsZW1lbnRzTXV0YXRpb24iLCJtdXRhdGlvblJlY29yZHNMaXN0IiwiJHRhcmdldCIsImF0dHJpYnV0ZU5hbWUiLCJvYnNlcnZlIiwiYXR0cmlidXRlcyIsImNoaWxkTGlzdCIsImNoYXJhY3RlckRhdGEiLCJzdWJ0cmVlIiwiYXR0cmlidXRlRmlsdGVyIiwiYWRkU2ltcGxlTGlzdGVuZXJzIiwiJGRvY3VtZW50IiwiYWRkR2xvYmFsTGlzdGVuZXJzIiwiX18iLCJJSGVhcllvdSIsIlBsdWdpbiIsIl9zZXR1cCIsImdldFBsdWdpbk5hbWUiLCJkZXN0cm95IiwiX2Rlc3Ryb3kiLCJBYmlkZSIsImRlZmF1bHRzIiwiaXNFbmFibGVkIiwiZm9ybW5vdmFsaWRhdGUiLCIkaW5wdXRzIiwiJHN1Ym1pdHMiLCIkZ2xvYmFsRXJyb3JzIiwiYTExeUF0dHJpYnV0ZXMiLCJhZGRBMTF5QXR0cmlidXRlcyIsImFkZEdsb2JhbEVycm9yQTExeUF0dHJpYnV0ZXMiLCJfZXZlbnRzIiwicmVzZXRGb3JtIiwidmFsaWRhdGVGb3JtIiwic3VibWl0IiwidmFsaWRhdGVPbiIsInZhbGlkYXRlSW5wdXQiLCJsaXZlVmFsaWRhdGUiLCJ2YWxpZGF0ZU9uQmx1ciIsIl9yZWZsb3ciLCJfdmFsaWRhdGlvbklzRGlzYWJsZWQiLCJlbmFibGVWYWxpZGF0aW9uIiwiZGlzYWJsZVZhbGlkYXRpb24iLCJyZXF1aXJlZENoZWNrIiwiaXNHb29kIiwiY2hlY2tlZCIsImZpbmRGb3JtRXJyb3IiLCJmYWlsZWRWYWxpZGF0b3JzIiwiJGVycm9yIiwic2libGluZ3MiLCJmb3JtRXJyb3JTZWxlY3RvciIsInYiLCJmaW5kTGFiZWwiLCIkbGFiZWwiLCJmaW5kUmFkaW9MYWJlbHMiLCIkZWxzIiwibGFiZWxzIiwiZmluZENoZWNrYm94TGFiZWxzIiwiYWRkRXJyb3JDbGFzc2VzIiwiJGZvcm1FcnJvciIsImxhYmVsRXJyb3JDbGFzcyIsImZvcm1FcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiYWRkQTExeUVycm9yRGVzY3JpYmUiLCIkZXJyb3JzIiwiJGxhYmVscyIsImVsZW1JZCIsImxhYmVsIiwiZXJyb3JJZCIsImExMXlFcnJvckxldmVsIiwicmVtb3ZlUmFkaW9FcnJvckNsYXNzZXMiLCJncm91cE5hbWUiLCIkZm9ybUVycm9ycyIsInJlbW92ZUNoZWNrYm94RXJyb3JDbGFzc2VzIiwicmVtb3ZlRXJyb3JDbGFzc2VzIiwiY2xlYXJSZXF1aXJlIiwidmFsaWRhdG9yIiwibWFuYWdlRXJyb3JDbGFzc2VzIiwidmFsaWRhdGVSYWRpbyIsInZhbGlkYXRlQ2hlY2tib3giLCJ2YWxpZGF0ZVRleHQiLCJyZXF1aXJlZCIsInZhbGlkYXRvcnMiLCJlcXVhbFRvIiwiZ29vZFRvR28iLCJtZXNzYWdlIiwiZGVwZW5kZW50RWxlbWVudHMiLCJjaGVja2JveEdyb3VwTmFtZSIsImluaXRpYWxpemVkIiwibm9FcnJvciIsInBhdHRlcm4iLCJpbnB1dFRleHQiLCJ2YWxpZCIsInBhdHRlcm5zIiwiUmVnRXhwIiwiJGdyb3VwIiwibWluUmVxdWlyZWQiLCJtYXRjaFZhbGlkYXRpb24iLCIkZm9ybSIsImFscGhhIiwiYWxwaGFfbnVtZXJpYyIsImludGVnZXIiLCJudW1iZXIiLCJjdnYiLCJlbWFpbCIsImRvbWFpbiIsImRhdGV0aW1lIiwiZGF0ZSIsInRpbWUiLCJkYXRlSVNPIiwibW9udGhfZGF5X3llYXIiLCJkYXlfbW9udGhfeWVhciIsImNvbG9yIiwid2Vic2l0ZSIsIkFjY29yZGlvbiIsIl9pc0luaXRpYWxpemluZyIsIiR0YWJzIiwiaWR4IiwiJGNvbnRlbnQiLCJsaW5rSWQiLCIkaW5pdEFjdGl2ZSIsIl9pbml0aWFsQW5jaG9yIiwicHJldiIsIl9vcGVuU2luZ2xlVGFiIiwiX2NoZWNrRGVlcExpbmsiLCIkYW5jaG9yIiwiJGxpbmsiLCJfY2xvc2VBbGxUYWJzIiwiZGVlcExpbmtTbXVkZ2UiLCJzY3JvbGxUb3AiLCJkZWVwTGlua1NtdWRnZU9mZnNldCIsImRlZXBMaW5rU211ZGdlRGVsYXkiLCJkZWVwTGluayIsIiR0YWJDb250ZW50IiwiJGEiLCJtdWx0aUV4cGFuZCIsInByZXZpb3VzIiwibGFzdCIsInVwIiwiZG93biIsInVwZGF0ZUhpc3RvcnkiLCJwdXNoU3RhdGUiLCJfb3BlblRhYiIsIiR0YXJnZXRJdGVtIiwiJG90aGVyc0l0ZW1zIiwiYWxsb3dBbGxDbG9zZWQiLCJfY2xvc2VUYWIiLCIkYWN0aXZlQ29udGVudHMiLCJ0YXJnZXRDb250ZW50SWQiLCJmaW5pc2giLCJzbGlkZURvd24iLCJzbGlkZVNwZWVkIiwic2xpZGVVcCIsIiRhY3RpdmVUYWJzIiwic3RvcCIsIkFjY29yZGlvbk1lbnUiLCJtdWx0aU9wZW4iLCIkbWVudUxpbmtzIiwic3ViSWQiLCJwYXJlbnRMaW5rIiwiY2xvbmUiLCJwcmVwZW5kVG8iLCJ3cmFwIiwic3VibWVudVRvZ2dsZSIsInN1Ym1lbnVUb2dnbGVUZXh0IiwiaW5pdFBhbmVzIiwiJHN1Ym1lbnUiLCIkcHJldkVsZW1lbnQiLCIkbmV4dEVsZW1lbnQiLCIkZWxlbWVudHMiLCJwYXJlbnRzIiwib3BlbiIsImNsb3NlIiwiY2xvc2VBbGwiLCJoaWRlQWxsIiwic2hvd0FsbCIsIiR0YXJnZXRCcmFuY2giLCJwYXJlbnRzVW50aWwiLCIkb3RoZXJzQWN0aXZlU3VibWVudXMiLCIkc3VibWVudXMiLCIkYWxsbWVudXMiLCJkZXRhY2giLCJEcmlsbGRvd24iLCJhdXRvQXBwbHlDbGFzcyIsIiRzdWJtZW51QW5jaG9ycyIsIiRtZW51SXRlbXMiLCIkY3VycmVudE1lbnUiLCJfcHJlcGFyZU1lbnUiLCJfcmVnaXN0ZXJFdmVudHMiLCJfa2V5Ym9hcmRFdmVudHMiLCIkbWVudSIsImJhY2tCdXR0b25Qb3NpdGlvbiIsImFwcGVuZCIsImJhY2tCdXR0b24iLCJwcmVwZW5kIiwiX2JhY2siLCJhdXRvSGVpZ2h0IiwiJHdyYXBwZXIiLCJ3cmFwcGVyIiwiYW5pbWF0ZUhlaWdodCIsIl9nZXRNYXhEaW1zIiwiX3Jlc2l6ZSIsIl9zaG93IiwiY2xvc2VPbkNsaWNrIiwiJGJvZHkiLCJldiIsIl9oaWRlQWxsIiwiX2JpbmRIYW5kbGVyIiwiX3Njcm9sbFRvcCIsIiRzY3JvbGxUb3BFbGVtZW50Iiwic2Nyb2xsVG9wRWxlbWVudCIsInNjcm9sbFBvcyIsInNjcm9sbFRvcE9mZnNldCIsImFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uRWFzaW5nIiwiX2hpZGUiLCJjYWxjSGVpZ2h0IiwicGFyZW50U3ViTWVudSIsIl9tZW51TGlua0V2ZW50cyIsIl9zZXRTaG93U3ViTWVudUNsYXNzZXMiLCJfc2V0SGlkZVN1Yk1lbnVDbGFzc2VzIiwiX3Nob3dNZW51IiwiYXV0b0ZvY3VzIiwiaW5kZXgiLCJpc0xhc3RDaGlsZCIsIm1heEhlaWdodCIsInJlc3VsdCIsInVud3JhcCIsIlBPU0lUSU9OUyIsIlZFUlRJQ0FMX0FMSUdOTUVOVFMiLCJIT1JJWk9OVEFMX0FMSUdOTUVOVFMiLCJBTElHTk1FTlRTIiwibmV4dEl0ZW0iLCJhcnJheSIsImN1cnJlbnRJZHgiLCJQb3NpdGlvbmFibGUiLCJ0cmllZFBvc2l0aW9ucyIsIl9nZXREZWZhdWx0UG9zaXRpb24iLCJfZ2V0RGVmYXVsdEFsaWdubWVudCIsIm9yaWdpbmFsUG9zaXRpb24iLCJvcmlnaW5hbEFsaWdubWVudCIsIl9yZXBvc2l0aW9uIiwiX2FsaWdubWVudHNFeGhhdXN0ZWQiLCJfcmVhbGlnbiIsIl9hZGRUcmllZFBvc2l0aW9uIiwiX3Bvc2l0aW9uc0V4aGF1c3RlZCIsImlzRXhoYXVzdGVkIiwiX2dldFZPZmZzZXQiLCJfZ2V0SE9mZnNldCIsIl9zZXRQb3NpdGlvbiIsIiRwYXJlbnQiLCJhbGxvd092ZXJsYXAiLCJtaW5PdmVybGFwIiwibWluQ29vcmRpbmF0ZXMiLCJvdmVybGFwIiwiYWxsb3dCb3R0b21PdmVybGFwIiwiRHJvcGRvd24iLCIkaWQiLCIkYW5jaG9ycyIsIl9zZXRDdXJyZW50QW5jaG9yIiwicGFyZW50Q2xhc3MiLCIkY3VycmVudEFuY2hvciIsInN1cGVyIiwiaG9yaXpvbnRhbFBvc2l0aW9uIiwiaGFzVG91Y2giLCJvbnRvdWNoc3RhcnQiLCJmb3JjZUZvbGxvdyIsImhvdmVyIiwiYm9keURhdGEiLCJ3aGF0aW5wdXQiLCJ0aW1lb3V0IiwiaG92ZXJEZWxheSIsImhvdmVyUGFuZSIsIl9hZGRCb2R5SGFuZGxlciIsIkRyb3Bkb3duTWVudSIsInN1YnMiLCJ2ZXJ0aWNhbENsYXNzIiwicmlnaHRDbGFzcyIsImNoYW5nZWQiLCJfaXNWZXJ0aWNhbCIsIl9pc1J0bCIsInBhckNsYXNzIiwiY2xpY2tPcGVuIiwiaGFzU3ViIiwiaGFzQ2xpY2tlZCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImNsb3NlT25DbGlja0luc2lkZSIsImRpc2FibGVIb3Zlck9uVG91Y2giLCJkaXNhYmxlSG92ZXIiLCJhdXRvY2xvc2UiLCJjbG9zaW5nVGltZSIsImlzVGFiIiwibmV4dFNpYmxpbmciLCJwcmV2U2libGluZyIsIm9wZW5TdWIiLCJjbG9zZVN1YiIsIl9yZW1vdmVCb2R5SGFuZGxlciIsIiRzaWJzIiwib2xkQ2xhc3MiLCIkcGFyZW50TGkiLCIkdG9DbG9zZSIsIiRhY3RpdmVJdGVtIiwiRXF1YWxpemVyIiwiZXFJZCIsIiR3YXRjaGVkIiwiaGFzTmVzdGVkIiwiaXNOZXN0ZWQiLCJpc09uIiwib25SZXNpemVNZUJvdW5kIiwiX29uUmVzaXplTWUiLCJvblBvc3RFcXVhbGl6ZWRCb3VuZCIsIl9vblBvc3RFcXVhbGl6ZWQiLCJ0b29TbWFsbCIsImltZ3MiLCJlcXVhbGl6ZU9uIiwiX2NoZWNrTVEiLCJfcGF1c2VFdmVudHMiLCJfa2lsbHN3aXRjaCIsImVxdWFsaXplT25TdGFjayIsIl9pc1N0YWNrZWQiLCJlcXVhbGl6ZUJ5Um93IiwiZ2V0SGVpZ2h0c0J5Um93IiwiYXBwbHlIZWlnaHRCeVJvdyIsImdldEhlaWdodHMiLCJhcHBseUhlaWdodCIsImhlaWdodHMiLCJvZmZzZXRIZWlnaHQiLCJsYXN0RWxUb3BPZmZzZXQiLCJncm91cHMiLCJlbE9mZnNldFRvcCIsImoiLCJsbiIsImdyb3Vwc0lMZW5ndGgiLCJsZW5KIiwiSW50ZXJjaGFuZ2UiLCJydWxlcyIsImN1cnJlbnRQYXRoIiwiX3BhcnNlT3B0aW9ucyIsIl9hZGRCcmVha3BvaW50cyIsIl9nZW5lcmF0ZVJ1bGVzIiwicnVsZSIsInBhdGgiLCJTUEVDSUFMX1FVRVJJRVMiLCJydWxlc0xpc3QiLCJTbW9vdGhTY3JvbGwiLCJfbGlua0NsaWNrTGlzdGVuZXIiLCJfaGFuZGxlTGlua0NsaWNrIiwiYXJyaXZhbCIsIl9pblRyYW5zaXRpb24iLCJzY3JvbGxUb0xvYyIsInN0YXRpYyIsImxvYyIsIiRsb2MiLCJyb3VuZCIsInRocmVzaG9sZCIsIk1hZ2VsbGFuIiwiY2FsY1BvaW50cyIsIiR0YXJnZXRzIiwiJGxpbmtzIiwiJGFjdGl2ZSIsInBvaW50cyIsIndpbkhlaWdodCIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZG9jSGVpZ2h0IiwiJHRhciIsInB0IiwidGFyZ2V0UG9pbnQiLCJkZWVwTGlua2luZyIsIl91cGRhdGVBY3RpdmUiLCJvbkxvYWRMaXN0ZW5lciIsIl9kZWVwTGlua1Njcm9sbCIsIm5ld1Njcm9sbFBvcyIsImlzU2Nyb2xsaW5nVXAiLCJhY3RpdmVJZHgiLCJ2aXNpYmxlTGlua3MiLCIkb2xkQWN0aXZlIiwiYWN0aXZlSGFzaCIsImlzTmV3QWN0aXZlIiwiaXNOZXdIYXNoIiwicGF0aG5hbWUiLCJzZWFyY2giLCJPZmZDYW52YXMiLCJjb250ZW50Q2xhc3NlcyIsImJhc2UiLCJyZXZlYWwiLCIkbGFzdFRyaWdnZXIiLCIkdHJpZ2dlcnMiLCJuZXN0ZWQiLCIkc3RpY2t5IiwiaXNJbkNhbnZhcyIsImNvbnRlbnRJZCIsImNvbnRlbnRPdmVybGF5Iiwib3ZlcmxheSIsIm92ZXJsYXlQb3NpdGlvbiIsIiRvdmVybGF5IiwiaW5zZXJ0QWZ0ZXIiLCJyZXZlYWxPbkNsYXNzIiwicmV2ZWFsQ2xhc3MiLCJpc1JldmVhbGVkIiwicmV2ZWFsT24iLCJfc2V0TVFDaGVja2VyIiwidHJhbnNpdGlvblRpbWUiLCJjb250ZW50U2Nyb2xsIiwiaW5DYW52YXNGb3IiLCJpbkNhbnZhc09uIiwiX2NoZWNrSW5DYW52YXMiLCJfcmVtb3ZlQ29udGVudENsYXNzZXMiLCJfaGFuZGxlS2V5Ym9hcmQiLCJoYXNSZXZlYWwiLCJfYWRkQ29udGVudENsYXNzZXMiLCJfZml4U3RpY2t5RWxlbWVudHMiLCJfIiwiYWJzb2x1dGVUb3BWYWwiLCJfdW5maXhTdGlja3lFbGVtZW50cyIsInN0aWNreURhdGEiLCJfc3RvcFNjcm9sbGluZyIsIl9yZWNvcmRTY3JvbGxhYmxlIiwibGFzdFkiLCJwYWdlWSIsIl9wcmV2ZW50RGVmYXVsdEF0RWRnZXMiLCJkZWx0YSIsIl9jYW5TY3JvbGwiLCJfc2Nyb2xsYm94VG91Y2hNb3ZlZCIsImFsbG93VXAiLCJhbGxvd0Rvd24iLCJmb3JjZVRvIiwic2Nyb2xsVG8iLCJjYW52YXNGb2N1cyIsIk9yYml0IiwiX3Jlc2V0IiwiY29udGFpbmVyQ2xhc3MiLCIkc2xpZGVzIiwic2xpZGVDbGFzcyIsIiRpbWFnZXMiLCJpbml0QWN0aXZlIiwidXNlTVVJIiwiX3ByZXBhcmVGb3JPcmJpdCIsImJ1bGxldHMiLCJfbG9hZEJ1bGxldHMiLCJhdXRvUGxheSIsImdlb1N5bmMiLCJhY2Nlc3NpYmxlIiwiJGJ1bGxldHMiLCJib3hPZkJ1bGxldHMiLCJ0aW1lckRlbGF5IiwiY2hhbmdlU2xpZGUiLCJfc2V0V3JhcHBlckhlaWdodCIsImNvdW50ZXIiLCJfc2V0U2xpZGVIZWlnaHQiLCJwYXVzZU9uSG92ZXIiLCJuYXZCdXR0b25zIiwibmV4dENsYXNzIiwicHJldkNsYXNzIiwiJHNsaWRlIiwiX3VwZGF0ZUJ1bGxldHMiLCJpc0xUUiIsImNob3NlblNsaWRlIiwiJGN1clNsaWRlIiwiJG5ld1NsaWRlIiwiJGZpcnN0U2xpZGUiLCIkbGFzdFNsaWRlIiwiZGlySW4iLCJkaXJPdXQiLCJpbmZpbml0ZVdyYXAiLCIkb2xkQnVsbGV0IiwiJG90aGVyc0J1bGxldHMiLCIkbmV3QnVsbGV0IiwiYWN0aXZlU3RhdGVEZXNjcmlwdG9yIiwic3BhbnMiLCJ0b0FycmF5IiwiZXZlcnkiLCJhbmltSW5Gcm9tUmlnaHQiLCJhbmltT3V0VG9SaWdodCIsImFuaW1JbkZyb21MZWZ0IiwiYW5pbU91dFRvTGVmdCIsIk1lbnVQbHVnaW5zIiwiZHJvcGRvd24iLCJjc3NDbGFzcyIsImRyaWxsZG93biIsImFjY29yZGlvbiIsIlJlc3BvbnNpdmVNZW51IiwiY3VycmVudE1xIiwiY3VycmVudFBsdWdpbiIsInJ1bGVzVHJlZSIsInJ1bGVTaXplIiwicnVsZVBsdWdpbiIsIl9jaGVja01lZGlhUXVlcmllcyIsIm1hdGNoZWRNcSIsIlJlc3BvbnNpdmVUb2dnbGUiLCJ0YXJnZXRJRCIsIiR0YXJnZXRNZW51IiwiJHRvZ2dsZXIiLCJhbmltYXRpb25JbiIsImFuaW1hdGlvbk91dCIsIl91cGRhdGUiLCJfdXBkYXRlTXFIYW5kbGVyIiwiaGlkZUZvciIsIlJldmVhbCIsImNhY2hlZCIsIm1xIiwiZnVsbFNjcmVlbiIsIl9tYWtlT3ZlcmxheSIsImFkZGl0aW9uYWxPdmVybGF5Q2xhc3NlcyIsIl91cGRhdGVQb3NpdGlvbiIsIm91dGVyV2lkdGgiLCJvdXRlckhlaWdodCIsIm1hcmdpbiIsImNsb3NlLnpmLnRyaWdnZXIiLCJfaGFuZGxlU3RhdGUiLCJfZGlzYWJsZVNjcm9sbCIsIl9lbmFibGVTY3JvbGwiLCIkYWN0aXZlQW5jaG9yIiwibXVsdGlwbGVPcGVuZWQiLCJmb2N1c2FibGVFbGVtZW50cyIsIl9hZGRHbG9iYWxDbGFzc2VzIiwic2hvd0RlbGF5IiwiX2FkZEdsb2JhbExpc3RlbmVycyIsInVwZGF0ZVNjcm9sbGJhckNsYXNzIiwiX3JlbW92ZUdsb2JhbENsYXNzZXMiLCJjbG9zZU9uRXNjIiwiZmluaXNoVXAiLCJoaWRlRGVsYXkiLCJyZXNldE9uQ2xvc2UiLCJ1cmxXaXRob3V0SGFzaCIsIlNsaWRlciIsImlucHV0cyIsImhhbmRsZXMiLCIkaGFuZGxlIiwiJGlucHV0IiwiJGZpbGwiLCJ2ZXJ0aWNhbCIsImRpc2FibGVkQ2xhc3MiLCJiaW5kaW5nIiwiX3NldEluaXRBdHRyIiwiZG91YmxlU2lkZWQiLCIkaGFuZGxlMiIsIiRpbnB1dDIiLCJzZXRIYW5kbGVzIiwiX3NldEhhbmRsZVBvcyIsIl9wY3RPZkJhciIsInBjdE9mQmFyIiwicG9zaXRpb25WYWx1ZUZ1bmN0aW9uIiwiX2xvZ1RyYW5zZm9ybSIsIl9wb3dUcmFuc2Zvcm0iLCJ0b0ZpeGVkIiwiX3ZhbHVlIiwibG9nIiwiYmFzZUxvZyIsIm5vbkxpbmVhckJhc2UiLCJwb3ciLCIkaG5kbCIsImlzRGJsIiwiaDJWYWwiLCJzdGVwIiwiaDFWYWwiLCJ2ZXJ0IiwiaE9yVyIsImxPclQiLCJoYW5kbGVEaW0iLCJlbGVtRGltIiwibW92ZW1lbnQiLCJkZWNpbWFsIiwiX3NldFZhbHVlcyIsImRpbSIsImlzTGVmdEhuZGwiLCJoYW5kbGVQY3QiLCJoYW5kbGVQb3MiLCJpbml0aWFsU3RhcnQiLCJtb3ZlVGltZSIsImNoYW5nZWREZWxheSIsImluaXRWYWwiLCJpbml0aWFsRW5kIiwiX2hhbmRsZUV2ZW50IiwiX2FkanVzdFZhbHVlIiwiZGlyZWN0aW9uIiwiZXZlbnRPZmZzZXQiLCJiYXJEaW0iLCJ3aW5kb3dTY3JvbGwiLCJlbGVtT2Zmc2V0IiwiYmFyWFkiLCJldmVudEZyb21CYXIiLCJvZmZzZXRQY3QiLCJhYnNQb3NpdGlvbiIsInByZXZpb3VzVmFsIiwiZGl2IiwiX2V2ZW50c0ZvckhhbmRsZSIsImN1ckhhbmRsZSIsImhhbmRsZUNoYW5nZUV2ZW50IiwiY2xpY2tTZWxlY3QiLCJkcmFnZ2FibGUiLCJuZXdWYWx1ZSIsIl8kaGFuZGxlIiwib2xkVmFsdWUiLCJkZWNyZWFzZSIsImluY3JlYXNlIiwiZGVjcmVhc2VGYXN0IiwiaW5jcmVhc2VGYXN0IiwiZnJhYyIsIm51bSIsImNsaWNrUG9zIiwiaW52ZXJ0VmVydGljYWwiLCJTdGlja3kiLCIkY29udGFpbmVyIiwid2FzV3JhcHBlZCIsInN0aWNreUNsYXNzIiwic2Nyb2xsQ291bnQiLCJjaGVja0V2ZXJ5IiwiaXNTdHVjayIsImNvbnRhaW5lckhlaWdodCIsImVsZW1IZWlnaHQiLCJfcGFyc2VQb2ludHMiLCJfc2V0U2l6ZXMiLCJzY3JvbGwiLCJfY2FsYyIsIl9yZW1vdmVTdGlja3kiLCJ0b3BQb2ludCIsInJldmVyc2UiLCJwdHMiLCJ0b3BBbmNob3IiLCJidG1BbmNob3IiLCJicmVha3MiLCJwbGFjZSIsImNhblN0aWNrIiwiX2V2ZW50c0hhbmRsZXIiLCJfcGF1c2VMaXN0ZW5lcnMiLCJjaGVja1NpemVzIiwiYm90dG9tUG9pbnQiLCJfc2V0U3RpY2t5Iiwic3RpY2tUbyIsIm1yZ24iLCJub3RTdHVja1RvIiwiaXNUb3AiLCJzdGlja1RvVG9wIiwiYW5jaG9yUHQiLCJhbmNob3JIZWlnaHQiLCJ0b3BPckJvdHRvbSIsImJvdHRvbSIsInN0aWNreU9uIiwibmV3RWxlbVdpZHRoIiwiY29tcCIsInBkbmdsIiwicGRuZ3IiLCJkeW5hbWljSGVpZ2h0IiwibmV3Q29udGFpbmVySGVpZ2h0IiwiX3NldEJyZWFrUG9pbnRzIiwibVRvcCIsImVtQ2FsYyIsIm1hcmdpblRvcCIsIm1CdG0iLCJtYXJnaW5Cb3R0b20iLCJlbSIsImZvbnRTaXplIiwiVGFicyIsIiR0YWJUaXRsZXMiLCJsaW5rQ2xhc3MiLCJsaW5rQWN0aXZlQ2xhc3MiLCJtYXRjaEhlaWdodCIsIl9zZXRIZWlnaHQiLCJhbmNob3JOb0hhc2giLCJzZWxlY3RUYWIiLCJfY29sbGFwc2UiLCJfYWRkS2V5SGFuZGxlciIsIl9hZGRDbGlja0hhbmRsZXIiLCJfc2V0SGVpZ2h0TXFIYW5kbGVyIiwiX2hhbmRsZVRhYkNoYW5nZSIsIndyYXBPbktleXMiLCJoaXN0b3J5SGFuZGxlZCIsImFjdGl2ZUNvbGxhcHNlIiwiJG9sZFRhYiIsIiR0YWJMaW5rIiwiJHRhcmdldENvbnRlbnQiLCJfY29sbGFwc2VUYWIiLCJwYW5lbEFjdGl2ZUNsYXNzIiwiJHRhcmdldEFuY2hvciIsIiRhY3RpdmVUYWIiLCJpZFN0ciIsImhhc2hJZFN0ciIsInBhbmVsQ2xhc3MiLCJUb2dnbGVyIiwidG9nZ2xlciIsImNvbnRyb2xzIiwiX3RvZ2dsZUNsYXNzIiwiX3VwZGF0ZUFSSUEiLCJfdG9nZ2xlQW5pbWF0ZSIsIlRvb2x0aXAiLCJpc0NsaWNrIiwidGlwVGV4dCIsInRlbXBsYXRlIiwiX2J1aWxkVGVtcGxhdGUiLCJhbGxvd0h0bWwiLCJ0cmlnZ2VyQ2xhc3MiLCJlbGVtZW50Q2xhc3NOYW1lIiwiU1ZHRWxlbWVudCIsImJhc2VWYWwiLCJ0b29sdGlwV2lkdGgiLCJ0b29sdGlwSGVpZ2h0IiwidGVtcGxhdGVDbGFzc2VzIiwidG9vbHRpcENsYXNzIiwic2hvd09uIiwiZmFkZUluIiwiZmFkZUluRHVyYXRpb24iLCJmYWRlT3V0RHVyYXRpb24iLCJpc0ZvY3VzIiwiZGlzYWJsZUZvclRvdWNoIiwidG91Y2hDbG9zZVRleHQiLCJSZXNwb25zaXZlQWNjb3JkaW9uVGFicyIsInN0b3JlemZEYXRhIiwiY3VycmVudFJ1bGUiLCJfZ2V0QWxsT3B0aW9ucyIsImFsbE9wdGlvbnMiLCJkdW1teVBsdWdpbiIsInRtcFBsdWdpbiIsImtleUtleSIsIm9iak9iaiIsIl9jaGFuZ2VkWmZNZWRpYVF1ZXJ5SGFuZGxlciIsIl9oYW5kbGVNYXJrdXAiLCJ0b1NldCIsImZyb21TdHJpbmciLCIkcGFuZWxzIiwidGFic1RpdGxlIiwidGFic1BhbmVsIiwiJGxpSGVhZHMiLCIkbGlIZWFkc0EiLCJ2aXNpYmlsaXR5IiwiJHRhYnNDb250ZW50IiwiJHBsYWNlaG9sZGVyIiwidGVtcFZhbHVlIiwiQ29yZVV0aWxzIl0sInNvdXJjZVJvb3QiOiIifQ==
