// Checkout page
$checkout-bg-start: #fef9f4;
$checkout-bg-end: #f3f2ff;
$checkout-highlight: rgba($primary-color, 0.12);

.app-layout #masthead.site-header {
  position: absolute;
  width: 100%;
  top: 0;
  left: 0;
  z-index: 10;
  background: none !important;
}
.memberpressproduct-template-default {
  .site-main {
    background: linear-gradient(140deg, $checkout-bg-start 0%, $checkout-bg-end 100%);
    max-width: 100% !important;
    width: 100% !important;
    padding-top: 8rem;
    position: relative;
    min-height: 100dvh;
    > p {
      max-width: 1000px;
      margin: 0 auto 1rem;
    }
  }
  &::before {
		top: -220px;
		left: -80px;
		background: rgba($primary-color, 0.45);
	}

	&::after {
		right: -140px;
		bottom: -260px;
		background: rgba(#8b5cf6, 0.4);
	}
}

.mepr-checkout-container {
	position: relative;
	overflow: hidden;
  min-height: auto !important;

	&::before,
	&::after {
		content: "";
		position: absolute;
		width: 480px;
		height: 480px;
		border-radius: 50%;
		filter: blur(80px);
		opacity: 0.45;
		z-index: 0;
	}

	> * {
		position: relative;
		z-index: 1;
	}
  .form-wrapper {
    border: none !important;
  }
  label {
    font-weight: 400 !important;
  }
}

.mp_wrapper {
	max-width: 980px;
	margin: 0 auto;

	.mepr-signup-form {
		--checkout-gap: clamp(1.1rem, 2vw, 1.75rem);

		display: grid;
		grid-template-columns: minmax(0, 1fr);
		gap: var(--checkout-gap);
		padding: clamp(2rem, 4vw, 3.5rem);
		background: $white;
		border-radius: 32px;
		border: 1px solid rgba($primary-color, 0.18);
		box-shadow: 0 45px 80px -60px rgba($dark, 0.55);
	}

	.mepr-signup-form > * {
		min-width: 0;
		order: 1;
	}

	.mepr-signup-form .mp-form-row {
		margin: 0;
		padding: 1.15rem 1.35rem;
		border-radius: 22px;
		background: linear-gradient(145deg, rgba($gray-50, 0.95), rgba($white, 0.95));
		border: 1px solid transparent;
		display: flex;
		flex-direction: column;
		gap: 0.4rem;
		box-shadow: 0 24px 40px -36px rgba($dark, 0.4), inset 0 0 0 1px rgba($gray-200, 0.9);
		transition: border-color 0.25s ease, box-shadow 0.25s ease, background 0.25s ease, transform 0.2s ease;
		transform: translateY(0);

		&:focus-within {
			border-color: $primary-color;
			background: $white;
			box-shadow: 0 30px 50px -32px rgba($primary-color, 0.35), inset 0 0 0 1px rgba($primary-color, 0.18);
			transform: translateY(-2px);
		}
	}

	.mepr-signup-form .mp-form-row .mp-form-label {
		display: flex;
		justify-content: space-between;
		align-items: center;
		gap: 0.35rem;
	}

	.mepr-signup-form .mp-form-label label {
		font-size: 0.85rem;
		font-weight: 600;
		text-transform: uppercase;
		letter-spacing: 0.08em;
		color: $gray-500;
		}

	.mepr-signup-form .mp-form-row:focus-within .mp-form-label label {
		color: $primary-color;
	}

	.mepr-signup-form .mepr-form-input {
		border: 1px solid rgba($gray-300, 0.95);
		border-radius: 12px;
		padding: 0.85rem 1rem;
		font-size: 1rem;
		line-height: 1.5;
		font-weight: 500;
		color: $gray-800;
		background: rgba($white, 0.95);
		transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
		appearance: none;
	}

	.mepr-signup-form .mepr-form-input::placeholder {
		color: rgba($gray-400, 0.95);
		font-weight: 500;
	}

	.mepr-signup-form .mepr-form-input:focus {
			border-color: $primary-color;
			box-shadow: 0 0 0 3px rgba($primary-color, 0.15);
			background: $white;
			outline: none;
	}

	.mepr-signup-form .mepr-form-input.mepr-coupon-code {
			text-transform: uppercase;
			letter-spacing: 0.08em;
	}

	.mepr-signup-form select.mepr-form-input {
		background-image: linear-gradient(45deg, transparent 50%, $gray-500 50%), linear-gradient(135deg, $gray-500 50%, transparent 50%);
		background-position: calc(100% - 18px) calc(50% - 3px), calc(100% - 13px) calc(50% - 3px);
		background-size: 6px 6px;
		background-repeat: no-repeat;
		padding-right: 2.5rem;
	}

	.mepr-signup-form .mepr-price,
	.mepr-signup-form .mepr_price {
		background: rgba($primary-color, 0.08);
		border: 1px solid rgba($primary-color, 0.25);
		display: grid;
		grid-template-columns: minmax(120px, auto) 1fr;
		gap: 1rem;
		align-items: center;
		border-radius: 24px;
		padding: 1.5rem;
		position: relative;

		.mepr_price_cell_label {
			font-size: 0.9rem;
			text-transform: uppercase;
			letter-spacing: 0.08em;
			font-weight: 600;
			color: $primary-color;
		}

		.mepr_price_cell {
			text-align: right;
			font-size: 1.4rem;
			font-weight: 700;
			color: $gray-900;
		}

		&::before {
			content: 'Pregled narudÅ¾be';
			position: absolute;
			top: -0.75rem;
			left: 1.5rem;
			background: $white;
			padding: 0 0.65rem;
			font-size: 0.85rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.08em;
			color: rgba($primary-color, 0.9);
		}
	}

	.mepr-signup-form .have-coupon-link {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: 0.35rem;
		padding: 0.75rem 1.25rem;
		border-radius: 999px;
		border: 1px dashed rgba($primary-color, 0.45);
		background: rgba($primary-color, 0.08);
		font-size: 0.85rem;
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.08em;
		color: $primary-color;
		text-decoration: none;
		transition: color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;

		&:hover {
			border-color: $primary-color;
			color: darken($primary-color, 8%);
			box-shadow: 0 12px 32px -18px rgba($primary-color, 0.55);
		}
	}

	.mepr-signup-form .mepr_coupon {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
		padding: 1.5rem;
		border-radius: 24px;
		border: 1px dashed rgba($primary-color, 0.25);
		background: rgba($primary-color, 0.05);

		.mp-form-label {
			margin-bottom: 0.25rem;
		}

		.cc-success {
			color: $green;
		}
	}

	.mepr-payment-methods-wrapper {
		padding: 1.75rem 2rem !important;
		border-radius: 24px !important;
		border: 1px solid rgba($gray-300, 0.9) !important;
		background: rgba($gray-50, 0.95) !important;
		display: flex;
		flex-direction: column;
		gap: .5rem !important;

		h3 {
			margin: 0;
			font-size: 1.1rem;
			font-weight: 700;
			color: $gray-800;
		}

		select,
		.mepr-payment-methods-select {
			border-radius: 14px;
			border: 1px solid rgba($gray-400, 0.8);
			padding: 0.85rem 1rem;
			font-weight: 600;
			background: $white;
			appearance: none;
			background-image: linear-gradient(45deg, transparent 50%, $gray-500 50%), linear-gradient(135deg, $gray-500 50%, transparent 50%);
			background-position: calc(100% - 15px) calc(50% - 3px), calc(100% - 10px) calc(50% - 3px);
			background-size: 5px 5px;
			background-repeat: no-repeat;
		}
	}

	.mepr-payment-methods-icons {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5rem;
		align-items: center;

		img {
			height: 28px;
			width: auto;
			filter: drop-shadow(0 8px 16px rgba($dark, 0.15));
		}
	}

	.mepr-payment-methods-radios {
		display: grid;
		gap: 0.65rem;
    margin: 0;

		/* label {
			display: flex;
			gap: 0.75rem;
			align-items: center;
			padding: 0.75rem 1rem;
			border-radius: 16px;
			border: 1px solid rgba($gray-300, 0.8);
			background: $white;
			font-weight: 600;
			cursor: pointer;
			transition: border-color 0.2s ease, box-shadow 0.2s ease;

			input {
				accent-color: $primary-color;
			}

			&:hover {
				border-color: $primary-color;
				box-shadow: 0 12px 24px -18px rgba($primary-color, 0.4);
			}
		} */
	}

/* 	.mepr-checkbox-field {
		display: flex;
		align-items: center;
		gap: 0.85rem;
		font-weight: 600;
		line-height: 1.4;
		padding: 1.25rem 1.5rem;
		border-radius: 20px;
		border: 1px solid rgba($gray-300, 0.9);
		background: rgba($gray-50, 0.9);
		cursor: pointer;

		input[type="checkbox"] {
			appearance: none;
			width: 20px;
			height: 20px;
			border-radius: 6px;
			border: 2px solid rgba($gray-400, 0.9);
			display: grid;
			place-items: center;
			transition: border-color 0.2s ease, background 0.2s ease;

			&::after {
				content: "";
				width: 10px;
				height: 5px;
				border-left: 2px solid transparent;
				border-bottom: 2px solid transparent;
				transform: rotate(-45deg);
			}

			&:checked {
				border-color: $primary-color;
				background: $primary-color;

				&::after {
					border-color: $white;
				}
			}
		}

		a {
			color: $gray-800;
			text-decoration: underline;
			text-decoration-thickness: 2px;
		}
	} */

	.mp-hide-pw {
		position: relative;
		display: flex;
		align-items: center;

		.button.mp-hide-pw {
			position: absolute;
			right: 0.75rem;
			background: transparent;
			color: $gray-500;
			border: 0;
			box-shadow: none;
			padding: 0;
		}
	}

	.mepr_spacer {
		display: none;
	}

	.mp-form-submit {
		display: flex;
		flex-direction: column;
		gap: 1rem;
		align-items: stretch;
		margin-top: 0.5rem;
	}

	.mepr-submit {
		border: 0;
		border-radius: 16px;
		padding: 1rem 1.5rem;
		font-size: 1.05rem;
		font-weight: 700;
		letter-spacing: 0.02em;
		text-transform: uppercase;
		color: $white;
		background: linear-gradient(120deg, #f97316, #f43f5e);
		box-shadow: 0 20px 40px -25px rgba(#f97316, 0.9);
		cursor: pointer;
		transition: transform 0.2s ease, box-shadow 0.2s ease;

		&:hover {
			transform: translateY(-2px);
			box-shadow: 0 30px 60px -30px rgba(#f43f5e, 0.9);
		}
	}

	.mepr-loading-gif {
		align-self: center;
		max-width: 48px;
	}

	.mepr-error,
	.cc-error {
		font-size: 0.85rem;
		font-weight: 600;
		color: $alert-color;
		margin-left: auto;
	}

	.cc-success {
		font-size: 0.85rem;
		font-weight: 600;
		color: $success-color;
	}

	#mepr-password-strength,
	.mepr-password-strength {
		font-size: 0.8rem;
		font-weight: 600;
		padding: 0.25rem 0.6rem;
		border-radius: 999px;
		background: rgba($gray-200, 0.5);
		color: $gray-600;
		display: inline-flex;
		align-self: flex-start;
	}

	.mp-password-strength-display {
		margin-top: 0.35rem;
		padding: 0.35rem 0.75rem;
		border-radius: 999px;
		font-size: 0.82rem;
		font-weight: 600;
		text-transform: uppercase;
		letter-spacing: 0.08em;
		display: inline-flex;
		align-items: center;
		gap: 0.35rem;
		background: rgba($gray-200, 0.5);
		color: $gray-600;

		&::before {
			content: '';
			width: 8px;
			height: 8px;
			border-radius: 50%;
			background: currentColor;
			display: inline-block;
		}

		&.short,
		&.bad {
			background: rgba($alert-color, 0.15);
			color: $alert-color;
		}

		&.good {
			background: rgba($warning-color, 0.15);
			color: $warning-color;
		}

		&.strong {
			background: rgba($success-color, 0.15);
			color: $success-color;
		}
	}

	.mepr-transaction-invoice-wrapper {
		padding: 25px;
		border-radius: 20px;
		border: 1px solid rgba($gray-200, 0.8);
		background: rgba($white, 0.9);
	}

  .invoice-wrapper table {
    margin-bottom: 0;
  }

	@include breakpoint(medium) {
		.mepr-signup-form {
			.mepr_first_name,
			.mepr_last_name,
			.mepr_password,
			.mepr_password_confirm {
				display: inline-flex;
				flex-direction: column;
			}
		}
	}

	@include breakpoint(large) {
		.mepr-signup-form {
			grid-template-columns: minmax(0, 520px) minmax(280px, 360px);
			align-items: start;
			column-gap: clamp(2rem, 4vw, 4.5rem);
		}

		.mepr-signup-form > * {
			grid-column: 1;
		}

		.mepr-signup-form :is(.mepr_price, .mepr-transaction-invoice-wrapper, .mepr-payment-methods-wrapper, .mepr_coupon, .have-coupon-link) {
			grid-column: 2;
			order: 2;
		}

		.mepr-signup-form :is(.mepr_price, .mepr-transaction-invoice-wrapper, .mepr-payment-methods-wrapper) {
			position: sticky;
			top: 2rem;
		}

		.mepr-signup-form .mepr_coupon,
		.mepr-signup-form .have-coupon-link {
			position: relative;
			top: auto;
		}
	}

	@include breakpoint(small only) {
		.mepr-signup-form {
			padding: 1.75rem;
			border-radius: 24px;
		}

		.mepr-payment-methods-wrapper {
			padding: 1.25rem;
		}
	}
}

.mepr-checkout-container .invoice-wrapper .invoice-amount {
  font-size: 26px !important;
  line-height: 1.4 !important;
}

.mp_wrapper .mp-form-row.mp-address-group label.placeholder-text.active, .mp_wrapper .mp-form-row .mp-form-row-group label.placeholder-text.active, #mepr_loginform .mp-form-label label.placeholder-text.active, .mepr-pro-template .mp_wrapper .mepr_mepr-address-country .mp-form-label label.placeholder-text, .mepr-pro-template .mp_wrapper .mepr_mepr-address-state .mp-form-label label.placeholder-text {
  color: $gray-500 !important;
  background-color: transparent !important;
  transform: none !important;
  top: -19px;
  left: 0px;
  padding: 0;
}
.form-wrapper .mp-address-group .mepr-form-input, .form-wrapper .mp-address-group input[type="text"] {
  border-radius: 6px !important;
  margin: 0 0 26px !important;
}
.mp_wrapper .mp-form-row {
  margin-bottom: 26px !important;
}
